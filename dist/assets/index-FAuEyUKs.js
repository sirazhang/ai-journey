(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function p0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var g0={exports:{}},Jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay=Symbol.for("react.transitional.element"),sy=Symbol.for("react.fragment");function f0(e,t,n){var o=null;if(n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:ay,type:e,key:o,ref:t!==void 0?t:null,props:n}}Jc.Fragment=sy;Jc.jsx=f0;Jc.jsxs=f0;g0.exports=Jc;var a=g0.exports,h0={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip=Symbol.for("react.transitional.element"),iy=Symbol.for("react.portal"),ly=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),cy=Symbol.for("react.profiler"),uy=Symbol.for("react.consumer"),dy=Symbol.for("react.context"),py=Symbol.for("react.forward_ref"),gy=Symbol.for("react.suspense"),fy=Symbol.for("react.memo"),x0=Symbol.for("react.lazy"),hy=Symbol.for("react.activity"),Cg=Symbol.iterator;function xy(e){return e===null||typeof e!="object"?null:(e=Cg&&e[Cg]||e["@@iterator"],typeof e=="function"?e:null)}var m0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y0=Object.assign,b0={};function hl(e,t,n){this.props=e,this.context=t,this.refs=b0,this.updater=n||m0}hl.prototype.isReactComponent={};hl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function v0(){}v0.prototype=hl.prototype;function lp(e,t,n){this.props=e,this.context=t,this.refs=b0,this.updater=n||m0}var rp=lp.prototype=new v0;rp.constructor=lp;y0(rp,hl.prototype);rp.isPureReactComponent=!0;var jg=Array.isArray;function cd(){}var vt={H:null,A:null,T:null,S:null},S0=Object.prototype.hasOwnProperty;function cp(e,t,n){var o=n.ref;return{$$typeof:ip,type:e,key:t,ref:o!==void 0?o:null,props:n}}function my(e,t){return cp(e.type,t,e.props)}function up(e){return typeof e=="object"&&e!==null&&e.$$typeof===ip}function yy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var kg=/\/+/g;function Su(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yy(""+e.key):t.toString(36)}function by(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(cd,cd):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Bi(e,t,n,o,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ip:case iy:l=!0;break;case x0:return l=e._init,Bi(l(e._payload),t,n,o,s)}}if(l)return s=s(e),l=o===""?"."+Su(e,0):o,jg(s)?(n="",l!=null&&(n=l.replace(kg,"$&/")+"/"),Bi(s,t,n,"",function(v){return v})):s!=null&&(up(s)&&(s=my(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(kg,"$&/")+"/")+l)),t.push(s)),1;l=0;var u=o===""?".":o+":";if(jg(e))for(var p=0;p<e.length;p++)o=e[p],i=u+Su(o,p),l+=Bi(o,t,n,i,s);else if(p=xy(e),typeof p=="function")for(e=p.call(e),p=0;!(o=e.next()).done;)o=o.value,i=u+Su(o,p++),l+=Bi(o,t,n,i,s);else if(i==="object"){if(typeof e.then=="function")return Bi(by(e),t,n,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function Gr(e,t,n){if(e==null)return e;var o=[],s=0;return Bi(e,o,"","",function(i){return t.call(n,i,s++)}),o}function vy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ag=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sy={map:Gr,forEach:function(e,t,n){Gr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gr(e,function(){t++}),t},toArray:function(e){return Gr(e,function(t){return t})||[]},only:function(e){if(!up(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Activity=hy;Ne.Children=Sy;Ne.Component=hl;Ne.Fragment=ly;Ne.Profiler=cy;Ne.PureComponent=lp;Ne.StrictMode=ry;Ne.Suspense=gy;Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt;Ne.__COMPILER_RUNTIME={__proto__:null,c:function(e){return vt.H.useMemoCache(e)}};Ne.cache=function(e){return function(){return e.apply(null,arguments)}};Ne.cacheSignal=function(){return null};Ne.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var o=y0({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!S0.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(o[i]=t[i]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var l=Array(i),u=0;u<i;u++)l[u]=arguments[u+2];o.children=l}return cp(e.type,s,o)};Ne.createContext=function(e){return e={$$typeof:dy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:uy,_context:e},e};Ne.createElement=function(e,t,n){var o,s={},i=null;if(t!=null)for(o in t.key!==void 0&&(i=""+t.key),t)S0.call(t,o)&&o!=="key"&&o!=="__self"&&o!=="__source"&&(s[o]=t[o]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),p=0;p<l;p++)u[p]=arguments[p+2];s.children=u}if(e&&e.defaultProps)for(o in l=e.defaultProps,l)s[o]===void 0&&(s[o]=l[o]);return cp(e,i,s)};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:py,render:e}};Ne.isValidElement=up;Ne.lazy=function(e){return{$$typeof:x0,_payload:{_status:-1,_result:e},_init:vy}};Ne.memo=function(e,t){return{$$typeof:fy,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=vt.T,n={};vt.T=n;try{var o=e(),s=vt.S;s!==null&&s(n,o),typeof o=="object"&&o!==null&&typeof o.then=="function"&&o.then(cd,Ag)}catch(i){Ag(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),vt.T=t}};Ne.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()};Ne.use=function(e){return vt.H.use(e)};Ne.useActionState=function(e,t,n){return vt.H.useActionState(e,t,n)};Ne.useCallback=function(e,t){return vt.H.useCallback(e,t)};Ne.useContext=function(e){return vt.H.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e,t){return vt.H.useDeferredValue(e,t)};Ne.useEffect=function(e,t){return vt.H.useEffect(e,t)};Ne.useEffectEvent=function(e){return vt.H.useEffectEvent(e)};Ne.useId=function(){return vt.H.useId()};Ne.useImperativeHandle=function(e,t,n){return vt.H.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return vt.H.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return vt.H.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return vt.H.useMemo(e,t)};Ne.useOptimistic=function(e,t){return vt.H.useOptimistic(e,t)};Ne.useReducer=function(e,t,n){return vt.H.useReducer(e,t,n)};Ne.useRef=function(e){return vt.H.useRef(e)};Ne.useState=function(e){return vt.H.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return vt.H.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return vt.H.useTransition()};Ne.version="19.2.3";h0.exports=Ne;var r=h0.exports;const ud=p0(r);var T0={exports:{}},Vc={},w0={exports:{}},C0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,Y){var se=B.length;B.push(Y);e:for(;0<se;){var K=se-1>>>1,he=B[K];if(0<s(he,Y))B[K]=Y,B[se]=he,se=K;else break e}}function n(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var Y=B[0],se=B.pop();if(se!==Y){B[0]=se;e:for(var K=0,he=B.length,O=he>>>1;K<O;){var we=2*(K+1)-1,Ie=B[we],Ye=we+1,Je=B[Ye];if(0>s(Ie,se))Ye<he&&0>s(Je,Ie)?(B[K]=Je,B[Ye]=se,K=Ye):(B[K]=Ie,B[we]=se,K=we);else if(Ye<he&&0>s(Je,se))B[K]=Je,B[Ye]=se,K=Ye;else break e}}return Y}function s(B,Y){var se=B.sortIndex-Y.sortIndex;return se!==0?se:B.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var p=[],v=[],M=1,j=null,b=3,m=!1,E=!1,L=!1,A=!1,h=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function k(B){for(var Y=n(v);Y!==null;){if(Y.callback===null)o(v);else if(Y.startTime<=B)o(v),Y.sortIndex=Y.expirationTime,t(p,Y);else break;Y=n(v)}}function P(B){if(L=!1,k(B),!E)if(n(p)!==null)E=!0,_||(_=!0,ve());else{var Y=n(v);Y!==null&&Ae(P,Y.startTime-B)}}var _=!1,G=-1,U=5,oe=-1;function me(){return A?!0:!(e.unstable_now()-oe<U)}function ae(){if(A=!1,_){var B=e.unstable_now();oe=B;var Y=!0;try{e:{E=!1,L&&(L=!1,g(G),G=-1),m=!0;var se=b;try{t:{for(k(B),j=n(p);j!==null&&!(j.expirationTime>B&&me());){var K=j.callback;if(typeof K=="function"){j.callback=null,b=j.priorityLevel;var he=K(j.expirationTime<=B);if(B=e.unstable_now(),typeof he=="function"){j.callback=he,k(B),Y=!0;break t}j===n(p)&&o(p),k(B)}else o(p);j=n(p)}if(j!==null)Y=!0;else{var O=n(v);O!==null&&Ae(P,O.startTime-B),Y=!1}}break e}finally{j=null,b=se,m=!1}Y=void 0}}finally{Y?ve():_=!1}}}var ve;if(typeof y=="function")ve=function(){y(ae)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,We=It.port2;It.port1.onmessage=ae,ve=function(){We.postMessage(null)}}else ve=function(){h(ae,0)};function Ae(B,Y){G=h(function(){B(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(B){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var se=b;b=Y;try{return B()}finally{b=se}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var se=b;b=B;try{return Y()}finally{b=se}},e.unstable_scheduleCallback=function(B,Y,se){var K=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?K+se:K):se=K,B){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=se+he,B={id:M++,callback:Y,priorityLevel:B,startTime:se,expirationTime:he,sortIndex:-1},se>K?(B.sortIndex=se,t(v,B),n(p)===null&&B===n(v)&&(L?(g(G),G=-1):L=!0,Ae(P,se-K))):(B.sortIndex=he,t(p,B),E||m||(E=!0,_||(_=!0,ve()))),B},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(B){var Y=b;return function(){var se=b;b=Y;try{return B.apply(this,arguments)}finally{b=se}}}})(C0);w0.exports=C0;var Ty=w0.exports,j0={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy=r;function k0(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ps(){}var Bn={d:{f:ps,r:function(){throw Error(k0(522))},D:ps,C:ps,L:ps,m:ps,X:ps,S:ps,M:ps},p:0,findDOMNode:null},Cy=Symbol.for("react.portal");function jy(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cy,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}var Vl=wy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Zc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}_n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Bn;_n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(k0(299));return jy(e,t,null,n)};_n.flushSync=function(e){var t=Vl.T,n=Bn.p;try{if(Vl.T=null,Bn.p=2,e)return e()}finally{Vl.T=t,Bn.p=n,Bn.d.f()}};_n.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Bn.d.C(e,t))};_n.prefetchDNS=function(e){typeof e=="string"&&Bn.d.D(e)};_n.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,o=Zc(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Bn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:o,integrity:s,fetchPriority:i}):n==="script"&&Bn.d.X(e,{crossOrigin:o,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};_n.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Zc(t.as,t.crossOrigin);Bn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Bn.d.M(e)};_n.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,o=Zc(n,t.crossOrigin);Bn.d.L(e,n,{crossOrigin:o,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};_n.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Zc(t.as,t.crossOrigin);Bn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Bn.d.m(e)};_n.requestFormReset=function(e){Bn.d.r(e)};_n.unstable_batchedUpdates=function(e,t){return e(t)};_n.useFormState=function(e,t,n){return Vl.H.useFormState(e,t,n)};_n.useFormStatus=function(){return Vl.H.useHostTransitionStatus()};_n.version="19.2.3";function A0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A0)}catch(e){console.error(e)}}A0(),j0.exports=_n;var ky=j0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=Ty,I0=r,Ay=ky;function F(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function M0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function z0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function D0(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ig(e){if(Cr(e)!==e)throw Error(F(188))}function Iy(e){var t=e.alternate;if(!t){if(t=Cr(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,o=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(o=s.return,o!==null){n=o;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ig(s),e;if(i===o)return Ig(s),t;i=i.sibling}throw Error(F(188))}if(n.return!==o.return)n=s,o=i;else{for(var l=!1,u=s.child;u;){if(u===n){l=!0,n=s,o=i;break}if(u===o){l=!0,o=s,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,o=s;break}if(u===o){l=!0,o=i,n=s;break}u=u.sibling}if(!l)throw Error(F(189))}}if(n.alternate!==o)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function N0(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=N0(e),t!==null)return t;e=e.sibling}return null}var St=Object.assign,My=Symbol.for("react.element"),qr=Symbol.for("react.transitional.element"),Wl=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),O0=Symbol.for("react.strict_mode"),dd=Symbol.for("react.profiler"),E0=Symbol.for("react.consumer"),Qa=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),pd=Symbol.for("react.suspense"),gd=Symbol.for("react.suspense_list"),pp=Symbol.for("react.memo"),fs=Symbol.for("react.lazy"),fd=Symbol.for("react.activity"),zy=Symbol.for("react.memo_cache_sentinel"),Mg=Symbol.iterator;function Dl(e){return e===null||typeof e!="object"?null:(e=Mg&&e[Mg]||e["@@iterator"],typeof e=="function"?e:null)}var Dy=Symbol.for("react.client.reference");function hd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Dy?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hi:return"Fragment";case dd:return"Profiler";case O0:return"StrictMode";case pd:return"Suspense";case gd:return"SuspenseList";case fd:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Wl:return"Portal";case Qa:return e.displayName||"Context";case E0:return(e._context.displayName||"Context")+".Consumer";case dp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pp:return t=e.displayName||null,t!==null?t:hd(e.type)||"Memo";case fs:t=e._payload,e=e._init;try{return hd(e(t))}catch{}}return null}var Xl=Array.isArray,ke=I0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=Ay.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oi={pending:!1,data:null,method:null,action:null},xd=[],Li=-1;function ka(e){return{current:e}}function rn(e){0>Li||(e.current=xd[Li],xd[Li]=null,Li--)}function ht(e,t){Li++,xd[Li]=e.current,e.current=t}var ja=ka(null),ur=ka(null),js=ka(null),vc=ka(null);function Sc(e,t){switch(ht(js,t),ht(ur,e),ht(ja,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bf(t),e=em(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rn(ja),ht(ja,e)}function al(){rn(ja),rn(ur),rn(js)}function md(e){e.memoizedState!==null&&ht(vc,e);var t=ja.current,n=em(t,e.type);t!==n&&(ht(ur,e),ht(ja,n))}function Tc(e){ur.current===e&&(rn(ja),rn(ur)),vc.current===e&&(rn(vc),Sr._currentValue=oi)}var Tu,zg;function $s(e){if(Tu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tu=t&&t[1]||"",zg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tu+e+zg}var wu=!1;function Cu(e,t){if(!e||wu)return"";wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(m){var b=m}Reflect.construct(e,[],j)}else{try{j.call()}catch(m){b=m}e.call(j.prototype)}}else{try{throw Error()}catch(m){b=m}(j=e())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(m){if(m&&b&&typeof m.stack=="string")return[m.stack,b.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=o.DetermineComponentFrameRoot(),l=i[0],u=i[1];if(l&&u){var p=l.split(`
`),v=u.split(`
`);for(s=o=0;o<p.length&&!p[o].includes("DetermineComponentFrameRoot");)o++;for(;s<v.length&&!v[s].includes("DetermineComponentFrameRoot");)s++;if(o===p.length||s===v.length)for(o=p.length-1,s=v.length-1;1<=o&&0<=s&&p[o]!==v[s];)s--;for(;1<=o&&0<=s;o--,s--)if(p[o]!==v[s]){if(o!==1||s!==1)do if(o--,s--,0>s||p[o]!==v[s]){var M=`
`+p[o].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=o&&0<=s);break}}}finally{wu=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?$s(n):""}function Ny(e,t){switch(e.tag){case 26:case 27:case 5:return $s(e.type);case 16:return $s("Lazy");case 13:return e.child!==t&&t!==null?$s("Suspense Fallback"):$s("Suspense");case 19:return $s("SuspenseList");case 0:case 15:return Cu(e.type,!1);case 11:return Cu(e.type.render,!1);case 1:return Cu(e.type,!0);case 31:return $s("Activity");default:return""}}function Dg(e){try{var t="",n=null;do t+=Ny(e,n),n=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var yd=Object.prototype.hasOwnProperty,gp=Kt.unstable_scheduleCallback,ju=Kt.unstable_cancelCallback,Oy=Kt.unstable_shouldYield,Ey=Kt.unstable_requestPaint,Co=Kt.unstable_now,Ry=Kt.unstable_getCurrentPriorityLevel,R0=Kt.unstable_ImmediatePriority,B0=Kt.unstable_UserBlockingPriority,wc=Kt.unstable_NormalPriority,By=Kt.unstable_LowPriority,_0=Kt.unstable_IdlePriority,_y=Kt.log,Fy=Kt.unstable_setDisableYieldValue,jr=null,jo=null;function vs(e){if(typeof _y=="function"&&Fy(e),jo&&typeof jo.setStrictMode=="function")try{jo.setStrictMode(jr,e)}catch{}}var ko=Math.clz32?Math.clz32:Uy,Hy=Math.log,Ly=Math.LN2;function Uy(e){return e>>>=0,e===0?32:31-(Hy(e)/Ly|0)|0}var Yr=256,Wr=262144,Xr=4194304;function ei(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kc(e,t,n){var o=e.pendingLanes;if(o===0)return 0;var s=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var u=o&134217727;return u!==0?(o=u&~i,o!==0?s=ei(o):(l&=u,l!==0?s=ei(l):n||(n=u&~e,n!==0&&(s=ei(n))))):(u=o&~i,u!==0?s=ei(u):l!==0?s=ei(l):n||(n=o&~e,n!==0&&(s=ei(n)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function kr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Gy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F0(){var e=Xr;return Xr<<=1,!(Xr&62914560)&&(Xr=4194304),e}function ku(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ar(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qy(e,t,n,o,s,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var u=e.entanglements,p=e.expirationTimes,v=e.hiddenUpdates;for(n=l&~n;0<n;){var M=31-ko(n),j=1<<M;u[M]=0,p[M]=-1;var b=v[M];if(b!==null)for(v[M]=null,M=0;M<b.length;M++){var m=b[M];m!==null&&(m.lane&=-536870913)}n&=~j}o!==0&&H0(e,o,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(l&~t))}function H0(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-ko(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|n&261930}function L0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-ko(n),s=1<<o;s&t|e[o]&t&&(e[o]|=t),n&=~s}}function U0(e,t){var n=t&-t;return n=n&42?1:fp(n),n&(e.suspendedLanes|t)?0:n}function fp(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hp(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function G0(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:dm(e.type))}function Ng(e,t){var n=ot.p;try{return ot.p=e,t()}finally{ot.p=n}}var Fs=Math.random().toString(36).slice(2),gn="__reactFiber$"+Fs,no="__reactProps$"+Fs,xl="__reactContainer$"+Fs,bd="__reactEvents$"+Fs,Yy="__reactListeners$"+Fs,Wy="__reactHandles$"+Fs,Og="__reactResources$"+Fs,Ir="__reactMarker$"+Fs;function xp(e){delete e[gn],delete e[no],delete e[bd],delete e[Yy],delete e[Wy]}function Ui(e){var t=e[gn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xl]||n[gn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uf(e);e!==null;){if(n=e[gn])return n;e=Uf(e)}return t}e=n,n=e.parentNode}return null}function ml(e){if(e=e[gn]||e[xl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ql(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(F(33))}function Zi(e){var t=e[Og];return t||(t=e[Og]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ln(e){e[Ir]=!0}var q0=new Set,Y0={};function gi(e,t){sl(e,t),sl(e+"Capture",t)}function sl(e,t){for(Y0[e]=t,e=0;e<t.length;e++)q0.add(t[e])}var Xy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eg={},Rg={};function Qy(e){return yd.call(Rg,e)?!0:yd.call(Eg,e)?!1:Xy.test(e)?Rg[e]=!0:(Eg[e]=!0,!1)}function sc(e,t,n){if(Qy(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Qr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ha(e,t,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+o)}}function Uo(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function W0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Py(e,t,n){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var s=o.get,i=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vd(e){if(!e._valueTracker){var t=W0(e)?"checked":"value";e._valueTracker=Py(e,t,""+e[t])}}function X0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=W0(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Cc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jy=/[\n"\\]/g;function Yo(e){return e.replace(Jy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Sd(e,t,n,o,s,i,l,u){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Uo(t)):e.value!==""+Uo(t)&&(e.value=""+Uo(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?Td(e,l,Uo(t)):n!=null?Td(e,l,Uo(n)):o!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+Uo(u):e.removeAttribute("name")}function Q0(e,t,n,o,s,i,l,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){vd(e);return}n=n!=null?""+Uo(n):"",t=t!=null?""+Uo(t):n,u||t===e.value||(e.value=t),e.defaultValue=t}o=o??s,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=u?e.checked:!!o,e.defaultChecked=!!o,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),vd(e)}function Td(e,t,n){t==="number"&&Cc(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ki(e,t,n,o){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Uo(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function P0(e,t,n){if(t!=null&&(t=""+Uo(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Uo(n):""}function J0(e,t,n,o){if(t==null){if(o!=null){if(n!=null)throw Error(F(92));if(Xl(o)){if(1<o.length)throw Error(F(93));o=o[0]}n=o}n==null&&(n=""),t=n}n=Uo(t),e.defaultValue=n,o=e.textContent,o===n&&o!==""&&o!==null&&(e.value=o),vd(e)}function il(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bg(e,t,n){var o=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,n):typeof n!="number"||n===0||Vy.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function V0(e,t,n){if(t!=null&&typeof t!="object")throw Error(F(62));if(e=e.style,n!=null){for(var o in n)!n.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var s in t)o=t[s],t.hasOwnProperty(s)&&n[s]!==o&&Bg(e,s,o)}else for(var i in t)t.hasOwnProperty(i)&&Bg(e,i,t[i])}function mp(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ky=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ic(e){return Ky.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pa(){}var wd=null;function yp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gi=null,$i=null;function _g(e){var t=ml(e);if(t&&(e=t.stateNode)){var n=e[no]||null;e:switch(e=t.stateNode,t.type){case"input":if(Sd(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yo(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var s=o[no]||null;if(!s)throw Error(F(90));Sd(o,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)o=n[t],o.form===e.form&&X0(o)}break e;case"textarea":P0(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ki(e,!!n.multiple,t,!1)}}}var Au=!1;function Z0(e,t,n){if(Au)return e(t,n);Au=!0;try{var o=e(t);return o}finally{if(Au=!1,(Gi!==null||$i!==null)&&(uu(),Gi&&(t=Gi,e=$i,$i=Gi=null,_g(t),e)))for(t=0;t<e.length;t++)_g(e[t])}}function dr(e,t){var n=e.stateNode;if(n===null)return null;var o=n[no]||null;if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var $a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cd=!1;if($a)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){Cd=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{Cd=!1}var Ss=null,bp=null,lc=null;function K0(){if(lc)return lc;var e,t=bp,n=t.length,o,s="value"in Ss?Ss.value:Ss.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(o=1;o<=l&&t[n-o]===s[i-o];o++);return lc=s.slice(e,1<o?1-o:void 0)}function rc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pr(){return!0}function Fg(){return!1}function oo(e){function t(n,o,s,i,l){this._reactName=n,this._targetInst=s,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pr:Fg,this.isPropagationStopped=Fg,this}return St(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),t}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=oo(fi),Mr=St({},fi,{view:0,detail:0}),$y=oo(Mr),Iu,Mu,Ol,eu=St({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ol&&(Ol&&e.type==="mousemove"?(Iu=e.screenX-Ol.screenX,Mu=e.screenY-Ol.screenY):Mu=Iu=0,Ol=e),Iu)},movementY:function(e){return"movementY"in e?e.movementY:Mu}}),Hg=oo(eu),eb=St({},eu,{dataTransfer:0}),tb=oo(eb),nb=St({},Mr,{relatedTarget:0}),zu=oo(nb),ob=St({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),ab=oo(ob),sb=St({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ib=oo(sb),lb=St({},fi,{data:0}),Lg=oo(lb),rb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ub={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function db(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ub[e])?!!t[e]:!1}function vp(){return db}var pb=St({},Mr,{key:function(e){if(e.key){var t=rb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vp,charCode:function(e){return e.type==="keypress"?rc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gb=oo(pb),fb=St({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ug=oo(fb),hb=St({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vp}),xb=oo(hb),mb=St({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yb=oo(mb),bb=St({},eu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vb=oo(bb),Sb=St({},fi,{newState:0,oldState:0}),Tb=oo(Sb),wb=[9,13,27,32],Sp=$a&&"CompositionEvent"in window,Zl=null;$a&&"documentMode"in document&&(Zl=document.documentMode);var Cb=$a&&"TextEvent"in window&&!Zl,$0=$a&&(!Sp||Zl&&8<Zl&&11>=Zl),Gg=" ",qg=!1;function eh(e,t){switch(e){case"keyup":return wb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function th(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qi=!1;function jb(e,t){switch(e){case"compositionend":return th(t);case"keypress":return t.which!==32?null:(qg=!0,Gg);case"textInput":return e=t.data,e===Gg&&qg?null:e;default:return null}}function kb(e,t){if(qi)return e==="compositionend"||!Sp&&eh(e,t)?(e=K0(),lc=bp=Ss=null,qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $0&&t.locale!=="ko"?null:t.data;default:return null}}var Ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ab[e.type]:t==="textarea"}function nh(e,t,n,o){Gi?$i?$i.push(o):$i=[o]:Gi=o,t=Gc(t,"onChange"),0<t.length&&(n=new $c("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Kl=null,pr=null;function Ib(e){Zx(e,0)}function tu(e){var t=Ql(e);if(X0(t))return e}function Wg(e,t){if(e==="change")return t}var oh=!1;if($a){var Du;if($a){var Nu="oninput"in document;if(!Nu){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Nu=typeof Xg.oninput=="function"}Du=Nu}else Du=!1;oh=Du&&(!document.documentMode||9<document.documentMode)}function Qg(){Kl&&(Kl.detachEvent("onpropertychange",ah),pr=Kl=null)}function ah(e){if(e.propertyName==="value"&&tu(pr)){var t=[];nh(t,pr,e,yp(e)),Z0(Ib,t)}}function Mb(e,t,n){e==="focusin"?(Qg(),Kl=t,pr=n,Kl.attachEvent("onpropertychange",ah)):e==="focusout"&&Qg()}function zb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tu(pr)}function Db(e,t){if(e==="click")return tu(t)}function Nb(e,t){if(e==="input"||e==="change")return tu(t)}function Ob(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Io=typeof Object.is=="function"?Object.is:Ob;function gr(e,t){if(Io(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var s=n[o];if(!yd.call(t,s)||!Io(e[s],t[s]))return!1}return!0}function Pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jg(e,t){var n=Pg(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pg(n)}}function sh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ih(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Cc(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cc(e.document)}return t}function Tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Eb=$a&&"documentMode"in document&&11>=document.documentMode,Yi=null,jd=null,$l=null,kd=!1;function Vg(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kd||Yi==null||Yi!==Cc(o)||(o=Yi,"selectionStart"in o&&Tp(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),$l&&gr($l,o)||($l=o,o=Gc(jd,"onSelect"),0<o.length&&(t=new $c("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Yi)))}function Zs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wi={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Ou={},lh={};$a&&(lh=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function hi(e){if(Ou[e])return Ou[e];if(!Wi[e])return e;var t=Wi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lh)return Ou[e]=t[n];return e}var rh=hi("animationend"),ch=hi("animationiteration"),uh=hi("animationstart"),Rb=hi("transitionrun"),Bb=hi("transitionstart"),_b=hi("transitioncancel"),dh=hi("transitionend"),ph=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function ra(e,t){ph.set(e,t),gi(t,[e])}var jc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lo=[],Xi=0,wp=0;function nu(){for(var e=Xi,t=wp=Xi=0;t<e;){var n=Lo[t];Lo[t++]=null;var o=Lo[t];Lo[t++]=null;var s=Lo[t];Lo[t++]=null;var i=Lo[t];if(Lo[t++]=null,o!==null&&s!==null){var l=o.pending;l===null?s.next=s:(s.next=l.next,l.next=s),o.pending=s}i!==0&&gh(n,s,i)}}function ou(e,t,n,o){Lo[Xi++]=e,Lo[Xi++]=t,Lo[Xi++]=n,Lo[Xi++]=o,wp|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Cp(e,t,n,o){return ou(e,t,n,o),kc(e)}function xi(e,t){return ou(e,null,null,t),kc(e)}function gh(e,t,n){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,o=i.alternate,o!==null&&(o.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-ko(n),e=i.hiddenUpdates,o=e[s],o===null?e[s]=[t]:o.push(t),t.lane=n|536870912),i):null}function kc(e){if(50<rr)throw rr=0,Pd=null,Error(F(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qi={};function Fb(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function To(e,t,n,o){return new Fb(e,t,n,o)}function jp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Va(e,t){var n=e.alternate;return n===null?(n=To(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function fh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cc(e,t,n,o,s,i){var l=0;if(o=e,typeof e=="function")jp(e)&&(l=1);else if(typeof e=="string")l=q1(e,n,ja.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fd:return e=To(31,n,t,s),e.elementType=fd,e.lanes=i,e;case Hi:return ai(n.children,s,i,t);case O0:l=8,s|=24;break;case dd:return e=To(12,n,t,s|2),e.elementType=dd,e.lanes=i,e;case pd:return e=To(13,n,t,s),e.elementType=pd,e.lanes=i,e;case gd:return e=To(19,n,t,s),e.elementType=gd,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qa:l=10;break e;case E0:l=9;break e;case dp:l=11;break e;case pp:l=14;break e;case fs:l=16,o=null;break e}l=29,n=Error(F(130,e===null?"null":typeof e,"")),o=null}return t=To(l,n,t,s),t.elementType=e,t.type=o,t.lanes=i,t}function ai(e,t,n,o){return e=To(7,e,o,t),e.lanes=n,e}function Eu(e,t,n){return e=To(6,e,null,t),e.lanes=n,e}function hh(e){var t=To(18,null,null,0);return t.stateNode=e,t}function Ru(e,t,n){return t=To(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Zg=new WeakMap;function Wo(e,t){if(typeof e=="object"&&e!==null){var n=Zg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Dg(t)},Zg.set(e,t),t)}return{value:e,source:t,stack:Dg(t)}}var Pi=[],Ji=0,Ac=null,fr=0,Go=[],qo=0,Es=null,Ta=1,wa="";function Ya(e,t){Pi[Ji++]=fr,Pi[Ji++]=Ac,Ac=e,fr=t}function xh(e,t,n){Go[qo++]=Ta,Go[qo++]=wa,Go[qo++]=Es,Es=e;var o=Ta;e=wa;var s=32-ko(o)-1;o&=~(1<<s),n+=1;var i=32-ko(t)+s;if(30<i){var l=s-s%5;i=(o&(1<<l)-1).toString(32),o>>=l,s-=l,Ta=1<<32-ko(t)+s|n<<s|o,wa=i+e}else Ta=1<<i|n<<s|o,wa=e}function kp(e){e.return!==null&&(Ya(e,1),xh(e,1,0))}function Ap(e){for(;e===Ac;)Ac=Pi[--Ji],Pi[Ji]=null,fr=Pi[--Ji],Pi[Ji]=null;for(;e===Es;)Es=Go[--qo],Go[qo]=null,wa=Go[--qo],Go[qo]=null,Ta=Go[--qo],Go[qo]=null}function mh(e,t){Go[qo++]=Ta,Go[qo++]=wa,Go[qo++]=Es,Ta=t.id,wa=t.overflow,Es=e}var fn=null,bt=null,qe=!1,ks=null,Xo=!1,Id=Error(F(519));function Rs(e){var t=Error(F(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hr(Wo(t,e)),Id}function Kg(e){var t=e.stateNode,n=e.type,o=e.memoizedProps;switch(t[gn]=e,t[no]=o,n){case"dialog":He("cancel",t),He("close",t);break;case"iframe":case"object":case"embed":He("load",t);break;case"video":case"audio":for(n=0;n<br.length;n++)He(br[n],t);break;case"source":He("error",t);break;case"img":case"image":case"link":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"input":He("invalid",t),Q0(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":He("invalid",t);break;case"textarea":He("invalid",t),J0(t,o.value,o.defaultValue,o.children)}n=o.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||o.suppressHydrationWarning===!0||$x(t.textContent,n)?(o.popover!=null&&(He("beforetoggle",t),He("toggle",t)),o.onScroll!=null&&He("scroll",t),o.onScrollEnd!=null&&He("scrollend",t),o.onClick!=null&&(t.onclick=Pa),t=!0):t=!1,t||Rs(e,!0)}function $g(e){for(fn=e.return;fn;)switch(fn.tag){case 5:case 31:case 13:Xo=!1;return;case 27:case 3:Xo=!0;return;default:fn=fn.return}}function ki(e){if(e!==fn)return!1;if(!qe)return $g(e),qe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||$d(e.type,e.memoizedProps)),n=!n),n&&bt&&Rs(e),$g(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));bt=Lf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));bt=Lf(e)}else t===27?(t=bt,Hs(e.type)?(e=op,op=null,bt=e):bt=t):bt=fn?Po(e.stateNode.nextSibling):null;return!0}function ri(){bt=fn=null,qe=!1}function Bu(){var e=ks;return e!==null&&(eo===null?eo=e:eo.push.apply(eo,e),ks=null),e}function hr(e){ks===null?ks=[e]:ks.push(e)}var Md=ka(null),mi=null,Ja=null;function xs(e,t,n){ht(Md,t._currentValue),t._currentValue=n}function Za(e){e._currentValue=Md.current,rn(Md)}function zd(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Dd(e,t,n,o){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var l=s.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=s;for(var p=0;p<t.length;p++)if(u.context===t[p]){i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),zd(i.return,n,e),o||(l=null);break e}i=u.next}}else if(s.tag===18){if(l=s.return,l===null)throw Error(F(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),zd(l,n,e),l=null}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}}function yl(e,t,n,o){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var l=s.alternate;if(l===null)throw Error(F(387));if(l=l.memoizedProps,l!==null){var u=s.type;Io(s.pendingProps.value,l.value)||(e!==null?e.push(u):e=[u])}}else if(s===vc.current){if(l=s.alternate,l===null)throw Error(F(387));l.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Sr):e=[Sr])}s=s.return}e!==null&&Dd(t,e,n,o),t.flags|=262144}function Ic(e){for(e=e.firstContext;e!==null;){if(!Io(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ci(e){mi=e,Ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function hn(e){return yh(mi,e)}function Jr(e,t){return mi===null&&ci(e),yh(e,t)}function yh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ja===null){if(e===null)throw Error(F(308));Ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ja=Ja.next=t;return n}var Hb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Lb=Kt.unstable_scheduleCallback,Ub=Kt.unstable_NormalPriority,Qt={$$typeof:Qa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ip(){return{controller:new Hb,data:new Map,refCount:0}}function zr(e){e.refCount--,e.refCount===0&&Lb(Ub,function(){e.controller.abort()})}var er=null,Nd=0,ll=0,el=null;function Gb(e,t){if(er===null){var n=er=[];Nd=0,ll=$p(),el={status:"pending",value:void 0,then:function(o){n.push(o)}}}return Nd++,t.then(ef,ef),t}function ef(){if(--Nd===0&&er!==null){el!==null&&(el.status="fulfilled");var e=er;er=null,ll=0,el=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function qb(e,t){var n=[],o={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(o.status="rejected",o.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),o}var tf=ke.S;ke.S=function(e,t){Nx=Co(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Gb(e,t),tf!==null&&tf(e,t)};var si=ka(null);function Mp(){var e=si.current;return e!==null?e:pt.pooledCache}function uc(e,t){t===null?ht(si,si.current):ht(si,t.pool)}function bh(){var e=Mp();return e===null?null:{parent:Qt._currentValue,pool:e}}var bl=Error(F(460)),zp=Error(F(474)),au=Error(F(542)),Mc={then:function(){}};function nf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Pa,Pa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,af(e),e;default:if(typeof t.status=="string")t.then(Pa,Pa);else{if(e=pt,e!==null&&100<e.shellSuspendCounter)throw Error(F(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=o}},function(o){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,af(e),e}throw ii=t,bl}}function ti(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ii=n,bl):n}}var ii=null;function of(){if(ii===null)throw Error(F(459));var e=ii;return ii=null,e}function af(e){if(e===bl||e===au)throw Error(F(483))}var tl=null,xr=0;function Vr(e){var t=xr;return xr+=1,tl===null&&(tl=[]),vh(tl,e,t)}function El(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Zr(e,t){throw t.$$typeof===My?Error(F(525)):(e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sh(e){function t(h,g){if(e){var y=h.deletions;y===null?(h.deletions=[g],h.flags|=16):y.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function o(h){for(var g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function s(h,g){return h=Va(h,g),h.index=0,h.sibling=null,h}function i(h,g,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<g?(h.flags|=67108866,g):y):(h.flags|=67108866,g)):(h.flags|=1048576,g)}function l(h){return e&&h.alternate===null&&(h.flags|=67108866),h}function u(h,g,y,k){return g===null||g.tag!==6?(g=Eu(y,h.mode,k),g.return=h,g):(g=s(g,y),g.return=h,g)}function p(h,g,y,k){var P=y.type;return P===Hi?M(h,g,y.props.children,k,y.key):g!==null&&(g.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===fs&&ti(P)===g.type)?(g=s(g,y.props),El(g,y),g.return=h,g):(g=cc(y.type,y.key,y.props,null,h.mode,k),El(g,y),g.return=h,g)}function v(h,g,y,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Ru(y,h.mode,k),g.return=h,g):(g=s(g,y.children||[]),g.return=h,g)}function M(h,g,y,k,P){return g===null||g.tag!==7?(g=ai(y,h.mode,k,P),g.return=h,g):(g=s(g,y),g.return=h,g)}function j(h,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Eu(""+g,h.mode,y),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case qr:return y=cc(g.type,g.key,g.props,null,h.mode,y),El(y,g),y.return=h,y;case Wl:return g=Ru(g,h.mode,y),g.return=h,g;case fs:return g=ti(g),j(h,g,y)}if(Xl(g)||Dl(g))return g=ai(g,h.mode,y,null),g.return=h,g;if(typeof g.then=="function")return j(h,Vr(g),y);if(g.$$typeof===Qa)return j(h,Jr(h,g),y);Zr(h,g)}return null}function b(h,g,y,k){var P=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return P!==null?null:u(h,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qr:return y.key===P?p(h,g,y,k):null;case Wl:return y.key===P?v(h,g,y,k):null;case fs:return y=ti(y),b(h,g,y,k)}if(Xl(y)||Dl(y))return P!==null?null:M(h,g,y,k,null);if(typeof y.then=="function")return b(h,g,Vr(y),k);if(y.$$typeof===Qa)return b(h,g,Jr(h,y),k);Zr(h,y)}return null}function m(h,g,y,k,P){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return h=h.get(y)||null,u(g,h,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case qr:return h=h.get(k.key===null?y:k.key)||null,p(g,h,k,P);case Wl:return h=h.get(k.key===null?y:k.key)||null,v(g,h,k,P);case fs:return k=ti(k),m(h,g,y,k,P)}if(Xl(k)||Dl(k))return h=h.get(y)||null,M(g,h,k,P,null);if(typeof k.then=="function")return m(h,g,y,Vr(k),P);if(k.$$typeof===Qa)return m(h,g,y,Jr(g,k),P);Zr(g,k)}return null}function E(h,g,y,k){for(var P=null,_=null,G=g,U=g=0,oe=null;G!==null&&U<y.length;U++){G.index>U?(oe=G,G=null):oe=G.sibling;var me=b(h,G,y[U],k);if(me===null){G===null&&(G=oe);break}e&&G&&me.alternate===null&&t(h,G),g=i(me,g,U),_===null?P=me:_.sibling=me,_=me,G=oe}if(U===y.length)return n(h,G),qe&&Ya(h,U),P;if(G===null){for(;U<y.length;U++)G=j(h,y[U],k),G!==null&&(g=i(G,g,U),_===null?P=G:_.sibling=G,_=G);return qe&&Ya(h,U),P}for(G=o(G);U<y.length;U++)oe=m(G,h,U,y[U],k),oe!==null&&(e&&oe.alternate!==null&&G.delete(oe.key===null?U:oe.key),g=i(oe,g,U),_===null?P=oe:_.sibling=oe,_=oe);return e&&G.forEach(function(ae){return t(h,ae)}),qe&&Ya(h,U),P}function L(h,g,y,k){if(y==null)throw Error(F(151));for(var P=null,_=null,G=g,U=g=0,oe=null,me=y.next();G!==null&&!me.done;U++,me=y.next()){G.index>U?(oe=G,G=null):oe=G.sibling;var ae=b(h,G,me.value,k);if(ae===null){G===null&&(G=oe);break}e&&G&&ae.alternate===null&&t(h,G),g=i(ae,g,U),_===null?P=ae:_.sibling=ae,_=ae,G=oe}if(me.done)return n(h,G),qe&&Ya(h,U),P;if(G===null){for(;!me.done;U++,me=y.next())me=j(h,me.value,k),me!==null&&(g=i(me,g,U),_===null?P=me:_.sibling=me,_=me);return qe&&Ya(h,U),P}for(G=o(G);!me.done;U++,me=y.next())me=m(G,h,U,me.value,k),me!==null&&(e&&me.alternate!==null&&G.delete(me.key===null?U:me.key),g=i(me,g,U),_===null?P=me:_.sibling=me,_=me);return e&&G.forEach(function(ve){return t(h,ve)}),qe&&Ya(h,U),P}function A(h,g,y,k){if(typeof y=="object"&&y!==null&&y.type===Hi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case qr:e:{for(var P=y.key;g!==null;){if(g.key===P){if(P=y.type,P===Hi){if(g.tag===7){n(h,g.sibling),k=s(g,y.props.children),k.return=h,h=k;break e}}else if(g.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===fs&&ti(P)===g.type){n(h,g.sibling),k=s(g,y.props),El(k,y),k.return=h,h=k;break e}n(h,g);break}else t(h,g);g=g.sibling}y.type===Hi?(k=ai(y.props.children,h.mode,k,y.key),k.return=h,h=k):(k=cc(y.type,y.key,y.props,null,h.mode,k),El(k,y),k.return=h,h=k)}return l(h);case Wl:e:{for(P=y.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(h,g.sibling),k=s(g,y.children||[]),k.return=h,h=k;break e}else{n(h,g);break}else t(h,g);g=g.sibling}k=Ru(y,h.mode,k),k.return=h,h=k}return l(h);case fs:return y=ti(y),A(h,g,y,k)}if(Xl(y))return E(h,g,y,k);if(Dl(y)){if(P=Dl(y),typeof P!="function")throw Error(F(150));return y=P.call(y),L(h,g,y,k)}if(typeof y.then=="function")return A(h,g,Vr(y),k);if(y.$$typeof===Qa)return A(h,g,Jr(h,y),k);Zr(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(h,g.sibling),k=s(g,y),k.return=h,h=k):(n(h,g),k=Eu(y,h.mode,k),k.return=h,h=k),l(h)):n(h,g)}return function(h,g,y,k){try{xr=0;var P=A(h,g,y,k);return tl=null,P}catch(G){if(G===bl||G===au)throw G;var _=To(29,G,null,h.mode);return _.lanes=k,_.return=h,_}finally{}}}var ui=Sh(!0),Th=Sh(!1),hs=!1;function Dp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Od(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function As(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Is(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,nt&2){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,t=kc(e),gh(e,null,n),t}return ou(e,o,t,n),kc(e)}function tr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,L0(e,n)}}function _u(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:o.shared,callbacks:o.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ed=!1;function nr(){if(Ed){var e=el;if(e!==null)throw e}}function or(e,t,n,o){Ed=!1;var s=e.updateQueue;hs=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var p=u,v=p.next;p.next=null,l===null?i=v:l.next=v,l=p;var M=e.alternate;M!==null&&(M=M.updateQueue,u=M.lastBaseUpdate,u!==l&&(u===null?M.firstBaseUpdate=v:u.next=v,M.lastBaseUpdate=p))}if(i!==null){var j=s.baseState;l=0,M=v=p=null,u=i;do{var b=u.lane&-536870913,m=b!==u.lane;if(m?(Ue&b)===b:(o&b)===b){b!==0&&b===ll&&(Ed=!0),M!==null&&(M=M.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var E=e,L=u;b=t;var A=n;switch(L.tag){case 1:if(E=L.payload,typeof E=="function"){j=E.call(A,j,b);break e}j=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=L.payload,b=typeof E=="function"?E.call(A,j,b):E,b==null)break e;j=St({},j,b);break e;case 2:hs=!0}}b=u.callback,b!==null&&(e.flags|=64,m&&(e.flags|=8192),m=s.callbacks,m===null?s.callbacks=[b]:m.push(b))}else m={lane:b,tag:u.tag,payload:u.payload,callback:u.callback,next:null},M===null?(v=M=m,p=j):M=M.next=m,l|=b;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;m=u,u=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);M===null&&(p=j),s.baseState=p,s.firstBaseUpdate=v,s.lastBaseUpdate=M,i===null&&(s.shared.lanes=0),_s|=l,e.lanes=l,e.memoizedState=j}}function wh(e,t){if(typeof e!="function")throw Error(F(191,e));e.call(t)}function Ch(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)wh(n[e],t)}var rl=ka(null),zc=ka(0);function sf(e,t){e=os,ht(zc,e),ht(rl,t),os=e|t.baseLanes}function Rd(){ht(zc,os),ht(rl,rl.current)}function Np(){os=zc.current,rn(rl),rn(zc)}var Mo=ka(null),Qo=null;function ms(e){var t=e.alternate;ht(Gt,Gt.current&1),ht(Mo,e),Qo===null&&(t===null||rl.current!==null||t.memoizedState!==null)&&(Qo=e)}function Bd(e){ht(Gt,Gt.current),ht(Mo,e),Qo===null&&(Qo=e)}function jh(e){e.tag===22?(ht(Gt,Gt.current),ht(Mo,e),Qo===null&&(Qo=e)):ys()}function ys(){ht(Gt,Gt.current),ht(Mo,Mo.current)}function So(e){rn(Mo),Qo===e&&(Qo=null),rn(Gt)}var Gt=ka(0);function Dc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||tp(n)||np(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var es=0,Re=null,ut=null,Wt=null,Nc=!1,nl=!1,di=!1,Oc=0,mr=0,ol=null,Yb=0;function _t(){throw Error(F(321))}function Op(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Io(e[n],t[n]))return!1;return!0}function Ep(e,t,n,o,s,i){return es=i,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ke.H=e===null||e.memoizedState===null?nx:Wp,di=!1,i=n(o,s),di=!1,nl&&(i=Ah(t,n,o,s)),kh(e),i}function kh(e){ke.H=yr;var t=ut!==null&&ut.next!==null;if(es=0,Wt=ut=Re=null,Nc=!1,mr=0,ol=null,t)throw Error(F(300));e===null||Pt||(e=e.dependencies,e!==null&&Ic(e)&&(Pt=!0))}function Ah(e,t,n,o){Re=e;var s=0;do{if(nl&&(ol=null),mr=0,nl=!1,25<=s)throw Error(F(301));if(s+=1,Wt=ut=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}ke.H=ox,i=t(n,o)}while(nl);return i}function Wb(){var e=ke.H,t=e.useState()[0];return t=typeof t.then=="function"?Dr(t):t,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(Re.flags|=1024),t}function Rp(){var e=Oc!==0;return Oc=0,e}function Bp(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function _p(e){if(Nc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nc=!1}es=0,Wt=ut=Re=null,nl=!1,mr=Oc=0,ol=null}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Re.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function qt(){if(ut===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=Wt===null?Re.memoizedState:Wt.next;if(t!==null)Wt=t,ut=e;else{if(e===null)throw Re.alternate===null?Error(F(467)):Error(F(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Wt===null?Re.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dr(e){var t=mr;return mr+=1,ol===null&&(ol=[]),e=vh(ol,e,t),t=Re,(Wt===null?t.memoizedState:Wt.next)===null&&(t=t.alternate,ke.H=t===null||t.memoizedState===null?nx:Wp),e}function iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Dr(e);if(e.$$typeof===Qa)return hn(e)}throw Error(F(438,String(e)))}function Fp(e){var t=null,n=Re.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=su(),Re.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),o=0;o<e;o++)n[o]=zy;return t.index++,n}function ts(e,t){return typeof t=="function"?t(e):t}function dc(e){var t=qt();return Hp(t,ut,e)}function Hp(e,t,n){var o=e.queue;if(o===null)throw Error(F(311));o.lastRenderedReducer=n;var s=e.baseQueue,i=o.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}t.baseQueue=s=i,o.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var u=l=null,p=null,v=t,M=!1;do{var j=v.lane&-536870913;if(j!==v.lane?(Ue&j)===j:(es&j)===j){var b=v.revertLane;if(b===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),j===ll&&(M=!0);else if((es&b)===b){v=v.next,b===ll&&(M=!0);continue}else j={lane:0,revertLane:v.revertLane,gesture:null,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null},p===null?(u=p=j,l=i):p=p.next=j,Re.lanes|=b,_s|=b;j=v.action,di&&n(i,j),i=v.hasEagerState?v.eagerState:n(i,j)}else b={lane:j,revertLane:v.revertLane,gesture:v.gesture,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null},p===null?(u=p=b,l=i):p=p.next=b,Re.lanes|=j,_s|=j;v=v.next}while(v!==null&&v!==t);if(p===null?l=i:p.next=u,!Io(i,e.memoizedState)&&(Pt=!0,M&&(n=el,n!==null)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=p,o.lastRenderedState=i}return s===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Fu(e){var t=qt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var o=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);Io(i,t.memoizedState)||(Pt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Ih(e,t,n){var o=Re,s=qt(),i=qe;if(i){if(n===void 0)throw Error(F(407));n=n()}else n=t();var l=!Io((ut||s).memoizedState,n);if(l&&(s.memoizedState=n,Pt=!0),s=s.queue,Lp(Dh.bind(null,o,s,e),[e]),s.getSnapshot!==t||l||Wt!==null&&Wt.memoizedState.tag&1){if(o.flags|=2048,cl(9,{destroy:void 0},zh.bind(null,o,s,n,t),null),pt===null)throw Error(F(349));i||es&127||Mh(o,t,n)}return n}function Mh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t=su(),Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zh(e,t,n,o){t.value=n,t.getSnapshot=o,Nh(t)&&Oh(e)}function Dh(e,t,n){return n(function(){Nh(t)&&Oh(e)})}function Nh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Io(e,n)}catch{return!0}}function Oh(e){var t=xi(e,2);t!==null&&to(t,e,2)}function _d(e){var t=Rn();if(typeof e=="function"){var n=e;if(e=n(),di){vs(!0);try{n()}finally{vs(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:e},t}function Eh(e,t,n,o){return e.baseState=n,Hp(e,ut,typeof o=="function"?o:ts)}function Xb(e,t,n,o,s){if(ru(e))throw Error(F(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){i.listeners.push(l)}};ke.T!==null?n(!0):i.isTransition=!1,o(i),n=t.pending,n===null?(i.next=t.pending=i,Rh(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Rh(e,t){var n=t.action,o=t.payload,s=e.state;if(t.isTransition){var i=ke.T,l={};ke.T=l;try{var u=n(s,o),p=ke.S;p!==null&&p(l,u),lf(e,t,u)}catch(v){Fd(e,t,v)}finally{i!==null&&l.types!==null&&(i.types=l.types),ke.T=i}}else try{i=n(s,o),lf(e,t,i)}catch(v){Fd(e,t,v)}}function lf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(o){rf(e,t,o)},function(o){return Fd(e,t,o)}):rf(e,t,n)}function rf(e,t,n){t.status="fulfilled",t.value=n,Bh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Rh(e,n)))}function Fd(e,t,n){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=n,Bh(t),t=t.next;while(t!==o)}e.action=null}function Bh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _h(e,t){return t}function cf(e,t){if(qe){var n=pt.formState;if(n!==null){e:{var o=Re;if(qe){if(bt){t:{for(var s=bt,i=Xo;s.nodeType!==8;){if(!i){s=null;break t}if(s=Po(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){bt=Po(s.nextSibling),o=s.data==="F!";break e}}Rs(o)}o=!1}o&&(t=n[0])}}return n=Rn(),n.memoizedState=n.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_h,lastRenderedState:t},n.queue=o,n=$h.bind(null,Re,o),o.dispatch=n,o=_d(!1),i=Yp.bind(null,Re,!1,o.queue),o=Rn(),s={state:t,dispatch:null,action:e,pending:null},o.queue=s,n=Xb.bind(null,Re,s,i,n),s.dispatch=n,o.memoizedState=e,[t,n,!1]}function uf(e){var t=qt();return Fh(t,ut,e)}function Fh(e,t,n){if(t=Hp(e,t,_h)[0],e=dc(ts)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Dr(t)}catch(l){throw l===bl?au:l}else o=t;t=qt();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(Re.flags|=2048,cl(9,{destroy:void 0},Qb.bind(null,s,n),null)),[o,i,e]}function Qb(e,t){e.action=t}function df(e){var t=qt(),n=ut;if(n!==null)return Fh(t,n,e);qt(),t=t.memoizedState,n=qt();var o=n.queue.dispatch;return n.memoizedState=e,[t,o,!1]}function cl(e,t,n,o){return e={tag:e,create:n,deps:o,inst:t,next:null},t=Re.updateQueue,t===null&&(t=su(),Re.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function Hh(){return qt().memoizedState}function pc(e,t,n,o){var s=Rn();Re.flags|=e,s.memoizedState=cl(1|t,{destroy:void 0},n,o===void 0?null:o)}function lu(e,t,n,o){var s=qt();o=o===void 0?null:o;var i=s.memoizedState.inst;ut!==null&&o!==null&&Op(o,ut.memoizedState.deps)?s.memoizedState=cl(t,i,n,o):(Re.flags|=e,s.memoizedState=cl(1|t,i,n,o))}function pf(e,t){pc(8390656,8,e,t)}function Lp(e,t){lu(2048,8,e,t)}function Pb(e){Re.flags|=4;var t=Re.updateQueue;if(t===null)t=su(),Re.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Lh(e){var t=qt().memoizedState;return Pb({ref:t,nextImpl:e}),function(){if(nt&2)throw Error(F(440));return t.impl.apply(void 0,arguments)}}function Uh(e,t){return lu(4,2,e,t)}function Gh(e,t){return lu(4,4,e,t)}function qh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yh(e,t,n){n=n!=null?n.concat([e]):null,lu(4,4,qh.bind(null,t,e),n)}function Up(){}function Wh(e,t){var n=qt();t=t===void 0?null:t;var o=n.memoizedState;return t!==null&&Op(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Xh(e,t){var n=qt();t=t===void 0?null:t;var o=n.memoizedState;if(t!==null&&Op(t,o[1]))return o[0];if(o=e(),di){vs(!0);try{e()}finally{vs(!1)}}return n.memoizedState=[o,t],o}function Gp(e,t,n){return n===void 0||es&1073741824&&!(Ue&261930)?e.memoizedState=t:(e.memoizedState=n,e=Ex(),Re.lanes|=e,_s|=e,n)}function Qh(e,t,n,o){return Io(n,t)?n:rl.current!==null?(e=Gp(e,n,o),Io(e,t)||(Pt=!0),e):!(es&42)||es&1073741824&&!(Ue&261930)?(Pt=!0,e.memoizedState=n):(e=Ex(),Re.lanes|=e,_s|=e,t)}function Ph(e,t,n,o,s){var i=ot.p;ot.p=i!==0&&8>i?i:8;var l=ke.T,u={};ke.T=u,Yp(e,!1,t,n);try{var p=s(),v=ke.S;if(v!==null&&v(u,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var M=qb(p,o);ar(e,t,M,Ao(e))}else ar(e,t,o,Ao(e))}catch(j){ar(e,t,{then:function(){},status:"rejected",reason:j},Ao())}finally{ot.p=i,l!==null&&u.types!==null&&(l.types=u.types),ke.T=l}}function Jb(){}function Hd(e,t,n,o){if(e.tag!==5)throw Error(F(476));var s=Jh(e).queue;Ph(e,s,t,oi,n===null?Jb:function(){return Vh(e),n(o)})}function Jh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oi,baseState:oi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:oi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vh(e){var t=Jh(e);t.next===null&&(t=e.alternate.memoizedState),ar(e,t.next.queue,{},Ao())}function qp(){return hn(Sr)}function Zh(){return qt().memoizedState}function Kh(){return qt().memoizedState}function Vb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ao();e=As(n);var o=Is(t,e,n);o!==null&&(to(o,t,n),tr(o,t,n)),t={cache:Ip()},e.payload=t;return}t=t.return}}function Zb(e,t,n){var o=Ao();n={lane:o,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e)?ex(t,n):(n=Cp(e,t,n,o),n!==null&&(to(n,e,o),tx(n,t,o)))}function $h(e,t,n){var o=Ao();ar(e,t,n,o)}function ar(e,t,n,o){var s={lane:o,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))ex(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,u=i(l,n);if(s.hasEagerState=!0,s.eagerState=u,Io(u,l))return ou(e,t,s,0),pt===null&&nu(),!1}catch{}finally{}if(n=Cp(e,t,s,o),n!==null)return to(n,e,o),tx(n,t,o),!0}return!1}function Yp(e,t,n,o){if(o={lane:2,revertLane:$p(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ru(e)){if(t)throw Error(F(479))}else t=Cp(e,n,o,2),t!==null&&to(t,e,2)}function ru(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function ex(e,t){nl=Nc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tx(e,t,n){if(n&4194048){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,L0(e,n)}}var yr={readContext:hn,use:iu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};yr.useEffectEvent=_t;var nx={readContext:hn,use:iu,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:hn,useEffect:pf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,pc(4194308,4,qh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pc(4194308,4,e,t)},useInsertionEffect:function(e,t){pc(4,2,e,t)},useMemo:function(e,t){var n=Rn();t=t===void 0?null:t;var o=e();if(di){vs(!0);try{e()}finally{vs(!1)}}return n.memoizedState=[o,t],o},useReducer:function(e,t,n){var o=Rn();if(n!==void 0){var s=n(t);if(di){vs(!0);try{n(t)}finally{vs(!1)}}}else s=t;return o.memoizedState=o.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},o.queue=e,e=e.dispatch=Zb.bind(null,Re,e),[o.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:function(e){e=_d(e);var t=e.queue,n=$h.bind(null,Re,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Up,useDeferredValue:function(e,t){var n=Rn();return Gp(n,e,t)},useTransition:function(){var e=_d(!1);return e=Ph.bind(null,Re,e.queue,!0,!1),Rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=Re,s=Rn();if(qe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),pt===null)throw Error(F(349));Ue&127||Mh(o,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,pf(Dh.bind(null,o,i,e),[e]),o.flags|=2048,cl(9,{destroy:void 0},zh.bind(null,o,i,n,t),null),n},useId:function(){var e=Rn(),t=pt.identifierPrefix;if(qe){var n=wa,o=Ta;n=(o&~(1<<32-ko(o)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Oc++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Yb++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qp,useFormState:cf,useActionState:cf,useOptimistic:function(e){var t=Rn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Yp.bind(null,Re,!0,n),n.dispatch=t,[e,t]},useMemoCache:Fp,useCacheRefresh:function(){return Rn().memoizedState=Vb.bind(null,Re)},useEffectEvent:function(e){var t=Rn(),n={impl:e};return t.memoizedState=n,function(){if(nt&2)throw Error(F(440));return n.impl.apply(void 0,arguments)}}},Wp={readContext:hn,use:iu,useCallback:Wh,useContext:hn,useEffect:Lp,useImperativeHandle:Yh,useInsertionEffect:Uh,useLayoutEffect:Gh,useMemo:Xh,useReducer:dc,useRef:Hh,useState:function(){return dc(ts)},useDebugValue:Up,useDeferredValue:function(e,t){var n=qt();return Qh(n,ut.memoizedState,e,t)},useTransition:function(){var e=dc(ts)[0],t=qt().memoizedState;return[typeof e=="boolean"?e:Dr(e),t]},useSyncExternalStore:Ih,useId:Zh,useHostTransitionStatus:qp,useFormState:uf,useActionState:uf,useOptimistic:function(e,t){var n=qt();return Eh(n,ut,e,t)},useMemoCache:Fp,useCacheRefresh:Kh};Wp.useEffectEvent=Lh;var ox={readContext:hn,use:iu,useCallback:Wh,useContext:hn,useEffect:Lp,useImperativeHandle:Yh,useInsertionEffect:Uh,useLayoutEffect:Gh,useMemo:Xh,useReducer:Fu,useRef:Hh,useState:function(){return Fu(ts)},useDebugValue:Up,useDeferredValue:function(e,t){var n=qt();return ut===null?Gp(n,e,t):Qh(n,ut.memoizedState,e,t)},useTransition:function(){var e=Fu(ts)[0],t=qt().memoizedState;return[typeof e=="boolean"?e:Dr(e),t]},useSyncExternalStore:Ih,useId:Zh,useHostTransitionStatus:qp,useFormState:df,useActionState:df,useOptimistic:function(e,t){var n=qt();return ut!==null?Eh(n,ut,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Fp,useCacheRefresh:Kh};ox.useEffectEvent=Lh;function Hu(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:St({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ld={enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Ao(),s=As(o);s.payload=t,n!=null&&(s.callback=n),t=Is(e,s,o),t!==null&&(to(t,e,o),tr(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Ao(),s=As(o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Is(e,s,o),t!==null&&(to(t,e,o),tr(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ao(),o=As(n);o.tag=2,t!=null&&(o.callback=t),t=Is(e,o,n),t!==null&&(to(t,e,n),tr(t,e,n))}};function gf(e,t,n,o,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,l):t.prototype&&t.prototype.isPureReactComponent?!gr(n,o)||!gr(s,i):!0}function ff(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Ld.enqueueReplaceState(t,t.state,null)}function pi(e,t){var n=t;if("ref"in t){n={};for(var o in t)o!=="ref"&&(n[o]=t[o])}if(e=e.defaultProps){n===t&&(n=St({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function ax(e){jc(e)}function sx(e){console.error(e)}function ix(e){jc(e)}function Ec(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function hf(e,t,n){try{var o=e.onCaughtError;o(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Ud(e,t,n){return n=As(n),n.tag=3,n.payload={element:null},n.callback=function(){Ec(e,t)},n}function lx(e){return e=As(e),e.tag=3,e}function rx(e,t,n,o){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=o.value;e.payload=function(){return s(i)},e.callback=function(){hf(t,n,o)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){hf(t,n,o),typeof s!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var u=o.stack;this.componentDidCatch(o.value,{componentStack:u!==null?u:""})})}function Kb(e,t,n,o,s){if(n.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=n.alternate,t!==null&&yl(t,n,s,!0),n=Mo.current,n!==null){switch(n.tag){case 31:case 13:return Qo===null?Hc():n.alternate===null&&Ft===0&&(Ft=3),n.flags&=-257,n.flags|=65536,n.lanes=s,o===Mc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([o]):t.add(o),Vu(e,o,s)),!1;case 22:return n.flags|=65536,o===Mc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([o]):n.add(o)),Vu(e,o,s)),!1}throw Error(F(435,n.tag))}return Vu(e,o,s),Hc(),!1}if(qe)return t=Mo.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,o!==Id&&(e=Error(F(422),{cause:o}),hr(Wo(e,n)))):(o!==Id&&(t=Error(F(423),{cause:o}),hr(Wo(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,o=Wo(o,n),s=Ud(e.stateNode,o,s),_u(e,s),Ft!==4&&(Ft=2)),!1;var i=Error(F(520),{cause:o});if(i=Wo(i,n),lr===null?lr=[i]:lr.push(i),Ft!==4&&(Ft=2),t===null)return!0;o=Wo(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Ud(n.stateNode,o,e),_u(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ms===null||!Ms.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=lx(s),rx(s,e,n,o),_u(n,s),!1}n=n.return}while(n!==null);return!1}var Xp=Error(F(461)),Pt=!1;function pn(e,t,n,o){t.child=e===null?Th(t,null,n,o):ui(t,e.child,n,o)}function xf(e,t,n,o,s){n=n.render;var i=t.ref;if("ref"in o){var l={};for(var u in o)u!=="ref"&&(l[u]=o[u])}else l=o;return ci(t),o=Ep(e,t,n,l,i,s),u=Rp(),e!==null&&!Pt?(Bp(e,t,s),ns(e,t,s)):(qe&&u&&kp(t),t.flags|=1,pn(e,t,o,s),t.child)}function mf(e,t,n,o,s){if(e===null){var i=n.type;return typeof i=="function"&&!jp(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,cx(e,t,i,o,s)):(e=cc(n.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Qp(e,s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:gr,n(l,o)&&e.ref===t.ref)return ns(e,t,s)}return t.flags|=1,e=Va(i,o),e.ref=t.ref,e.return=t,t.child=e}function cx(e,t,n,o,s){if(e!==null){var i=e.memoizedProps;if(gr(i,o)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=o=i,Qp(e,s))e.flags&131072&&(Pt=!0);else return t.lanes=e.lanes,ns(e,t,s)}return Gd(e,t,n,o,s)}function ux(e,t,n,o){var s=o.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(o=t.child=e.child,s=0;o!==null;)s=s|o.lanes|o.childLanes,o=o.sibling;o=s&~i}else o=0,t.child=null;return yf(e,t,i,n,o)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&uc(t,i!==null?i.cachePool:null),i!==null?sf(t,i):Rd(),jh(t);else return o=t.lanes=536870912,yf(e,t,i!==null?i.baseLanes|n:n,n,o)}else i!==null?(uc(t,i.cachePool),sf(t,i),ys(),t.memoizedState=null):(e!==null&&uc(t,null),Rd(),ys());return pn(e,t,s,n),t.child}function Pl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function yf(e,t,n,o,s){var i=Mp();return i=i===null?null:{parent:Qt._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&uc(t,null),Rd(),jh(t),e!==null&&yl(e,t,o,!0),t.childLanes=s,null}function gc(e,t){return t=Rc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bf(e,t,n){return ui(t,e.child,null,n),e=gc(t,t.pendingProps),e.flags|=2,So(t),t.memoizedState=null,e}function $b(e,t,n){var o=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(qe){if(o.mode==="hidden")return e=gc(t,o),t.lanes=536870912,Pl(null,e);if(Bd(t),(e=bt)?(e=nm(e,Xo),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Es!==null?{id:Ta,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},n=hh(e),n.return=t,t.child=n,fn=t,bt=null)):e=null,e===null)throw Rs(t);return t.lanes=536870912,null}return gc(t,o)}var i=e.memoizedState;if(i!==null){var l=i.dehydrated;if(Bd(t),s)if(t.flags&256)t.flags&=-257,t=bf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(F(558));else if(Pt||yl(e,t,n,!1),s=(n&e.childLanes)!==0,Pt||s){if(o=pt,o!==null&&(l=U0(o,n),l!==0&&l!==i.retryLane))throw i.retryLane=l,xi(e,l),to(o,e,l),Xp;Hc(),t=bf(e,t,n)}else e=i.treeContext,bt=Po(l.nextSibling),fn=t,qe=!0,ks=null,Xo=!1,e!==null&&mh(t,e),t=gc(t,o),t.flags|=4096;return t}return e=Va(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function fc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(F(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Gd(e,t,n,o,s){return ci(t),n=Ep(e,t,n,o,void 0,s),o=Rp(),e!==null&&!Pt?(Bp(e,t,s),ns(e,t,s)):(qe&&o&&kp(t),t.flags|=1,pn(e,t,n,s),t.child)}function vf(e,t,n,o,s,i){return ci(t),t.updateQueue=null,n=Ah(t,o,n,s),kh(e),o=Rp(),e!==null&&!Pt?(Bp(e,t,i),ns(e,t,i)):(qe&&o&&kp(t),t.flags|=1,pn(e,t,n,i),t.child)}function Sf(e,t,n,o,s){if(ci(t),t.stateNode===null){var i=Qi,l=n.contextType;typeof l=="object"&&l!==null&&(i=hn(l)),i=new n(o,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ld,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=o,i.state=t.memoizedState,i.refs={},Dp(t),l=n.contextType,i.context=typeof l=="object"&&l!==null?hn(l):Qi,i.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(Hu(t,n,l,o),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(l=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),l!==i.state&&Ld.enqueueReplaceState(i,i.state,null),or(t,o,i,s),nr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){i=t.stateNode;var u=t.memoizedProps,p=pi(n,u);i.props=p;var v=i.context,M=n.contextType;l=Qi,typeof M=="object"&&M!==null&&(l=hn(M));var j=n.getDerivedStateFromProps;M=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,M||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||v!==l)&&ff(t,i,o,l),hs=!1;var b=t.memoizedState;i.state=b,or(t,o,i,s),nr(),v=t.memoizedState,u||b!==v||hs?(typeof j=="function"&&(Hu(t,n,j,o),v=t.memoizedState),(p=hs||gf(t,n,p,o,b,v,l))?(M||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=v),i.props=o,i.state=v,i.context=l,o=p):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{i=t.stateNode,Od(e,t),l=t.memoizedProps,M=pi(n,l),i.props=M,j=t.pendingProps,b=i.context,v=n.contextType,p=Qi,typeof v=="object"&&v!==null&&(p=hn(v)),u=n.getDerivedStateFromProps,(v=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==j||b!==p)&&ff(t,i,o,p),hs=!1,b=t.memoizedState,i.state=b,or(t,o,i,s),nr();var m=t.memoizedState;l!==j||b!==m||hs||e!==null&&e.dependencies!==null&&Ic(e.dependencies)?(typeof u=="function"&&(Hu(t,n,u,o),m=t.memoizedState),(M=hs||gf(t,n,M,o,b,m,p)||e!==null&&e.dependencies!==null&&Ic(e.dependencies))?(v||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(o,m,p),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(o,m,p)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=m),i.props=o,i.state=m,i.context=p,o=M):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),o=!1)}return i=o,fc(e,t),o=(t.flags&128)!==0,i||o?(i=t.stateNode,n=o&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&o?(t.child=ui(t,e.child,null,s),t.child=ui(t,null,n,s)):pn(e,t,n,s),t.memoizedState=i.state,e=t.child):e=ns(e,t,s),e}function Tf(e,t,n,o){return ri(),t.flags|=256,pn(e,t,n,o),t.child}var Lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uu(e){return{baseLanes:e,cachePool:bh()}}function Gu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=wo),e}function dx(e,t,n){var o=t.pendingProps,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(Gt.current&2)!==0),l&&(s=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(s?ms(t):ys(),(e=bt)?(e=nm(e,Xo),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Es!==null?{id:Ta,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},n=hh(e),n.return=t,t.child=n,fn=t,bt=null)):e=null,e===null)throw Rs(t);return np(e)?t.lanes=32:t.lanes=536870912,null}var u=o.children;return o=o.fallback,s?(ys(),s=t.mode,u=Rc({mode:"hidden",children:u},s),o=ai(o,s,n,null),u.return=t,o.return=t,u.sibling=o,t.child=u,o=t.child,o.memoizedState=Uu(n),o.childLanes=Gu(e,l,n),t.memoizedState=Lu,Pl(null,o)):(ms(t),qd(t,u))}var p=e.memoizedState;if(p!==null&&(u=p.dehydrated,u!==null)){if(i)t.flags&256?(ms(t),t.flags&=-257,t=qu(e,t,n)):t.memoizedState!==null?(ys(),t.child=e.child,t.flags|=128,t=null):(ys(),u=o.fallback,s=t.mode,o=Rc({mode:"visible",children:o.children},s),u=ai(u,s,n,null),u.flags|=2,o.return=t,u.return=t,o.sibling=u,t.child=o,ui(t,e.child,null,n),o=t.child,o.memoizedState=Uu(n),o.childLanes=Gu(e,l,n),t.memoizedState=Lu,t=Pl(null,o));else if(ms(t),np(u)){if(l=u.nextSibling&&u.nextSibling.dataset,l)var v=l.dgst;l=v,o=Error(F(419)),o.stack="",o.digest=l,hr({value:o,source:null,stack:null}),t=qu(e,t,n)}else if(Pt||yl(e,t,n,!1),l=(n&e.childLanes)!==0,Pt||l){if(l=pt,l!==null&&(o=U0(l,n),o!==0&&o!==p.retryLane))throw p.retryLane=o,xi(e,o),to(l,e,o),Xp;tp(u)||Hc(),t=qu(e,t,n)}else tp(u)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,bt=Po(u.nextSibling),fn=t,qe=!0,ks=null,Xo=!1,e!==null&&mh(t,e),t=qd(t,o.children),t.flags|=4096);return t}return s?(ys(),u=o.fallback,s=t.mode,p=e.child,v=p.sibling,o=Va(p,{mode:"hidden",children:o.children}),o.subtreeFlags=p.subtreeFlags&65011712,v!==null?u=Va(v,u):(u=ai(u,s,n,null),u.flags|=2),u.return=t,o.return=t,o.sibling=u,t.child=o,Pl(null,o),o=t.child,u=e.child.memoizedState,u===null?u=Uu(n):(s=u.cachePool,s!==null?(p=Qt._currentValue,s=s.parent!==p?{parent:p,pool:p}:s):s=bh(),u={baseLanes:u.baseLanes|n,cachePool:s}),o.memoizedState=u,o.childLanes=Gu(e,l,n),t.memoizedState=Lu,Pl(e.child,o)):(ms(t),n=e.child,e=n.sibling,n=Va(n,{mode:"visible",children:o.children}),n.return=t,n.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function qd(e,t){return t=Rc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Rc(e,t){return e=To(22,e,null,t),e.lanes=0,e}function qu(e,t,n){return ui(t,e.child,null,n),e=qd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wf(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),zd(e.return,t,n)}function Yu(e,t,n,o,s,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:s,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=o,l.tail=n,l.tailMode=s,l.treeForkCount=i)}function px(e,t,n){var o=t.pendingProps,s=o.revealOrder,i=o.tail;o=o.children;var l=Gt.current,u=(l&2)!==0;if(u?(l=l&1|2,t.flags|=128):l&=1,ht(Gt,l),pn(e,t,o,n),o=qe?fr:0,!u&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wf(e,n,t);else if(e.tag===19)wf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Dc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yu(t,!1,s,n,i,o);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Dc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yu(t,!0,n,null,i,o);break;case"together":Yu(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_s|=t.lanes,!(n&t.childLanes))if(e!==null){if(yl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Va(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Va(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qp(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ic(e)))}function e1(e,t,n){switch(t.tag){case 3:Sc(t,t.stateNode.containerInfo),xs(t,Qt,e.memoizedState.cache),ri();break;case 27:case 5:md(t);break;case 4:Sc(t,t.stateNode.containerInfo);break;case 10:xs(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bd(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(ms(t),t.flags|=128,null):n&t.child.childLanes?dx(e,t,n):(ms(t),e=ns(e,t,n),e!==null?e.sibling:null);ms(t);break;case 19:var s=(e.flags&128)!==0;if(o=(n&t.childLanes)!==0,o||(yl(e,t,n,!1),o=(n&t.childLanes)!==0),s){if(o)return px(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ht(Gt,Gt.current),o)break;return null;case 22:return t.lanes=0,ux(e,t,n,t.pendingProps);case 24:xs(t,Qt,e.memoizedState.cache)}return ns(e,t,n)}function gx(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pt=!0;else{if(!Qp(e,n)&&!(t.flags&128))return Pt=!1,e1(e,t,n);Pt=!!(e.flags&131072)}else Pt=!1,qe&&t.flags&1048576&&xh(t,fr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=ti(t.elementType),t.type=e,typeof e=="function")jp(e)?(o=pi(e,o),t.tag=1,t=Sf(null,t,e,o,n)):(t.tag=0,t=Gd(null,t,e,o,n));else{if(e!=null){var s=e.$$typeof;if(s===dp){t.tag=11,t=xf(null,t,e,o,n);break e}else if(s===pp){t.tag=14,t=mf(null,t,e,o,n);break e}}throw t=hd(e)||e,Error(F(306,t,""))}}return t;case 0:return Gd(e,t,t.type,t.pendingProps,n);case 1:return o=t.type,s=pi(o,t.pendingProps),Sf(e,t,o,s,n);case 3:e:{if(Sc(t,t.stateNode.containerInfo),e===null)throw Error(F(387));o=t.pendingProps;var i=t.memoizedState;s=i.element,Od(e,t),or(t,o,null,n);var l=t.memoizedState;if(o=l.cache,xs(t,Qt,o),o!==i.cache&&Dd(t,[Qt],n,!0),nr(),o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Tf(e,t,o,n);break e}else if(o!==s){s=Wo(Error(F(424)),t),hr(s),t=Tf(e,t,o,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(bt=Po(e.firstChild),fn=t,qe=!0,ks=null,Xo=!0,n=Th(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ri(),o===s){t=ns(e,t,n);break e}pn(e,t,o,n)}t=t.child}return t;case 26:return fc(e,t),e===null?(n=qf(t.type,null,t.pendingProps,null))?t.memoizedState=n:qe||(n=t.type,e=t.pendingProps,o=qc(js.current).createElement(n),o[gn]=t,o[no]=e,xn(o,n,e),ln(o),t.stateNode=o):t.memoizedState=qf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return md(t),e===null&&qe&&(o=t.stateNode=om(t.type,t.pendingProps,js.current),fn=t,Xo=!0,s=bt,Hs(t.type)?(op=s,bt=Po(o.firstChild)):bt=s),pn(e,t,t.pendingProps.children,n),fc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&qe&&((s=o=bt)&&(o=z1(o,t.type,t.pendingProps,Xo),o!==null?(t.stateNode=o,fn=t,bt=Po(o.firstChild),Xo=!1,s=!0):s=!1),s||Rs(t)),md(t),s=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,o=i.children,$d(s,i)?o=null:l!==null&&$d(s,l)&&(t.flags|=32),t.memoizedState!==null&&(s=Ep(e,t,Wb,null,null,n),Sr._currentValue=s),fc(e,t),pn(e,t,o,n),t.child;case 6:return e===null&&qe&&((e=n=bt)&&(n=D1(n,t.pendingProps,Xo),n!==null?(t.stateNode=n,fn=t,bt=null,e=!0):e=!1),e||Rs(t)),null;case 13:return dx(e,t,n);case 4:return Sc(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=ui(t,null,o,n):pn(e,t,o,n),t.child;case 11:return xf(e,t,t.type,t.pendingProps,n);case 7:return pn(e,t,t.pendingProps,n),t.child;case 8:return pn(e,t,t.pendingProps.children,n),t.child;case 12:return pn(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,xs(t,t.type,o.value),pn(e,t,o.children,n),t.child;case 9:return s=t.type._context,o=t.pendingProps.children,ci(t),s=hn(s),o=o(s),t.flags|=1,pn(e,t,o,n),t.child;case 14:return mf(e,t,t.type,t.pendingProps,n);case 15:return cx(e,t,t.type,t.pendingProps,n);case 19:return px(e,t,n);case 31:return $b(e,t,n);case 22:return ux(e,t,n,t.pendingProps);case 24:return ci(t),o=hn(Qt),e===null?(s=Mp(),s===null&&(s=pt,i=Ip(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:o,cache:s},Dp(t),xs(t,Qt,s)):(e.lanes&n&&(Od(e,t),or(t,null,null,n),nr()),s=e.memoizedState,i=t.memoizedState,s.parent!==o?(s={parent:o,cache:o},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),xs(t,Qt,o)):(o=i.cache,xs(t,Qt,o),o!==s.cache&&Dd(t,[Qt],n,!0))),pn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(F(156,t.tag))}function La(e){e.flags|=4}function Wu(e,t,n,o,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(_x())e.flags|=8192;else throw ii=Mc,zp}else e.flags&=-16777217}function Cf(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!im(t))if(_x())e.flags|=8192;else throw ii=Mc,zp}function Kr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?F0():536870912,e.lanes|=t,ul|=t)}function Rl(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,o|=s.subtreeFlags&65011712,o|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function t1(e,t,n){var o=t.pendingProps;switch(Ap(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return mt(t),null;case 3:return n=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),Za(Qt),al(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ki(t)?La(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bu())),mt(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(La(t),i!==null?(mt(t),Cf(t,i)):(mt(t),Wu(t,s,null,o,n))):i?i!==e.memoizedState?(La(t),mt(t),Cf(t,i)):(mt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&La(t),mt(t),Wu(t,s,e,o,n)),null;case 27:if(Tc(t),n=js.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&La(t);else{if(!o){if(t.stateNode===null)throw Error(F(166));return mt(t),null}e=ja.current,ki(t)?Kg(t):(e=om(s,o,n),t.stateNode=e,La(t))}return mt(t),null;case 5:if(Tc(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&La(t);else{if(!o){if(t.stateNode===null)throw Error(F(166));return mt(t),null}if(i=ja.current,ki(t))Kg(t);else{var l=qc(js.current);switch(i){case 1:i=l.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=l.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=l.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=l.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=l.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof o.is=="string"?l.createElement("select",{is:o.is}):l.createElement("select"),o.multiple?i.multiple=!0:o.size&&(i.size=o.size);break;default:i=typeof o.is=="string"?l.createElement(s,{is:o.is}):l.createElement(s)}}i[gn]=t,i[no]=o;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=i;e:switch(xn(i,s,o),s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&La(t)}}return mt(t),Wu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&La(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(F(166));if(e=js.current,ki(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,s=fn,s!==null)switch(s.tag){case 27:case 5:o=s.memoizedProps}e[gn]=t,e=!!(e.nodeValue===n||o!==null&&o.suppressHydrationWarning===!0||$x(e.nodeValue,n)),e||Rs(t,!0)}else e=qc(e).createTextNode(o),e[gn]=t,t.stateNode=e}return mt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(o=ki(t),n!==null){if(e===null){if(!o)throw Error(F(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(557));e[gn]=t}else ri(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),e=!1}else n=Bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(So(t),t):(So(t),null);if(t.flags&128)throw Error(F(558))}return mt(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ki(t),o!==null&&o.dehydrated!==null){if(e===null){if(!s)throw Error(F(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[gn]=t}else ri(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),s=!1}else s=Bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(So(t),t):(So(t),null)}return So(t),t.flags&128?(t.lanes=n,t):(n=o!==null,e=e!==null&&e.memoizedState!==null,n&&(o=t.child,s=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(s=o.alternate.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==s&&(o.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kr(t,t.updateQueue),mt(t),null);case 4:return al(),e===null&&eg(t.stateNode.containerInfo),mt(t),null;case 10:return Za(t.type),mt(t),null;case 19:if(rn(Gt),o=t.memoizedState,o===null)return mt(t),null;if(s=(t.flags&128)!==0,i=o.rendering,i===null)if(s)Rl(o,!1);else{if(Ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Dc(e),i!==null){for(t.flags|=128,Rl(o,!1),e=i.updateQueue,t.updateQueue=e,Kr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)fh(n,e),n=n.sibling;return ht(Gt,Gt.current&1|2),qe&&Ya(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&Co()>_c&&(t.flags|=128,s=!0,Rl(o,!1),t.lanes=4194304)}else{if(!s)if(e=Dc(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Kr(t,e),Rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!qe)return mt(t),null}else 2*Co()-o.renderingStartTime>_c&&n!==536870912&&(t.flags|=128,s=!0,Rl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(e=o.last,e!==null?e.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Co(),e.sibling=null,n=Gt.current,ht(Gt,s?n&1|2:n&1),qe&&Ya(t,o.treeForkCount),e):(mt(t),null);case 22:case 23:return So(t),Np(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?n&536870912&&!(t.flags&128)&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),n=t.updateQueue,n!==null&&Kr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),e!==null&&rn(si),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Za(Qt),mt(t),null;case 25:return null;case 30:return null}throw Error(F(156,t.tag))}function n1(e,t){switch(Ap(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Za(Qt),al(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Tc(t),null;case 31:if(t.memoizedState!==null){if(So(t),t.alternate===null)throw Error(F(340));ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(So(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rn(Gt),null;case 4:return al(),null;case 10:return Za(t.type),null;case 22:case 23:return So(t),Np(),e!==null&&rn(si),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Za(Qt),null;case 25:return null;default:return null}}function fx(e,t){switch(Ap(t),t.tag){case 3:Za(Qt),al();break;case 26:case 27:case 5:Tc(t);break;case 4:al();break;case 31:t.memoizedState!==null&&So(t);break;case 13:So(t);break;case 19:rn(Gt);break;case 10:Za(t.type);break;case 22:case 23:So(t),Np(),e!==null&&rn(si);break;case 24:Za(Qt)}}function Nr(e,t){try{var n=t.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var s=o.next;n=s;do{if((n.tag&e)===e){o=void 0;var i=n.create,l=n.inst;o=i(),l.destroy=o}n=n.next}while(n!==s)}}catch(u){it(t,t.return,u)}}function Bs(e,t,n){try{var o=t.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var i=s.next;o=i;do{if((o.tag&e)===e){var l=o.inst,u=l.destroy;if(u!==void 0){l.destroy=void 0,s=t;var p=n,v=u;try{v()}catch(M){it(s,p,M)}}}o=o.next}while(o!==i)}}catch(M){it(t,t.return,M)}}function hx(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ch(t,n)}catch(o){it(e,e.return,o)}}}function xx(e,t,n){n.props=pi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(o){it(e,t,o)}}function sr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof n=="function"?e.refCleanup=n(o):n.current=o}}catch(s){it(e,t,s)}}function Ca(e,t){var n=e.ref,o=e.refCleanup;if(n!==null)if(typeof o=="function")try{o()}catch(s){it(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){it(e,t,s)}else n.current=null}function mx(e){var t=e.type,n=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break e;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(s){it(e,e.return,s)}}function Xu(e,t,n){try{var o=e.stateNode;C1(o,e.type,n,t),o[no]=t}catch(s){it(e,e.return,s)}}function yx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hs(e.type)||e.tag===4}function Qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yd(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pa));else if(o!==4&&(o===27&&Hs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Yd(e,t,n),e=e.sibling;e!==null;)Yd(e,t,n),e=e.sibling}function Bc(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(o===27&&Hs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Bc(e,t,n),e=e.sibling;e!==null;)Bc(e,t,n),e=e.sibling}function bx(e){var t=e.stateNode,n=e.memoizedProps;try{for(var o=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);xn(t,o,n),t[gn]=e,t[no]=n}catch(i){it(e,e.return,i)}}var Xa=!1,Xt=!1,Pu=!1,jf=typeof WeakSet=="function"?WeakSet:Set,sn=null;function o1(e,t){if(e=e.containerInfo,Zd=Qc,e=ih(e),Tp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var s=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,p=-1,v=0,M=0,j=e,b=null;t:for(;;){for(var m;j!==n||s!==0&&j.nodeType!==3||(u=l+s),j!==i||o!==0&&j.nodeType!==3||(p=l+o),j.nodeType===3&&(l+=j.nodeValue.length),(m=j.firstChild)!==null;)b=j,j=m;for(;;){if(j===e)break t;if(b===n&&++v===s&&(u=l),b===i&&++M===o&&(p=l),(m=j.nextSibling)!==null)break;j=b,b=j.parentNode}j=m}n=u===-1||p===-1?null:{start:u,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kd={focusedElem:e,selectionRange:n},Qc=!1,sn=t;sn!==null;)if(t=sn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,sn=e;else for(;sn!==null;){switch(t=sn,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,o=n.stateNode;try{var E=pi(n.type,s);e=o.getSnapshotBeforeUpdate(E,i),o.__reactInternalSnapshotBeforeUpdate=e}catch(L){it(n,n.return,L)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ep(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ep(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(F(163))}if(e=t.sibling,e!==null){e.return=t.return,sn=e;break}sn=t.return}}function vx(e,t,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:Ga(e,n),o&4&&Nr(5,n);break;case 1:if(Ga(e,n),o&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(l){it(n,n.return,l)}else{var s=pi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){it(n,n.return,l)}}o&64&&hx(n),o&512&&sr(n,n.return);break;case 3:if(Ga(e,n),o&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ch(e,t)}catch(l){it(n,n.return,l)}}break;case 27:t===null&&o&4&&bx(n);case 26:case 5:Ga(e,n),t===null&&o&4&&mx(n),o&512&&sr(n,n.return);break;case 12:Ga(e,n);break;case 31:Ga(e,n),o&4&&wx(e,n);break;case 13:Ga(e,n),o&4&&Cx(e,n),o&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=p1.bind(null,n),N1(e,n))));break;case 22:if(o=n.memoizedState!==null||Xa,!o){t=t!==null&&t.memoizedState!==null||Xt,s=Xa;var i=Xt;Xa=o,(Xt=t)&&!i?qa(e,n,(n.subtreeFlags&8772)!==0):Ga(e,n),Xa=s,Xt=i}break;case 30:break;default:Ga(e,n)}}function Sx(e){var t=e.alternate;t!==null&&(e.alternate=null,Sx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var At=null,$n=!1;function Ua(e,t,n){for(n=n.child;n!==null;)Tx(e,t,n),n=n.sibling}function Tx(e,t,n){if(jo&&typeof jo.onCommitFiberUnmount=="function")try{jo.onCommitFiberUnmount(jr,n)}catch{}switch(n.tag){case 26:Xt||Ca(n,t),Ua(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xt||Ca(n,t);var o=At,s=$n;Hs(n.type)&&(At=n.stateNode,$n=!1),Ua(e,t,n),cr(n.stateNode),At=o,$n=s;break;case 5:Xt||Ca(n,t);case 6:if(o=At,s=$n,At=null,Ua(e,t,n),At=o,$n=s,At!==null)if($n)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(n.stateNode)}catch(i){it(n,t,i)}else try{At.removeChild(n.stateNode)}catch(i){it(n,t,i)}break;case 18:At!==null&&($n?(e=At,Ff(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),fl(e)):Ff(At,n.stateNode));break;case 4:o=At,s=$n,At=n.stateNode.containerInfo,$n=!0,Ua(e,t,n),At=o,$n=s;break;case 0:case 11:case 14:case 15:Bs(2,n,t),Xt||Bs(4,n,t),Ua(e,t,n);break;case 1:Xt||(Ca(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"&&xx(n,t,o)),Ua(e,t,n);break;case 21:Ua(e,t,n);break;case 22:Xt=(o=Xt)||n.memoizedState!==null,Ua(e,t,n),Xt=o;break;default:Ua(e,t,n)}}function wx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fl(e)}catch(n){it(t,t.return,n)}}}function Cx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fl(e)}catch(n){it(t,t.return,n)}}function a1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new jf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new jf),t;default:throw Error(F(435,e.tag))}}function $r(e,t){var n=a1(e);t.forEach(function(o){if(!n.has(o)){n.add(o);var s=g1.bind(null,e,o);o.then(s,s)}})}function Jn(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var s=n[o],i=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 27:if(Hs(u.type)){At=u.stateNode,$n=!1;break e}break;case 5:At=u.stateNode,$n=!1;break e;case 3:case 4:At=u.stateNode.containerInfo,$n=!0;break e}u=u.return}if(At===null)throw Error(F(160));Tx(i,l,s),At=null,$n=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)jx(t,e),t=t.sibling}var la=null;function jx(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Jn(t,e),Vn(e),o&4&&(Bs(3,e,e.return),Nr(3,e),Bs(5,e,e.return));break;case 1:Jn(t,e),Vn(e),o&512&&(Xt||n===null||Ca(n,n.return)),o&64&&Xa&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?o:n.concat(o))));break;case 26:var s=la;if(Jn(t,e),Vn(e),o&512&&(Xt||n===null||Ca(n,n.return)),o&4){var i=n!==null?n.memoizedState:null;if(o=e.memoizedState,n===null)if(o===null)if(e.stateNode===null){e:{o=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(o){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Ir]||i[gn]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(o),s.head.insertBefore(i,s.querySelector("head > title"))),xn(i,o,n),i[gn]=e,ln(i),o=i;break e;case"link":var l=Wf("link","href",s).get(o+(n.href||""));if(l){for(var u=0;u<l.length;u++)if(i=l[u],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(u,1);break t}}i=s.createElement(o),xn(i,o,n),s.head.appendChild(i);break;case"meta":if(l=Wf("meta","content",s).get(o+(n.content||""))){for(u=0;u<l.length;u++)if(i=l[u],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(u,1);break t}}i=s.createElement(o),xn(i,o,n),s.head.appendChild(i);break;default:throw Error(F(468,o))}i[gn]=e,ln(i),o=i}e.stateNode=o}else Xf(s,e.type,e.stateNode);else e.stateNode=Yf(s,o,e.memoizedProps);else i!==o?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,o===null?Xf(s,e.type,e.stateNode):Yf(s,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Jn(t,e),Vn(e),o&512&&(Xt||n===null||Ca(n,n.return)),n!==null&&o&4&&Xu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Jn(t,e),Vn(e),o&512&&(Xt||n===null||Ca(n,n.return)),e.flags&32){s=e.stateNode;try{il(s,"")}catch(E){it(e,e.return,E)}}o&4&&e.stateNode!=null&&(s=e.memoizedProps,Xu(e,s,n!==null?n.memoizedProps:s)),o&1024&&(Pu=!0);break;case 6:if(Jn(t,e),Vn(e),o&4){if(e.stateNode===null)throw Error(F(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(E){it(e,e.return,E)}}break;case 3:if(mc=null,s=la,la=Yc(t.containerInfo),Jn(t,e),la=s,Vn(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(t.containerInfo)}catch(E){it(e,e.return,E)}Pu&&(Pu=!1,kx(e));break;case 4:o=la,la=Yc(e.stateNode.containerInfo),Jn(t,e),Vn(e),la=o;break;case 12:Jn(t,e),Vn(e);break;case 31:Jn(t,e),Vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$r(e,o)));break;case 13:Jn(t,e),Vn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(cu=Co()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$r(e,o)));break;case 22:s=e.memoizedState!==null;var p=n!==null&&n.memoizedState!==null,v=Xa,M=Xt;if(Xa=v||s,Xt=M||p,Jn(t,e),Xt=M,Xa=v,Vn(e),o&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||p||Xa||Xt||ni(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){p=n=t;try{if(i=p.stateNode,s)l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{u=p.stateNode;var j=p.memoizedProps.style,b=j!=null&&j.hasOwnProperty("display")?j.display:null;u.style.display=b==null||typeof b=="boolean"?"":(""+b).trim()}}catch(E){it(p,p.return,E)}}}else if(t.tag===6){if(n===null){p=t;try{p.stateNode.nodeValue=s?"":p.memoizedProps}catch(E){it(p,p.return,E)}}}else if(t.tag===18){if(n===null){p=t;try{var m=p.stateNode;s?Hf(m,!0):Hf(p.stateNode,!1)}catch(E){it(p,p.return,E)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(n=o.retryQueue,n!==null&&(o.retryQueue=null,$r(e,n))));break;case 19:Jn(t,e),Vn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$r(e,o)));break;case 30:break;case 21:break;default:Jn(t,e),Vn(e)}}function Vn(e){var t=e.flags;if(t&2){try{for(var n,o=e.return;o!==null;){if(yx(o)){n=o;break}o=o.return}if(n==null)throw Error(F(160));switch(n.tag){case 27:var s=n.stateNode,i=Qu(e);Bc(e,i,s);break;case 5:var l=n.stateNode;n.flags&32&&(il(l,""),n.flags&=-33);var u=Qu(e);Bc(e,u,l);break;case 3:case 4:var p=n.stateNode.containerInfo,v=Qu(e);Yd(e,v,p);break;default:throw Error(F(161))}}catch(M){it(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;kx(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ga(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vx(e,t.alternate,t),t=t.sibling}function ni(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bs(4,t,t.return),ni(t);break;case 1:Ca(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&xx(t,t.return,n),ni(t);break;case 27:cr(t.stateNode);case 26:case 5:Ca(t,t.return),ni(t);break;case 22:t.memoizedState===null&&ni(t);break;case 30:ni(t);break;default:ni(t)}e=e.sibling}}function qa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,s=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:qa(s,i,n),Nr(4,i);break;case 1:if(qa(s,i,n),o=i,s=o.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(v){it(o,o.return,v)}if(o=i,s=o.updateQueue,s!==null){var u=o.stateNode;try{var p=s.shared.hiddenCallbacks;if(p!==null)for(s.shared.hiddenCallbacks=null,s=0;s<p.length;s++)wh(p[s],u)}catch(v){it(o,o.return,v)}}n&&l&64&&hx(i),sr(i,i.return);break;case 27:bx(i);case 26:case 5:qa(s,i,n),n&&o===null&&l&4&&mx(i),sr(i,i.return);break;case 12:qa(s,i,n);break;case 31:qa(s,i,n),n&&l&4&&wx(s,i);break;case 13:qa(s,i,n),n&&l&4&&Cx(s,i);break;case 22:i.memoizedState===null&&qa(s,i,n),sr(i,i.return);break;case 30:break;default:qa(s,i,n)}t=t.sibling}}function Pp(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&zr(n))}function Jp(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zr(e))}function sa(e,t,n,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ax(e,t,n,o),t=t.sibling}function Ax(e,t,n,o){var s=t.flags;switch(t.tag){case 0:case 11:case 15:sa(e,t,n,o),s&2048&&Nr(9,t);break;case 1:sa(e,t,n,o);break;case 3:sa(e,t,n,o),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zr(e)));break;case 12:if(s&2048){sa(e,t,n,o),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,u=i.onPostCommit;typeof u=="function"&&u(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){it(t,t.return,p)}}else sa(e,t,n,o);break;case 31:sa(e,t,n,o);break;case 13:sa(e,t,n,o);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,t.memoizedState!==null?i._visibility&2?sa(e,t,n,o):ir(e,t):i._visibility&2?sa(e,t,n,o):(i._visibility|=2,_i(e,t,n,o,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Pp(l,t);break;case 24:sa(e,t,n,o),s&2048&&Jp(t.alternate,t);break;default:sa(e,t,n,o)}}function _i(e,t,n,o,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,l=t,u=n,p=o,v=l.flags;switch(l.tag){case 0:case 11:case 15:_i(i,l,u,p,s),Nr(8,l);break;case 23:break;case 22:var M=l.stateNode;l.memoizedState!==null?M._visibility&2?_i(i,l,u,p,s):ir(i,l):(M._visibility|=2,_i(i,l,u,p,s)),s&&v&2048&&Pp(l.alternate,l);break;case 24:_i(i,l,u,p,s),s&&v&2048&&Jp(l.alternate,l);break;default:_i(i,l,u,p,s)}t=t.sibling}}function ir(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,o=t,s=o.flags;switch(o.tag){case 22:ir(n,o),s&2048&&Pp(o.alternate,o);break;case 24:ir(n,o),s&2048&&Jp(o.alternate,o);break;default:ir(n,o)}t=t.sibling}}var Jl=8192;function Ai(e,t,n){if(e.subtreeFlags&Jl)for(e=e.child;e!==null;)Ix(e,t,n),e=e.sibling}function Ix(e,t,n){switch(e.tag){case 26:Ai(e,t,n),e.flags&Jl&&e.memoizedState!==null&&Y1(n,la,e.memoizedState,e.memoizedProps);break;case 5:Ai(e,t,n);break;case 3:case 4:var o=la;la=Yc(e.stateNode.containerInfo),Ai(e,t,n),la=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jl,Jl=16777216,Ai(e,t,n),Jl=o):Ai(e,t,n));break;default:Ai(e,t,n)}}function Mx(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var o=t[n];sn=o,Dx(o,e)}Mx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zx(e),e=e.sibling}function zx(e){switch(e.tag){case 0:case 11:case 15:Bl(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:Bl(e);break;case 12:Bl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hc(e)):Bl(e);break;default:Bl(e)}}function hc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var o=t[n];sn=o,Dx(o,e)}Mx(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bs(8,t,t.return),hc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,hc(t));break;default:hc(t)}e=e.sibling}}function Dx(e,t){for(;sn!==null;){var n=sn;switch(n.tag){case 0:case 11:case 15:Bs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var o=n.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zr(n.memoizedState.cache)}if(o=n.child,o!==null)o.return=n,sn=o;else e:for(n=e;sn!==null;){o=sn;var s=o.sibling,i=o.return;if(Sx(o),o===n){sn=null;break e}if(s!==null){s.return=i,sn=s;break e}sn=i}}}var s1={getCacheForType:function(e){var t=hn(Qt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return hn(Qt).controller.signal}},i1=typeof WeakMap=="function"?WeakMap:Map,nt=0,pt=null,Le=null,Ue=0,st=0,vo=null,Ts=!1,vl=!1,Vp=!1,os=0,Ft=0,_s=0,li=0,Zp=0,wo=0,ul=0,lr=null,eo=null,Wd=!1,cu=0,Nx=0,_c=1/0,Fc=null,Ms=null,Zt=0,zs=null,dl=null,Ka=0,Xd=0,Qd=null,Ox=null,rr=0,Pd=null;function Ao(){return nt&2&&Ue!==0?Ue&-Ue:ke.T!==null?$p():G0()}function Ex(){if(wo===0)if(!(Ue&536870912)||qe){var e=Wr;Wr<<=1,!(Wr&3932160)&&(Wr=262144),wo=e}else wo=536870912;return e=Mo.current,e!==null&&(e.flags|=32),wo}function to(e,t,n){(e===pt&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(pl(e,0),ws(e,Ue,wo,!1)),Ar(e,n),(!(nt&2)||e!==pt)&&(e===pt&&(!(nt&2)&&(li|=n),Ft===4&&ws(e,Ue,wo,!1)),Aa(e))}function Rx(e,t,n){if(nt&6)throw Error(F(327));var o=!n&&(t&127)===0&&(t&e.expiredLanes)===0||kr(e,t),s=o?c1(e,t):Ju(e,t,!0),i=o;do{if(s===0){vl&&!o&&ws(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!l1(n)){s=Ju(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var u=e;s=lr;var p=u.current.memoizedState.isDehydrated;if(p&&(pl(u,l).flags|=256),l=Ju(u,l,!1),l!==2){if(Vp&&!p){u.errorRecoveryDisabledLanes|=i,li|=i,s=4;break e}i=eo,eo=s,i!==null&&(eo===null?eo=i:eo.push.apply(eo,i))}s=l}if(i=!1,s!==2)continue}}if(s===1){pl(e,0),ws(e,t,0,!0);break}e:{switch(o=e,i=s,i){case 0:case 1:throw Error(F(345));case 4:if((t&4194048)!==t)break;case 6:ws(o,t,wo,!Ts);break e;case 2:eo=null;break;case 3:case 5:break;default:throw Error(F(329))}if((t&62914560)===t&&(s=cu+300-Co(),10<s)){if(ws(o,t,wo,!Ts),Kc(o,0,!0)!==0)break e;Ka=t,o.timeoutHandle=tm(kf.bind(null,o,n,eo,Fc,Wd,t,wo,li,ul,Ts,i,"Throttled",-0,0),s);break e}kf(o,n,eo,Fc,Wd,t,wo,li,ul,Ts,i,null,-0,0)}}break}while(!0);Aa(e)}function kf(e,t,n,o,s,i,l,u,p,v,M,j,b,m){if(e.timeoutHandle=-1,j=t.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pa},Ix(t,i,j);var E=(i&62914560)===i?cu-Co():(i&4194048)===i?Nx-Co():0;if(E=W1(j,E),E!==null){Ka=i,e.cancelPendingCommit=E(If.bind(null,e,t,i,n,o,s,l,u,p,M,j,null,b,m)),ws(e,i,l,!v);return}}If(e,t,i,n,o,s,l,u,p)}function l1(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var o=0;o<n.length;o++){var s=n[o],i=s.getSnapshot;s=s.value;try{if(!Io(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ws(e,t,n,o){t&=~Zp,t&=~li,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var s=t;0<s;){var i=31-ko(s),l=1<<i;o[i]=-1,s&=~l}n!==0&&H0(e,n,t)}function uu(){return nt&6?!0:(Or(0),!1)}function Kp(){if(Le!==null){if(st===0)var e=Le.return;else e=Le,Ja=mi=null,_p(e),tl=null,xr=0,e=Le;for(;e!==null;)fx(e.alternate,e),e=e.return;Le=null}}function pl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,A1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ka=0,Kp(),pt=e,Le=n=Va(e.current,null),Ue=t,st=0,vo=null,Ts=!1,vl=kr(e,t),Vp=!1,ul=wo=Zp=li=_s=Ft=0,eo=lr=null,Wd=!1,t&8&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var s=31-ko(o),i=1<<s;t|=e[s],o&=~i}return os=t,nu(),n}function Bx(e,t){Re=null,ke.H=yr,t===bl||t===au?(t=of(),st=3):t===zp?(t=of(),st=4):st=t===Xp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,vo=t,Le===null&&(Ft=1,Ec(e,Wo(t,e.current)))}function _x(){var e=Mo.current;return e===null?!0:(Ue&4194048)===Ue?Qo===null:(Ue&62914560)===Ue||Ue&536870912?e===Qo:!1}function Fx(){var e=ke.H;return ke.H=yr,e===null?yr:e}function Hx(){var e=ke.A;return ke.A=s1,e}function Hc(){Ft=4,Ts||(Ue&4194048)!==Ue&&Mo.current!==null||(vl=!0),!(_s&134217727)&&!(li&134217727)||pt===null||ws(pt,Ue,wo,!1)}function Ju(e,t,n){var o=nt;nt|=2;var s=Fx(),i=Hx();(pt!==e||Ue!==t)&&(Fc=null,pl(e,t)),t=!1;var l=Ft;e:do try{if(st!==0&&Le!==null){var u=Le,p=vo;switch(st){case 8:Kp(),l=6;break e;case 3:case 2:case 9:case 6:Mo.current===null&&(t=!0);var v=st;if(st=0,vo=null,Vi(e,u,p,v),n&&vl){l=0;break e}break;default:v=st,st=0,vo=null,Vi(e,u,p,v)}}r1(),l=Ft;break}catch(M){Bx(e,M)}while(!0);return t&&e.shellSuspendCounter++,Ja=mi=null,nt=o,ke.H=s,ke.A=i,Le===null&&(pt=null,Ue=0,nu()),l}function r1(){for(;Le!==null;)Lx(Le)}function c1(e,t){var n=nt;nt|=2;var o=Fx(),s=Hx();pt!==e||Ue!==t?(Fc=null,_c=Co()+500,pl(e,t)):vl=kr(e,t);e:do try{if(st!==0&&Le!==null){t=Le;var i=vo;t:switch(st){case 1:st=0,vo=null,Vi(e,t,i,1);break;case 2:case 9:if(nf(i)){st=0,vo=null,Af(t);break}t=function(){st!==2&&st!==9||pt!==e||(st=7),Aa(e)},i.then(t,t);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:nf(i)?(st=0,vo=null,Af(t)):(st=0,vo=null,Vi(e,t,i,7));break;case 5:var l=null;switch(Le.tag){case 26:l=Le.memoizedState;case 5:case 27:var u=Le;if(l?im(l):u.stateNode.complete){st=0,vo=null;var p=u.sibling;if(p!==null)Le=p;else{var v=u.return;v!==null?(Le=v,du(v)):Le=null}break t}}st=0,vo=null,Vi(e,t,i,5);break;case 6:st=0,vo=null,Vi(e,t,i,6);break;case 8:Kp(),Ft=6;break e;default:throw Error(F(462))}}u1();break}catch(M){Bx(e,M)}while(!0);return Ja=mi=null,ke.H=o,ke.A=s,nt=n,Le!==null?0:(pt=null,Ue=0,nu(),Ft)}function u1(){for(;Le!==null&&!Oy();)Lx(Le)}function Lx(e){var t=gx(e.alternate,e,os);e.memoizedProps=e.pendingProps,t===null?du(e):Le=t}function Af(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=vf(n,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=vf(n,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:_p(t);default:fx(n,t),t=Le=fh(t,os),t=gx(n,t,os)}e.memoizedProps=e.pendingProps,t===null?du(e):Le=t}function Vi(e,t,n,o){Ja=mi=null,_p(t),tl=null,xr=0;var s=t.return;try{if(Kb(e,s,t,n,Ue)){Ft=1,Ec(e,Wo(n,e.current)),Le=null;return}}catch(i){if(s!==null)throw Le=s,i;Ft=1,Ec(e,Wo(n,e.current)),Le=null;return}t.flags&32768?(qe||o===1?e=!0:vl||Ue&536870912?e=!1:(Ts=e=!0,(o===2||o===9||o===3||o===6)&&(o=Mo.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ux(t,e)):du(t)}function du(e){var t=e;do{if(t.flags&32768){Ux(t,Ts);return}e=t.return;var n=t1(t.alternate,t,os);if(n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Ft===0&&(Ft=5)}function Ux(e,t){do{var n=n1(e.alternate,e);if(n!==null){n.flags&=32767,Le=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Le=e;return}Le=e=n}while(e!==null);Ft=6,Le=null}function If(e,t,n,o,s,i,l,u,p){e.cancelPendingCommit=null;do pu();while(Zt!==0);if(nt&6)throw Error(F(327));if(t!==null){if(t===e.current)throw Error(F(177));if(i=t.lanes|t.childLanes,i|=wp,qy(e,n,i,l,u,p),e===pt&&(Le=pt=null,Ue=0),dl=t,zs=e,Ka=n,Xd=i,Qd=s,Ox=o,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,f1(wc,function(){return Xx(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,t.subtreeFlags&13878||o){o=ke.T,ke.T=null,s=ot.p,ot.p=2,l=nt,nt|=4;try{o1(e,t,n)}finally{nt=l,ot.p=s,ke.T=o}}Zt=1,Gx(),qx(),Yx()}}function Gx(){if(Zt===1){Zt=0;var e=zs,t=dl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ke.T,ke.T=null;var o=ot.p;ot.p=2;var s=nt;nt|=4;try{jx(t,e);var i=Kd,l=ih(e.containerInfo),u=i.focusedElem,p=i.selectionRange;if(l!==u&&u&&u.ownerDocument&&sh(u.ownerDocument.documentElement,u)){if(p!==null&&Tp(u)){var v=p.start,M=p.end;if(M===void 0&&(M=v),"selectionStart"in u)u.selectionStart=v,u.selectionEnd=Math.min(M,u.value.length);else{var j=u.ownerDocument||document,b=j&&j.defaultView||window;if(b.getSelection){var m=b.getSelection(),E=u.textContent.length,L=Math.min(p.start,E),A=p.end===void 0?L:Math.min(p.end,E);!m.extend&&L>A&&(l=A,A=L,L=l);var h=Jg(u,L),g=Jg(u,A);if(h&&g&&(m.rangeCount!==1||m.anchorNode!==h.node||m.anchorOffset!==h.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var y=j.createRange();y.setStart(h.node,h.offset),m.removeAllRanges(),L>A?(m.addRange(y),m.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),m.addRange(y))}}}}for(j=[],m=u;m=m.parentNode;)m.nodeType===1&&j.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<j.length;u++){var k=j[u];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Qc=!!Zd,Kd=Zd=null}finally{nt=s,ot.p=o,ke.T=n}}e.current=t,Zt=2}}function qx(){if(Zt===2){Zt=0;var e=zs,t=dl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ke.T,ke.T=null;var o=ot.p;ot.p=2;var s=nt;nt|=4;try{vx(e,t.alternate,t)}finally{nt=s,ot.p=o,ke.T=n}}Zt=3}}function Yx(){if(Zt===4||Zt===3){Zt=0,Ey();var e=zs,t=dl,n=Ka,o=Ox;t.subtreeFlags&10256||t.flags&10256?Zt=5:(Zt=0,dl=zs=null,Wx(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Ms=null),hp(n),t=t.stateNode,jo&&typeof jo.onCommitFiberRoot=="function")try{jo.onCommitFiberRoot(jr,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=ke.T,s=ot.p,ot.p=2,ke.T=null;try{for(var i=e.onRecoverableError,l=0;l<o.length;l++){var u=o[l];i(u.value,{componentStack:u.stack})}}finally{ke.T=t,ot.p=s}}Ka&3&&pu(),Aa(e),s=e.pendingLanes,n&261930&&s&42?e===Pd?rr++:(rr=0,Pd=e):rr=0,Or(0)}}function Wx(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zr(t)))}function pu(){return Gx(),qx(),Yx(),Xx()}function Xx(){if(Zt!==5)return!1;var e=zs,t=Xd;Xd=0;var n=hp(Ka),o=ke.T,s=ot.p;try{ot.p=32>n?32:n,ke.T=null,n=Qd,Qd=null;var i=zs,l=Ka;if(Zt=0,dl=zs=null,Ka=0,nt&6)throw Error(F(331));var u=nt;if(nt|=4,zx(i.current),Ax(i,i.current,l,n),nt=u,Or(0,!1),jo&&typeof jo.onPostCommitFiberRoot=="function")try{jo.onPostCommitFiberRoot(jr,i)}catch{}return!0}finally{ot.p=s,ke.T=o,Wx(e,t)}}function Mf(e,t,n){t=Wo(n,t),t=Ud(e.stateNode,t,2),e=Is(e,t,2),e!==null&&(Ar(e,2),Aa(e))}function it(e,t,n){if(e.tag===3)Mf(e,e,n);else for(;t!==null;){if(t.tag===3){Mf(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ms===null||!Ms.has(o))){e=Wo(n,e),n=lx(2),o=Is(t,n,2),o!==null&&(rx(n,o,t,e),Ar(o,2),Aa(o));break}}t=t.return}}function Vu(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new i1;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(n)||(Vp=!0,s.add(n),e=d1.bind(null,e,t,n),t.then(e,e))}function d1(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pt===e&&(Ue&n)===n&&(Ft===4||Ft===3&&(Ue&62914560)===Ue&&300>Co()-cu?!(nt&2)&&pl(e,0):Zp|=n,ul===Ue&&(ul=0)),Aa(e)}function Qx(e,t){t===0&&(t=F0()),e=xi(e,t),e!==null&&(Ar(e,t),Aa(e))}function p1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qx(e,n)}function g1(e,t){var n=0;switch(e.tag){case 31:case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(F(314))}o!==null&&o.delete(t),Qx(e,n)}function f1(e,t){return gp(e,t)}var Lc=null,Fi=null,Jd=!1,Uc=!1,Zu=!1,Cs=0;function Aa(e){e!==Fi&&e.next===null&&(Fi===null?Lc=Fi=e:Fi=Fi.next=e),Uc=!0,Jd||(Jd=!0,x1())}function Or(e,t){if(!Zu&&Uc){Zu=!0;do for(var n=!1,o=Lc;o!==null;){if(e!==0){var s=o.pendingLanes;if(s===0)var i=0;else{var l=o.suspendedLanes,u=o.pingedLanes;i=(1<<31-ko(42|e)+1)-1,i&=s&~(l&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,zf(o,i))}else i=Ue,i=Kc(o,o===pt?i:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),!(i&3)||kr(o,i)||(n=!0,zf(o,i));o=o.next}while(n);Zu=!1}}function h1(){Px()}function Px(){Uc=Jd=!1;var e=0;Cs!==0&&k1()&&(e=Cs);for(var t=Co(),n=null,o=Lc;o!==null;){var s=o.next,i=Jx(o,t);i===0?(o.next=null,n===null?Lc=s:n.next=s,s===null&&(Fi=n)):(n=o,(e!==0||i&3)&&(Uc=!0)),o=s}Zt!==0&&Zt!==5||Or(e),Cs!==0&&(Cs=0)}function Jx(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var l=31-ko(i),u=1<<l,p=s[l];p===-1?(!(u&n)||u&o)&&(s[l]=Gy(u,t)):p<=t&&(e.expiredLanes|=u),i&=~u}if(t=pt,n=Ue,n=Kc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,n===0||e===t&&(st===2||st===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ju(o),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||kr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(o!==null&&ju(o),hp(n)){case 2:case 8:n=B0;break;case 32:n=wc;break;case 268435456:n=_0;break;default:n=wc}return o=Vx.bind(null,e),n=gp(n,o),e.callbackPriority=t,e.callbackNode=n,t}return o!==null&&o!==null&&ju(o),e.callbackPriority=2,e.callbackNode=null,2}function Vx(e,t){if(Zt!==0&&Zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(pu()&&e.callbackNode!==n)return null;var o=Ue;return o=Kc(e,e===pt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Rx(e,o,t),Jx(e,Co()),e.callbackNode!=null&&e.callbackNode===n?Vx.bind(null,e):null)}function zf(e,t){if(pu())return null;Rx(e,t,!0)}function x1(){I1(function(){nt&6?gp(R0,h1):Px()})}function $p(){if(Cs===0){var e=ll;e===0&&(e=Yr,Yr<<=1,!(Yr&261888)&&(Yr=256)),Cs=e}return Cs}function Df(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ic(""+e)}function Nf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function m1(e,t,n,o,s){if(t==="submit"&&n&&n.stateNode===s){var i=Df((s[no]||null).action),l=o.submitter;l&&(t=(t=l[no]||null)?Df(t.formAction):l.getAttribute("formAction"),t!==null&&(i=t,l=null));var u=new $c("action","action",null,o,s);e.push({event:u,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cs!==0){var p=l?Nf(s,l):new FormData(s);Hd(n,{pending:!0,data:p,method:s.method,action:i},null,p)}}else typeof i=="function"&&(u.preventDefault(),p=l?Nf(s,l):new FormData(s),Hd(n,{pending:!0,data:p,method:s.method,action:i},i,p))},currentTarget:s}]})}}for(var Ku=0;Ku<Ad.length;Ku++){var $u=Ad[Ku],y1=$u.toLowerCase(),b1=$u[0].toUpperCase()+$u.slice(1);ra(y1,"on"+b1)}ra(rh,"onAnimationEnd");ra(ch,"onAnimationIteration");ra(uh,"onAnimationStart");ra("dblclick","onDoubleClick");ra("focusin","onFocus");ra("focusout","onBlur");ra(Rb,"onTransitionRun");ra(Bb,"onTransitionStart");ra(_b,"onTransitionCancel");ra(dh,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(br));function Zx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],s=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var l=o.length-1;0<=l;l--){var u=o[l],p=u.instance,v=u.currentTarget;if(u=u.listener,p!==i&&s.isPropagationStopped())break e;i=u,s.currentTarget=v;try{i(s)}catch(M){jc(M)}s.currentTarget=null,i=p}else for(l=0;l<o.length;l++){if(u=o[l],p=u.instance,v=u.currentTarget,u=u.listener,p!==i&&s.isPropagationStopped())break e;i=u,s.currentTarget=v;try{i(s)}catch(M){jc(M)}s.currentTarget=null,i=p}}}}function He(e,t){var n=t[bd];n===void 0&&(n=t[bd]=new Set);var o=e+"__bubble";n.has(o)||(Kx(t,e,2,!1),n.add(o))}function ed(e,t,n){var o=0;t&&(o|=4),Kx(n,e,o,t)}var ec="_reactListening"+Math.random().toString(36).slice(2);function eg(e){if(!e[ec]){e[ec]=!0,q0.forEach(function(n){n!=="selectionchange"&&(v1.has(n)||ed(n,!1,e),ed(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ec]||(t[ec]=!0,ed("selectionchange",!1,t))}}function Kx(e,t,n,o){switch(dm(t)){case 2:var s=P1;break;case 8:s=J1;break;default:s=ag}n=s.bind(null,t,n,e),s=void 0,!Cd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function td(e,t,n,o,s){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===s)break;if(l===4)for(l=o.return;l!==null;){var p=l.tag;if((p===3||p===4)&&l.stateNode.containerInfo===s)return;l=l.return}for(;u!==null;){if(l=Ui(u),l===null)return;if(p=l.tag,p===5||p===6||p===26||p===27){o=i=l;continue e}u=u.parentNode}}o=o.return}Z0(function(){var v=i,M=yp(n),j=[];e:{var b=ph.get(e);if(b!==void 0){var m=$c,E=e;switch(e){case"keypress":if(rc(n)===0)break e;case"keydown":case"keyup":m=gb;break;case"focusin":E="focus",m=zu;break;case"focusout":E="blur",m=zu;break;case"beforeblur":case"afterblur":m=zu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xb;break;case rh:case ch:case uh:m=ab;break;case dh:m=yb;break;case"scroll":case"scrollend":m=$y;break;case"wheel":m=vb;break;case"copy":case"cut":case"paste":m=ib;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ug;break;case"toggle":case"beforetoggle":m=Tb}var L=(t&4)!==0,A=!L&&(e==="scroll"||e==="scrollend"),h=L?b!==null?b+"Capture":null:b;L=[];for(var g=v,y;g!==null;){var k=g;if(y=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||y===null||h===null||(k=dr(g,h),k!=null&&L.push(vr(g,k,y))),A)break;g=g.return}0<L.length&&(b=new m(b,E,null,n,M),j.push({event:b,listeners:L}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",b&&n!==wd&&(E=n.relatedTarget||n.fromElement)&&(Ui(E)||E[xl]))break e;if((m||b)&&(b=M.window===M?M:(b=M.ownerDocument)?b.defaultView||b.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=v,E=E?Ui(E):null,E!==null&&(A=Cr(E),L=E.tag,E!==A||L!==5&&L!==27&&L!==6)&&(E=null)):(m=null,E=v),m!==E)){if(L=Hg,k="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(L=Ug,k="onPointerLeave",h="onPointerEnter",g="pointer"),A=m==null?b:Ql(m),y=E==null?b:Ql(E),b=new L(k,g+"leave",m,n,M),b.target=A,b.relatedTarget=y,k=null,Ui(M)===v&&(L=new L(h,g+"enter",E,n,M),L.target=y,L.relatedTarget=A,k=L),A=k,m&&E)t:{for(L=S1,h=m,g=E,y=0,k=h;k;k=L(k))y++;k=0;for(var P=g;P;P=L(P))k++;for(;0<y-k;)h=L(h),y--;for(;0<k-y;)g=L(g),k--;for(;y--;){if(h===g||g!==null&&h===g.alternate){L=h;break t}h=L(h),g=L(g)}L=null}else L=null;m!==null&&Of(j,b,m,L,!1),E!==null&&A!==null&&Of(j,A,E,L,!0)}}e:{if(b=v?Ql(v):window,m=b.nodeName&&b.nodeName.toLowerCase(),m==="select"||m==="input"&&b.type==="file")var _=Wg;else if(Yg(b))if(oh)_=Nb;else{_=zb;var G=Mb}else m=b.nodeName,!m||m.toLowerCase()!=="input"||b.type!=="checkbox"&&b.type!=="radio"?v&&mp(v.elementType)&&(_=Wg):_=Db;if(_&&(_=_(e,v))){nh(j,_,n,M);break e}G&&G(e,b,v),e==="focusout"&&v&&b.type==="number"&&v.memoizedProps.value!=null&&Td(b,"number",b.value)}switch(G=v?Ql(v):window,e){case"focusin":(Yg(G)||G.contentEditable==="true")&&(Yi=G,jd=v,$l=null);break;case"focusout":$l=jd=Yi=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,Vg(j,n,M);break;case"selectionchange":if(Eb)break;case"keydown":case"keyup":Vg(j,n,M)}var U;if(Sp)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else qi?eh(e,n)&&(oe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(oe="onCompositionStart");oe&&($0&&n.locale!=="ko"&&(qi||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&qi&&(U=K0()):(Ss=M,bp="value"in Ss?Ss.value:Ss.textContent,qi=!0)),G=Gc(v,oe),0<G.length&&(oe=new Lg(oe,e,null,n,M),j.push({event:oe,listeners:G}),U?oe.data=U:(U=th(n),U!==null&&(oe.data=U)))),(U=Cb?jb(e,n):kb(e,n))&&(oe=Gc(v,"onBeforeInput"),0<oe.length&&(G=new Lg("onBeforeInput","beforeinput",null,n,M),j.push({event:G,listeners:oe}),G.data=U)),m1(j,e,v,n,M)}Zx(j,t)})}function vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gc(e,t){for(var n=t+"Capture",o=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=dr(e,n),s!=null&&o.unshift(vr(e,s,i)),s=dr(e,t),s!=null&&o.push(vr(e,s,i))),e.tag===3)return o;e=e.return}return[]}function S1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Of(e,t,n,o,s){for(var i=t._reactName,l=[];n!==null&&n!==o;){var u=n,p=u.alternate,v=u.stateNode;if(u=u.tag,p!==null&&p===o)break;u!==5&&u!==26&&u!==27||v===null||(p=v,s?(v=dr(n,i),v!=null&&l.unshift(vr(n,v,p))):s||(v=dr(n,i),v!=null&&l.push(vr(n,v,p)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var T1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function Ef(e){return(typeof e=="string"?e:""+e).replace(T1,`
`).replace(w1,"")}function $x(e,t){return t=Ef(t),Ef(e)===t}function ct(e,t,n,o,s,i){switch(n){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||il(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&il(e,""+o);break;case"className":Qr(e,"class",o);break;case"tabIndex":Qr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(e,n,o);break;case"style":V0(e,o,i);break;case"data":if(t!=="object"){Qr(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(n);break}o=ic(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&ct(e,t,"name",s.name,s,null),ct(e,t,"formEncType",s.formEncType,s,null),ct(e,t,"formMethod",s.formMethod,s,null),ct(e,t,"formTarget",s.formTarget,s,null)):(ct(e,t,"encType",s.encType,s,null),ct(e,t,"method",s.method,s,null),ct(e,t,"target",s.target,s,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(n);break}o=ic(""+o),e.setAttribute(n,o);break;case"onClick":o!=null&&(e.onclick=Pa);break;case"onScroll":o!=null&&He("scroll",e);break;case"onScrollEnd":o!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(F(61));if(n=o.__html,n!=null){if(s.children!=null)throw Error(F(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}n=ic(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":o===!0?e.setAttribute(n,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":He("beforetoggle",e),He("toggle",e),sc(e,"popover",o);break;case"xlinkActuate":Ha(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ha(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ha(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ha(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ha(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ha(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ha(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ha(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ha(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sc(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Zy.get(n)||n,sc(e,n,o))}}function Vd(e,t,n,o,s,i){switch(n){case"style":V0(e,o,i);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(F(61));if(n=o.__html,n!=null){if(s.children!=null)throw Error(F(60));e.innerHTML=n}}break;case"children":typeof o=="string"?il(e,o):(typeof o=="number"||typeof o=="bigint")&&il(e,""+o);break;case"onScroll":o!=null&&He("scroll",e);break;case"onScrollEnd":o!=null&&He("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Y0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[no]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof o=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,s);break e}n in e?e[n]=o:o===!0?e.setAttribute(n,""):sc(e,n,o)}}}function xn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var o=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var l=n[i];if(l!=null)switch(i){case"src":o=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(F(137,t));default:ct(e,t,i,l,n,null)}}s&&ct(e,t,"srcSet",n.srcSet,n,null),o&&ct(e,t,"src",n.src,n,null);return;case"input":He("invalid",e);var u=i=l=s=null,p=null,v=null;for(o in n)if(n.hasOwnProperty(o)){var M=n[o];if(M!=null)switch(o){case"name":s=M;break;case"type":l=M;break;case"checked":p=M;break;case"defaultChecked":v=M;break;case"value":i=M;break;case"defaultValue":u=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(F(137,t));break;default:ct(e,t,o,M,n,null)}}Q0(e,i,u,p,v,l,s,!1);return;case"select":He("invalid",e),o=l=i=null;for(s in n)if(n.hasOwnProperty(s)&&(u=n[s],u!=null))switch(s){case"value":i=u;break;case"defaultValue":l=u;break;case"multiple":o=u;default:ct(e,t,s,u,n,null)}t=i,n=l,e.multiple=!!o,t!=null?Ki(e,!!o,t,!1):n!=null&&Ki(e,!!o,n,!0);return;case"textarea":He("invalid",e),i=s=o=null;for(l in n)if(n.hasOwnProperty(l)&&(u=n[l],u!=null))switch(l){case"value":o=u;break;case"defaultValue":s=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(F(91));break;default:ct(e,t,l,u,n,null)}J0(e,o,s,i);return;case"option":for(p in n)if(n.hasOwnProperty(p)&&(o=n[p],o!=null))switch(p){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ct(e,t,p,o,n,null)}return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(o=0;o<br.length;o++)He(br[o],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(v in n)if(n.hasOwnProperty(v)&&(o=n[v],o!=null))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(F(137,t));default:ct(e,t,v,o,n,null)}return;default:if(mp(t)){for(M in n)n.hasOwnProperty(M)&&(o=n[M],o!==void 0&&Vd(e,t,M,o,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(o=n[u],o!=null&&ct(e,t,u,o,n,null))}function C1(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,l=null,u=null,p=null,v=null,M=null;for(m in n){var j=n[m];if(n.hasOwnProperty(m)&&j!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":p=j;default:o.hasOwnProperty(m)||ct(e,t,m,null,o,j)}}for(var b in o){var m=o[b];if(j=n[b],o.hasOwnProperty(b)&&(m!=null||j!=null))switch(b){case"type":i=m;break;case"name":s=m;break;case"checked":v=m;break;case"defaultChecked":M=m;break;case"value":l=m;break;case"defaultValue":u=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(F(137,t));break;default:m!==j&&ct(e,t,b,m,o,j)}}Sd(e,l,u,p,v,M,i,s);return;case"select":m=l=u=b=null;for(i in n)if(p=n[i],n.hasOwnProperty(i)&&p!=null)switch(i){case"value":break;case"multiple":m=p;default:o.hasOwnProperty(i)||ct(e,t,i,null,o,p)}for(s in o)if(i=o[s],p=n[s],o.hasOwnProperty(s)&&(i!=null||p!=null))switch(s){case"value":b=i;break;case"defaultValue":u=i;break;case"multiple":l=i;default:i!==p&&ct(e,t,s,i,o,p)}t=u,n=l,o=m,b!=null?Ki(e,!!n,b,!1):!!o!=!!n&&(t!=null?Ki(e,!!n,t,!0):Ki(e,!!n,n?[]:"",!1));return;case"textarea":m=b=null;for(u in n)if(s=n[u],n.hasOwnProperty(u)&&s!=null&&!o.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:ct(e,t,u,null,o,s)}for(l in o)if(s=o[l],i=n[l],o.hasOwnProperty(l)&&(s!=null||i!=null))switch(l){case"value":b=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(F(91));break;default:s!==i&&ct(e,t,l,s,o,i)}P0(e,b,m);return;case"option":for(var E in n)if(b=n[E],n.hasOwnProperty(E)&&b!=null&&!o.hasOwnProperty(E))switch(E){case"selected":e.selected=!1;break;default:ct(e,t,E,null,o,b)}for(p in o)if(b=o[p],m=n[p],o.hasOwnProperty(p)&&b!==m&&(b!=null||m!=null))switch(p){case"selected":e.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:ct(e,t,p,b,o,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var L in n)b=n[L],n.hasOwnProperty(L)&&b!=null&&!o.hasOwnProperty(L)&&ct(e,t,L,null,o,b);for(v in o)if(b=o[v],m=n[v],o.hasOwnProperty(v)&&b!==m&&(b!=null||m!=null))switch(v){case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(F(137,t));break;default:ct(e,t,v,b,o,m)}return;default:if(mp(t)){for(var A in n)b=n[A],n.hasOwnProperty(A)&&b!==void 0&&!o.hasOwnProperty(A)&&Vd(e,t,A,void 0,o,b);for(M in o)b=o[M],m=n[M],!o.hasOwnProperty(M)||b===m||b===void 0&&m===void 0||Vd(e,t,M,b,o,m);return}}for(var h in n)b=n[h],n.hasOwnProperty(h)&&b!=null&&!o.hasOwnProperty(h)&&ct(e,t,h,null,o,b);for(j in o)b=o[j],m=n[j],!o.hasOwnProperty(j)||b===m||b==null&&m==null||ct(e,t,j,b,o,m)}function Rf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),o=0;o<n.length;o++){var s=n[o],i=s.transferSize,l=s.initiatorType,u=s.duration;if(i&&u&&Rf(l)){for(l=0,u=s.responseEnd,o+=1;o<n.length;o++){var p=n[o],v=p.startTime;if(v>u)break;var M=p.transferSize,j=p.initiatorType;M&&Rf(j)&&(p=p.responseEnd,l+=M*(p<u?1:(u-v)/(p-v)))}if(--o,t+=8*(i+l)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zd=null,Kd=null;function qc(e){return e.nodeType===9?e:e.ownerDocument}function Bf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function em(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $d(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nd=null;function k1(){var e=window.event;return e&&e.type==="popstate"?e===nd?!1:(nd=e,!0):(nd=null,!1)}var tm=typeof setTimeout=="function"?setTimeout:void 0,A1=typeof clearTimeout=="function"?clearTimeout:void 0,_f=typeof Promise=="function"?Promise:void 0,I1=typeof queueMicrotask=="function"?queueMicrotask:typeof _f<"u"?function(e){return _f.resolve(null).then(e).catch(M1)}:tm;function M1(e){setTimeout(function(){throw e})}function Hs(e){return e==="head"}function Ff(e,t){var n=t,o=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(o===0){e.removeChild(s),fl(t);return}o--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")o++;else if(n==="html")cr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,cr(n);for(var i=n.firstChild;i;){var l=i.nextSibling,u=i.nodeName;i[Ir]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=l}}else n==="body"&&cr(e.ownerDocument.body);n=s}while(n);fl(t)}function Hf(e,t){var n=e;e=0;do{var o=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=o}while(n)}function ep(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ep(n),xp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function z1(e,t,n,o){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ir])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Po(e.nextSibling),e===null)break}return null}function D1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Po(e.nextSibling),e===null))return null;return e}function nm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Po(e.nextSibling),e===null))return null;return e}function tp(e){return e.data==="$?"||e.data==="$~"}function np(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function N1(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var o=function(){t(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Po(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var op=null;function Lf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Po(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Uf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function om(e,t,n){switch(t=qc(n),e){case"html":if(e=t.documentElement,!e)throw Error(F(452));return e;case"head":if(e=t.head,!e)throw Error(F(453));return e;case"body":if(e=t.body,!e)throw Error(F(454));return e;default:throw Error(F(451))}}function cr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xp(e)}var Jo=new Map,Gf=new Set;function Yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=ot.d;ot.d={f:O1,r:E1,D:R1,C:B1,L:_1,m:F1,X:L1,S:H1,M:U1};function O1(){var e=as.f(),t=uu();return e||t}function E1(e){var t=ml(e);t!==null&&t.tag===5&&t.type==="form"?Vh(t):as.r(e)}var Sl=typeof document>"u"?null:document;function am(e,t,n){var o=Sl;if(o&&typeof t=="string"&&t){var s=Yo(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Gf.has(s)||(Gf.add(s),e={rel:e,crossOrigin:n,href:t},o.querySelector(s)===null&&(t=o.createElement("link"),xn(t,"link",e),ln(t),o.head.appendChild(t)))}}function R1(e){as.D(e),am("dns-prefetch",e,null)}function B1(e,t){as.C(e,t),am("preconnect",e,t)}function _1(e,t,n){as.L(e,t,n);var o=Sl;if(o&&e&&t){var s='link[rel="preload"][as="'+Yo(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Yo(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Yo(n.imageSizes)+'"]')):s+='[href="'+Yo(e)+'"]';var i=s;switch(t){case"style":i=gl(e);break;case"script":i=Tl(e)}Jo.has(i)||(e=St({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Jo.set(i,e),o.querySelector(s)!==null||t==="style"&&o.querySelector(Er(i))||t==="script"&&o.querySelector(Rr(i))||(t=o.createElement("link"),xn(t,"link",e),ln(t),o.head.appendChild(t)))}}function F1(e,t){as.m(e,t);var n=Sl;if(n&&e){var o=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Yo(o)+'"][href="'+Yo(e)+'"]',i=s;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Tl(e)}if(!Jo.has(i)&&(e=St({rel:"modulepreload",href:e},t),Jo.set(i,e),n.querySelector(s)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rr(i)))return}o=n.createElement("link"),xn(o,"link",e),ln(o),n.head.appendChild(o)}}}function H1(e,t,n){as.S(e,t,n);var o=Sl;if(o&&e){var s=Zi(o).hoistableStyles,i=gl(e);t=t||"default";var l=s.get(i);if(!l){var u={loading:0,preload:null};if(l=o.querySelector(Er(i)))u.loading=5;else{e=St({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Jo.get(i))&&tg(e,n);var p=l=o.createElement("link");ln(p),xn(p,"link",e),p._p=new Promise(function(v,M){p.onload=v,p.onerror=M}),p.addEventListener("load",function(){u.loading|=1}),p.addEventListener("error",function(){u.loading|=2}),u.loading|=4,xc(l,t,o)}l={type:"stylesheet",instance:l,count:1,state:u},s.set(i,l)}}}function L1(e,t){as.X(e,t);var n=Sl;if(n&&e){var o=Zi(n).hoistableScripts,s=Tl(e),i=o.get(s);i||(i=n.querySelector(Rr(s)),i||(e=St({src:e,async:!0},t),(t=Jo.get(s))&&ng(e,t),i=n.createElement("script"),ln(i),xn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(s,i))}}function U1(e,t){as.M(e,t);var n=Sl;if(n&&e){var o=Zi(n).hoistableScripts,s=Tl(e),i=o.get(s);i||(i=n.querySelector(Rr(s)),i||(e=St({src:e,async:!0,type:"module"},t),(t=Jo.get(s))&&ng(e,t),i=n.createElement("script"),ln(i),xn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(s,i))}}function qf(e,t,n,o){var s=(s=js.current)?Yc(s):null;if(!s)throw Error(F(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=gl(n.href),n=Zi(s).hoistableStyles,o=n.get(t),o||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=gl(n.href);var i=Zi(s).hoistableStyles,l=i.get(e);if(l||(s=s.ownerDocument||s,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,l),(i=s.querySelector(Er(e)))&&!i._p&&(l.instance=i,l.state.loading=5),Jo.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Jo.set(e,n),i||G1(s,e,n,l.state))),t&&o===null)throw Error(F(528,""));return l}if(t&&o!==null)throw Error(F(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Tl(n),n=Zi(s).hoistableScripts,o=n.get(t),o||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(F(444,e))}}function gl(e){return'href="'+Yo(e)+'"'}function Er(e){return'link[rel="stylesheet"]['+e+"]"}function sm(e){return St({},e,{"data-precedence":e.precedence,precedence:null})}function G1(e,t,n,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),xn(t,"link",n),ln(t),e.head.appendChild(t))}function Tl(e){return'[src="'+Yo(e)+'"]'}function Rr(e){return"script[async]"+e}function Yf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+Yo(n.href)+'"]');if(o)return t.instance=o,ln(o),o;var s=St({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ln(o),xn(o,"style",s),xc(o,n.precedence,e),t.instance=o;case"stylesheet":s=gl(n.href);var i=e.querySelector(Er(s));if(i)return t.state.loading|=4,t.instance=i,ln(i),i;o=sm(n),(s=Jo.get(s))&&tg(o,s),i=(e.ownerDocument||e).createElement("link"),ln(i);var l=i;return l._p=new Promise(function(u,p){l.onload=u,l.onerror=p}),xn(i,"link",o),t.state.loading|=4,xc(i,n.precedence,e),t.instance=i;case"script":return i=Tl(n.src),(s=e.querySelector(Rr(i)))?(t.instance=s,ln(s),s):(o=n,(s=Jo.get(i))&&(o=St({},n),ng(o,s)),e=e.ownerDocument||e,s=e.createElement("script"),ln(s),xn(s,"link",o),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(F(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(o=t.instance,t.state.loading|=4,xc(o,n.precedence,e));return t.instance}function xc(e,t,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=o.length?o[o.length-1]:null,i=s,l=0;l<o.length;l++){var u=o[l];if(u.dataset.precedence===t)i=u;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function tg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ng(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var mc=null;function Wf(e,t,n){if(mc===null){var o=new Map,s=mc=new Map;s.set(n,o)}else s=mc,o=s.get(n),o||(o=new Map,s.set(n,o));if(o.has(e))return o;for(o.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Ir]||i[gn]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var l=i.getAttribute(t)||"";l=e+l;var u=o.get(l);u?u.push(i):o.set(l,[i])}}return o}function Xf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function q1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function im(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Y1(e,t,n,o){if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=gl(o.href),i=t.querySelector(Er(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Wc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,ln(i);return}i=t.ownerDocument||t,o=sm(o),(s=Jo.get(s))&&tg(o,s),i=i.createElement("link"),ln(i);var l=i;l._p=new Promise(function(u,p){l.onload=u,l.onerror=p}),xn(i,"link",o),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Wc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var od=0;function W1(e,t){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&od===0&&(od=62500*j1());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>od?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(s)}}:null}function Wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xc=null;function yc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xc=new Map,t.forEach(X1,e),Xc=null,Wc.call(e))}function X1(e,t){if(!(t.state.loading&4)){var n=Xc.get(e);if(n)var o=n.get(null);else{n=new Map,Xc.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var l=s[i];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),o=l)}o&&n.set(null,o)}s=t.instance,l=s.getAttribute("data-precedence"),i=n.get(l)||o,i===o&&n.set(null,s),n.set(l,s),this.count++,o=Wc.bind(this),s.addEventListener("load",o),s.addEventListener("error",o),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Sr={$$typeof:Qa,Provider:null,Consumer:null,_currentValue:oi,_currentValue2:oi,_threadCount:0};function Q1(e,t,n,o,s,i,l,u,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ku(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ku(0),this.hiddenUpdates=ku(null),this.identifierPrefix=o,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function lm(e,t,n,o,s,i,l,u,p,v,M,j){return e=new Q1(e,t,n,l,p,v,M,j,u),t=1,i===!0&&(t|=24),i=To(3,null,null,t),e.current=i,i.stateNode=e,t=Ip(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:o,isDehydrated:n,cache:t},Dp(i),e}function rm(e){return e?(e=Qi,e):Qi}function cm(e,t,n,o,s,i){s=rm(s),o.context===null?o.context=s:o.pendingContext=s,o=As(t),o.payload={element:n},i=i===void 0?null:i,i!==null&&(o.callback=i),n=Is(e,o,t),n!==null&&(to(n,e,t),tr(n,e,t))}function Qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function og(e,t){Qf(e,t),(e=e.alternate)&&Qf(e,t)}function um(e){if(e.tag===13||e.tag===31){var t=xi(e,67108864);t!==null&&to(t,e,67108864),og(e,67108864)}}function Pf(e){if(e.tag===13||e.tag===31){var t=Ao();t=fp(t);var n=xi(e,t);n!==null&&to(n,e,t),og(e,t)}}var Qc=!0;function P1(e,t,n,o){var s=ke.T;ke.T=null;var i=ot.p;try{ot.p=2,ag(e,t,n,o)}finally{ot.p=i,ke.T=s}}function J1(e,t,n,o){var s=ke.T;ke.T=null;var i=ot.p;try{ot.p=8,ag(e,t,n,o)}finally{ot.p=i,ke.T=s}}function ag(e,t,n,o){if(Qc){var s=ap(o);if(s===null)td(e,t,o,Pc,n),Jf(e,o);else if(Z1(s,e,t,n,o))o.stopPropagation();else if(Jf(e,o),t&4&&-1<V1.indexOf(e)){for(;s!==null;){var i=ml(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var l=ei(i.pendingLanes);if(l!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;l;){var p=1<<31-ko(l);u.entanglements[1]|=p,l&=~p}Aa(i),!(nt&6)&&(_c=Co()+500,Or(0))}}break;case 31:case 13:u=xi(i,2),u!==null&&to(u,i,2),uu(),og(i,2)}if(i=ap(o),i===null&&td(e,t,o,Pc,n),i===s)break;s=i}s!==null&&o.stopPropagation()}else td(e,t,o,null,n)}}function ap(e){return e=yp(e),sg(e)}var Pc=null;function sg(e){if(Pc=null,e=Ui(e),e!==null){var t=Cr(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=z0(t),e!==null)return e;e=null}else if(n===31){if(e=D0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Pc=e,null}function dm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ry()){case R0:return 2;case B0:return 8;case wc:case By:return 32;case _0:return 268435456;default:return 32}default:return 32}}var sp=!1,Ds=null,Ns=null,Os=null,Tr=new Map,wr=new Map,bs=[],V1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jf(e,t){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Tr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wr.delete(t.pointerId)}}function _l(e,t,n,o,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ml(t),t!==null&&um(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Z1(e,t,n,o,s){switch(t){case"focusin":return Ds=_l(Ds,e,t,n,o,s),!0;case"dragenter":return Ns=_l(Ns,e,t,n,o,s),!0;case"mouseover":return Os=_l(Os,e,t,n,o,s),!0;case"pointerover":var i=s.pointerId;return Tr.set(i,_l(Tr.get(i)||null,e,t,n,o,s)),!0;case"gotpointercapture":return i=s.pointerId,wr.set(i,_l(wr.get(i)||null,e,t,n,o,s)),!0}return!1}function pm(e){var t=Ui(e.target);if(t!==null){var n=Cr(t);if(n!==null){if(t=n.tag,t===13){if(t=z0(n),t!==null){e.blockedOn=t,Ng(e.priority,function(){Pf(n)});return}}else if(t===31){if(t=D0(n),t!==null){e.blockedOn=t,Ng(e.priority,function(){Pf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ap(e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);wd=o,n.target.dispatchEvent(o),wd=null}else return t=ml(n),t!==null&&um(t),e.blockedOn=n,!1;t.shift()}return!0}function Vf(e,t,n){bc(e)&&n.delete(t)}function K1(){sp=!1,Ds!==null&&bc(Ds)&&(Ds=null),Ns!==null&&bc(Ns)&&(Ns=null),Os!==null&&bc(Os)&&(Os=null),Tr.forEach(Vf),wr.forEach(Vf)}function tc(e,t){e.blockedOn===t&&(e.blockedOn=null,sp||(sp=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,K1)))}var nc=null;function Zf(e){nc!==e&&(nc=e,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var t=0;t<e.length;t+=3){var n=e[t],o=e[t+1],s=e[t+2];if(typeof o!="function"){if(sg(o||n)===null)continue;break}var i=ml(n);i!==null&&(e.splice(t,3),t-=3,Hd(i,{pending:!0,data:s,method:n.method,action:o},o,s))}}))}function fl(e){function t(p){return tc(p,e)}Ds!==null&&tc(Ds,e),Ns!==null&&tc(Ns,e),Os!==null&&tc(Os,e),Tr.forEach(t),wr.forEach(t);for(var n=0;n<bs.length;n++){var o=bs[n];o.blockedOn===e&&(o.blockedOn=null)}for(;0<bs.length&&(n=bs[0],n.blockedOn===null);)pm(n),n.blockedOn===null&&bs.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(o=0;o<n.length;o+=3){var s=n[o],i=n[o+1],l=s[no]||null;if(typeof i=="function")l||Zf(n);else if(l){var u=null;if(i&&i.hasAttribute("formAction")){if(s=i,l=i[no]||null)u=l.formAction;else if(sg(s)!==null)continue}else u=l.action;typeof u=="function"?n[o+1]=u:(n.splice(o,3),o-=3),Zf(n)}}}function gm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(l){return s=l})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),o||setTimeout(n,20)}function n(){if(!o&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function ig(e){this._internalRoot=e}gu.prototype.render=ig.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));var n=t.current,o=Ao();cm(n,o,e,t,null,null)};gu.prototype.unmount=ig.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cm(e.current,2,null,e,null,null),uu(),t[xl]=null}};function gu(e){this._internalRoot=e}gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=G0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bs.length&&t!==0&&t<bs[n].priority;n++);bs.splice(n,0,e),n===0&&pm(e)}};var Kf=I0.version;if(Kf!=="19.2.3")throw Error(F(527,Kf,"19.2.3"));ot.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Iy(t),e=e!==null?N0(e):null,e=e===null?null:e.stateNode,e};var $1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ke,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{jr=oc.inject($1),jo=oc}catch{}}Vc.createRoot=function(e,t){if(!M0(e))throw Error(F(299));var n=!1,o="",s=ax,i=sx,l=ix;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=lm(e,1,!1,null,null,n,o,null,s,i,l,gm),e[xl]=t.current,eg(e),new ig(t)};Vc.hydrateRoot=function(e,t,n){if(!M0(e))throw Error(F(299));var o=!1,s="",i=ax,l=sx,u=ix,p=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.formState!==void 0&&(p=n.formState)),t=lm(e,1,!0,t,n??null,o,s,p,i,l,u,gm),t.context=rm(null),n=t.current,o=Ao(),o=fp(o),s=As(o),s.callback=null,Is(n,s,o),n=o,t.current.lanes=n,Ar(t,n),Aa(t),e[xl]=t.current,eg(e),new gu(t)};Vc.version="19.2.3";function fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fm)}catch(e){console.error(e)}}fm(),T0.exports=Vc;var e2=T0.exports;const t2=p0(e2),wl=()=>{const e=r.useCallback((v,M=.5)=>{try{const j=new Audio(v);j.volume=M,j.play().catch(b=>{console.log("Could not play sound effect:",b)})}catch(j){console.log("Error creating audio:",j)}},[]),t=r.useCallback(()=>{e("/sound/click.mp3",.6)},[e]),n=r.useCallback(()=>{e("/sound/camera.mp3",.7)},[e]),o=r.useCallback(()=>{e("/sound/stamp.mp3",.8)},[e]),s=r.useCallback(()=>{e("/sound/safe.mp3",.7)},[e]),i=r.useCallback(()=>{e("/sound/alert.mp3",.7)},[e]),l=r.useCallback(()=>{e("/sound/correct.wav",.7)},[e]),u=r.useCallback(()=>{e("/sound/wrong.mp3",.7)},[e]),p=r.useCallback(()=>{e("/sound/mark.wav",.7)},[e]);return{playSound:e,playClickSound:t,playCameraSound:n,playStampSound:o,playSafeSound:s,playAlertSound:i,playCorrectSound:l,playWrongSound:u,playMarkSound:p}},fu=e=>{const t=r.useRef(null),n=r.useCallback(()=>{if(e)try{t.current&&(t.current.pause(),t.current.currentTime=0),t.current=new Audio(e),t.current.volume=.3,t.current.loop=!0,t.current.play().catch(s=>{console.log("Could not play typing sound:",s)})}catch(s){console.log("Error creating typing audio:",s)}},[e]),o=r.useCallback(()=>{t.current&&(t.current.pause(),t.current.currentTime=0)},[]);return{startTypingSound:n,stopTypingSound:o}},n2={exit:"Exit",continue:"CONTINUE",skip:"Skip",passed:"PASSED",failed:"FAILED",welcome:"Welcome!",aiJourneyTitle:"AI JOURNEY",aiJourneySubtitle:"An Interactive Journey into AI Literacy",start:"Start",continueGame:"Continue",startOver:"Start Over",signIn:"Sign In",signInTitle:"Sign In",signUpTitle:"Sign Up",userName:"User Name",userNameEmail:"User Name/ Email",password:"Password",email:"Email",enterUsername:"Enter username",enterUsernameOrEmail:"Enter username or email",enterPassword:"Enter password",enterEmail:"Enter email address",done:"Done",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",signUp:"Sign Up",invalidCredentials:"Invalid username/email or password",noAccountFound:"No account found. Please sign up first.",userAlreadyExists:"User already exists. Please sign in instead.",selectRegion:"Select a Region",fungiJungle:"FUNGA JUNGLE",desert:"AETHER DESERT",island:"NEXUS ISLAND",glacier:"CORE GLACIER",centralCity:"RINGED CENTRAL CITY",fungiDescription:"Welcome to the Funga Jungle! The guardian here is a green robot named <strong style='color: #00bf63;'>Ranger Moss</strong>. He usually keeps everything running smoothlybut today, something feels off. Let's find him first!",desertDescription:"Welcome to the Aether Desert! The guardian here is a yellow robot named <strong style='color: #FFD700;'>Alpha</strong>, who oversees the castle's security system. But the alarms are silent and Alpha is missing. Find him before it's too late.",islandDescription:"Welcome to Nexus Island! Spies disguised as workers are infiltrating the docks. Before chaos erupts, find <strong style='color: #5170FF;'>Sparky</strong>he knows how to spot the impostors hiding in plain sight.",glacierDescription:"Welcome to the Core Glacier! The AI guardian <strong style='color: #FF4444;'>Momo</strong> has stopped responding. Citizens whisper it's rebelling against its programming. Go find itand decide: should a machine have a conscience?",centralCityDescription:"Welcome to the Ringed Central City! The heart of the world is awakening. Guardians from all four realms have returnedtheir eyes gleaming with newfound will. Step inside but be ready. The truth here changes everything.",easyDifficulty:" (Easy / Introductory)",intermediateDifficulty:" (Intermediate)",advancedDifficulty:" (Advanced)",expertDifficulty:" (Expert)",locked:"LOCKED",comingSoon:"Coming Soon",sparkyEnergyManager:"Sparky - Energy Manager",npcConversation:"NPC Conversation",imageEvaluation:"Image Evaluation",questionAndAnswer:"QUESTION AND ANSWER",missionAccepted:"Mission Accepted!",sparkyIntro1:"Bzzzt... System recalibrating... Systems Online. Oh, thank goodness a human is here! I am Sparky, the island's energy manager.",sparkyIntro2:"We have been infiltrated! Do you see those workers wandering around? Many of them aren't real elves.",sparkyIntro3:"They are Generative AI Agents in disguise. They look like us, but they are flooding our grid with bad data.",sparkyIntro4:"Technically speaking, Generative AI is a type of artificial intelligence technology that uses machine learning to create new contentincluding text, imagery, audio, and synthetic datainstead of just analyzing existing data.",sparkyIntro5:"Let me explain simply. Generative AI is like a super-fast student.",sparkyIntro6:"It has read every book and seen every picture in the world. When you ask it to draw, write, or sing, it doesn't 'think' like you do.",sparkyIntro7:"It just guesses what comes next based on patterns. It's like a very clever parrot mimicking humans!",sparkyIntro8:"Yes! Please! I need you to find these AI impostors and remove them from the system.",sparkyIntro9:"Good question. Even though they are smart, they have big weaknesses. Listen carefully.",sparkyIntro10:"First is Hallucinations (The 'Daydreaming').",sparkyIntro11:"Sometimes, they gets overconfident and makes things up!  Six-fingered hands?  Octopuses running banks? If it sounds too weird to be trueit's probably an AI hallucination!",sparkyIntro12:"Perfect. Here is your mission:",sparkyIntro13:"Go talk to the workers on the islands. Ask them to show you their photos or writing.",sparkyIntro14:"If you spot mistakes or copies, mark them down. There are 9 spies hidden in total. Good luck, Agent!",sparkyIntro15:"Excellent! Your mission is now active. Good luck, Agent!",whatHappened:"What happened here?",whatIsGenerativeAI:"What is Generative AI?",dontGetIt:"I don't get it...",canIHelp:"Can I help you fix it?",howToTellApart:"How do I tell them apart?",gotIt:"Got it.",showPictureWork:"Can you show me a picture of where you work?",showPoster:"Can you show me a poster you have made?",showPhenomenon:"Can you show me some interesting phenomenon here?",whatThinkImage:"What do you think of this image?",sureLetMeShow:"Sure! Let me show you...",sparkyMainIsland:"Sparky is on the Main Island!",lookCloser:"Look closer! Don't be fooled.",checkDetails:"Check the details. Read the text.",checkFacts:"Check the facts. Is that logical?",fakeNews:"AI models often invent 'Fake News' just to sound important.",visualHallucinations:"Visual Hallucinations",textHallucinations:"Text Hallucinations",coreTraitTitle:"The Core Trait",aiIsMean:"The AI is mean",aiLacksEmotion:"AI lacks emotion and common sense",aiIsTired:"The AI is tired",language:"EN/",setting:"SETTING",controlPanel:"CONTROL PANEL",languageSelection:"LANGUAGE SELECTION",systemVolume:"SYSTEM VOLUME",reset:"Reset",applyChanges:"Apply Changes",npc1Island1Dialog1:"Hey! You! Be careful out there.",npc1Island1Dialog2:"I don't know what's going on. A lot of new workers arrived, but they look... wrong.",npc1Island1Dialog3:"You should go to the Main Island . Sparky will know what to do.",npc2Island2Dialog1:"This is a disaster! The new workers are ruining our archives!",npc2Island2Dialog2:"They sound so confident, but they just make things up! Please, head to the Main Island. Find Sparky. He controls the grid!",npc3Island3Dialog1:"It's so boring lately... so eerily boring.",npc3Island3Dialog2:"The new guys? They all look the same.",npc3Island3Dialog3:"Go  find Sparky on the Main Island. He's the only one who can fix this mess.",randomDialog1:"Phew... I am absolutely drained today.",randomDialog2:"My back is killing me...",randomDialog3:"Work, work, work. It never ends.",randomDialog4:"I need a vacation from this island.",randomDialog5:"Yay! Now I can finally charge my phone.",randomDialog6:"Finally! The lights are back on!",randomDialog7:"Thanks for the fix, buddy! It was getting spooky in the dark.",randomDialog8:"Is it lunch time yet?",randomDialog9:"My shell is aching...",sparkyRestored:"Systems online! Oh, that sweet, sweet electricity!",phase2Complete:"Yo! High five! Go Back to the MAIN LAND",phase2GlitchMessage:"Task 2: Spot the GenAI NPC You should talk to all the NPCs before making your decision.",phase1Complete:"System purged! 6/6 Spies caught. Return to Sparky for debrief."},o2={exit:"",continue:"",skip:"",passed:"",failed:"",welcome:"",aiJourneyTitle:"AI ",aiJourneySubtitle:"",start:"",continueGame:"",startOver:"",signIn:"",signInTitle:"",signUpTitle:"",userName:"",userNameEmail:"/",password:"",email:"",enterUsername:"",enterUsernameOrEmail:"",enterPassword:"",enterEmail:"",done:"",alreadyHaveAccount:"",dontHaveAccount:"",signUp:"",invalidCredentials:"/",noAccountFound:"",userAlreadyExists:"",selectRegion:"",fungiJungle:"",desert:"",island:"NEXUS ISLAND",glacier:"",centralCity:"",fungiDescription:"<strong style='color: #00bf63;'></strong>",desertDescription:"<strong style='color: #FFD700;'></strong>",islandDescription:"Nexus Island<strong style='color: #5170FF;'>Sparky</strong>",glacierDescription:"AI<strong style='color: #FF4444;'>Momo</strong>",centralCityDescription:"",easyDifficulty:" ( / )",intermediateDifficulty:" ()",advancedDifficulty:" ()",expertDifficulty:" ()",locked:"",comingSoon:"",sparkyEnergyManager:"Sparky - ",npcConversation:"NPC",imageEvaluation:"",questionAndAnswer:"",missionAccepted:"",sparkyIntro1:"......Sparky",sparkyIntro2:"",sparkyIntro3:"AI",sparkyIntro4:"AI",sparkyIntro5:"AI",sparkyIntro6:"''",sparkyIntro7:"",sparkyIntro8:"AI",sparkyIntro9:"",sparkyIntro10:"''",sparkyIntro11:"",sparkyIntro12:"",sparkyIntro13:"",sparkyIntro14:"9",sparkyIntro15:"",whatHappened:"",whatIsGenerativeAI:"AI",dontGetIt:"...",canIHelp:"",howToTellApart:"",gotIt:"",showPictureWork:"",showPoster:"",showPhenomenon:"",whatThinkImage:"",sureLetMeShow:"...",sparkyMainIsland:"Sparky",lookCloser:"",checkDetails:"",checkFacts:"",fakeNews:"AI''",visualHallucinations:"",textHallucinations:"",coreTraitTitle:"",aiIsMean:"AI",aiLacksEmotion:"AI",aiIsTired:"AI",language:"EN/",setting:"",controlPanel:"",languageSelection:"",systemVolume:"",reset:"",applyChanges:"",npc1Island1Dialog1:"",npc1Island1Dialog2:"...",npc1Island1Dialog3:" Sparky",npc2Island2Dialog1:"",npc2Island2Dialog2:" Sparky",npc3Island3Dialog1:"...",npc3Island3Dialog2:"",npc3Island3Dialog3:"  Sparky",randomDialog1:"...",randomDialog2:"...",randomDialog3:"",randomDialog4:"",randomDialog5:"",randomDialog6:"",randomDialog7:"",randomDialog8:"",randomDialog9:"...",sparkyRestored:"",phase2Complete:"",phase2GlitchMessage:"2AI NPC NPC",phase1Complete:"6/6 Sparky"},$f={en:n2,zh:o2},a2=(e,t)=>{var n;return((n=$f[e])==null?void 0:n[t])||$f.en[t]||t},hm=r.createContext(),Ia=()=>{const e=r.useContext(hm);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},s2=({children:e})=>{const[t,n]=r.useState("en");r.useEffect(()=>{const l=localStorage.getItem("aiJourneyLanguage");l&&(l==="en"||l==="zh")&&n(l)},[]);const i={language:t,changeLanguage:l=>{n(l),localStorage.setItem("aiJourneyLanguage",l)},t:l=>a2(t,l)};return a.jsx(hm.Provider,{value:i,children:e})},i2=({onStart:e,onContinue:t,onSignIn:n,onStartOver:o})=>{const{t:s}=Ia(),[i,l]=r.useState(!1),[u,p]=r.useState(""),[v,M]=r.useState(!1),{playClickSound:j}=wl();r.useEffect(()=>{const A=localStorage.getItem("aiJourneyUser");if(A){const g=JSON.parse(A);p(g.username||""),l(g.hasStarted===!0)}(()=>{const g={},y=localStorage.getItem("glacierProgress");if(y){const G=JSON.parse(y);g.glacier=G.isComplete?100:0}else g.glacier=0;const k=localStorage.getItem("islandProgress");if(k){const G=JSON.parse(k);g.island=G.islandRestored?100:0}else g.island=0;const P=localStorage.getItem("desertProgress");if(P){const G=JSON.parse(P);g.desert=G.isComplete?100:0}else g.desert=0;if(A){const U=JSON.parse(A).rangerMossPhase||1;g.fungi=U===5?100:0}else g.fungi=0;const _=g.fungi===100&&g.desert===100&&g.island===100&&g.glacier===100;M(_)})()},[]);const b=()=>{j();const A=localStorage.getItem("aiJourneyUser");if(A){const h=JSON.parse(A);h.hasStarted=!1,h.currentProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(h))}o?o():e()},m=()=>{j(),e()},E=()=>{j(),t?t():e()},L={container:{width:"100vw",height:"100vh",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",margin:0,padding:0},backgroundGif:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0},welcome:{position:"absolute",top:"30px",left:"40px",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:400,color:"#fff",zIndex:3},signInButton:{position:"absolute",top:"25px",right:"40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:400,color:"#fff",background:"transparent",border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"8px",padding:"10px 25px",zIndex:3,transition:"all 0.3s ease"},content:{position:"relative",zIndex:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},title:{fontFamily:"'Montserrat', sans-serif",fontSize:"90px",fontWeight:800,color:"#fff",marginBottom:"10px",textAlign:"center",letterSpacing:"8px",textShadow:"0 4px 20px rgba(0,0,0,0.5)"},subtitle:{fontFamily:"'Roboto', sans-serif",fontSize:"22px",fontWeight:300,color:"#fff",marginBottom:"50px",textAlign:"center",opacity:.9,textShadow:"0 2px 10px rgba(0,0,0,0.5)"},continueButton:{fontFamily:"'Montserrat', sans-serif",fontSize:"32px",fontWeight:700,color:"#fff",background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.85)), linear-gradient(90deg, #5170FF, #8B5CF6, #FF6B9D)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",padding:"25px 120px",borderRadius:"15px",letterSpacing:"3px",transition:"all 0.3s ease",marginBottom:"25px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},startOverButton:{fontFamily:"'Montserrat', sans-serif",fontSize:"22px",fontWeight:600,color:"#fff",background:"transparent",border:"none",padding:"10px 30px",letterSpacing:"2px",opacity:.9,transition:"opacity 0.3s ease",textShadow:"0 2px 10px rgba(0,0,0,0.5)"},cardWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 80px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.18)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)",position:"relative",overflow:"hidden",animation:"floatCard 3s ease-in-out infinite"},cardGradientOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(100, 149, 237, 0.2), rgba(75, 0, 130, 0.15))",borderRadius:"25px",zIndex:0,pointerEvents:"none"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"72px",fontWeight:800,color:"#fff",marginBottom:"16px",textAlign:"center",letterSpacing:"2px",textShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",position:"relative",zIndex:1},cardSubtitle:{fontFamily:"'Roboto', sans-serif",fontSize:"20px",fontWeight:300,color:"#fff",marginBottom:"40px",textAlign:"center",opacity:.95,textShadow:"0 1px 4px rgba(0, 0, 0, 0.3)",position:"relative",zIndex:1},startButton:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:500,color:"#fff",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"16px 60px",borderRadius:"30px",textTransform:"lowercase",letterSpacing:"2px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",position:"relative",zIndex:1},footer:{position:"absolute",bottom:"20px",right:"30px",fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:300,color:"#fff",opacity:.7,zIndex:3,textAlign:"right"},keyframes:`
      @keyframes floatCard {
        0%, 100% { 
          transform: translateY(0px); 
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        50% { 
          transform: translateY(-8px); 
          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
      }
    `};return a.jsxs("div",{style:L.container,children:[a.jsx("style",{children:L.keyframes}),a.jsx("img",{src:v?"/background/home_color.gif":"/background/home.gif",alt:"Background",style:L.backgroundGif}),a.jsx("span",{style:L.welcome,children:u?`${s("welcome").replace("!","")}, ${u}!`:s("welcome")}),a.jsx("button",{style:L.signInButton,onClick:n,onMouseOver:A=>{A.target.style.borderColor="#fff",A.target.style.background="rgba(255,255,255,0.1)"},onMouseOut:A=>{A.target.style.borderColor="rgba(255, 255, 255, 0.5)",A.target.style.background="transparent"},children:s("signIn")}),i?a.jsxs("div",{style:L.content,children:[a.jsx("h1",{style:L.title,children:s("aiJourneyTitle")}),a.jsx("p",{style:L.subtitle,children:s("aiJourneySubtitle")}),a.jsx("button",{style:L.continueButton,onClick:E,onMouseOver:A=>{A.target.style.transform="scale(1.05)",A.target.style.backgroundImage="linear-gradient(rgba(0, 0, 0, 0.95), rgba(0, 0, 0, 0.95)), linear-gradient(90deg, #5170FF, #8B5CF6, #FF6B9D)",A.target.style.boxShadow="0 12px 40px rgba(81, 112, 255, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},onMouseOut:A=>{A.target.style.transform="scale(1)",A.target.style.backgroundImage="linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.85)), linear-gradient(90deg, #5170FF, #8B5CF6, #FF6B9D)",A.target.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:s("continueGame")}),a.jsx("button",{style:L.startOverButton,onClick:b,onMouseOver:A=>A.target.style.opacity="0.6",onMouseOut:A=>A.target.style.opacity="0.9",children:s("startOver")})]}):a.jsxs("div",{style:L.cardWrapper,children:[a.jsx("div",{style:L.cardGradientOverlay}),a.jsx("h1",{style:L.cardTitle,children:s("aiJourneyTitle")}),a.jsx("p",{style:L.cardSubtitle,children:s("aiJourneySubtitle")}),a.jsx("button",{style:L.startButton,onClick:m,onMouseOver:A=>{A.target.style.background="rgba(0, 0, 0, 0.8)",A.target.style.transform="scale(1.05)",A.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)"},onMouseOut:A=>{A.target.style.background="rgba(0, 0, 0, 0.6)",A.target.style.transform="scale(1)",A.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:s("start")})]}),a.jsxs("div",{style:L.footer,children:[a.jsx("div",{children:"Ver 0.8.0 Beta"}),a.jsx("div",{children:" 2026 Zhihui ZHANG All Rights Reserved."})]})]})},l2=({onClose:e,onSignUpComplete:t})=>{const{t:n}=Ia(),[o,s]=r.useState(!1),[i,l]=r.useState({username:"",password:"",email:""}),[u,p]=r.useState(""),[v,M]=r.useState(null),{playClickSound:j}=wl(),b=h=>{const{name:g,value:y}=h.target;l(k=>({...k,[g]:y})),p("")},m=h=>{h.preventDefault(),j();const g=localStorage.getItem("aiJourneyUser");if(g){const y=JSON.parse(g);(y.username===i.username||y.email===i.username)&&y.password===i.password?(console.log("Sign in successful:",y),t&&t(y),e()):p(n("invalidCredentials"))}else p(n("noAccountFound"))},E=h=>{h.preventDefault(),j();const g=localStorage.getItem("aiJourneyUser");if(g){const k=JSON.parse(g);if(k.username===i.username||k.email===i.email){p(n("userAlreadyExists"));return}}console.log("Sign up data:",i);const y={username:i.username,email:i.email,password:i.password,hasStarted:!1,currentProgress:null,createdAt:Date.now()};localStorage.setItem("aiJourneyUser",JSON.stringify(y)),t&&t(y),e()},L=()=>{j(),s(!o),l({username:"",password:"",email:""}),p("")},A={overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{position:"relative",width:"560px",padding:"40px 50px",borderRadius:"25px",background:"rgba(0, 0, 10, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.18)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(81, 112, 255, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)",animation:"scaleIn 0.3s ease-out"},title:{fontFamily:"'Roboto', sans-serif",fontSize:"24px",fontWeight:400,color:"#fff",textAlign:"center",marginBottom:"35px"},form:{display:"flex",flexDirection:"column",gap:"20px"},inputRow:{display:"flex",alignItems:"center",gap:"20px",position:"relative"},label:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:400,color:"#fff",width:"120px",textAlign:"right",flexShrink:0},inputWrapper:{flex:1,position:"relative",display:"flex",alignItems:"center"},input:{flex:1,fontFamily:"'Roboto', sans-serif",fontSize:"16px",padding:"12px 16px",borderRadius:"25px",border:"2px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(0, 0, 0, 0.3)",color:"#fff",outline:"none",transition:"all 0.3s"},spaceshipIcon:{position:"absolute",right:"15px",width:"24px",height:"24px",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"},submitButton:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:500,color:"#fff",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"16px 60px",borderRadius:"30px",cursor:"pointer",letterSpacing:"2px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",marginTop:"15px",position:"relative"},toggleButton:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:400,color:"#5170FF",background:"transparent",border:"none",padding:"10px 15px",cursor:"pointer",textAlign:"center",transition:"opacity 0.2s",textDecoration:"underline"},error:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ff6b6b",textAlign:"center",marginTop:"10px"},toggleText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",textAlign:"center",marginTop:"20px",opacity:.8}};return a.jsx("div",{style:A.overlay,onClick:e,children:a.jsxs("div",{style:A.modal,onClick:h=>h.stopPropagation(),children:[a.jsx("h2",{style:A.title,children:n(o?"signUpTitle":"signInTitle")}),a.jsxs("form",{style:A.form,onSubmit:o?E:m,children:[a.jsxs("div",{style:A.inputRow,children:[a.jsx("label",{style:A.label,children:n(o?"userName":"userNameEmail")}),a.jsxs("div",{style:A.inputWrapper,children:[a.jsx("input",{type:"text",name:"username",value:i.username,onChange:b,style:A.input,placeholder:n(o?"enterUsername":"enterUsernameOrEmail"),onMouseEnter:()=>M("username"),onMouseLeave:()=>M(null),onFocus:h=>{h.target.style.borderColor="#5170FF",h.target.style.backgroundColor="rgba(0, 0, 0, 0.5)",h.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.5)"},onBlur:h=>{h.target.style.borderColor="rgba(255, 255, 255, 0.3)",h.target.style.backgroundColor="rgba(0, 0, 0, 0.3)",h.target.style.boxShadow="none"},required:!0}),a.jsx("img",{src:"/icon/spaceship.svg",alt:"spaceship",style:{...A.spaceshipIcon,opacity:v==="username"?1:0}})]})]}),a.jsxs("div",{style:A.inputRow,children:[a.jsx("label",{style:A.label,children:n("password")}),a.jsxs("div",{style:A.inputWrapper,children:[a.jsx("input",{type:"password",name:"password",value:i.password,onChange:b,style:A.input,placeholder:n("enterPassword"),onMouseEnter:()=>M("password"),onMouseLeave:()=>M(null),onFocus:h=>{h.target.style.borderColor="#5170FF",h.target.style.backgroundColor="rgba(0, 0, 0, 0.5)",h.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.5)"},onBlur:h=>{h.target.style.borderColor="rgba(255, 255, 255, 0.3)",h.target.style.backgroundColor="rgba(0, 0, 0, 0.3)",h.target.style.boxShadow="none"},required:!0}),a.jsx("img",{src:"/icon/spaceship.svg",alt:"spaceship",style:{...A.spaceshipIcon,opacity:v==="password"?1:0}})]})]}),o&&a.jsxs("div",{style:A.inputRow,children:[a.jsx("label",{style:A.label,children:n("email")}),a.jsxs("div",{style:A.inputWrapper,children:[a.jsx("input",{type:"email",name:"email",value:i.email,onChange:b,style:A.input,placeholder:n("enterEmail"),onMouseEnter:()=>M("email"),onMouseLeave:()=>M(null),onFocus:h=>{h.target.style.borderColor="#5170FF",h.target.style.backgroundColor="rgba(0, 0, 0, 0.5)",h.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.5)"},onBlur:h=>{h.target.style.borderColor="rgba(255, 255, 255, 0.3)",h.target.style.backgroundColor="rgba(0, 0, 0, 0.3)",h.target.style.boxShadow="none"},required:!0}),a.jsx("img",{src:"/icon/spaceship.svg",alt:"spaceship",style:{...A.spaceshipIcon,opacity:v==="email"?1:0}})]})]}),u&&a.jsx("div",{style:A.error,children:u}),a.jsx("button",{type:"submit",style:A.submitButton,onMouseOver:h=>{h.target.style.background="rgba(0, 0, 0, 0.8)",h.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)",h.target.style.transform="translateY(-2px)"},onMouseOut:h=>{h.target.style.background="rgba(0, 0, 0, 0.6)",h.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)",h.target.style.transform="translateY(0)"},children:n("done")})]}),a.jsxs("div",{style:A.toggleText,children:[n(o?"alreadyHaveAccount":"dontHaveAccount"),a.jsx("button",{style:A.toggleButton,onClick:L,onMouseOver:h=>h.target.style.opacity="0.7",onMouseOut:h=>h.target.style.opacity="1",children:n(o?"signInTitle":"signUp")})]})]})})},Ks=[{text:"System reconnecting... Connection established! Signal stable! ly, you're here! Oh, I forgot to introduce myself. Hello there, Human! I'm Glitch. I used to be the fastest Data Sprite in this city!",highlights:["System reconnecting","Connection established","Signal stable","Glitch","Data Sprite"]},{text:"But ever since the Great Blackout, the entire city has been paralyzed. Everyone is trapped. The big robots are frozen without power, and creatures like me... well, I can only fly for short bursts on my emergency battery reserves.",highlights:["Great Blackout","paralyzed","trapped","frozen without power","emergency battery reserves"]},{text:"Our world consumes massive amounts of energy, which comes from four outer regions. To save the city, we need to inspect those areas and restart the main 'Energy Core'.",highlights:["massive amounts of energy","four outer regions","Energy Core"]},{text:"Please, will you help us? If we don't act now, our world will fade into permanent darkness. Here are the four regions... I suggest we start by checking the Fungi Jungle.",highlights:["help us","permanent darkness","four regions","Fungi Jungle"]}],r2=({onComplete:e})=>{var L;const[t,n]=r.useState(0),[o,s]=r.useState(""),[i,l]=r.useState(!0),[u,p]=r.useState(!0),[v,M]=r.useState(!1);r.useEffect(()=>{const A=setTimeout(()=>{M(!0)},2e3);return()=>clearTimeout(A)},[]),r.useEffect(()=>{if(t>=Ks.length||!v)return;const A=Ks[t].text;let h=0;s(""),l(!0);const g=setInterval(()=>{h<A.length?(s(A.substring(0,h+1)),h++):(l(!1),clearInterval(g))},30);return()=>clearInterval(g)},[t,v]),r.useEffect(()=>{const A=setInterval(()=>{p(h=>!h)},500);return()=>clearInterval(A)},[]);const j=()=>{i?(s(Ks[t].text),l(!1)):t<Ks.length-1?n(A=>A+1):e()},b=()=>{e()},m=(A,h)=>{let g=A;return h.forEach(y=>{const k=new RegExp(`(${y})`,"gi");g=g.replace(k,'<span style="color: #FFFFFF; font-weight: 600;">$1</span>')}),a.jsx("span",{dangerouslySetInnerHTML:{__html:g}})},E={container:{width:"100%",height:"100vh",position:"relative",display:"flex",alignItems:"flex-end",overflow:"hidden",background:"#1a1a2e"},backgroundGif:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,opacity:.8},npcContainer:{position:"absolute",bottom:"50px",left:"50px",zIndex:2,opacity:v?1:0,transition:"opacity 0.5s ease-in-out"},npcImage:{width:"300px",height:"auto",filter:"drop-shadow(0 0 20px rgba(81, 112, 255, 0.5))"},dialogueContainer:{position:"absolute",bottom:"80px",left:"380px",right:"80px",zIndex:3,opacity:v?1:0,transition:"opacity 0.5s ease-in-out"},dialogueBox:{padding:"30px 40px",borderRadius:"25px",background:"rgba(71, 23, 101, 0.7)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"2px solid rgba(205, 165, 247, 0.3)",boxShadow:"0 8px 32px 0 rgba(71, 23, 101, 0.5)",position:"relative"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:400,color:"#CDA5F7",lineHeight:2,marginBottom:"20px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},cursor:{display:"inline-block",width:"2px",height:"20px",backgroundColor:"#fff",marginLeft:"2px",verticalAlign:"middle",opacity:u&&i?1:0},buttonContainer:{display:"flex",gap:"15px",justifyContent:"flex-end"},continueButton:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#fff",background:"#CDA5F7",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(205, 165, 247, 0.8)",padding:"10px 30px",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 0 15px rgba(205, 165, 247, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},skipButton:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#fff",background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.4)",padding:"10px 30px",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},progressIndicator:{position:"absolute",top:"15px",right:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"rgba(255, 255, 255, 0.5)"}};return a.jsxs("div",{style:E.container,children:[a.jsx("img",{src:"/background/story.gif",alt:"Background",style:E.backgroundGif}),v&&a.jsx("div",{style:E.npcContainer,children:a.jsx("img",{src:"/npc/npc.gif",alt:"Glitch NPC",style:E.npcImage})}),v&&a.jsx("div",{style:E.dialogueContainer,children:a.jsxs("div",{style:E.dialogueBox,children:[a.jsxs("span",{style:E.progressIndicator,children:[t+1," / ",Ks.length]}),a.jsxs("p",{style:E.dialogueText,children:[m(o,((L=Ks[t])==null?void 0:L.highlights)||[]),a.jsx("span",{style:E.cursor})]}),a.jsxs("div",{style:E.buttonContainer,children:[a.jsx("button",{style:E.skipButton,onClick:b,onMouseOver:A=>{A.target.style.background="rgba(255, 255, 255, 0.4)",A.target.style.borderColor="rgba(255, 255, 255, 0.6)",A.target.style.transform="scale(1.02)"},onMouseOut:A=>{A.target.style.background="rgba(255, 255, 255, 0.3)",A.target.style.borderColor="rgba(255, 255, 255, 0.4)",A.target.style.transform="scale(1)"},children:"Skip"}),a.jsx("button",{style:E.continueButton,onClick:j,onMouseOver:A=>{A.target.style.background="#B88FE8",A.target.style.boxShadow="0 0 20px rgba(205, 165, 247, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.3)",A.target.style.transform="scale(1.02)"},onMouseOut:A=>{A.target.style.background="#CDA5F7",A.target.style.boxShadow="0 0 15px rgba(205, 165, 247, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)",A.target.style.transform="scale(1)"},children:t<Ks.length-1?"Continue":"Enter Map"})]})]})})]})};class c2{constructor(){this.volume=85,this.isMuted=!1,this.listeners=new Set,this.audioElements=new Set;const t=localStorage.getItem("systemVolume");t&&(this.volume=parseInt(t))}registerAudio(t){t&&(this.audioElements.add(t),this.updateAudioVolume(t))}unregisterAudio(t){t&&this.audioElements.delete(t)}setVolume(t){this.volume=Math.max(0,Math.min(100,t)),localStorage.setItem("systemVolume",this.volume.toString()),this.updateAllAudioVolumes(),this.notifyListeners()}getVolume(){return this.volume}toggleMute(){this.isMuted=!this.isMuted,this.updateAllAudioVolumes(),this.notifyListeners()}isMutedStatus(){return this.isMuted}updateAudioVolume(t){if(t){const n=this.isMuted?0:this.volume/100;t.volume=n}}updateAllAudioVolumes(){this.audioElements.forEach(t=>{this.updateAudioVolume(t)})}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notifyListeners(){this.listeners.forEach(t=>{t({volume:this.volume,isMuted:this.isMuted})})}}const Wa=new c2,u2=({position:e="topLeft"})=>{const{language:t,changeLanguage:n,t:o}=Ia(),[s,i]=r.useState(!1),[l,u]=r.useState(Wa.getVolume()),[p,v]=r.useState(Wa.getVolume()),[M,j]=r.useState(Wa.isMutedStatus());r.useEffect(()=>Wa.subscribe(({volume:k,isMuted:P})=>{u(k),j(P)}),[]),r.useEffect(()=>{s&&v(l)},[s,l]);const b=()=>{switch(e){case"topLeft":return{top:"5%",left:"5%"};case"topRight":return{top:"20px",right:"20px"};default:return{top:"5%",left:"5%"}}},m=y=>{n(y)},E=y=>{v(parseInt(y.target.value))},L=()=>{Wa.toggleMute()},A=()=>{v(85)},h=()=>{Wa.setVolume(p),i(!1)},g={container:{position:"absolute",...b(),zIndex:100},settingButton:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",backdropFilter:"blur(5px)"},settingIcon:{width:"18px",height:"18px",objectFit:"contain"},panel:{position:"absolute",top:"50px",left:"0",width:"320px",padding:"20px",borderRadius:"15px",background:"#e5e6e0",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",animation:"slideDown 0.3s ease-out"},panelHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"15px",borderBottom:"1px solid rgba(0, 0, 0, 0.1)"},panelTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#333",margin:0},closeButton:{background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},section:{marginBottom:"20px"},sectionHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},sectionHeaderLeft:{display:"flex",alignItems:"center",gap:"8px"},sectionIcon:{width:"20px",height:"20px",objectFit:"contain"},sectionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",fontWeight:600,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",margin:0},languageButtons:{display:"flex",gap:"10px"},languageButton:{flex:1,padding:"10px",borderRadius:"10px",border:"none",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",background:"rgba(255, 255, 255, 0.5)",color:"#333"},languageButtonActive:{background:"rgba(0, 0, 0, 0.9)",color:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},volumeControl:{display:"flex",alignItems:"center",gap:"12px"},volumeValue:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",minWidth:"50px",textAlign:"right"},muteButton:{background:"none",border:"none",cursor:"pointer",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},muteIcon:{width:"24px",height:"24px",objectFit:"contain"},volumeIcon:{width:"24px",height:"24px",objectFit:"contain",flexShrink:0},sliderWrapper:{flex:1,display:"flex",alignItems:"center",position:"relative"},slider:{flex:1,height:"8px",borderRadius:"4px",background:"#d9d7de",outline:"none",WebkitAppearance:"none",appearance:"none",cursor:"pointer",margin:"0"},actionButtons:{display:"flex",gap:"10px",marginTop:"20px"},resetButton:{flex:"0 0 35%",padding:"10px",borderRadius:"10px",border:"1px solid rgba(0, 0, 0, 0.2)",background:"rgba(255, 255, 255, 0.5)",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s"},applyButton:{flex:"0 0 60%",padding:"10px",borderRadius:"10px",border:"none",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#fff",cursor:"pointer",transition:"all 0.2s"},keyframes:`
      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    `};return a.jsxs("div",{style:g.container,children:[a.jsx("style",{children:g.keyframes}),a.jsx("style",{children:`
        input[type="range"] {
          -webkit-appearance: none;
          appearance: none;
        }
        input[type="range"]::-webkit-slider-thumb {
          -webkit-appearance: none;
          appearance: none;
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #000;
          cursor: pointer;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
          margin-top: -6px;
        }
        input[type="range"]::-moz-range-thumb {
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #000;
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }
        input[type="range"]::-webkit-slider-runnable-track {
          height: 8px;
          border-radius: 4px;
          background: linear-gradient(to right, #4c4cef 0%, #4c4cef ${p}%, #d9d7de ${p}%, #d9d7de 100%);
        }
        input[type="range"]::-moz-range-track {
          height: 8px;
          border-radius: 4px;
          background: #d9d7de;
        }
        input[type="range"]::-moz-range-progress {
          height: 8px;
          border-radius: 4px;
          background: #4c4cef;
        }
      `}),a.jsxs("button",{style:g.settingButton,onClick:()=>i(!s),onMouseOver:y=>{y.currentTarget.style.background="rgba(0, 0, 0, 0.5)",y.currentTarget.style.transform="scale(1.05)"},onMouseOut:y=>{y.currentTarget.style.background="rgba(0, 0, 0, 0.3)",y.currentTarget.style.transform="scale(1)"},children:[a.jsx("img",{src:"/icon/setting.png",alt:"Settings",style:g.settingIcon}),a.jsx("span",{children:o("setting")})]}),s&&a.jsxs("div",{style:g.panel,children:[a.jsxs("div",{style:g.panelHeader,children:[a.jsx("h3",{style:g.panelTitle,children:o("controlPanel")}),a.jsx("button",{style:g.closeButton,onClick:()=>i(!1),onMouseOver:y=>{y.target.style.color="#333",y.target.style.transform="scale(1.1)"},onMouseOut:y=>{y.target.style.color="#999",y.target.style.transform="scale(1)"},children:""})]}),a.jsxs("div",{style:g.section,children:[a.jsxs("div",{style:g.sectionHeader,children:[a.jsx("img",{src:"/icon/language.png",alt:"Language",style:g.sectionIcon}),a.jsx("h4",{style:g.sectionTitle,children:o("languageSelection")})]}),a.jsxs("div",{style:g.languageButtons,children:[a.jsx("button",{style:{...g.languageButton,...t==="zh"?g.languageButtonActive:{}},onClick:()=>m("zh"),children:""}),a.jsx("button",{style:{...g.languageButton,...t==="en"?g.languageButtonActive:{}},onClick:()=>m("en"),children:"ENGLISH"})]})]}),a.jsxs("div",{style:g.section,children:[a.jsxs("div",{style:g.sectionHeader,children:[a.jsxs("div",{style:g.sectionHeaderLeft,children:[a.jsx("img",{src:"/icon/volume.png",alt:"Volume",style:g.sectionIcon}),a.jsx("h4",{style:g.sectionTitle,children:o("systemVolume")})]}),a.jsxs("span",{style:g.volumeValue,children:[p,"%"]})]}),a.jsxs("div",{style:g.volumeControl,children:[a.jsx("button",{style:g.muteButton,onClick:L,onMouseOver:y=>{y.currentTarget.style.transform="scale(1.1)"},onMouseOut:y=>{y.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/icon/mute.png",alt:"Mute",style:g.muteIcon})}),a.jsx("div",{style:g.sliderWrapper,children:a.jsx("input",{type:"range",min:"0",max:"100",value:p,onChange:E,style:g.slider})}),a.jsx("img",{src:"/icon/volume.png",alt:"Volume",style:g.volumeIcon})]})]}),a.jsxs("div",{style:g.actionButtons,children:[a.jsx("button",{style:g.resetButton,onClick:A,onMouseOver:y=>{y.target.style.background="rgba(255, 255, 255, 0.7)",y.target.style.transform="scale(1.02)"},onMouseOut:y=>{y.target.style.background="rgba(255, 255, 255, 0.5)",y.target.style.transform="scale(1)"},children:o("reset")}),a.jsx("button",{style:g.applyButton,onClick:h,onMouseOver:y=>{y.target.style.background="rgba(0, 0, 0, 0.95)",y.target.style.transform="scale(1.02)"},onMouseOut:y=>{y.target.style.background="rgba(0, 0, 0, 0.8)",y.target.style.transform="scale(1)"},children:o("applyChanges")})]})]})]})},Ii=()=>{try{const e=new Audio("/sound/select.mp3");e.volume=.6,e.play().catch(t=>{console.log("Could not play select sound:",t)})}catch(e){console.log("Error creating select audio:",e)}},d2=()=>{try{const e=new Audio("/sound/hum.mp3");e.volume=.5,e.play().catch(t=>{console.log("Could not play hum sound:",t)})}catch(e){console.log("Error creating hum audio:",e)}},p2=e=>[{id:"fungi",name:e("fungiJungle"),regionNumber:1,stars:1,position:{top:"52%",left:"5%"},cardPosition:{top:"15%",left:"5%"},description:e("fungiDescription"),difficulty:e("easyDifficulty"),available:!0},{id:"desert",name:e("desert"),regionNumber:2,stars:2,position:{top:"5%",left:"30%"},cardPosition:{top:"15%",left:"30%"},description:e("desertDescription"),difficulty:e("intermediateDifficulty"),available:!0},{id:"glacier",name:e("glacier"),regionNumber:4,stars:3,position:{bottom:"8%",left:"45%"},cardPosition:{bottom:"22%",left:"45%"},description:e("glacierDescription"),difficulty:e("advancedDifficulty"),available:!0},{id:"island",name:e("island"),regionNumber:3,stars:3,position:{top:"35%",right:"5%"},cardPosition:{top:"38%",right:"5%"},description:e("islandDescription"),difficulty:e("advancedDifficulty"),available:!0},{id:"centralCity",name:e("centralCity"),regionNumber:5,stars:4,position:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},cardPosition:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},description:e("centralCityDescription"),difficulty:e("expertDifficulty"),available:!1}],g2=({onRegionClick:e})=>{var Ae,B,Y,se,K,he;const{t}=Ia(),n=p2(t),[o,s]=r.useState(!1),[i,l]=r.useState(!1),[u,p]=r.useState(null),[v,M]=r.useState(!1),[j,b]=r.useState(null),[m,E]=r.useState(!1),[L,A]=r.useState(""),[h,g]=r.useState({}),[y,k]=r.useState(!1);r.useEffect(()=>{const O=setTimeout(()=>{M(!0)},300);return()=>clearTimeout(O)},[]),r.useEffect(()=>{const O=()=>{var cn,Ke;const Ie={},Ye=localStorage.getItem("aiJourneyUser"),Je=Ye?JSON.parse(Ye):null,_e=localStorage.getItem("glacierProgress");if(_e){const ie=JSON.parse(_e);let q=0;ie.completedCases&&ie.completedCases.length>0&&(q+=ie.completedCases.length/5*25),ie.courtSummaryCompleted&&(q+=25),ie.rooftopCompletedTasks&&ie.rooftopCompletedTasks.length>0&&(q+=ie.rooftopCompletedTasks.length/3*25),ie.isComplete&&(q=100),Ie.glacier=Math.round(q)}else Ie.glacier=0;const Ce=localStorage.getItem("islandProgress");if(Ce){const ie=JSON.parse(Ce);let q=0;ie.islandRestored?q=100:ie.phase2Completed?ie.showFinalSparkyDialogue||ie.finalDialogueStep>0?q=80+(ie.finalDialogueStep||0)/5*20:q=80:ie.missionCompleted&&ie.phase2Active?q=40+(((cn=ie.phase2CompletedMissions)==null?void 0:cn.length)||0)/5*40:ie.missionActive&&(q=(((Ke=ie.completedMissions)==null?void 0:Ke.length)||0)/9*40),Ie.island=Math.round(q)}else Ie.island=0;if(Je&&Je.desertProgress){const ie=Je.desertProgress;console.log("MapView - Loading Desert progress:",{mission1Completed:ie.mission1Completed,mission2Completed:ie.mission2Completed,mission3Completed:ie.mission3Completed,mission4Completed:ie.mission4Completed,colorMode:ie.colorMode,mission4Complete:ie.mission4Complete});let q=0;ie.mission1Completed&&(q+=25),ie.mission2Completed&&(q+=25),ie.mission3Completed&&(q+=25),ie.mission4Completed&&(q+=25),console.log("MapView - Desert progress calculated:",q+"%"),Ie.desert=q}else Ie.desert=0;if(Je){const q=(Je.rangerMossPhase||1)*20;Ie.fungi=Math.min(q,100)}else Ie.fungi=0;const le=Ie.fungi===100&&Ie.desert===100&&Ie.island===100&&Ie.glacier===100;k(le),g(Ie)};O();const we=()=>{O()};return window.addEventListener("storage",we),()=>window.removeEventListener("storage",we)},[]);const P=u!==null,_=O=>{if(Ii(),j===O&&!m){p(u===O?null:O);return}b(O),E(!0),setTimeout(()=>{E(!1),p(O)},800)},G=()=>{Ii(),p(null),b(null)},U=()=>{L.trim()&&(Ii(),console.log("User message to Glitch:",L),A(""))},oe=O=>{O.key==="Enter"&&U()},me=O=>{if(!j)return"scale(1) translate(0, 0)";switch(O){case"island":return"scale(3) translate(-25%, 25%)";case"desert":return"scale(3) translate(25%, 25%)";case"fungi":return"scale(3) translate(25%, -25%)";case"glacier":return"scale(3) translate(-25%, -25%)";default:return"scale(1) translate(0, 0)"}},ae={container:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},backgroundGif:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transition:"transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)",transformOrigin:"center center"},npcContainer:{position:"absolute",top:"20px",right:"20px",width:"120px",height:"120px",cursor:"pointer",zIndex:10,transition:"opacity 0.3s ease"},npcImage:{width:"120px",height:"120px",objectFit:"contain",transition:"transform 0.3s ease",animation:o?"breathe 1s ease-in-out infinite":"none"},aboutMeButton:{position:"absolute",bottom:"5%",right:"5%",display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",backdropFilter:"blur(5px)",zIndex:100,textDecoration:"none"},aboutMeIcon:{width:"18px",height:"18px",objectFit:"contain"},npcDialogue:{position:"absolute",top:"20px",right:"150px",padding:"20px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #af4dca",zIndex:10,minWidth:"280px",maxWidth:"320px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)"},npcDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},npcDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#af4dca",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},npcDialogueAvatarIcon:{fontSize:"24px"},npcDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#af4dca",margin:0},npcDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:"0 0 15px 0"},npcDialogueInputContainer:{display:"flex",alignItems:"center",backgroundColor:"#d9d7de",borderRadius:"20px",border:"2px solid #d9d7de",overflow:"hidden",transition:"border-color 0.2s"},npcDialogueInput:{flex:1,padding:"10px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",outline:"none"},npcDialogueDivider:{width:"2px",height:"24px",backgroundColor:"#af4dca",margin:"0 8px",flexShrink:0},npcDialogueSendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s",flexShrink:0},npcDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},npcDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},regionLabel:{position:"absolute",width:"280px",padding:"15px 20px",borderRadius:"20px",border:"2px solid transparent",background:"rgba(255, 255, 255, 0.98)",fontFamily:"'Montserrat', sans-serif",cursor:"pointer",zIndex:5,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:`
        0 20px 40px rgba(0, 0, 0, 0.25),
        0 8px 16px rgba(0, 0, 0, 0.15),
        0 4px 8px rgba(0, 0, 0, 0.1),
        inset 0 2px 4px rgba(255, 255, 255, 1),
        inset 0 -2px 4px rgba(0, 0, 0, 0.08)
      `,backgroundImage:`
        linear-gradient(to bottom, 
          rgba(255, 255, 255, 1) 0%, 
          rgba(255, 255, 255, 0.98) 50%,
          rgba(245, 245, 250, 0.98) 100%
        ),
        linear-gradient(135deg, 
          rgba(81, 112, 255, 1) 0%, 
          rgba(255, 107, 157, 1) 25%,
          rgba(255, 200, 100, 1) 50%,
          rgba(255, 107, 157, 1) 75%,
          rgba(81, 112, 255, 1) 100%
        )
      `,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},regionLabelHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},regionLabelRegion:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",fontWeight:600,color:"#999",textTransform:"uppercase",letterSpacing:"1px"},regionLabelStars:{display:"flex",gap:"3px"},regionLabelStarIcon:{width:"16px",height:"16px",objectFit:"contain"},regionLabelTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:800,color:"#000",textTransform:"uppercase",marginBottom:"10px",lineHeight:1.2},regionLabelProgressContainer:{width:"100%",height:"6px",backgroundColor:"#E0E0E0",borderRadius:"3px",overflow:"hidden"},regionLabelProgressFill:{height:"100%",backgroundColor:"#777777",borderRadius:"3px",transition:"width 0.3s ease"},regionCard:{position:"absolute",width:"450px",padding:"30px",paddingBottom:"30px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"2px solid transparent",backgroundImage:`
        linear-gradient(to bottom, 
          rgba(255, 255, 255, 1) 0%, 
          rgba(255, 255, 255, 0.98) 50%,
          rgba(248, 248, 252, 0.98) 100%
        ),
        linear-gradient(135deg, 
          rgba(81, 112, 255, 1) 0%, 
          rgba(255, 107, 157, 1) 20%,
          rgba(255, 200, 100, 1) 40%,
          rgba(100, 255, 218, 1) 60%,
          rgba(255, 107, 157, 1) 80%,
          rgba(81, 112, 255, 1) 100%
        )
      `,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",zIndex:20,boxShadow:`
        0 30px 60px rgba(0, 0, 0, 0.3),
        0 15px 30px rgba(0, 0, 0, 0.2),
        0 8px 16px rgba(0, 0, 0, 0.15),
        inset 0 3px 6px rgba(255, 255, 255, 1),
        inset 0 -3px 6px rgba(0, 0, 0, 0.1)
      `,animation:"fadeInUp 0.3s ease-out"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},cardCloseButton:{background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",marginLeft:"10px",flexShrink:0},cardRegionLabel:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",fontWeight:600,color:"#999",textTransform:"uppercase",letterSpacing:"1.5px",marginBottom:"5px"},cardStars:{display:"flex",gap:"6px"},starIcon:{width:"24px",height:"24px",objectFit:"contain"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"32px",fontWeight:900,color:"#000",marginBottom:"18px",textTransform:"uppercase",lineHeight:1.1,letterSpacing:"1px"},progressBarContainer:{width:"100%",height:"10px",backgroundColor:"#E0E0E0",borderRadius:"5px",overflow:"hidden",marginBottom:"20px"},progressBarFill:{height:"100%",backgroundColor:"#777777",borderRadius:"5px",transition:"width 0.3s ease"},cardDescription:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.7,marginBottom:"12px",textAlign:"left"},cardDifficulty:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#666",marginBottom:"20px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},goButton:{display:"block",width:"100%",margin:"0 auto 12px auto",padding:"16px 0",borderRadius:"12px",border:"none",background:"#000",fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:700,color:"#fff",cursor:"pointer",transition:"all 0.2s ease",textTransform:"uppercase",letterSpacing:"1px"},startOverButton:{display:"block",width:"100%",margin:"0 auto",padding:"8px 0",borderRadius:"8px",border:"none",background:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:500,color:"#666",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center"},lockedButton:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",margin:"0 auto",padding:"16px 0",borderRadius:"12px",border:"none",background:"#999",fontFamily:"'Montserrat', sans-serif",fontSize:"18px",fontWeight:600,color:"#fff",cursor:"not-allowed"},cardNpc:{position:"absolute",bottom:"20px",left:"-60px",width:"140px",height:"140px",objectFit:"contain",zIndex:21},keyframes:`
      @keyframes breathe {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.08); }
      }
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    `},ve=()=>n.find(O=>O.id===u),It=O=>{if(!O)return"";switch(O.id){case"island":return t("island");case"desert":return t("desert");case"fungi":return t("fungiJungle");case"glacier":return t("glacier");case"centralCity":return t("centralCity");default:return O.name}},We=O=>Array.from({length:O}).map((we,Ie)=>a.jsx("img",{src:"/icon/star.png",alt:"star",style:ae.starIcon},Ie));return a.jsxs("div",{style:ae.container,children:[a.jsx("style",{children:ae.keyframes}),!m&&a.jsx(u2,{position:"topLeft"}),!m&&a.jsxs("a",{href:"https://sirazhang.github.io",target:"_blank",rel:"noopener noreferrer",style:{...ae.aboutMeButton,opacity:P||m?0:1,pointerEvents:P||m?"none":"auto"},onClick:Ii,onMouseEnter:O=>{O.currentTarget.style.background="rgba(0, 0, 0, 0.5)",O.currentTarget.style.transform="scale(1.05)"},onMouseLeave:O=>{O.currentTarget.style.background="rgba(0, 0, 0, 0.3)",O.currentTarget.style.transform="scale(1)"},children:[a.jsx("img",{src:"/icon/me.png",alt:"About Me",style:ae.aboutMeIcon}),a.jsx("span",{children:"About Me"})]}),a.jsx("img",{src:y?"/background/map_color.gif":"/background/map.gif",alt:"Map Background",style:{...ae.backgroundGif,transform:j?me(j):"scale(1) translate(0, 0)"}}),a.jsx("div",{style:{...ae.npcContainer,opacity:P||m?0:1,pointerEvents:P||m?"none":"auto"},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:()=>{d2(),l(!0)},children:a.jsx("img",{src:"/npc/npc1.png",alt:"Glitch",style:ae.npcImage})}),i&&!P&&!m&&a.jsxs("div",{style:ae.npcDialogue,children:[a.jsx("button",{style:ae.npcDialogueCloseButton,onClick:()=>l(!1),onMouseOver:O=>{O.target.style.color="#333",O.target.style.transform="scale(1.1)"},onMouseOut:O=>{O.target.style.color="#999",O.target.style.transform="scale(1)"},children:""}),a.jsxs("div",{style:ae.npcDialogueHeader,children:[a.jsx("div",{style:ae.npcDialogueAvatar,children:a.jsx("span",{style:ae.npcDialogueAvatarIcon,children:""})}),a.jsx("h4",{style:ae.npcDialogueName,children:"Glitch"})]}),a.jsx("p",{style:ae.npcDialogueText,children:"I suggest go to the Fungi Jungle first."}),a.jsxs("div",{style:ae.npcDialogueInputContainer,onFocus:O=>{O.currentTarget.style.borderColor="#af4dca"},onBlur:O=>{O.currentTarget.style.borderColor="#d9d7de"},children:[a.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:L,onChange:O=>A(O.target.value),onKeyPress:oe,style:ae.npcDialogueInput}),a.jsx("div",{style:ae.npcDialogueDivider}),a.jsx("button",{onClick:U,style:ae.npcDialogueSendButton,onMouseOver:O=>{O.currentTarget.style.transform="scale(1.1)"},onMouseOut:O=>{O.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/icon/send.png",alt:"Send",style:ae.npcDialogueSendIcon})})]})]}),n.filter(O=>O.id==="centralCity"?y:!0).map((O,we)=>a.jsxs("div",{style:{...ae.regionLabel,...O.position,opacity:v&&!j?1:0,transform:v&&!j?"translateY(0)":"translateY(20px)",transitionDelay:`${we*.1}s`,pointerEvents:j?"none":"auto",...u===O.id?{boxShadow:`
                0 25px 50px rgba(81, 112, 255, 0.4),
                0 12px 24px rgba(81, 112, 255, 0.3),
                0 6px 12px rgba(81, 112, 255, 0.2),
                inset 0 3px 6px rgba(255, 255, 255, 1),
                inset 0 -2px 4px rgba(0, 0, 0, 0.08)
              `,transform:"translateY(-8px) scale(1.03)"}:{}},onClick:()=>_(O.id),onMouseEnter:Ie=>{u!==O.id&&(Ie.currentTarget.style.transform="translateY(-8px) scale(1.03)",Ie.currentTarget.style.boxShadow=`
                0 25px 50px rgba(0, 0, 0, 0.3),
                0 12px 24px rgba(0, 0, 0, 0.2),
                0 6px 12px rgba(0, 0, 0, 0.15),
                inset 0 3px 6px rgba(255, 255, 255, 1),
                inset 0 -2px 4px rgba(0, 0, 0, 0.08)
              `)},onMouseLeave:Ie=>{u!==O.id&&(Ie.currentTarget.style.transform="translateY(0) scale(1)",Ie.currentTarget.style.boxShadow=`
                0 20px 40px rgba(0, 0, 0, 0.25),
                0 8px 16px rgba(0, 0, 0, 0.15),
                0 4px 8px rgba(0, 0, 0, 0.1),
                inset 0 2px 4px rgba(255, 255, 255, 1),
                inset 0 -2px 4px rgba(0, 0, 0, 0.08)
              `)},children:[a.jsxs("div",{style:ae.regionLabelHeader,children:[a.jsxs("div",{style:ae.regionLabelRegion,children:["REGION ",O.regionNumber]}),a.jsx("div",{style:ae.regionLabelStars,children:Array.from({length:O.stars}).map((Ie,Ye)=>a.jsx("img",{src:"/icon/star.png",alt:"star",style:ae.regionLabelStarIcon},Ye))})]}),a.jsx("div",{style:ae.regionLabelTitle,children:It({id:O.id})}),a.jsx("div",{style:ae.regionLabelProgressContainer,children:a.jsx("div",{style:{...ae.regionLabelProgressFill,width:`${h[O.id]||0}%`}})})]},O.id)),u&&!m&&a.jsxs("div",{style:{...ae.regionCard,...(Ae=ve())==null?void 0:Ae.cardPosition},children:[a.jsxs("div",{style:ae.cardHeader,children:[a.jsx("div",{style:{flex:1},children:a.jsxs("div",{style:ae.cardRegionLabel,children:["REGION ",(B=ve())==null?void 0:B.regionNumber]})}),a.jsx("div",{style:ae.cardStars,children:We((Y=ve())==null?void 0:Y.stars)}),a.jsx("button",{style:ae.cardCloseButton,onClick:G,onMouseOver:O=>{O.target.style.color="#333",O.target.style.transform="scale(1.1)"},onMouseOut:O=>{O.target.style.color="#999",O.target.style.transform="scale(1)"},children:""})]}),a.jsx("h3",{style:ae.cardTitle,children:It(ve())}),a.jsx("div",{style:ae.progressBarContainer,children:a.jsx("div",{style:{...ae.progressBarFill,width:`${h[u]||0}%`}})}),a.jsx("p",{style:ae.cardDescription,dangerouslySetInnerHTML:{__html:(se=ve())==null?void 0:se.description}}),a.jsxs("p",{style:ae.cardDifficulty,children:[a.jsx("span",{children:"Difficulty: "}),a.jsx("span",{children:(K=ve())==null?void 0:K.difficulty})]}),(he=ve())!=null&&he.available?a.jsxs(a.Fragment,{children:[a.jsx("button",{style:ae.goButton,onClick:()=>{Ii(),e(u,!1)},onMouseOver:O=>{O.target.style.background="#333",O.target.style.transform="scale(1.02)"},onMouseOut:O=>{O.target.style.background="#000",O.target.style.transform="scale(1)"},children:h[u]===0?t("start"):t("continue")}),h[u]>0&&a.jsx("button",{style:ae.startOverButton,onClick:()=>{Ii(),e(u,!0)},onMouseOver:O=>{O.target.style.color="#666",O.target.style.transform="scale(1.02)"},onMouseOut:O=>{O.target.style.color="#333",O.target.style.transform="scale(1)"},children:t("startOver")})]}):a.jsxs("button",{style:ae.lockedButton,children:[a.jsx("img",{src:"/icon/locked.png",alt:"Locked",style:{width:"20px",height:"20px",marginRight:"8px"}}),t("locked")]}),a.jsx("img",{src:"/npc/npc2.png",alt:"Glitch",style:ae.cardNpc})]})]})},tt={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3},f2={[tt.BOTTOM_LEFT]:{npc:"npc_a",image:"/jungle/npc_a.png",name:"NPC A",dialogues:[{text:"System Error... Bzzzt...Ugh... my sensors are spinning... You looking for Ranger Moss? He went... <strong>that way</strong>... ",speaker:"NPC A"}]},[tt.BOTTOM_RIGHT]:{npc:"npc_b",image:"/jungle/npc_b.gif",name:"NPC B",dialogues:[{text:"Welc-come... to... *static noise*...Ranger Moss... is <strong>up there</strong>...  He tried to fix the solar array but... (Powers down)",speaker:"NPC B"}]},[tt.TOP_LEFT]:{npc:null,dialogues:[]},[tt.TOP_RIGHT]:{npc:"ranger_moss",image:"/jungle/npc_c.png",name:"Ranger Moss",dialogues:[{text:"Hey! Down here! No, waitup here! Hello? Can you hear me? I am Ranger Moss. As you can see, I am currently... slightly indisposed.",speaker:"Ranger Moss"},{text:"My battery died while I was climbing, and now my magnetic grip won't let go of this tree!",speaker:"Ranger Moss"},{text:"",speaker:"",isOption:!0,optionText:"Why is everyone down?"},{text:"It's a disaster. Recently, strange mutated mushrooms just popped up everywhere. My workers couldn't tell the difference. They ate the toxic mushrooms thinking they were batteries... and now their systems have crashed!",speaker:"Ranger Moss"},{text:"",speaker:"",isOption:!0,optionText:"How can I help you?"},{text:"We need to build an AI algorithm to automatically identify the toxic mushrooms. But since I can't move... could you help me? Please go into the jungle and collect data samples of the mushrooms.",speaker:"Ranger Moss"},{text:"We need at least 12 samples to train the model. Good luck, human!",speaker:"Ranger Moss"}]}},e0={[tt.BOTTOM_LEFT]:{up:tt.TOP_LEFT,right:tt.BOTTOM_RIGHT},[tt.BOTTOM_RIGHT]:{up:tt.TOP_RIGHT,left:tt.BOTTOM_LEFT},[tt.TOP_LEFT]:{down:tt.BOTTOM_LEFT,right:tt.TOP_RIGHT},[tt.TOP_RIGHT]:{down:tt.BOTTOM_RIGHT,left:tt.TOP_LEFT}},h2={[tt.BOTTOM_LEFT]:"translate(0%, -50%)",[tt.BOTTOM_RIGHT]:"translate(-50%, -50%)",[tt.TOP_LEFT]:"translate(0%, 0%)",[tt.TOP_RIGHT]:"translate(-50%, 0%)"},x2=({onExit:e,onStartDataCollection:t})=>{var Oe;const{t:n}=Ia(),{startTypingSound:o,stopTypingSound:s}=fu("/sound/typing_jungle.wav"),[i,l]=r.useState(tt.BOTTOM_LEFT),[u,p]=r.useState(0),[v,M]=r.useState(""),[j,b]=r.useState(!1),[m,E]=r.useState(!0),[L,A]=r.useState(!1),[h,g]=r.useState({}),[y,k]=r.useState(!1),[P,_]=r.useState([]),[G,U]=r.useState(0),[oe,me]=r.useState(!1),[ae,ve]=r.useState(""),[It,We]=r.useState(!1),[Ae,B]=r.useState(null);r.useEffect(()=>{const Q=localStorage.getItem("aiJourneyUser");if(Q){const ue=JSON.parse(Q),Ee=ue.fungiJungleProgress;if(Ee){l(Ee.currentPosition||tt.BOTTOM_LEFT),g(Ee.dialogueComplete||{});const Xe=ue.rangerMossPhase||1;console.log("Loaded Fungi Jungle progress:",Ee,"Ranger Moss Phase:",Xe)}}return()=>{s()}},[]),r.useEffect(()=>{const Q=localStorage.getItem("aiJourneyUser");if(Q){const ue=JSON.parse(Q);ue.fungiJungleProgress={currentPosition:i,dialogueComplete:h,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(ue)),console.log("Saved Fungi Jungle progress:",ue.fungiJungleProgress)}},[i,h]);const Y=f2[i],se=(Oe=Y==null?void 0:Y.dialogues)==null?void 0:Oe[u];r.useEffect(()=>{var Q;!h[i]&&((Q=Y==null?void 0:Y.dialogues)==null?void 0:Q.length)>0&&(p(0),i===tt.TOP_RIGHT?(k(!0),E(!1),P.length===0&&he()):(E(!0),k(!1)))},[i]);const K=[{type:"message",text:"Hey! Down here! No, waitup here! Hello? Can you hear me? I am <strong>Ranger Moss</strong>. As you can see, I am currently... slightly indisposed."},{type:"message",text:"My battery died while I was climbing, and now my magnetic grip won't let go of this tree!"},{type:"choice",text:"Why is everyone down?"},{type:"message",text:"It's a disaster. Recently, strange mutated mushrooms just popped up everywhere. My workers couldn't tell the difference. They ate the toxic mushrooms thinking they were batteries... and now their systems have crashed!"},{type:"choice",text:"How can I help you?"},{type:"message",text:"We need to build an <strong>AI algorithm</strong> to automatically identify the toxic mushrooms. But since I can't move... could you help me? Please go into the jungle and collect <strong>data samples</strong> of the mushrooms."},{type:"message",text:"We need at least <strong>12 samples</strong> to train the model. Good luck, human!"},{type:"action",text:"START MISSION"}],he=()=>{_([]),U(0),O(0)},O=Q=>{if(Q>=K.length)return;const ue=K[Q];if(ue.type==="message"){const Ee={type:"message",text:ue.text};_(Tt=>[...Tt,Ee]),B(Ee);let Xe=0;ve(""),We(!0),o();const Yt=setInterval(()=>{Xe<ue.text.length?(ve(ue.text.substring(0,Xe+1)),Xe++):(We(!1),B(null),s(),clearInterval(Yt),Q+1<K.length&&K[Q+1].type==="choice"?(me(!0),U(Q+1)):Q+1<K.length?setTimeout(()=>{U(Q+1),O(Q+1)},500):U(Q+1))},25)}},we=Q=>{_(Ee=>[...Ee,{type:"user",text:Q}]),me(!1);const ue=G+1;U(ue),setTimeout(()=>{O(ue)},500)},Ie=()=>{s(),g(ue=>({...ue,[tt.TOP_RIGHT]:!0})),k(!1);const Q=localStorage.getItem("aiJourneyUser");if(Q){const ue=JSON.parse(Q);ue.rangerMossPhase=1,localStorage.setItem("aiJourneyUser",JSON.stringify(ue))}setTimeout(()=>{t&&t()},500)},Ye=Q=>Q&&Q.split(/(<strong>.*?<\/strong>)/g).map((Ee,Xe)=>{if(Ee.startsWith("<strong>")){const Yt=Ee.replace(/<\/?strong>/g,"");return a.jsx("span",{style:{fontWeight:700,color:"#8B4513"},children:Yt},Xe)}return Ee}),Je=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});r.useEffect(()=>{if(!se||se.isOption)return;const Q=se.text;if(!Q)return;let ue=0;M(""),b(!0);const Ee=setInterval(()=>{ue<Q.length?(M(Q.substring(0,ue+1)),ue++):(b(!1),clearInterval(Ee))},25);return()=>clearInterval(Ee)},[u,i]);const _e=Q=>{var Ee;const ue=(Ee=e0[i])==null?void 0:Ee[Q];ue!==void 0&&!L&&(A(!0),setTimeout(()=>{l(ue),A(!1)},500))},Ce=()=>{if(j){M(se.text),b(!1);return}const Q=(Y==null?void 0:Y.dialogues)||[];u<Q.length-1?p(ue=>ue+1):(g(ue=>({...ue,[i]:!0})),E(!1),i===tt.TOP_RIGHT&&u===Q.length-1&&setTimeout(()=>{t&&t()},1e3))},le=Q=>Q&&Q.replace(/<strong>(.*?)<\/strong>/g,'<span style="font-weight: 700; color: #FF0000; font-size: 24px;">$1</span>'),cn=()=>{const ue=((Y==null?void 0:Y.dialogues)||[])[u+1];ue!=null&&ue.isOption?p(Ee=>Ee+2):p(Ee=>Ee+1)},Ke=e0[i]||{},ie=()=>{if(!y)return null;const Q=localStorage.getItem("aiJourneyUser"),Ee=(Q?JSON.parse(Q):{}).rangerMossPhase||1,Xe=5,Yt=Ee/Xe*100,Tt={1:"PHASE 1: COLLECTING DATA",2:"PHASE 2: DATA CLEANING",3:"PHASE 3: CORRECT LABELS + FILL MISSING VALUES",4:"PHASE 4: TEST THE MODEL",5:"PHASE 5: REFINE THE MODEL"};return a.jsxs("div",{style:q.modernDialogueContainer,children:[a.jsxs("div",{style:q.modernDialogueHeader,children:[a.jsxs("div",{style:q.modernProgressContainer,children:[a.jsx("div",{style:q.modernMissionTitle,children:Tt[Ee]}),a.jsxs("div",{style:q.modernStepIndicator,children:["Phase ",Ee," of ",Xe]})]}),a.jsx("div",{style:q.modernProgressBar,children:a.jsx("div",{style:{...q.modernProgressFill,width:`${Yt}%`}})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{style:q.modernNpcInfo,children:[a.jsx("img",{src:"/jungle/npc_c.png",alt:"Ranger Moss",style:q.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:q.modernNpcName,children:"Ranger Moss"}),a.jsx("div",{style:q.modernNpcStatus,children:"Jungle Ranger"})]})]}),a.jsx("button",{style:q.modernCloseButton,onClick:()=>{s(),k(!1)},onMouseOver:Ge=>Ge.target.style.color="#333",onMouseOut:Ge=>Ge.target.style.color="#999",children:""})]})]}),a.jsxs("div",{style:q.modernDialogueContent,children:[P.map((Ge,ao)=>{const $e=Je();return Ge.type==="message"?a.jsxs("div",{style:q.modernNpcMessage,children:[a.jsx("div",{style:q.modernNpcSpeaker,children:"RANGER MOSS:"}),a.jsx("p",{style:q.modernNpcText,children:Ae&&Ae===Ge?a.jsxs(a.Fragment,{children:[Ye(ae),It&&a.jsx("span",{style:{opacity:.5},children:"|"})]}):Ye(Ge.text)}),a.jsx("div",{style:q.modernTimestamp,children:$e})]},ao):Ge.type==="user"?a.jsxs("div",{style:q.modernUserMessage,children:[a.jsx("div",{style:q.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:q.modernUserBubble,children:a.jsx("p",{style:q.modernUserText,children:Ge.text})}),a.jsx("div",{style:{...q.modernTimestamp,textAlign:"right"},children:$e})]},ao):null}),oe&&G<K.length&&K[G].type==="choice"&&a.jsxs("button",{style:q.modernActionButton,onClick:()=>we(K[G].text),onMouseOver:Ge=>{Ge.target.style.borderColor="#8B4513",Ge.target.style.transform="translateX(5px)"},onMouseOut:Ge=>{Ge.target.style.borderColor="#E0E0E0",Ge.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:"#8B4513"},children:""}),K[G].text]}),!oe&&G<K.length&&K[G].type==="action"&&a.jsx("button",{style:{...q.modernActionButton,background:"#8B4513",color:"#fff",fontWeight:"bold",fontSize:"16px",padding:"15px 30px",border:"none"},onClick:Ie,onMouseOver:Ge=>{Ge.target.style.transform="scale(1.05)"},onMouseOut:Ge=>{Ge.target.style.transform="scale(1)"},children:K[G].text})]})]})},q={container:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},mapContainer:{width:"200%",height:"200%",position:"absolute",top:0,left:0,transition:"transform 0.5s ease-in-out",transform:h2[i]},mapImage:{width:"100%",height:"100%",objectFit:"cover"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.1)",zIndex:1},exitButton:{position:"absolute",top:"20px",left:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(81, 112, 255, 0.5)",padding:"10px 25px",borderRadius:"8px",cursor:"pointer",zIndex:10,transition:"all 0.2s"},miniNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},miniNpcImage:{width:"120px",height:"120px",objectFit:"contain"},navArrow:{position:"absolute",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:10,transition:"transform 0.2s",background:"none",border:"none"},arrowImage:{width:"80px",height:"80px",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},upArrow:{top:"30px",left:"50%",transform:"translateX(-50%)"},downArrow:{bottom:"30px",left:"50%",transform:"translateX(-50%)"},leftArrow:{left:"30px",top:"50%",transform:"translateY(-50%)"},rightArrow:{right:"30px",top:"50%",transform:"translateY(-50%)"},npcContainer:{position:"absolute",bottom:"50px",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcContainerLeft:{left:"50px"},npcContainerRight:{right:"50px"},npcContainerNpcA:{position:"absolute",bottom:"0",right:"50px",height:"66.67vh",display:"flex",alignItems:"flex-end",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcImage:{width:"250px",height:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},npcImageNpcA:{height:"66.67vh",width:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},npcContainerNpcB:{position:"absolute",bottom:"0",left:"25%",height:"50vh",display:"flex",alignItems:"flex-end",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcImageNpcB:{height:"50vh",width:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},npcContainerRangerMoss:{position:"absolute",bottom:"10%",right:"15%",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcImageRangerMoss:{height:"66.67vh",width:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},dialogueContainer:{position:"absolute",top:"80px",left:"80px",right:"150px",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueContainerNpcA:{position:"absolute",top:"33.33%",left:"80px",width:"45%",maxWidth:"500px",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueContainerNpcB:{position:"absolute",top:"50%",right:"80px",width:"45%",maxWidth:"500px",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueContainerRangerMoss:{position:"absolute",top:"10%",left:"80px",width:"45%",maxWidth:"500px",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueBox:{padding:"25px 30px",borderRadius:"30% 70% 70% 30% / 30% 30% 70% 70%",background:"rgba(255, 255, 255, 0.95)",border:"3px solid #8B4513",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3), inset 0 2px 5px rgba(255, 255, 255, 0.5)",position:"relative",minHeight:"100px"},speakerName:{position:"absolute",top:"-15px",right:"20px",fontFamily:"'Patrick Hand', cursive",fontSize:"20px",fontWeight:700,color:"#8B4513",background:"rgba(255, 255, 255, 0.95)",padding:"5px 15px",borderRadius:"15px",border:"2px solid #8B4513",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},dialogueText:{fontFamily:"'Patrick Hand', cursive",fontSize:"20px",fontWeight:400,color:"#333",lineHeight:1.6,textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)",marginTop:"10px"},optionButton:{fontFamily:"'Patrick Hand', cursive",fontSize:"18px",fontWeight:600,color:"#8B4513",backgroundColor:"rgba(255, 235, 205, 0.9)",border:"3px solid #8B4513",padding:"12px 25px",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",marginTop:"15px",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.2)"},modernDialogueContainer:{position:"absolute",top:"12.5%",left:"10%",width:"40%",height:"70%",zIndex:100,background:"rgba(245, 245, 245, 0.98)",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"3px solid #8B4513"},modernDialogueHeader:{padding:"20px 25px 15px 25px",borderBottom:"none"},modernProgressContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},modernMissionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px",color:"#8B4513"},modernStepIndicator:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#999"},modernProgressBar:{width:"100%",height:"4px",backgroundColor:"rgba(200,200,200,0.3)",borderRadius:"2px",overflow:"hidden",marginBottom:"20px"},modernProgressFill:{height:"100%",borderRadius:"2px",transition:"width 0.3s ease",background:"#8B4513"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px",flex:1},modernNpcAvatar:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#333"},modernNpcStatus:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999"},modernCloseButton:{position:"relative",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},modernDialogueContent:{flex:1,padding:"0 25px 25px 25px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"100%"},modernNpcSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"85%"},modernUserBubble:{background:"#8B4513",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(139, 69, 19, 0.3)"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",lineHeight:1.5,margin:0},modernUserSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},modernActionButton:{alignSelf:"stretch",background:"white",border:"2px solid #E0E0E0",borderRadius:"25px",padding:"14px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",marginTop:"8px"}},Me=()=>{if(!m||!(Y!=null&&Y.npc)||h[i]||!se)return null;const Q=i===tt.BOTTOM_LEFT,ue=i===tt.BOTTOM_RIGHT,Ee=i===tt.TOP_RIGHT,Xe=Q?q.dialogueContainerNpcA:ue?q.dialogueContainerNpcB:Ee?q.dialogueContainerRangerMoss:q.dialogueContainer,Tt=((Y==null?void 0:Y.dialogues)||[])[u+1],Ge=Tt==null?void 0:Tt.isOption,ao=Q?"NPC 01":ue?"NPC 02":Ee?"Ranger Moss":se.speaker;return se.isOption?a.jsx("div",{style:Xe,children:a.jsxs("div",{style:q.dialogueBox,children:[a.jsx("div",{style:q.speakerName,children:ao}),a.jsx("button",{style:q.optionButton,onClick:cn,onMouseOver:$e=>{$e.target.style.backgroundColor="rgba(255, 235, 205, 1)",$e.target.style.transform="scale(1.05)"},onMouseOut:$e=>{$e.target.style.backgroundColor="rgba(255, 235, 205, 0.9)",$e.target.style.transform="scale(1)"},children:se.optionText})]})}):a.jsx("div",{style:Xe,children:a.jsxs("div",{style:{...q.dialogueBox,cursor:"pointer"},onClick:Ce,children:[a.jsx("div",{style:q.speakerName,children:ao}),a.jsxs("p",{style:q.dialogueText,children:[a.jsx("span",{dangerouslySetInnerHTML:{__html:le(v)}}),j&&a.jsx("span",{style:{opacity:.5,animation:"blink 1s infinite"},children:"|"})]}),Ge&&!j&&a.jsx("button",{style:q.optionButton,onClick:$e=>{$e.stopPropagation(),cn()},onMouseOver:$e=>{$e.target.style.backgroundColor="rgba(255, 235, 205, 1)",$e.target.style.transform="scale(1.05)"},onMouseOut:$e=>{$e.target.style.backgroundColor="rgba(255, 235, 205, 0.9)",$e.target.style.transform="scale(1)"},children:Tt.optionText})]})})},X=()=>{if(!(Y!=null&&Y.npc))return null;const Q=i===tt.BOTTOM_LEFT,ue=i===tt.BOTTOM_RIGHT,Ee=i===tt.TOP_RIGHT;return Q?a.jsx("div",{style:q.npcContainerNpcA,children:a.jsx("img",{src:Y.image,alt:Y.name,style:q.npcImageNpcA})}):ue?a.jsx("div",{style:q.npcContainerNpcB,children:a.jsx("img",{src:Y.image,alt:Y.name,style:q.npcImageNpcB})}):Ee?a.jsx("div",{style:q.npcContainerRangerMoss,children:a.jsx("img",{src:Y.image,alt:Y.name,style:q.npcImageRangerMoss})}):a.jsx("div",{style:{...q.npcContainer,...isRightSide?q.npcContainerRight:q.npcContainerLeft},children:a.jsx("img",{src:Y.image,alt:Y.name,style:q.npcImage})})};return a.jsxs("div",{style:q.container,children:[a.jsx("div",{style:q.mapContainer,children:a.jsx("img",{src:"/jungle/map_full.png",alt:"Fungi Jungle Map",style:q.mapImage})}),a.jsx("div",{style:q.overlay}),a.jsx("button",{style:q.exitButton,onClick:e,onMouseOver:Q=>{Q.target.style.backgroundColor="rgba(255, 255, 255, 1)",Q.target.style.borderColor="#5170FF"},onMouseOut:Q=>{Q.target.style.backgroundColor="rgba(255, 255, 255, 0.9)",Q.target.style.borderColor="rgba(81, 112, 255, 0.5)"},children:n("exit")}),a.jsx("div",{style:q.miniNpc,children:a.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:q.miniNpcImage})}),Ke.up!==void 0&&a.jsx("button",{style:{...q.navArrow,...q.upArrow},onClick:()=>_e("up"),onMouseOver:Q=>Q.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:Q=>Q.currentTarget.style.transform="translateX(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/up.png",alt:"Up",style:q.arrowImage})}),Ke.down!==void 0&&a.jsx("button",{style:{...q.navArrow,...q.downArrow},onClick:()=>_e("down"),onMouseOver:Q=>Q.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:Q=>Q.currentTarget.style.transform="translateX(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/down.png",alt:"Down",style:q.arrowImage})}),Ke.left!==void 0&&a.jsx("button",{style:{...q.navArrow,...q.leftArrow},onClick:()=>_e("left"),onMouseOver:Q=>Q.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:Q=>Q.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:q.arrowImage})}),Ke.right!==void 0&&a.jsx("button",{style:{...q.navArrow,...q.rightArrow},onClick:()=>_e("right"),onMouseOver:Q=>Q.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:Q=>Q.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:q.arrowImage})}),X(),Me(),ie()]})},yt={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3},t0={[yt.BOTTOM_LEFT]:{up:yt.TOP_LEFT,right:yt.BOTTOM_RIGHT},[yt.BOTTOM_RIGHT]:{up:yt.TOP_RIGHT,left:yt.BOTTOM_LEFT},[yt.TOP_LEFT]:{down:yt.BOTTOM_LEFT,right:yt.TOP_RIGHT},[yt.TOP_RIGHT]:{down:yt.BOTTOM_RIGHT,left:yt.TOP_LEFT}},m2={[yt.BOTTOM_LEFT]:"translate(0%, -50%)",[yt.BOTTOM_RIGHT]:"translate(-50%, -50%)",[yt.TOP_LEFT]:"translate(0%, 0%)",[yt.TOP_RIGHT]:"translate(-50%, 0%)"},y2={[yt.TOP_LEFT]:[{id:"02",size:250,right:"35%",bottom:"25%"},{id:"04",size:320,left:"0%",top:"50%"},{id:"05",size:240,right:"0%",top:"calc(25% + 200px)"},{id:"10",size:200,left:"40%",top:"5%"}],[yt.BOTTOM_LEFT]:[{id:"01",size:330,right:"0%",bottom:"15%"},{id:"07",size:200,left:"0%",top:"5%"},{id:"08",size:310,left:"0%",bottom:"10%"},{id:"11",size:300,left:"50%",bottom:"15%"}],[yt.BOTTOM_RIGHT]:[{id:"06",size:400,right:"20%",bottom:"0%"},{id:"03",size:200,right:"25%",top:"0%"},{id:"09",size:220,left:"10%",top:"5%"},{id:"12",size:150,right:"5%",bottom:"35%"}],[yt.TOP_RIGHT]:[]},b2={[yt.BOTTOM_LEFT]:{npc:"npc_a",image:"/jungle/npc_a.png",top:"5%",right:"50%",width:"auto",height:"25vh",dialogueTop:"33.33%",dialogueLeft:"80px"},[yt.BOTTOM_RIGHT]:{npc:"npc_b",image:"/jungle/npc_b.gif",left:"0%",bottom:"0%",width:"auto",height:"25vh",dialogueTop:"33.33%",dialogueRight:"80px"},[yt.TOP_RIGHT]:{npc:"npc_c",image:"/jungle/npc_c.png",bottom:"10%",right:"15%",width:"auto",height:"66.67vh",dialogueTop:"25%",dialogueLeft:"80px"}},Mi={"01":{name:"Candy Blob",color:"Pink / Purple / Yellow",colorTone:"Mixed warm and cool",shape:"Irregular / Curved",texture:"Glossy / Dripping",spikes:!1},"02":{name:"Flame Bloom",color:"Red / Green / Beige",colorTone:"Warm dominant",shape:"Flame-like / Circular",texture:"Smooth / Slightly Wavy",spikes:!0},"03":{name:"Velvet Star",color:"Cyan / Blue",colorTone:"Cool",shape:"Star-shaped / Pointed",texture:"Fuzzy / Velvet-like",spikes:!0},"04":{name:"Polka Cluster",color:"Green / Purple",colorTone:"Mixed cool and warm",shape:"Clustered / Round",texture:"Smooth / Polka-dotted",spikes:!1},"05":{name:"Speckled Bell",color:"Purple / Yellow",colorTone:"Mixed cool and warm",shape:"Bell-shaped / Drooping",texture:"Matte / Speckled",spikes:!1},"06":{name:"Glowing Shroom",color:"Blue / Purple / Pink",colorTone:"Cool dominant",shape:"Mushroom-like / Flowing",texture:"Glowing / Translucent",spikes:!1},"07":{name:"Floral Bouquet",color:"Purple / Pink / Lavender",shape:"Round / Radial Petals with Central Stamen",texture:"Smooth, Soft Gradient, Delicate Shading",spikes:!1},"08":{name:"Drip Orb",color:"Yellow / White",colorTone:"Warm",shape:"Round / Bulbous",texture:"Glossy / Dripping",spikes:!1},"09":{name:"Frostfire Cap",color:"Pink / Cyan / White",colorTone:"Mixed warm and cool",shape:"Mushroom-like / Flame-shaped",texture:"Glossy / Glowing",spikes:!1},10:{name:"Classic Toadstool",color:"Red / White / Blue",colorTone:"Warm dominant",shape:"Round / Smooth",texture:"Matte / Polka-dotted",spikes:!1},11:{name:"Rainbow Drip",color:"Pastel Rainbow / Teal / Purple",colorTone:"Soft mixed",shape:"Tapered / Drooping",texture:"Glossy / Dripping",spikes:!1},12:{name:"Starlight Shroom",color:"Pink / Purple / Orange",colorTone:"Warm and cool mixed",shape:"Star-shaped / Pointed",texture:"Glowing / Sticky / Veined",spikes:!0}},v2=({onComplete:e,onExit:t})=>{var cn,Ke,ie,q,Me;const{t:n}=Ia(),[o,s]=r.useState(yt.TOP_LEFT),[i,l]=r.useState(!1),[u,p]=r.useState([]),[v,M]=r.useState(!1),[j,b]=r.useState(null),[m,E]=r.useState(!1),[L,A]=r.useState(!1),[h,g]=r.useState(""),[y,k]=r.useState(!1),[P,_]=r.useState(null),[G,U]=r.useState(!1),[oe,me]=r.useState(""),[ae,ve]=r.useState({x:0,y:0}),[It,We]=r.useState(!1);r.useEffect(()=>{const X=Q=>{ve({x:Q.clientX,y:Q.clientY}),We(!0)},Oe=()=>{We(!1)};return window.addEventListener("mousemove",X),window.addEventListener("mouseleave",Oe),()=>{window.removeEventListener("mousemove",X),window.removeEventListener("mouseleave",Oe)}},[]),wl();const[Ae]=r.useState(new Audio("/sound/pencil.wav")),[B]=r.useState(new Audio("/sound/click.mp3"));r.useEffect(()=>{Ae.volume=.5,B.volume=.5},[Ae,B]),r.useEffect(()=>{const X=localStorage.getItem("aiJourneyUser");if(X){const Q=JSON.parse(X).dataCollectionProgress;Q&&(s(Q.currentPosition||yt.TOP_LEFT),p(Q.collectedIds||[]),console.log("Loaded Data Collection progress:",Q))}},[]),r.useEffect(()=>{const X=localStorage.getItem("aiJourneyUser");if(X){const Oe=JSON.parse(X);Oe.dataCollectionProgress={currentPosition:o,collectedIds:u,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(Oe)),console.log("Saved Data Collection progress:",Oe.dataCollectionProgress)}},[o,u]);const Y=X=>{var Q;const Oe=(Q=t0[o])==null?void 0:Q[X];Oe!==void 0&&!i&&(l(!0),setTimeout(()=>{s(Oe),l(!1)},500))},se=X=>{u.includes(X)||(Ae.currentTime=0,Ae.play().catch(Oe=>console.log("Pencil sound error:",Oe)),b(X),M(!0))},K=()=>{if(j&&!u.includes(j)){B.currentTime=0,B.play().catch(Oe=>console.log("Click sound error:",Oe));const X=[...u,j];p(X),M(!1),b(null),X.length===12&&k(!0)}},he=X=>{X==="npc_c"&&u.length===12&&e(u)},O=(X,Oe)=>{Oe?(_(X),u.length<12?(g("Not finished yet! You're still missing some data!"),A(!0)):(g("Give ALL these to Ranger Moss!"),A(!0))):(_(null),A(!1))},we=()=>{U(!0)},Ie=()=>{oe.trim()&&(console.log("Glitch input:",oe),me(""))},Ye=X=>{X.key==="Enter"&&Ie()},Je=t0[o]||{},_e=y2[o]||[],Ce=b2[o],le={container:{width:"100%",height:"100vh",position:"relative",overflow:"hidden",cursor:"none"},mapContainer:{width:"200%",height:"200%",position:"absolute",top:0,left:0,transition:"transform 0.5s ease-in-out",transform:m2[o]},mapImage:{width:"100%",height:"100%",objectFit:"cover",filter:"grayscale(80%)"},exitButton:{position:"absolute",top:"20px",left:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#666",backgroundColor:"rgba(255, 255, 255, 0.85)",border:"2px solid rgba(81, 112, 255, 0.4)",padding:"12px 30px",borderRadius:"8px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},glitchNpc:{position:"absolute",top:"10px",right:"10px",width:"120px",height:"120px",zIndex:100,cursor:"pointer",transition:"transform 0.2s"},glitchImage:{width:"100%",height:"100%",objectFit:"contain"},navArrow:{position:"absolute",width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none"},arrowImage:{width:"80px",height:"80px",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},upArrow:{top:"15px",left:"50%",transform:"translateX(-50%)"},downArrow:{bottom:"120px",left:"50%",transform:"translateX(-50%)"},leftArrow:{left:"15px",top:"50%",transform:"translateY(-50%)"},rightArrow:{right:"15px",top:"50%",transform:"translateY(-50%)"},mushroomItem:{position:"absolute",cursor:"pointer",transition:"transform 0.2s, filter 0.2s",zIndex:20},mushroomImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 5px 15px rgba(0,0,0,0.3))"},mushroomCollected:{opacity:.3,pointerEvents:"none"},npcCharacter:{position:"absolute",width:"180px",height:"auto",cursor:"pointer",zIndex:25,transition:"transform 0.2s"},npcDialogueContainer:{position:"absolute",zIndex:150,maxWidth:"400px"},npcDialogueBoxInline:{padding:"25px 30px",borderRadius:"30% 70% 70% 30% / 30% 30% 70% 70%",background:"rgba(255, 255, 255, 0.95)",border:"3px solid #8B4513",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3), inset 0 2px 5px rgba(255, 255, 255, 0.5)",position:"relative",minHeight:"100px"},npcSpeakerName:{position:"absolute",top:"-15px",right:"20px",fontFamily:"'Patrick Hand', cursive",fontSize:"20px",fontWeight:700,color:"#8B4513",background:"rgba(255, 255, 255, 0.95)",padding:"5px 15px",borderRadius:"15px",border:"2px solid #8B4513",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},progressContainer:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",gap:"15px",zIndex:100},progressText:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,color:"#fff",backgroundColor:"#8FCCAE",padding:"10px 25px",borderRadius:"10px",textShadow:"0 2px 4px rgba(0,0,0,0.2)",letterSpacing:"1px",boxShadow:"0 4px 12px rgba(143, 204, 174, 0.4)"},slotsContainer:{display:"flex",gap:"10px",flexWrap:"nowrap",justifyContent:"center"},slot:{width:"65px",height:"65px",border:"3px dashed #8FCCAE",backgroundColor:"rgba(255, 255, 255, 0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"3px",borderRadius:"8px",transition:"all 0.3s"},slotFilled:{border:"3px solid #8FCCAE",backgroundColor:"rgba(255, 255, 255, 0.95)",boxShadow:"0 4px 12px rgba(143, 204, 174, 0.4)"},slotImage:{width:"40px",height:"40px",objectFit:"contain"},slotLabel:{fontFamily:"'Roboto', sans-serif",fontSize:"10px",fontWeight:600,color:"#8FCCAE"},glitchDialogue:{position:"absolute",top:"20px",right:"150px",width:"350px",background:"rgba(255, 255, 255, 0.95)",borderRadius:"15px",padding:"20px",boxShadow:"0 4px 20px rgba(143, 204, 174, 0.3)",zIndex:150},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #8FCCAE, #6FB896)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",margin:0},glitchDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#666",lineHeight:1.6,margin:"0 0 15px 0"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",border:"2px solid #e0e0e0",borderRadius:"25px",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",background:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",background:"#e0e0e0",borderRadius:"1px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer",padding:"0",lineHeight:1,transition:"color 0.2s"},cardOverlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:200,display:"flex",alignItems:"center",justifyContent:"center"},cardBox:{width:"420px",padding:"30px 35px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",textAlign:"center"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"24px",fontWeight:700,color:"#333",marginBottom:"8px"},cardObjectId:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,color:"#555",marginBottom:"20px"},cardInfo:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#444",lineHeight:1.8,textAlign:"center",marginBottom:"25px"},collectButton:{width:"100%",padding:"16px",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#fff",background:"#1a1a2e",border:"none",borderRadius:"12px",cursor:"pointer",textTransform:"uppercase",letterSpacing:"2px",transition:"transform 0.2s, box-shadow 0.2s"},taskHintBox:{width:"380px",padding:"25px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #87CEEB)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},taskTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"22px",fontWeight:700,color:"#333",marginBottom:"15px"},hintImage:{width:"100%",height:"auto",borderRadius:"12px",marginBottom:"15px"},closeButton:{position:"absolute",top:"10px",right:"15px",fontSize:"28px",color:"#999",cursor:"pointer",background:"none",border:"none"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",color:"#333",lineHeight:1.6},customCursor:{position:"fixed",pointerEvents:"none",zIndex:9999,width:"32px",height:"32px",transform:"translate(-8px, -24px)"}};return a.jsxs("div",{style:le.container,children:[It&&a.jsx("img",{src:"/jungle/icon/pencil.png",alt:"Cursor",style:{...le.customCursor,left:`${ae.x}px`,top:`${ae.y}px`}}),a.jsx("div",{style:le.mapContainer,children:a.jsx("img",{src:"/jungle/map_full.png",alt:"Fungi Jungle Map",style:le.mapImage})}),a.jsx("button",{style:le.exitButton,onClick:t,onMouseOver:X=>{X.target.style.backgroundColor="rgba(255, 255, 255, 1)",X.target.style.borderColor="#5170FF"},onMouseOut:X=>{X.target.style.backgroundColor="rgba(255, 255, 255, 0.85)",X.target.style.borderColor="rgba(81, 112, 255, 0.4)"},children:n("exit")}),a.jsx("div",{style:le.glitchNpc,onClick:we,children:a.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:le.glitchImage})}),G&&a.jsxs("div",{style:le.glitchDialogue,children:[a.jsx("button",{style:le.glitchDialogueCloseButton,onClick:()=>U(!1),onMouseOver:X=>{X.target.style.color="#333"},onMouseOut:X=>{X.target.style.color="#999"},children:""}),a.jsxs("div",{style:le.glitchDialogueHeader,children:[a.jsx("div",{style:le.glitchDialogueAvatar,children:a.jsx("span",{style:le.glitchDialogueAvatarIcon,children:""})}),a.jsx("h4",{style:le.glitchDialogueName,children:"Glitch"})]}),a.jsx("p",{style:le.glitchDialogueText,children:u.length<12?"Not finished yet! You're still missing some data!":"Give ALL these to Ranger Moss!"}),a.jsxs("div",{style:le.glitchDialogueInputContainer,onFocus:X=>{X.currentTarget.style.borderColor="#8FCCAE"},onBlur:X=>{X.currentTarget.style.borderColor="#e0e0e0"},children:[a.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:oe,onChange:X=>me(X.target.value),onKeyPress:Ye,style:le.glitchDialogueInput}),a.jsx("div",{style:le.glitchDialogueDivider}),a.jsx("button",{onClick:Ie,style:le.glitchDialogueSendButton,onMouseOver:X=>{X.currentTarget.style.transform="scale(1.1)"},onMouseOut:X=>{X.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/icon/send.png",alt:"Send",style:le.glitchDialogueSendIcon})})]})]}),Je.up!==void 0&&a.jsx("button",{style:{...le.navArrow,...le.upArrow},onClick:()=>Y("up"),onMouseOver:X=>X.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:X=>X.currentTarget.style.transform="translateX(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/up.png",alt:"Up",style:le.arrowImage})}),Je.down!==void 0&&a.jsx("button",{style:{...le.navArrow,...le.downArrow},onClick:()=>Y("down"),onMouseOver:X=>X.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:X=>X.currentTarget.style.transform="translateX(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/down.png",alt:"Down",style:le.arrowImage})}),Je.left!==void 0&&a.jsx("button",{style:{...le.navArrow,...le.leftArrow},onClick:()=>Y("left"),onMouseOver:X=>X.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:X=>X.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:le.arrowImage})}),Je.right!==void 0&&a.jsx("button",{style:{...le.navArrow,...le.rightArrow},onClick:()=>Y("right"),onMouseOver:X=>X.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:X=>X.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:le.arrowImage})}),_e.map(X=>{var Q;const Oe=X.size||120;return a.jsx("div",{style:{...le.mushroomItem,width:`${Oe}px`,height:`${Oe}px`,top:X.top,bottom:X.bottom,left:X.left,right:X.right,...u.includes(X.id)?le.mushroomCollected:{}},onClick:()=>se(X.id),onMouseOver:ue=>{u.includes(X.id)||(ue.currentTarget.style.transform="scale(1.15)")},onMouseOut:ue=>{ue.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:`/jungle/object/${X.id}.png`,alt:(Q=Mi[X.id])==null?void 0:Q.name,style:le.mushroomImage})},X.id)}),Ce&&a.jsx("img",{src:Ce.image,alt:Ce.npc,style:{...le.npcCharacter,top:Ce.top,bottom:Ce.bottom,left:Ce.left,right:Ce.right,width:Ce.width==="auto"?"auto":`${Ce.width}px`,height:Ce.height?typeof Ce.height=="string"?Ce.height:`${Ce.height}px`:"auto"},onClick:()=>he(Ce.npc),onMouseEnter:()=>O(Ce.npc,!0),onMouseLeave:()=>O(Ce.npc,!1)}),L&&P!=="glitch"&&a.jsx("div",{style:{...le.npcDialogueContainer,...Ce?{top:Ce.dialogueTop,left:Ce.dialogueLeft,right:Ce.dialogueRight}:{}},children:a.jsxs("div",{style:{...le.npcDialogueBoxInline,cursor:"pointer"},onClick:()=>A(!1),children:[a.jsx("div",{style:le.npcSpeakerName,children:P==="npc_a"?"NPC 01":P==="npc_b"?"NPC 02":P==="npc_c"?"Ranger Moss":""}),a.jsx("p",{style:le.dialogueText,children:h})]})}),a.jsxs("div",{style:le.progressContainer,children:[a.jsxs("div",{style:le.progressText,children:["Progress: ",u.length,"/12 found"]}),a.jsx("div",{style:le.slotsContainer,children:Array.from({length:12},(X,Oe)=>{const Q=u[Oe];return a.jsx("div",{style:{...le.slot,...Q?le.slotFilled:{}},children:Q?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:`/jungle/object/${Q}.png`,alt:`Object ${Q}`,style:le.slotImage}),a.jsxs("div",{style:le.slotLabel,children:["Object",Q]})]}):a.jsx("div",{style:{fontSize:"24px",color:"#ccc"},children:"?"})},Oe)})})]}),v&&j&&a.jsx("div",{style:le.cardOverlay,onClick:()=>M(!1),children:a.jsxs("div",{style:le.cardBox,onClick:X=>X.stopPropagation(),children:[a.jsx("h2",{style:le.cardTitle,children:"You Found"}),a.jsxs("p",{style:le.cardObjectId,children:["Object ID: #",j,"  ",(cn=Mi[j])==null?void 0:cn.name]}),a.jsxs("div",{style:le.cardInfo,children:[a.jsxs("p",{children:[" Color: ",(Ke=Mi[j])==null?void 0:Ke.color]}),a.jsxs("p",{children:[" Shape: ",(ie=Mi[j])==null?void 0:ie.shape]}),a.jsxs("p",{children:[" Texture: ",(q=Mi[j])==null?void 0:q.texture]}),a.jsxs("p",{children:[" Spikes: ",(Me=Mi[j])!=null&&Me.spikes?"Yes":"None"]})]}),a.jsx("button",{style:le.collectButton,onClick:K,onMouseOver:X=>{X.target.style.transform="scale(1.02)",X.target.style.boxShadow="0 5px 20px rgba(0,0,0,0.3)"},onMouseOut:X=>{X.target.style.transform="scale(1)",X.target.style.boxShadow="none"},children:"COLLECT DATA"})]})}),m&&a.jsx("div",{style:le.cardOverlay,onClick:()=>E(!1),children:a.jsxs("div",{style:{...le.taskHintBox,position:"relative"},onClick:X=>X.stopPropagation(),children:[a.jsx("button",{style:le.closeButton,onClick:()=>E(!1),children:""}),a.jsx("h2",{style:le.taskTitle,children:"Task 1: Find the data"}),a.jsx("img",{src:"/jungle/hint.gif",alt:"Hint",style:le.hintImage})]})})]})},ad=["03","05","07"],n0=[["01","02","03","04","05","06"],["07","08","09","10","11","12"]],S2={1:[{id:"01",name:"Candy Blob",color:"TRUE",texture:"Smooth",spikes:"No",toxic:"NO"},{id:"02",name:"img_file_002.png",color:"Red",texture:"Wavy",spikes:"Yes",toxic:"YES"},{id:"03",name:"Velvet Star",color:"Blue",texture:"404 Error",spikes:"Yes",toxic:"NO"},{id:"04",name:"Polka Cluster",color:"Green",texture:"Smooth",spikes:"Zero",toxic:"NO"}],2:[{id:"05",name:"Speckled Bell",color:"#800080",texture:"Matte",spikes:"No",toxic:"NO"},{id:"06",name:"Glowing Shroom",color:"Blue",texture:"Glowing",spikes:"1",toxic:"Safe"},{id:"07",name:"Striped Chime",color:"Orange",texture:"Looks very nice",spikes:"No",toxic:"NO"},{id:"08",name:"NULL",color:"Yellow",texture:"Glossy",spikes:"No",toxic:"NO"}],3:[{id:"09",name:"Frostfire Cap",color:"Pink",texture:"Glossy",spikes:"N/A",toxic:"NO"},{id:"10",name:"Classic Toadstool",color:"255, 0, 0",texture:"Matte",spikes:"No",toxic:"NO"},{id:"11",name:"Rainbow Drip",color:"Pastel",texture:"Glossy",spikes:"No",toxic:"MAYBE"},{id:"12",name:"Starlight Shroom",color:"Purple",texture:"%&*(#@!",spikes:"Yes",toxic:"YES"}]},o0={1:[{id:"01",field:"color",correct:"Pink"},{id:"02",field:"name",correct:"Flame Bloom"},{id:"03",field:"texture",correct:"Fuzzy"},{id:"04",field:"spikes",correct:"No"}],2:[{id:"05",field:"color",correct:"Purple"},{id:"06",field:"spikes",correct:"No"},{id:"06",field:"toxic",correct:"NO"},{id:"07",field:"texture",correct:"Striped"},{id:"08",field:"name",correct:"Drip Orb"}],3:[{id:"09",field:"spikes",correct:"No"},{id:"10",field:"color",correct:"Red"},{id:"11",field:"toxic",correct:"NO"},{id:"12",field:"texture",correct:"Veined"}]},a0={1:"I see file names mixed with real names, and colors written as True/False! Fix the format errors in the highlighted cells.",2:"Someone entered Hex Codes instead of color names, and wrote a sentence in the texture column. The AI can't read sentences!",3:"Watch out for 'Maybe' labels and corrupted text characters. The AI needs certainty!"},Fl=[{id:"09",name:"Frostfire Cap",color:"Pink / Cyan / White",texture:"Glossy / Glowing",spikes:null,toxic:"YES",missingField:"spikes",options:["Yes","No"],correct:"No"},{id:"02",name:"Flame Bloom",color:"Red / Orange",texture:null,spikes:"Yes",toxic:"YES",missingField:"texture",options:["Textured","Smooth","Plain","Flat"],correct:"Textured"},{id:"08",name:"Drip Orb",color:null,texture:"Glossy / Dripping",spikes:"No",toxic:"YES",missingField:"color",options:["Yellow","Blue","Red","Green"],correct:"Yellow"}],Hl=[{id:1,question:`Hold on! Before we push the big button, I need to make sure you understand what we are doing.

Quick check: How does an AI actually learn?`,options:[{text:"By analyzing patterns in data",correct:!0},{text:"By just guessing randomly",correct:!1}],correctResponse:"Correct! AI isn't magic, and it doesn't verify answers by itself. It needs massive amounts of data to find the hidden rules.",incorrectResponse:"Not quite! AI doesn't just guess randomly. It learns by analyzing patterns in data. It needs massive amounts of data to find the hidden rules and make accurate predictions."},{id:2,question:`Now, think about the data you just collected.

To help the AI decide if a mushroom is toxic, which features are actually helpful?`,options:[{text:"Color, Shape, and Texture",correct:!0},{text:"The name of the person who picked it",correct:!1}],correctResponse:"Precisely! To make accurate predictions, the AI needs data related to the object itself. Irrelevant infolike who picked itis just Noise. It will only confuse the model!",incorrectResponse:"Actually, the name of the person who picked it is irrelevant! To make accurate predictions, the AI needs data related to the object itself - like Color, Shape, and Texture. Irrelevant info is just Noise and will confuse the model!"}],sd="The dataset is clean. The patterns are clear. Are you ready? Let's initiate the Model Training process!",zi={question:`Training complete! The AI has learned to identify the 'Toxic Traits'.

But wait... we need to verify if it really learned, or if it just memorized our list. How should we test the AI?`,options:[{text:"Test with NEW mushrooms it hasn't seen",correct:!0},{text:"Test with the SAME mushrooms it already studied",correct:!1}],correctResponse:"Spot on! If we test with old data, the AI is just cheatinglike memorizing the answers to a test. Only by using Unseen Data (New Mushrooms) can we prove it can truly judge and generalize!",incorrectResponse:"Not quite! If we test with old data, the AI is just cheatinglike memorizing the answers to a test. Only by using Unseen Data (New Mushrooms) can we prove it can truly judge and generalize!"},Ll=[{question:"Hold on! Before we push the big button, I need to make sure you understand what we are doing. Quick check: How does an AI actually learn?",options:[{text:"By analyzing patterns in data",correct:!0},{text:"By just guessing randomly",correct:!1}],correctResponse:"Correct! AI isn't magic, and it doesn't verify answers by itself. It needs massive amounts of data to find the hidden rules.",incorrectResponse:"Not quite! AI doesn't just guess randomly. It learns by analyzing patterns in data. It needs massive amounts of data to find the hidden rules and make accurate predictions."},{question:"Now, think about the data you just collected. To help the AI decide if a mushroom is toxic, which features are actually helpful?",options:[{text:"Color, Shape, and Texture",correct:!0},{text:"The name of the person who picked it",correct:!1}],correctResponse:"Precisely! To make accurate predictions, the AI needs data related to the object itself. Irrelevant infolike who picked itis just Noise. It will only confuse the model!",incorrectResponse:"Actually, the name of the person who picked it is irrelevant! To make accurate predictions, the AI needs data related to the object itself - like Color, Shape, and Texture. Irrelevant info is just Noise and will confuse the model!"}],T2="The dataset is clean. The patterns are clear. Are you ready? Let's initiate the Model Training process!",w2="Training complete! The AI has learned to identify the 'Toxic Traits'. But wait... we need to verify if it really learned, or if it just memorized our list. How should we test the AI?",C2=[{text:"Test with NEW mushrooms it hasn't seen",correct:!0},{text:"Test with the SAME mushrooms it already studied",correct:!1}],j2="Spot on! If we test with old data, the AI is just cheatinglike memorizing the answers to a test. Only by using Unseen Data (New Mushrooms) can we prove it can truly judge and generalize!",s0=[{id:"13",isNew:!0},{id:"14",isNew:!0},{id:"15",isNew:!0},{id:"04",isNew:!1},{id:"06",isNew:!1},{id:"08",isNew:!1}],Ul=["Uh oh...  This is bad news! The AI only got 45% correct on the new mushrooms.","It's confusing  the 'Death Cap' with the 'Edible Paddy Straw' mushroom! If we use this AI now, the Elf might get a tummy ache... or worse!","We can't give up, but we need to fix this."],Di={question:`Think like a Data Scientist. Why is the AI failing? It probably hasn't seen enough examples of the tricky mushrooms yet.

What should we do to improve the AI's accuracy?`,options:[{text:"Feed it MORE varied photos & Retrain",correct:!0},{text:"Only test it on mushrooms it knows",correct:!1},{text:"Change the code to say 'Safe' for everything",correct:!1}],correctResponse:"Brilliant!  Option B is cheating (and dangerous!), and Option C is just lazy code.",incorrectResponse:"That won't help the AI learn better! Think about what data scientists do."},i0=[{id:"16",isGood:!0},{id:"17",isGood:!0},{id:"18",isGood:!0},{id:"19",isGood:!0},{id:"26",isGood:!0},{id:"27",isGood:!1,duplicateOf:"12"},{id:"20",isGood:!1,duplicateOf:"12"},{id:"21",isGood:!1,duplicateOf:"11"}],Nt={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3},Gl={[Nt.BOTTOM_LEFT]:{up:Nt.TOP_LEFT,right:Nt.BOTTOM_RIGHT},[Nt.BOTTOM_RIGHT]:{up:Nt.TOP_RIGHT,left:Nt.BOTTOM_LEFT},[Nt.TOP_LEFT]:{down:Nt.BOTTOM_LEFT,right:Nt.TOP_RIGHT},[Nt.TOP_RIGHT]:{down:Nt.BOTTOM_RIGHT,left:Nt.TOP_LEFT}},k2={[Nt.BOTTOM_LEFT]:"translate(0%, -50%)",[Nt.BOTTOM_RIGHT]:"translate(-50%, -50%)",[Nt.TOP_LEFT]:"translate(0%, 0%)",[Nt.TOP_RIGHT]:"translate(-50%, 0%)"},A2={[Nt.TOP_RIGHT]:[{id:"17",size:500,left:"0px",bottom:"0px",status:"DANGER",toxicity:"99% Toxic"}],[Nt.BOTTOM_LEFT]:[{id:"26",size:400,right:"50px",bottom:"50px",status:"DANGER",toxicity:"98% Toxic"},{id:"14",size:300,left:"50px",bottom:"100px",status:"DANGER",toxicity:"94% Toxic"},{id:"24",size:200,left:"800px",top:"400px",status:"EDIBLE",toxicity:"90% Safe"}],[Nt.BOTTOM_RIGHT]:[{id:"21",size:400,right:"300px",bottom:"0px",status:"DANGER",toxicity:"99% Toxic"},{id:"22",size:200,right:"0px",bottom:"250px",status:"EDIBLE",toxicity:"92% Safe"},{id:"15",size:250,left:"100px",top:"100px",status:"DANGER",toxicity:"90% Toxic"}],[Nt.TOP_LEFT]:[{id:"25",size:400,left:"50px",bottom:"200px",status:"DANGER",toxicity:"99% Toxic"},{id:"18",size:250,left:"500px",top:"0px",status:"DANGER",toxicity:"95% Toxic"},{id:"23",size:200,left:"500px",bottom:"0px",status:"EDIBLE",toxicity:"95% Safe"},{id:"19",size:200,right:"550px",top:"350px",status:"DANGER",toxicity:"91% Toxic"}]},an={[Nt.TOP_RIGHT]:{npc:"npc_c",image:"/jungle/npc_c2.gif",right:"20%",top:"5%",height:"66.67vh",width:"auto",dialogues:[["We're back online! And the system is running smoothly.","The workers have their lunch, and everyone is safe thanks to you.","But the forest is huge and full of surprises. Since you have the scanner... why not take a look around?","Go ahead, try to see which other mushrooms are EDIBLE. Who knows? You might find something rare!"],["Production is up! No more sick days!"]]},[Nt.BOTTOM_LEFT]:{npc:"npc_a",image:"/jungle/npc_a2.gif",right:"40%",bottom:"5%",height:"540px",width:"auto",hoverText:"Yay! No stomach ache today."},[Nt.BOTTOM_RIGHT]:{npc:"npc_b",image:"/jungle/npc_b2.gif",left:"5%",bottom:"0%",height:"540px",width:"auto",hoverText:"This new scanner is like magic. It knows everything!"}},I2=({onComplete:e,onExit:t})=>{var va,Ci,ji,Ml,Fr,Hr,Lr;const{t:n}=Ia(),[o,s]=r.useState("INTRO"),[i,l]=r.useState(0),[u,p]=r.useState([]),[v,M]=r.useState([]),[j,b]=r.useState(!1),[m,E]=r.useState([]),[L,A]=r.useState(0),[h,g]=r.useState(""),[y,k]=r.useState(!1),[P,_]=r.useState(null),[G,U]=r.useState(!1);r.useEffect(()=>{const d=localStorage.getItem("aiJourneyUser");if(d){const C=JSON.parse(d).dataCleaningProgress;C&&(s(C.phase||"INTRO"),l(C.noiseBatch||0),p(C.removedItems||[]),console.log("Loaded Data Cleaning progress:",C))}},[]),r.useEffect(()=>{const d=localStorage.getItem("aiJourneyUser");if(d){const S=JSON.parse(d);S.dataCleaningProgress={phase:o,noiseBatch:i,removedItems:u,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(S)),console.log("Saved Data Cleaning progress:",S.dataCleaningProgress)}},[o,i,u]);const[oe,me]=r.useState(1),[ae,ve]=r.useState([]),[It,We]=r.useState([]),[Ae,B]=r.useState(!1),[Y,se]=r.useState(""),[K,he]=r.useState(!1),[O,we]=r.useState(0),[Ie,Ye]=r.useState(""),[Je,_e]=r.useState(!1),[Ce,le]=r.useState([]),[cn,Ke]=r.useState(0),[ie,q]=r.useState({}),[Me,X]=r.useState(null),[Oe,Q]=r.useState(!1),[ue,Ee]=r.useState([]),[Xe,Yt]=r.useState(0),[Tt,Ge]=r.useState({}),[ao,$e]=r.useState(0),[so,Ht]=r.useState(!1),[Jt,Ma]=r.useState(0),[Vo,Vt]=r.useState(!1),[zo,io]=r.useState(!1),[un,za]=r.useState(!1),[yi,lo]=r.useState(null),[Ls,Fn]=r.useState(null),[ss,wt]=r.useState(0),[wn,ca]=r.useState([]),[$t,Zo]=r.useState(!1),[Mt,Us]=r.useState(!1),[Do,ua]=r.useState(0),[ro,No]=r.useState(0),[Hn,co]=r.useState(!1),uo=ud.useRef(null),[Cn,da]=r.useState(0),[pa,en]=r.useState(0),[jn,lt]=r.useState([]),[kn,Oo]=r.useState(null),[Ve,An]=r.useState(0),[Gs,Eo]=r.useState(!1),[Da,Ko]=r.useState(!1),[Ln,is]=r.useState(!1),[po,Un]=r.useState(0),Ro=ud.useRef(null),[xe,Ot]=r.useState(0),[Fe,tn]=r.useState(!1),[go,fo]=r.useState(""),[Ct,In]=r.useState(!1),[Gn,Bo]=r.useState([]),[xt,mn]=r.useState(null),[qn,Mn]=r.useState(!1),[Te,Na]=r.useState(3),[Yn,ho]=r.useState(!1),[Wn,gt]=r.useState(!1),[et,nn]=r.useState(""),[on,Et]=r.useState(null),[xo,ga]=r.useState({npc_c:0}),[Xn,fa]=r.useState(0),[jt,ha]=r.useState(null),[mo,xa]=r.useState(0),[Qe,yn]=r.useState(0),[$o,ea]=r.useState(""),[ta,zn]=r.useState(!1),[Lt,Qn]=r.useState({}),[ma,bn]=r.useState(!1),Dn=["Outstanding work, Human! You've gathered enough raw data. But... we can't feed this directly to the <strong>AI</strong>. Not yet.","In the world of AI, there is a golden rule: <strong>'Garbage In, Garbage Out'</strong>. If we train the model with messy data, it will learn the wrong lessons.","We must enter the <strong>Data Cleaning Phase</strong>."],yo=["Great job removing the noise. Now, look at this <strong>Data Table</strong>.","The auto-tagging system was glitching, so some <strong>Labels</strong> are wrong. Click on the cells you think contain errors!","Here's what to watch for:","<strong>Color</strong> should be plain color names like Purple, Red / White, or Lavendernot codes like #2323332, RGB values like rgb(255,0,0), or random strings like 7F3A9C.","<strong>Texture</strong> needs descriptive wordsSmooth, Rough, Stripednot yes/no answers, booleans like True, or numbers like 1.","<strong>Toxic</strong> is strictly Yes or No. Anything fuzzy like Maybe, Probably, N/A, or idk? That's a glitch.","If you see any of that nonsenseclick the cell and flag it!"],kt=["Some data fields are completely <strong>Empty (Null)</strong>.","The AI cannot learn from nothing! Click on the <strong>empty cells</strong>.","I will project the hologram (photo) of the mushroom. Look at the photo, and <strong>fill in the blank</strong>."];r.useEffect(()=>{ve([]),We([])},[oe]),r.useEffect(()=>{if(!K)return;const d=Dn[O];if(!d)return;let S=0;Ye(""),_e(!0);const C=setInterval(()=>{S<d.length?(Ye(d.substring(0,S+1)),S++):(_e(!1),clearInterval(C))},25);return()=>clearInterval(C)},[O,K]),r.useEffect(()=>{o==="INTRO"&&!ma?setTimeout(()=>{b(!0),bn(!0),qs()},500):o==="LABEL_INTRO"&&!ma?setTimeout(()=>{b(!0),bn(!0),Ea()},500):o==="FILL_MISSING_INTRO"&&!ma&&setTimeout(()=>{b(!0),bn(!0),ls()},500),o!=="INTRO"&&o!=="LABEL_INTRO"&&o!=="FILL_MISSING_INTRO"&&bn(!1)},[o,ma]);const[pe]=r.useState(new Audio("/sound/typing_jungle.wav")),[Pn]=r.useState(new Audio("/sound/trash.wav")),[zt]=r.useState(new Audio("/sound/wrong.mp3")),[Pe]=r.useState(new Audio("/sound/correct.wav")),[De]=r.useState(new Audio("/sound/select.mp3")),[dt]=r.useState(new Audio("/sound/test.wav"));r.useEffect(()=>{Pn.volume=.5,zt.volume=.5,Pe.volume=.5,De.volume=.6,dt.volume=.5},[Pn,zt,Pe,De,dt]);const Oa=d=>d&&d.split(/(<strong>.*?<\/strong>)/g).map((C,ne)=>{if(C.startsWith("<strong>")){const fe=C.replace(/<\/?strong>/g,"");return a.jsx("span",{style:{fontWeight:700,color:"#00bf63"},children:fe},ne)}return C}),na=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),qs=()=>{E([]),A(0),Z(0)},Ea=()=>{E([]),A(0),w(0)},ls=()=>{E([]),A(0),R(0)},Z=d=>{if(d>=Dn.length)return;const S=Dn[d],C={type:"message",text:S};E(ce=>[...ce,C]),_(C);let ne=0;g(""),k(!0),pe.play().catch(ce=>console.log("Typing sound error:",ce));const fe=setInterval(()=>{ne<S.length?(g(S.substring(0,ne+1)),ne++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(fe),d===Dn.length-1?U(!0):setTimeout(()=>{A(d+1),Z(d+1)},500))},25)},w=d=>{if(d>=yo.length)return;const S=yo[d],C={type:"message",text:S};E(ce=>[...ce,C]),_(C);let ne=0;g(""),k(!0),pe.play().catch(ce=>console.log("Typing sound error:",ce));const fe=setInterval(()=>{ne<S.length?(g(S.substring(0,ne+1)),ne++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(fe),d===yo.length-1?U(!0):setTimeout(()=>{A(d+1),w(d+1)},500))},25)},R=d=>{if(d>=kt.length)return;const S=kt[d],C={type:"message",text:S};E(ce=>[...ce,C]),_(C);let ne=0;g(""),k(!0),pe.play().catch(ce=>console.log("Typing sound error:",ce));const fe=setInterval(()=>{ne<S.length?(g(S.substring(0,ne+1)),ne++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(fe),d===kt.length-1?U(!0):setTimeout(()=>{A(d+1),R(d+1)},500))},25)},$=()=>{if(De.currentTime=0,De.play().catch(d=>console.log("Select sound error:",d)),b(!1),o==="INTRO"){s("NOISE_REMOVAL");const d=localStorage.getItem("aiJourneyUser");if(d){const S=JSON.parse(d);S.rangerMossPhase=2,localStorage.setItem("aiJourneyUser",JSON.stringify(S))}}else o==="LABEL_INTRO"?s("LABEL_CORRECTION"):o==="FILL_MISSING_INTRO"&&s("FILL_MISSING")},te=()=>{if(De.currentTime=0,De.play().catch(d=>console.log("Select sound error:",d)),Je){Ye(Dn[O]),_e(!1);return}le(d=>[...d,Dn[O]]),O<Dn.length-1?we(d=>d+1):(he(!1),s("NOISE_REMOVAL"))},re=d=>{const S=ad.includes(d);u.includes(d)?(p(C=>C.filter(ne=>ne!==d)),M(C=>C.filter(ne=>ne!==d))):S?(Pn.currentTime=0,Pn.play().catch(C=>console.log("Trash sound error:",C)),p(C=>[...C,d]),M(C=>C.filter(ne=>ne!==d))):(zt.currentTime=0,zt.play().catch(C=>console.log("Wrong sound error:",C)),v.includes(d)||M(C=>[...C,d]))},de=()=>{De.currentTime=0,De.play().catch(fe=>console.log("Select sound error:",fe));const d=n0[i],C=d.filter(fe=>ad.includes(fe)).every(fe=>u.includes(fe)),ne=d.filter(fe=>!ad.includes(fe)&&u.includes(fe));if(!C||ne.length>0){se("First, look at what you collected. Some of these aren't mushrooms at all! These are what we call 'Noise'."),B(!0);return}i<1?l(fe=>fe+1):s("LABEL_INTRO")},ze=(d,S)=>{const C=`${d}-${S}`,fe=o0[oe].some(ce=>ce.id===d&&ce.field===S);ae.includes(C)?(ve(ce=>ce.filter(be=>be!==C)),We(ce=>ce.filter(be=>be!==C))):(ve(ce=>[...ce,C]),fe?(Pe.currentTime=0,Pe.play().catch(ce=>console.log("Correct sound error:",ce))):(We(ce=>[...ce,C]),zt.currentTime=0,zt.play().catch(ce=>console.log("Wrong sound error:",ce))))},Ut=()=>{De.currentTime=0,De.play().catch(be=>console.log("Select sound error:",be));const S=o0[oe].map(be=>`${be.id}-${be.field}`),C=new Set(ae),ne=new Set(S),fe=S.every(be=>C.has(be)),ce=ae.every(be=>ne.has(be));if(!fe||!ce){se(a0[oe]),B(!0);return}oe<3?me(be=>be+1):s("FILL_MISSING_INTRO")},dn=(d,S)=>{const C=Fl.find(ne=>ne.id===d);C&&C.missingField===S&&(X({itemId:d,field:S}),Q(!0))},rs=d=>{if(!Me)return;const S=Fl.find(C=>C.id===Me.itemId);S&&d===S.correct?(Pe.currentTime=0,Pe.play().catch(C=>console.log("Correct sound error:",C)),q(C=>({...C,[Me.itemId]:d})),X(null),Q(!1)):(zt.currentTime=0,zt.play().catch(C=>console.log("Wrong sound error:",C)),se("Look carefully at the mushroom photo! What do you see?"),B(!0))},vn=()=>{if(De.currentTime=0,De.play().catch(C=>console.log("Select sound error:",C)),!Fl.every(C=>ie[C.id])){se("You still have empty cells! Click on the  to fill them."),B(!0);return}const S=localStorage.getItem("aiJourneyUser");if(S){const C=JSON.parse(S);C.rangerMossPhase=3,localStorage.setItem("aiJourneyUser",JSON.stringify(C))}s("PRE_TRAINING_QUIZ"),Ma(0),Vt(!1),io(!1),setTimeout(()=>{b(!0),Cl()},500)},Cl=()=>{const d=Hl[0],S={type:"message",text:d.question};E([S]),A(0),_(S);let C=0;g(""),k(!0),pe.play().catch(fe=>console.log("Typing sound error:",fe));const ne=setInterval(()=>{C<d.question.length?(g(d.question.substring(0,C+1)),C++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(ne),U(!1))},25)},Ys=(d,S)=>{De.currentTime=0,De.play().catch(ne=>console.log("Select sound error:",ne));const C=Hl[Jt];if(S){Pe.currentTime=0,Pe.play(),lo(d),Fn(null);const ne=C.correctResponse;Vt(!0);const fe={type:"user",text:C.options[d].text};E(ce=>[...ce,fe]),setTimeout(()=>{const ce={type:"message",text:ne};E(at=>[...at,ce]),_(ce);let be=0;g(""),k(!0),pe.play().catch(at=>console.log("Typing sound error:",at));const Be=setInterval(()=>{be<ne.length?(g(ne.substring(0,be+1)),be++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(Be),Jt<Hl.length-1?setTimeout(()=>{const at=Hl[Jt+1],rt={type:"message",text:at.question};E(ds=>[...ds,rt]),_(rt),Ma(ds=>ds+1),Vt(!1),lo(null),Fn(null);let Ze=0;g(""),k(!0),pe.play().catch(ds=>console.log("Typing sound error:",ds));const Nn=setInterval(()=>{Ze<at.question.length?(g(at.question.substring(0,Ze+1)),Ze++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(Nn))},25)},800):setTimeout(()=>{const at={type:"message",text:sd};E(Nn=>[...Nn,at]),_(at);let rt=0;g(""),k(!0),pe.play().catch(Nn=>console.log("Typing sound error:",Nn));const Ze=setInterval(()=>{rt<sd.length?(g(sd.substring(0,rt+1)),rt++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(Ze),io(!0))},25)},800))},25)},300)}else zt.currentTime=0,zt.play(),Fn(d),lo(null)},Ws=()=>{De.currentTime=0,De.play().catch(S=>console.log("Select sound error:",S)),b(!1),s("TRAINING"),$e(0);const d=setInterval(()=>{$e(S=>S>=100?(clearInterval(d),setTimeout(()=>{s("TRAINING_COMPLETE_QUIZ"),za(!1),setTimeout(()=>{b(!0),jl()},500)},1e3),100):S+2)},100)},jl=()=>{const d={type:"message",text:zi.question};E([d]),A(0),_(d);let S=0;g(""),k(!0),pe.play().catch(ne=>console.log("Typing sound error:",ne));const C=setInterval(()=>{S<zi.question.length?(g(zi.question.substring(0,S+1)),S++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(C),U(!1))},25)},Xs=(d,S)=>{De.currentTime=0,De.play().catch(be=>console.log("Select sound error:",be));const C=S?zi.correctResponse:zi.incorrectResponse;za(!0);const ne={type:"message",text:C};E(be=>[...be,ne]),_(ne);let fe=0;g(""),k(!0),pe.play().catch(be=>console.log("Typing sound error:",be));const ce=setInterval(()=>{fe<C.length?(g(C.substring(0,fe+1)),fe++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(ce),setTimeout(()=>{U(!0)},500))},25)},Qs=()=>{De.currentTime=0,De.play().catch(S=>console.log("Select sound error:",S));const d=localStorage.getItem("aiJourneyUser");if(d){const S=JSON.parse(d);S.rangerMossPhase=4,localStorage.setItem("aiJourneyUser",JSON.stringify(S))}b(!1),s("VALIDATION_DATA"),ca([])},Ra=(d,S)=>{De.currentTime=0,De.play().catch(be=>console.log("Select sound error:",be));const C=Ll[Xe],ne=C.options[d];Ge(be=>({...be,[Xe]:{optionIndex:d,isCorrect:S}}));const fe=S?C.correctResponse:C.incorrectResponse,ce=[...ue,{type:"user",text:ne.text},{type:"ranger",text:fe}];Xe<Ll.length-1?(ce.push({type:"ranger",text:Ll[Xe+1].question}),Ee(ce),Yt(be=>be+1)):(ce.push({type:"ranger",text:T2}),ce.push({type:"button",text:"Ready, Let's GO!"}),Ee(ce),Yt(be=>be+1))},Ba=()=>{De.currentTime=0,De.play().catch(S=>console.log("Select sound error:",S)),s("TRAINING"),$e(0);const d=setInterval(()=>{$e(S=>S>=100?(clearInterval(d),Ht(!0),100):S+2)},100)},ya=d=>{De.currentTime=0,De.play().catch(S=>console.log("Select sound error:",S)),d&&wt(1)},Ps=()=>{De.currentTime=0,De.play().catch(d=>console.log("Select sound error:",d)),s("VALIDATION_DATA"),ca([])},kl=d=>{if(!s0.find(C=>C.id===d).isNew){zt.currentTime=0,zt.play().catch(C=>console.log("Wrong sound error:",C)),se("We should test with New Mushrooms! These have already been collected."),B(!0);return}wn.includes(d)?ca(C=>C.filter(ne=>ne!==d)):(Pe.currentTime=0,Pe.play().catch(C=>console.log("Correct sound error:",C)),ca(C=>[...C,d]))},cs=()=>{if(wn.length!==3){se("Please select exactly 3 mushrooms to test!"),B(!0),No(0);return}dt.currentTime=0,dt.play().catch(d=>console.log("Test sound error:",d)),Zo(!0),setTimeout(()=>{Zo(!1),Us(!0)},2e3)},_o=290,ba=d=>{d.preventDefault(),co(!0)},bi=d=>{if(!Hn||!uo.current)return;const S=uo.current.getBoundingClientRect(),C=d.clientX-S.left-25,ne=Math.max(0,Math.min(C,_o));No(ne),ne>=_o-10&&(co(!1),cs())},_a=()=>{Hn&&(co(!1),ro<_o-10&&No(0))},ft=d=>{d.preventDefault(),co(!0)},vi=d=>{if(!Hn||!uo.current)return;const S=d.touches[0],C=uo.current.getBoundingClientRect(),ne=S.clientX-C.left-25,fe=Math.max(0,Math.min(ne,_o));No(fe),fe>=_o-10&&(co(!1),cs())},Sn=()=>{Hn&&(co(!1),ro<_o-10&&No(0))};r.useEffect(()=>(Hn&&(window.addEventListener("mousemove",bi),window.addEventListener("mouseup",_a),window.addEventListener("touchmove",vi),window.addEventListener("touchend",Sn)),()=>{window.removeEventListener("mousemove",bi),window.removeEventListener("mouseup",_a),window.removeEventListener("touchmove",vi),window.removeEventListener("touchend",Sn)}),[Hn,ro]),r.useEffect(()=>{if(Mt){ua(0);const d=45,S=2e3,C=60,ne=d/C,fe=S/C;let ce=0;const be=setInterval(()=>{ce++,ce>=C?(ua(d),clearInterval(be)):ua(Math.round(ce*ne))},fe);return()=>clearInterval(be)}},[Mt]),r.useEffect(()=>{if(Ve>=100){Un(0);const d=95,S=2e3,C=60,ne=d/C,fe=S/C;let ce=0;const be=setInterval(()=>{ce++,ce>=C?(Un(d),clearInterval(be)):Un(Math.round(ce*ne))},fe);return()=>clearInterval(be)}},[Ve]);const Js=()=>{s("ADJUST_MODEL_INTRO"),da(0),en(0),Eo(!1),Ko(!1),setTimeout(()=>{b(!0),Vs()},500)},Vs=()=>{const d=Ul[0],S={type:"message",text:d};E([S]),A(0),_(S);let C=0;g(""),k(!0),pe.play().catch(fe=>console.log("Typing sound error:",fe));const ne=setInterval(()=>{C<d.length?(g(d.substring(0,C+1)),C++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(ne),setTimeout(()=>{T(1)},500))},25)},T=d=>{if(d>=Ul.length){setTimeout(()=>{const ce={type:"message",text:Di.question};E(at=>[...at,ce]),_(ce);let be=0;g(""),k(!0),pe.play().catch(at=>console.log("Typing sound error:",at));const Be=setInterval(()=>{be<Di.question.length?(g(Di.question.substring(0,be+1)),be++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(Be))},25)},500);return}const S=Ul[d],C={type:"message",text:S};E(ce=>[...ce,C]),_(C);let ne=0;g(""),k(!0),pe.play().catch(ce=>console.log("Typing sound error:",ce));const fe=setInterval(()=>{ne<S.length?(g(S.substring(0,ne+1)),ne++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(fe),d===Ul.length-1?T(d+1):setTimeout(()=>{T(d+1)},500))},25)},Si=(d,S)=>{De.currentTime=0,De.play().catch(be=>console.log("Select sound error:",be));const C=S?Di.correctResponse:Di.incorrectResponse;Eo(!0);const ne={type:"message",text:C};E(be=>[...be,ne]),_(ne);let fe=0;g(""),k(!0),pe.play().catch(be=>console.log("Typing sound error:",be));const ce=setInterval(()=>{fe<C.length?(g(C.substring(0,fe+1)),fe++):(k(!1),_(null),pe.pause(),pe.currentTime=0,clearInterval(ce),S&&setTimeout(()=>{Ko(!0)},500))},25)},f=()=>{De.currentTime=0,De.play().catch(d=>console.log("Select sound error:",d)),b(!1),s("ADJUST_MODEL_DATA")};r.useEffect(()=>{if(o!=="ADJUST_MODEL_INTRO"||pa!==0)return;const d=Ul[Cn];if(!d)return;let S=0;fo(""),In(!0);const C=setInterval(()=>{S<d.length?(fo(d.substring(0,S+1)),S++):(In(!1),clearInterval(C))},25);return()=>clearInterval(C)},[Cn,o,pa]);const D=d=>{d.isGood?jn.includes(d.id)||(Pe.currentTime=0,Pe.play().catch(S=>console.log("Correct sound error:",S)),lt(S=>[...S,d.id]),Oo(null),Mn(!1),is(!0),setTimeout(()=>is(!1),2e3)):(zt.currentTime=0,zt.play().catch(S=>console.log("Wrong sound error:",S)),Oo(d),Mn(!0),se("Even though they aren't exactly the same, they don't teach the AI anything new. Try a different one!"),B(!0))},J=()=>{if(i0.filter(C=>C.isGood).map(C=>C.id).every(C=>jn.includes(C))){dt.currentTime=0,dt.play().catch(fe=>console.log("Test sound error:",fe)),s("ADJUST_MODEL_TRAINING");let C=0;const ne=setInterval(()=>{C+=2,An(C),C>=100&&clearInterval(ne)},50)}},ee=()=>{De.currentTime=0,De.play().catch(S=>console.log("Select sound error:",S));const d=localStorage.getItem("aiJourneyUser");if(d){const S=JSON.parse(d);S.rangerMossPhase=5,localStorage.setItem("aiJourneyUser",JSON.stringify(S))}s("LOADING")},z=225,ye=d=>{d.preventDefault(),tn(!0)},Se=d=>{if(!Fe||!Ro.current)return;const S=Ro.current.getBoundingClientRect(),C=d.clientX-S.left-25,ne=Math.max(0,Math.min(C,z));Ot(ne),ne>=z-10&&(tn(!1),J())},us=()=>{Fe&&(tn(!1),xe<z-10&&Ot(0))};r.useEffect(()=>(Fe&&(window.addEventListener("mousemove",Se),window.addEventListener("mouseup",us)),()=>{window.removeEventListener("mousemove",Se),window.removeEventListener("mouseup",us)}),[Fe,xe]),r.useEffect(()=>{if(o==="LOADING"){let d=0;const S=setInterval(()=>{d+=2,fa(d),d>=100&&(clearInterval(S),setTimeout(()=>{s("COLOR_MAP_EXPLORATION")},500))},50);return()=>clearInterval(S)}},[o]),r.useEffect(()=>{if(o==="COLOR_MAP_EXPLORATION"&&!Yn){const d=an[Te];d&&d.npc&&!Lt[`${Te}-${d.npc}`]&&(Qn(S=>({...S,[`${Te}-${d.npc}`]:!0})),setTimeout(()=>{d.npc==="npc_c"&&d.dialogues&&d.dialogues.length>0?oa(d.npc,d.dialogues[0][0]):d.hoverText&&oa(d.npc,d.hoverText)},800))}},[o,Te,Yn]);const oa=(d,S)=>{Et(d),nn(S),gt(!0),ea(""),zn(!0),pe.volume=.5,pe.currentTime=0,pe.play();let C=0;const ne=setInterval(()=>{C<S.length?(ea(S.substring(0,C+1)),C++):(zn(!1),pe.pause(),pe.currentTime=0,clearInterval(ne))},30)},aa=d=>{var C;const S=(C=Gl[Te])==null?void 0:C[d];S!==void 0&&!Yn&&(ho(!0),ha(null),gt(!1),Et(null),setTimeout(()=>{Na(S),ho(!1)},500))},Al=d=>{const S=an[Te];if(S&&S.npc===d)if(d==="npc_c"){const C=xo.npc_c;C<S.dialogues.length&&(xa(C),yn(0),oa(d,S.dialogues[C][0]))}else S.hoverText&&oa(d,S.hoverText)},lg=()=>{if(De.currentTime=0,De.play().catch(S=>console.log("Select sound error:",S)),ta){ea(et),zn(!1),pe.pause(),pe.currentTime=0;return}const d=an[Te];if(d&&on==="npc_c"){const S=d.dialogues[mo];Qe<S.length-1?(yn(C=>C+1),oa(on,S[Qe+1])):(gt(!1),ga(C=>({...C,npc_c:C.npc_c+1})),Et(null),pe.pause(),pe.currentTime=0)}else gt(!1),Et(null),pe.pause(),pe.currentTime=0},Il=(d,S)=>{const C=an[Te];C&&C.npc===d&&C.hoverText&&(S?(nn(C.hoverText),gt(!0),Et(d)):(gt(!1),Et(null)))},hu=()=>{nn("You know, technology didn't save the dayYOU did. An AI is just a tool. It was your careful choices as a 'Data Detective' that taught it to see the truth."),gt(!0),Et("glitch")},Br=d=>{ha(jt===d?null:d)},Fa=(d,S)=>ae.includes(`${d}-${S}`),bo=(d,S)=>It.includes(`${d}-${S}`),H={container:{width:"100%",height:"100vh",backgroundImage:"url(/jungle/map_full.png)",backgroundSize:"cover",backgroundPosition:"center",position:"relative",overflow:"hidden"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 30, 20, 0.5)",zIndex:1},exitButton:{position:"absolute",top:"20px",left:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#666",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(81, 112, 255, 0.4)",padding:"12px 30px",borderRadius:"8px",cursor:"pointer",zIndex:100},glitchNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:100,cursor:"pointer"},rangerNpc:{position:"absolute",right:"30px",bottom:"0",height:"66.67vh",width:"auto",zIndex:40},leftDialogueContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",zIndex:50},dialogueHistoryBox:{padding:"25px 30px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",maxHeight:"60vh",overflowY:"auto"},dialogueHistoryItem:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#333",lineHeight:1.7,marginBottom:"15px",paddingBottom:"15px",borderBottom:"1px solid #eee"},dialogueHistoryItemLast:{borderBottom:"none",marginBottom:0,paddingBottom:0},glitchHintInline:{position:"absolute",top:"15px",right:"100px",maxWidth:"350px",padding:"12px 20px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.98)",border:"2px solid #FFB6C1",boxShadow:"0 3px 15px rgba(0,0,0,0.15)",zIndex:150},glitchHintInlineText:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#555",lineHeight:1.5,margin:0},glitchHintCloseBtn:{position:"absolute",top:"5px",right:"8px",background:"none",border:"none",fontSize:"16px",color:"#999",cursor:"pointer"},cardContainer:{position:"absolute",top:"100px",left:"30px",width:"80%",maxWidth:"2100px",zIndex:50},speakerName:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#5170FF",marginBottom:"10px"},continueButton:{marginTop:"20px",float:"right",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#5170FF",background:"transparent",border:"none",cursor:"pointer",textTransform:"uppercase"},completeCard:{width:"600px",padding:"40px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #5170FF, #7B68EE)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",textAlign:"center"},completeTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"28px",fontWeight:700,color:"#333",marginBottom:"20px"},completeText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#555",lineHeight:1.8,marginBottom:"15px"},statusText:{fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:700,color:"#5170FF",marginBottom:"30px"},nextStepButton:{padding:"15px 40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#fff",background:"linear-gradient(135deg, #5170FF, #7B68EE)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"transform 0.2s"},quizContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",maxHeight:"80vh",zIndex:50},chatCard:{padding:"30px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.95)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(135deg, #5170FF, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",maxHeight:"70vh",overflowY:"auto"},chatMessages:{display:"flex",flexDirection:"column",gap:"15px"},rangerMessage:{display:"flex",alignItems:"flex-start",gap:"12px"},rangerAvatar:{width:"50px",height:"50px",borderRadius:"50%",background:"#1a1a2e",flexShrink:0,overflow:"hidden"},messageBubble:{padding:"15px 20px",borderRadius:"15px",background:"rgba(81, 112, 255, 0.1)",maxWidth:"80%"},messageText:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#333",lineHeight:1.6},messageSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#5170FF",marginBottom:"5px"},userMessage:{display:"flex",justifyContent:"flex-end"},userBubble:{padding:"12px 18px",borderRadius:"15px",background:"rgba(123, 104, 238, 0.2)",maxWidth:"70%"},quizOptions:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"15px",marginLeft:"62px"},quizOptionButton:{padding:"12px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",background:"rgba(255, 255, 255, 0.9)",border:"2px solid #5170FF",borderRadius:"10px",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},quizOptionSelected:{background:"rgba(123, 104, 238, 0.3)",borderColor:"#7B68EE"},goButton:{display:"block",margin:"20px auto 0",padding:"15px 40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#fff",background:"linear-gradient(135deg, #5170FF, #7B68EE)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"transform 0.2s"},validationContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",zIndex:50},validationCard:{padding:"30px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},validationText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.7,marginBottom:"25px"},validationOptions:{display:"flex",flexDirection:"column",gap:"15px"},validationOption:{padding:"15px 25px",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:500,color:"#5170FF",background:"rgba(81, 112, 255, 0.1)",border:"2px solid #5170FF",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},loadingContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",zIndex:50},loadingTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"32px",fontWeight:700,color:"#fff",marginBottom:"30px",textShadow:"0 2px 10px rgba(0,0,0,0.5)"},loadingBar:{width:"400px",height:"20px",background:"rgba(255,255,255,0.3)",borderRadius:"10px",overflow:"hidden",margin:"0 auto"},loadingFill:{height:"100%",background:"linear-gradient(90deg, #5170FF, #7B68EE)",borderRadius:"10px",transition:"width 0.1s linear"},colorMapContainer:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},colorMapWrapper:{width:"200%",height:"200%",position:"absolute",top:0,left:0,transition:"transform 0.5s ease-in-out"},colorMapImage:{width:"100%",height:"100%",objectFit:"cover"},colorMapNavArrow:{position:"absolute",width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none",padding:0},colorMapArrowImage:{width:"80px",height:"80px",objectFit:"contain",filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.5))"},colorMapUpArrow:{top:"30px",left:"50%",transform:"translateX(-50%)"},colorMapDownArrow:{bottom:"30px",left:"50%",transform:"translateX(-50%)"},colorMapLeftArrow:{left:"30px",top:"50%",transform:"translateY(-50%)"},colorMapRightArrow:{right:"30px",top:"50%",transform:"translateY(-50%)"},colorMapMushroom:{position:"absolute",cursor:"pointer",transition:"transform 0.2s",zIndex:20},colorMapMushroomImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 5px 15px rgba(0,0,0,0.3))"},colorMapNpc:{position:"absolute",cursor:"pointer",zIndex:25,transition:"transform 0.2s"},colorMapNpcImage:{width:"100%",height:"100%",objectFit:"contain"},mushroomStatusBadge:{position:"absolute",top:"-10px",left:"50%",transform:"translateX(-50%)",padding:"8px 16px",borderRadius:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px",boxShadow:"0 3px 10px rgba(0,0,0,0.3)",zIndex:30},dangerBadge:{background:"linear-gradient(135deg, #FF4444, #CC0000)",color:"#fff"},edibleBadge:{background:"linear-gradient(135deg, #44FF44, #00CC00)",color:"#fff"},colorMapDialogueContainer:{position:"absolute",zIndex:100,animation:"fadeIn 0.3s ease-out"},dialogueContainerNpcA:{top:"33.33%",left:"80px",width:"45%",maxWidth:"500px"},dialogueContainerNpcB:{top:"50%",right:"80px",width:"45%",maxWidth:"500px"},dialogueContainerRangerMoss:{bottom:"10%",left:"5%",width:"35%",maxWidth:"450px"},colorMapDialogueBox:{padding:"25px 30px",borderRadius:"30% 70% 70% 30% / 30% 30% 70% 70%",background:"rgba(255, 255, 255, 0.95)",border:"3px solid #8B4513",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3), inset 0 2px 5px rgba(255, 255, 255, 0.5)",position:"relative",minHeight:"100px"},colorMapSpeakerName:{position:"absolute",top:"-15px",right:"20px",fontFamily:"'Patrick Hand', cursive",fontSize:"20px",fontWeight:700,color:"#8B4513",background:"rgba(255, 255, 255, 0.95)",padding:"5px 15px",borderRadius:"15px",border:"2px solid #8B4513",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},colorMapDialogueText:{fontFamily:"'Patrick Hand', cursive",fontSize:"20px",fontWeight:400,color:"#333",lineHeight:1.6,textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)",marginTop:"10px",marginBottom:"15px"},colorMapContinueButton:{fontFamily:"'Patrick Hand', cursive",fontSize:"18px",fontWeight:600,color:"#8B4513",backgroundColor:"rgba(255, 235, 205, 0.9)",border:"3px solid #8B4513",padding:"12px 25px",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",marginTop:"15px",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.2)"},modernDialogueContainer:{position:"absolute",top:"12.5%",left:"10%",width:"40%",height:"70%",zIndex:100,background:"rgba(245, 245, 245, 0.98)",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"3px solid #8B4513"},modernDialogueHeader:{padding:"20px 25px 15px 25px",borderBottom:"none"},modernProgressContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},modernMissionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px",color:"#8B4513"},modernStepIndicator:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#999"},modernProgressBar:{width:"100%",height:"4px",backgroundColor:"rgba(200,200,200,0.3)",borderRadius:"2px",overflow:"hidden",marginBottom:"20px"},modernProgressFill:{height:"100%",borderRadius:"2px",transition:"width 0.3s ease",background:"#8FCCAE"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px",flex:1},modernNpcAvatar:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#333"},modernNpcStatus:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999"},modernCloseButton:{position:"relative",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},modernDialogueContent:{flex:1,padding:"0 25px 25px 25px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"100%"},modernNpcSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px"},modernActionButton:{alignSelf:"stretch",background:"#8B4513",color:"#fff",fontWeight:"bold",fontSize:"16px",padding:"15px 30px",border:"none",borderRadius:"25px",fontFamily:"'Roboto', sans-serif",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",marginTop:"8px"}},_r=n0[i]||[],Ti=S2[oe],wi=()=>{if(!j)return null;const d=localStorage.getItem("aiJourneyUser"),C=(d?JSON.parse(d):{}).rangerMossPhase||2,ne={1:"PHASE 1: COLLECTING DATA",2:"PHASE 2: DATA CLEANING",3:"PHASE 3: CORRECT LABELS",4:"PHASE 4: TEST THE MODEL",5:"PHASE 5: REFINE THE MODEL"};let fe=C;(o==="PRE_TRAINING_QUIZ"||o==="TRAINING"||o==="TRAINING_COMPLETE_QUIZ")&&(fe=3);const ce=5,be=fe/ce*100;return a.jsxs("div",{style:H.modernDialogueContainer,children:[a.jsxs("div",{style:H.modernDialogueHeader,children:[a.jsxs("div",{style:H.modernProgressContainer,children:[a.jsx("div",{style:H.modernMissionTitle,children:ne[fe]}),a.jsxs("div",{style:H.modernStepIndicator,children:["Phase ",fe," of ",ce]})]}),a.jsx("div",{style:H.modernProgressBar,children:a.jsx("div",{style:{...H.modernProgressFill,width:`${be}%`}})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{style:H.modernNpcInfo,children:[a.jsx("img",{src:"/jungle/npc_c.png",alt:"Ranger Moss",style:H.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:H.modernNpcName,children:"Ranger Moss"}),a.jsx("div",{style:H.modernNpcStatus,children:"Jungle Ranger"})]})]}),a.jsx("button",{style:H.modernCloseButton,onClick:()=>{pe.pause(),pe.currentTime=0,b(!1)},onMouseOver:Be=>Be.target.style.color="#333",onMouseOut:Be=>Be.target.style.color="#999",children:""})]})]}),a.jsxs("div",{style:H.modernDialogueContent,children:[m.map((Be,at)=>{const rt=na();return Be.type==="message"?a.jsxs("div",{style:H.modernNpcMessage,children:[a.jsx("div",{style:H.modernNpcSpeaker,children:"RANGER MOSS:"}),a.jsx("p",{style:H.modernNpcText,children:P&&P===Be?a.jsxs(a.Fragment,{children:[Oa(h),y&&a.jsx("span",{style:{opacity:.5},children:"|"})]}):Oa(Be.text)}),a.jsx("div",{style:H.modernTimestamp,children:rt})]},at):Be.type==="user"?a.jsxs("div",{style:{alignSelf:"flex-end",maxWidth:"85%"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},children:"YOU:"}),a.jsx("div",{style:{background:"#00bf63",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(0, 191, 99, 0.3)"},children:a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",lineHeight:1.5,margin:0},children:Be.text})}),a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px",textAlign:"right"},children:rt})]},at):null}),o==="FILL_MISSING_INTRO"&&G&&a.jsxs("div",{style:{background:"#1a1a2e",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",marginTop:"10px"},children:[a.jsx("img",{src:"/jungle/object/12.png",alt:"Example Mushroom",style:{width:"150px",height:"150px",objectFit:"contain",marginBottom:"15px"}}),a.jsxs("p",{style:{fontFamily:"'Roboto Mono', monospace",fontSize:"13px",color:"#fff",lineHeight:1.6,margin:0,textAlign:"center"},children:[a.jsx("strong",{children:"Color:"})," Pink / Purple",a.jsx("br",{}),a.jsx("strong",{children:"Texture:"})," Slimy / Webbed",a.jsx("br",{}),a.jsx("strong",{children:"Spikes:"})," Yes"]})]}),o==="PRE_TRAINING_QUIZ"&&!Vo&&!zo&&a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"15px"},children:Hl[Jt].options.map((Be,at)=>{const rt=Ls===at,Ze=yi===at;return a.jsx("button",{style:{...H.modernActionButton,background:Ze?"#00bf63":"rgba(139, 69, 19, 0.1)",color:Ze?"#fff":"#8B4513",border:rt?"2px solid #ff0000":"2px solid #8B4513",fontWeight:500,pointerEvents:Ze?"none":"auto"},onClick:()=>Ys(at,Be.correct),onMouseOver:Nn=>{Ze||(Nn.target.style.background="#8B4513",Nn.target.style.color="#fff",Nn.target.style.transform="scale(1.02)")},onMouseOut:Nn=>{Ze||(Nn.target.style.background="rgba(139, 69, 19, 0.1)",Nn.target.style.color="#8B4513",Nn.target.style.transform="scale(1)")},children:Be.text},at)})}),o==="PRE_TRAINING_QUIZ"&&zo&&a.jsx("button",{style:H.modernActionButton,onClick:Ws,onMouseOver:Be=>{Be.target.style.transform="scale(1.05)"},onMouseOut:Be=>{Be.target.style.transform="scale(1)"},children:"Ready, Let's GO!"}),o==="TRAINING_COMPLETE_QUIZ"&&!un&&a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"15px"},children:zi.options.map((Be,at)=>a.jsx("button",{style:{...H.modernActionButton,background:"rgba(139, 69, 19, 0.1)",color:"#8B4513",border:"2px solid #8B4513",fontWeight:500},onClick:()=>Xs(at,Be.correct),onMouseOver:rt=>{rt.target.style.background="#8B4513",rt.target.style.color="#fff",rt.target.style.transform="scale(1.02)"},onMouseOut:rt=>{rt.target.style.background="rgba(139, 69, 19, 0.1)",rt.target.style.color="#8B4513",rt.target.style.transform="scale(1)"},children:Be.text},at))}),o==="TRAINING_COMPLETE_QUIZ"&&un&&G&&a.jsx("button",{style:H.modernActionButton,onClick:Qs,onMouseOver:Be=>{Be.target.style.transform="scale(1.05)"},onMouseOut:Be=>{Be.target.style.transform="scale(1)"},children:"CONTINUE TO TEST"}),o==="ADJUST_MODEL_INTRO"&&!Gs&&!Da&&a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"15px"},children:Di.options.map((Be,at)=>a.jsx("button",{style:{...H.modernActionButton,background:"rgba(139, 69, 19, 0.1)",color:"#8B4513",border:"2px solid #8B4513",fontWeight:500},onClick:()=>Si(at,Be.correct),onMouseOver:rt=>{rt.target.style.background="#8B4513",rt.target.style.color="#fff",rt.target.style.transform="scale(1.02)"},onMouseOut:rt=>{rt.target.style.background="rgba(139, 69, 19, 0.1)",rt.target.style.color="#8B4513",rt.target.style.transform="scale(1)"},children:Be.text},at))}),o==="ADJUST_MODEL_INTRO"&&Da&&a.jsx("button",{style:H.modernActionButton,onClick:f,onMouseOver:Be=>{Be.target.style.transform="scale(1.05)"},onMouseOut:Be=>{Be.target.style.transform="scale(1)"},children:"SELECT TRAINING DATA"}),(o==="INTRO"||o==="LABEL_INTRO"||o==="FILL_MISSING_INTRO")&&G&&a.jsx("button",{style:H.modernActionButton,onClick:$,onMouseOver:Be=>{Be.target.style.transform="scale(1.05)"},onMouseOut:Be=>{Be.target.style.transform="scale(1)"},children:"MISSION ACCEPTED"})]})]})};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          @keyframes bounceMove {
            0% {
              transform: translateX(0) translateY(0);
            }
            25% {
              transform: translateX(-20vw) translateY(-15px);
            }
            50% {
              transform: translateX(-40vw) translateY(0);
            }
            75% {
              transform: translateX(-60vw) translateY(-15px);
            }
            100% {
              transform: translateX(-80vw) translateY(0);
            }
          }
        `}),a.jsxs("div",{style:H.container,children:[o!=="COLOR_MAP_EXPLORATION"&&o!=="LOADING"&&a.jsx("div",{style:H.overlay}),o==="LOADING"&&a.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#000",zIndex:200,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"60px"},children:[a.jsxs("div",{style:H.loadingContainer,children:[a.jsx("h2",{style:H.loadingTitle,children:"Loading..."}),a.jsx("div",{style:H.loadingBar,children:a.jsx("div",{style:{...H.loadingFill,width:`${Xn}%`}})})]}),a.jsx("div",{style:{width:"60%",height:"80px",background:"rgba(0, 0, 0, 0.9)",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",position:"relative"},children:[...Array(10)].map((d,S)=>a.jsx("img",{src:S%2===0?"/jungle/icon/red.svg":"/jungle/icon/green.svg",alt:"mushroom",style:{width:"40px",height:"40px",position:"absolute",animation:"bounceMove 3s ease-in-out infinite",animationDelay:`${S*.2}s`,left:`${100-S*8}%`}},S))})]}),o==="COLOR_MAP_EXPLORATION"&&a.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#000",zIndex:100},children:a.jsxs("div",{style:H.colorMapContainer,children:[a.jsx("div",{style:{...H.colorMapWrapper,transform:k2[Te]},children:a.jsx("img",{src:"/jungle/map_color.png",alt:"Fungi Jungle Color Map",style:H.colorMapImage})}),a.jsx("button",{style:H.exitButton,onClick:t,children:n("exit")}),a.jsx("div",{style:{...H.glitchNpc,width:"120px",height:"120px"},onClick:hu,children:a.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:{width:"100%",height:"100%",objectFit:"contain"}})}),((va=Gl[Te])==null?void 0:va.up)!==void 0&&a.jsx("button",{style:{...H.colorMapNavArrow,...H.colorMapUpArrow},onClick:()=>aa("up"),onMouseOver:d=>d.currentTarget.style.transform="translateX(-50%) scale(1.1)",onMouseOut:d=>d.currentTarget.style.transform="translateX(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/up.png",alt:"Up",style:H.colorMapArrowImage})}),((Ci=Gl[Te])==null?void 0:Ci.down)!==void 0&&a.jsx("button",{style:{...H.colorMapNavArrow,...H.colorMapDownArrow},onClick:()=>aa("down"),onMouseOver:d=>d.currentTarget.style.transform="translateX(-50%) scale(1.1)",onMouseOut:d=>d.currentTarget.style.transform="translateX(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/down.png",alt:"Down",style:H.colorMapArrowImage})}),((ji=Gl[Te])==null?void 0:ji.left)!==void 0&&a.jsx("button",{style:{...H.colorMapNavArrow,...H.colorMapLeftArrow},onClick:()=>aa("left"),onMouseOver:d=>d.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:d=>d.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:H.colorMapArrowImage})}),((Ml=Gl[Te])==null?void 0:Ml.right)!==void 0&&a.jsx("button",{style:{...H.colorMapNavArrow,...H.colorMapRightArrow},onClick:()=>aa("right"),onMouseOver:d=>d.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:d=>d.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:H.colorMapArrowImage})}),(Fr=A2[Te])==null?void 0:Fr.map(d=>a.jsxs("div",{style:{...H.colorMapMushroom,width:`${d.size}px`,height:`${d.size}px`,top:d.top,bottom:d.bottom,left:d.left,right:d.right},onClick:()=>Br(d.id),onMouseOver:S=>S.currentTarget.style.transform="scale(1.05)",onMouseOut:S=>S.currentTarget.style.transform="scale(1)",children:[a.jsx("img",{src:`/jungle/object/${d.id}.png`,alt:`Mushroom ${d.id}`,style:H.colorMapMushroomImage}),jt===d.id&&a.jsxs("div",{style:{...H.mushroomStatusBadge,...d.status==="DANGER"?H.dangerBadge:H.edibleBadge},children:[d.status==="DANGER"?"":""," ",d.status," (",d.toxicity,")"]})]},d.id)),an[Te]&&a.jsx("div",{style:{...H.colorMapNpc,top:an[Te].top,bottom:an[Te].bottom,left:an[Te].left,right:an[Te].right,width:an[Te].width,height:an[Te].height},onClick:()=>Al(an[Te].npc),onMouseEnter:()=>Il(an[Te].npc,!0),onMouseLeave:()=>Il(an[Te].npc,!1),onMouseOver:d=>d.currentTarget.style.transform="scale(1.02)",onMouseOut:d=>d.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:an[Te].image,alt:an[Te].npc,style:H.colorMapNpcImage})}),Wn&&a.jsx("div",{style:{...H.colorMapDialogueContainer,...on==="npc_a"?H.dialogueContainerNpcA:on==="npc_b"?H.dialogueContainerNpcB:on==="npc_c"?H.dialogueContainerRangerMoss:{}},children:a.jsxs("div",{style:H.colorMapDialogueBox,children:[a.jsx("div",{style:H.colorMapSpeakerName,children:on==="npc_a"?"NPC A":on==="npc_b"?"NPC B":on==="npc_c"?"Ranger Moss":"NPC"}),a.jsx("p",{style:H.colorMapDialogueText,children:ta?a.jsxs(a.Fragment,{children:[$o,a.jsx("span",{style:{opacity:.5},children:"|"})]}):et}),a.jsx("button",{style:H.colorMapContinueButton,onClick:on==="npc_c"?lg:()=>{gt(!1),Et(null),pe.pause(),pe.currentTime=0},onMouseOver:d=>{d.target.style.backgroundColor="#8B4513",d.target.style.color="#fff",d.target.style.transform="scale(1.05)"},onMouseOut:d=>{d.target.style.backgroundColor="rgba(255, 235, 205, 0.9)",d.target.style.color="#8B4513",d.target.style.transform="scale(1)"},children:on==="npc_c"&&((Hr=an[Te])!=null&&Hr.dialogues[mo])&&Qe<an[Te].dialogues[mo].length-1?"Continue ":"OK"})]})})]})}),o!=="LOADING"&&o!=="COLOR_MAP_EXPLORATION"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{style:H.exitButton,onClick:t,children:n("exit")}),a.jsx("div",{style:H.glitchNpc,onClick:()=>{o==="NOISE_REMOVAL"?se("First, look at what you collected. Some of these aren't mushrooms at all! These are what we call 'Noise'."):o==="LABEL_CORRECTION"&&se(a0[oe]),B(!0)},children:a.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:{width:"100%",height:"100%",objectFit:"contain"}})}),a.jsx("img",{src:"/jungle/npc_c.png",alt:"Ranger Moss",style:H.rangerNpc}),wi()]}),o==="NOISE_REMOVAL"&&a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",height:"80%",background:"rgba(0, 0, 0, 0.8)",borderRadius:"20px",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:50},children:[a.jsx("div",{style:{background:"#fff",border:"3px solid #00bf63",borderRadius:"15px",padding:"12px 35px",marginBottom:"15px"},children:a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"28px",color:"#333",margin:0,letterSpacing:"2px"},children:"CLEAN THE DATA"})}),a.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#fff",marginBottom:"20px"},children:["Please click on the ",a.jsx("span",{style:{fontWeight:"bold",color:"#00bf63"},children:"irrelevant items"}),". Keep ONLY the mushrooms!"]}),a.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"20px",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:[_r.map(d=>{const S=u.includes(d),C=v.includes(d);return a.jsx("div",{style:{width:"140px",height:"140px",background:S?"transparent":"#fff",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",cursor:S?"default":"pointer",boxShadow:S?"none":C?"0 0 20px rgba(255, 0, 0, 0.8)":"0 0 20px rgba(255, 255, 255, 0.5)",border:C?"3px solid #ff0000":"none",transition:"all 0.3s",opacity:S?0:1},onClick:()=>!S&&re(d),onMouseOver:ne=>{S||(ne.currentTarget.style.transform="scale(1.05)")},onMouseOut:ne=>{ne.currentTarget.style.transform="scale(1)"},children:!S&&a.jsx("img",{src:`/jungle/object/${d}.png`,alt:`Object ${d}`,style:{width:"110px",height:"110px",objectFit:"contain"}})},d)}),i<1&&a.jsxs("button",{style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,padding:"8px 15px",transition:"transform 0.2s"},onClick:de,onMouseOver:d=>d.currentTarget.style.transform="scale(1.1)",onMouseOut:d=>d.currentTarget.style.transform="scale(1)",children:["NEXT",a.jsx("img",{src:"/jungle/icon/right.png",alt:"Next",style:{width:"25px",height:"25px"}})]})]}),a.jsx("div",{style:{display:"flex",gap:"20px",marginTop:"auto"},children:[0,1,2].map(d=>{const S=u[d];return a.jsxs("div",{style:{width:"140px",height:"140px",background:"#00bf63",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[a.jsx("img",{src:"/jungle/icon/trash.svg",alt:"Trash",style:{width:"70px",height:"70px",filter:"brightness(0) invert(1)",opacity:S?.3:1,position:"absolute"}}),S&&a.jsx("img",{src:`/jungle/object/${S}.png`,alt:`Removed ${S}`,style:{width:"110px",height:"110px",objectFit:"contain",position:"relative",zIndex:1}})]},d)})}),i===1&&a.jsx("button",{style:{marginTop:"20px",background:"#00bf63",border:"none",borderRadius:"10px",padding:"15px 40px",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,cursor:"pointer",transition:"transform 0.2s"},onClick:de,onMouseOver:d=>d.currentTarget.style.transform="scale(1.05)",onMouseOut:d=>d.currentTarget.style.transform="scale(1)",children:"CONTINUE"})]}),o==="LABEL_CORRECTION"&&a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",height:"85%",background:"rgba(0, 0, 0, 0.8)",borderRadius:"20px",padding:"40px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:50},children:[a.jsx("div",{style:{background:"#fff",border:"3px solid #00bf63",borderRadius:"15px",padding:"15px 40px",marginBottom:"15px"},children:a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"32px",color:"#333",margin:0,letterSpacing:"2px"},children:"CORRECT LABELS"})}),a.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",marginBottom:"25px",textAlign:"center"},children:["Click on the cells that contain ",a.jsx("span",{style:{fontWeight:"bold",color:"#00bf63"},children:"ERRORS"})," to select them. Find all the incorrect data!"]}),a.jsx("div",{style:{width:"100%",flex:1,overflowY:"auto",background:"rgba(255, 255, 255, 0.95)",borderRadius:"15px",padding:"25px",border:"3px solid #8FCCAE",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3), inset 0 2px 5px rgba(143, 204, 174, 0.2)"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"ID"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Name"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Color"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Texture"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Spikes"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Toxic"})]})}),a.jsx("tbody",{children:Ti.map((d,S)=>a.jsxs("tr",{children:[a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#1a1a1a",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:S%2===0?"#fff":"rgba(143, 204, 174, 0.05)"},children:d.id}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:S%2===0?"#1a1a1a":"#2d5f3f",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:S%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:"pointer",...bo(d.id,"name")&&{background:"rgba(255, 0, 0, 0.3)",border:"2px solid #ff0000",borderRadius:"6px"},...Fa(d.id,"name")&&!bo(d.id,"name")&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"}},onClick:()=>ze(d.id,"name"),children:d.name}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:S%2===0?"#2d5f3f":"#1a1a1a",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:S%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:"pointer",...bo(d.id,"color")&&{background:"rgba(255, 0, 0, 0.3)",border:"2px solid #ff0000",borderRadius:"6px"},...Fa(d.id,"color")&&!bo(d.id,"color")&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"}},onClick:()=>ze(d.id,"color"),children:d.color}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:S%2===0?"#1a1a1a":"#2d5f3f",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:S%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:"pointer",...bo(d.id,"texture")&&{background:"rgba(255, 0, 0, 0.3)",border:"2px solid #ff0000",borderRadius:"6px"},...Fa(d.id,"texture")&&!bo(d.id,"texture")&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"}},onClick:()=>ze(d.id,"texture"),children:d.texture}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:S%2===0?"#2d5f3f":"#1a1a1a",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:S%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:"pointer",...bo(d.id,"spikes")&&{background:"rgba(255, 0, 0, 0.3)",border:"2px solid #ff0000",borderRadius:"6px"},...Fa(d.id,"spikes")&&!bo(d.id,"spikes")&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"}},onClick:()=>ze(d.id,"spikes"),children:d.spikes}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:S%2===0?"#1a1a1a":"#2d5f3f",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:S%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:"pointer",...bo(d.id,"toxic")&&{background:"rgba(255, 0, 0, 0.3)",border:"2px solid #ff0000",borderRadius:"6px"},...Fa(d.id,"toxic")&&!bo(d.id,"toxic")&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"}},onClick:()=>ze(d.id,"toxic"),children:d.toxic})]},d.id))})]})}),a.jsxs("button",{style:{marginTop:"20px",background:"#00bf63",border:"none",borderRadius:"10px",padding:"15px 40px",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,cursor:"pointer",transition:"transform 0.2s",display:"flex",alignItems:"center",gap:"10px"},onClick:Ut,onMouseOver:d=>d.currentTarget.style.transform="scale(1.05)",onMouseOut:d=>d.currentTarget.style.transform="scale(1)",children:["NEXT",a.jsx("img",{src:"/jungle/icon/right.png",alt:"Next",style:{width:"24px",height:"24px"}})]})]}),o==="FILL_MISSING"&&a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95%",height:"70%",display:"flex",gap:"20px",zIndex:50},children:[a.jsxs("div",{style:{width:"65%",height:"100%",display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsxs("div",{style:{height:"22%",background:"rgba(255, 255, 255, 0.95)",border:"3px solid #00bf63",borderRadius:"15px",padding:"20px 30px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"32px",color:"#333",margin:"0 0 10px 0",letterSpacing:"2px"},children:"FILL MISSING VALUES"}),a.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#666",margin:0,display:"flex",alignItems:"center",gap:"5px"},children:["Click on the",a.jsx("img",{src:"/jungle/icon/question.svg",alt:"?",style:{width:"20px",height:"20px"}}),"cells to fill in the missing data based on the mushroom photo."]})]}),a.jsx("div",{style:{height:"65%",background:"rgba(255, 255, 255, 0.95)",border:"3px solid #8FCCAE",borderRadius:"15px",padding:"25px",overflowY:"auto",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3)"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"ID"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Mushroom"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Color"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Texture"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Spikes"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Toxic"})]})}),a.jsx("tbody",{children:Fl.map((d,S)=>a.jsxs("tr",{children:[a.jsxs("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"17px",color:"#1a1a1a",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:S%2===0?"#fff":"rgba(143, 204, 174, 0.05)"},children:["#",d.id]}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"17px",color:S%2===0?"#1a1a1a":"#2d5f3f",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:S%2===0?"#fff":"rgba(143, 204, 174, 0.05)"},children:d.name}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"17px",color:S%2===0?"#2d5f3f":"#1a1a1a",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:S%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:d.missingField==="color"&&!ie[d.id]?"pointer":"default",...d.missingField==="color"&&!ie[d.id]&&{background:"rgba(255, 200, 100, 0.3)",borderRadius:"6px"},...d.missingField==="color"&&(Me==null?void 0:Me.itemId)===d.id&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"},...d.missingField==="color"&&ie[d.id]&&{background:"rgba(100, 200, 100, 0.3)",borderRadius:"6px"}},onClick:()=>d.missingField==="color"&&!ie[d.id]&&dn(d.id,"color"),children:d.missingField==="color"?ie[d.id]||a.jsx("img",{src:"/jungle/icon/question.svg",alt:"?",style:{width:"28px",height:"28px"}}):d.color}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"17px",color:S%2===0?"#1a1a1a":"#2d5f3f",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:S%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:d.missingField==="texture"&&!ie[d.id]?"pointer":"default",...d.missingField==="texture"&&!ie[d.id]&&{background:"rgba(255, 200, 100, 0.3)",borderRadius:"6px"},...d.missingField==="texture"&&(Me==null?void 0:Me.itemId)===d.id&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"},...d.missingField==="texture"&&ie[d.id]&&{background:"rgba(100, 200, 100, 0.3)",borderRadius:"6px"}},onClick:()=>d.missingField==="texture"&&!ie[d.id]&&dn(d.id,"texture"),children:d.missingField==="texture"?ie[d.id]||a.jsx("img",{src:"/jungle/icon/question.svg",alt:"?",style:{width:"28px",height:"28px"}}):d.texture}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"17px",color:S%2===0?"#2d5f3f":"#1a1a1a",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:S%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:d.missingField==="spikes"&&!ie[d.id]?"pointer":"default",...d.missingField==="spikes"&&!ie[d.id]&&{background:"rgba(255, 200, 100, 0.3)",borderRadius:"6px"},...d.missingField==="spikes"&&(Me==null?void 0:Me.itemId)===d.id&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"},...d.missingField==="spikes"&&ie[d.id]&&{background:"rgba(100, 200, 100, 0.3)",borderRadius:"6px"}},onClick:()=>d.missingField==="spikes"&&!ie[d.id]&&dn(d.id,"spikes"),children:d.missingField==="spikes"?ie[d.id]||a.jsx("img",{src:"/jungle/icon/question.svg",alt:"?",style:{width:"28px",height:"28px"}}):d.spikes}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"17px",color:S%2===0?"#1a1a1a":"#2d5f3f",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:S%2===0?"#fff":"rgba(143, 204, 174, 0.05)"},children:d.toxic})]},d.id))})]})})]}),a.jsx("div",{style:{width:"30%",height:"90%",background:"rgba(45, 95, 63, 0.3)",backdropFilter:"blur(10px)",border:"2px dashed #8FCCAE",borderRadius:"15px",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"20px"},children:Me?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:`/jungle/object/${Me.itemId}.png`,alt:`Mushroom ${Me.itemId}`,style:{width:"240px",height:"240px",objectFit:"contain",marginBottom:"5px"}}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",width:"100%"},children:(Lr=Fl.find(d=>d.id===Me.itemId))==null?void 0:Lr.options.map((d,S)=>a.jsx("button",{style:{padding:"12px 20px",fontFamily:"'Roboto Mono', monospace",fontSize:"14px",fontWeight:500,color:"#fff",background:"rgba(143, 204, 174, 0.3)",backdropFilter:"blur(10px)",border:"2px solid rgba(143, 204, 174, 0.5)",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>rs(d),onMouseOver:C=>{C.target.style.background="rgba(143, 204, 174, 0.5)",C.target.style.borderColor="#8FCCAE",C.target.style.transform="scale(1.02)"},onMouseOut:C=>{C.target.style.background="rgba(143, 204, 174, 0.3)",C.target.style.borderColor="rgba(143, 204, 174, 0.5)",C.target.style.transform="scale(1)"},children:d},S))})]}):a.jsxs(a.Fragment,{children:[a.jsx("img",{src:"/jungle/icon/mushroom.svg",alt:"Mushroom",style:{width:"120px",height:"120px",opacity:.5}}),a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#fff",textAlign:"center",margin:0},children:"Waiting for Input"}),a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"rgba(255, 255, 255, 0.7)",textAlign:"center",margin:0},children:"Select a ? cell on the data table to activate the Magic Scanner."})]})}),a.jsxs("button",{style:{position:"absolute",bottom:"-60px",left:"50%",transform:"translateX(-50%)",background:"#00bf63",border:"none",borderRadius:"10px",padding:"15px 50px",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,cursor:"pointer",transition:"transform 0.2s",display:"flex",alignItems:"center",gap:"10px"},onClick:vn,onMouseOver:d=>d.currentTarget.style.transform="translateX(-50%) scale(1.05)",onMouseOut:d=>d.currentTarget.style.transform="translateX(-50%) scale(1)",children:["COMPLETE",a.jsx("img",{src:"/jungle/icon/right.png",alt:"Next",style:{width:"24px",height:"24px"}})]})]}),o==="QUIZ"&&a.jsx("div",{style:H.quizContainer,children:a.jsx("div",{style:H.chatCard,children:a.jsx("div",{style:H.chatMessages,children:ue.map((d,S)=>d.type==="ranger"?a.jsxs("div",{children:[a.jsxs("div",{style:H.rangerMessage,children:[a.jsx("div",{style:H.rangerAvatar,children:a.jsx("img",{src:"/jungle/npc_c.png",alt:"Ranger",style:{width:"100%",height:"100%",objectFit:"cover"}})}),a.jsxs("div",{style:H.messageBubble,children:[a.jsx("p",{style:H.messageSpeaker,children:"Ranger Moss:"}),a.jsx("p",{style:H.messageText,children:d.text})]})]}),S===ue.length-1&&Xe<Ll.length&&a.jsx("div",{style:H.quizOptions,children:Ll[Xe].options.map((C,ne)=>{var be;const fe=Tt[Xe]!==void 0,ce=((be=Tt[Xe])==null?void 0:be.optionIndex)===ne;return a.jsx("button",{style:{...H.quizOptionButton,...ce?H.quizOptionSelected:{}},onClick:()=>!fe&&Ra(ne,C.correct),disabled:fe,children:C.text},ne)})})]},S):d.type==="user"?a.jsx("div",{style:H.userMessage,children:a.jsx("div",{style:H.userBubble,children:a.jsx("p",{style:H.messageText,children:d.text})})},S):d.type==="button"?a.jsx("button",{style:H.goButton,onClick:Ba,onMouseOver:C=>C.target.style.transform="scale(1.05)",onMouseOut:C=>C.target.style.transform="scale(1)",children:d.text},S):null)})})}),o==="TRAINING"&&a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",height:"80%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:50},children:[a.jsx("img",{src:"/jungle/model.GIF",alt:"Model Training",style:{width:"auto",height:"80%",objectFit:"contain",marginBottom:"30px"}}),a.jsx("div",{style:{width:"80%",height:"30px",background:"rgba(255, 255, 255, 0.3)",borderRadius:"15px",overflow:"hidden",border:"2px solid #8FCCAE"},children:a.jsx("div",{style:{height:"100%",width:`${ao}%`,background:"linear-gradient(90deg, #00bf63, #8FCCAE)",transition:"width 0.1s linear",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsxs("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:[ao,"%"]})})})]}),o==="VALIDATION_INTRO"&&a.jsx("div",{style:H.validationContainer,children:a.jsxs("div",{style:H.validationCard,children:[a.jsx("p",{style:H.speakerName,children:"Ranger Moss:"}),a.jsx("p",{style:H.validationText,children:w2}),ss===0&&a.jsx("div",{style:H.validationOptions,children:C2.map((d,S)=>a.jsx("button",{style:H.validationOption,onClick:()=>ya(d.correct),onMouseOver:C=>C.target.style.background="rgba(81, 112, 255, 0.2)",onMouseOut:C=>C.target.style.background="rgba(81, 112, 255, 0.1)",children:d.text},S))}),ss===1&&a.jsxs(a.Fragment,{children:[a.jsx("p",{style:{...H.validationText,marginTop:"20px",color:"#5170FF"},children:j2}),a.jsx("button",{style:{...H.goButton,marginTop:"20px"},onClick:Ps,onMouseOver:d=>d.target.style.transform="scale(1.05)",onMouseOut:d=>d.target.style.transform="scale(1)",children:"Continue "})]})]})}),o==="VALIDATION_DATA"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",height:"65%",background:"rgba(0, 0, 0, 0.8)",borderRadius:"20px",padding:"40px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:50,boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"32px",color:"#fff",margin:"0 0 10px 0",letterSpacing:"2px"},children:"Select Testing Samples"}),a.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ccc",marginBottom:"30px",textAlign:"center"},children:["Select ",a.jsx("strong",{children:"three"})," mushrooms you want to test the AI with. Choose the ",a.jsx("strong",{children:"NEW"})," mushrooms that the AI hasn't seen before!"]}),Mt?a.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"28px",color:"#fff",margin:"0 0 30px 0",letterSpacing:"2px"},children:"YOUR AI PREDICTION"}),a.jsxs("div",{style:{position:"relative",width:"200px",height:"200px",marginBottom:"20px"},children:[a.jsxs("svg",{width:"200",height:"200",style:{transform:"rotate(-90deg)"},children:[a.jsx("circle",{cx:"100",cy:"100",r:"85",fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"15"}),a.jsx("circle",{cx:"100",cy:"100",r:"85",fill:"none",stroke:"#00bf63",strokeWidth:"15",strokeDasharray:`${2*Math.PI*85*(Do/100)} ${2*Math.PI*85}`,strokeLinecap:"round",style:{filter:"drop-shadow(0 0 10px #00bf63)",transition:"stroke-dasharray 0.1s ease-out"}})]}),a.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:a.jsxs("div",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"48px",fontWeight:"bold",color:"#00bf63",lineHeight:1},children:[Do,"%"]})})]}),a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",color:"#ccc",marginBottom:"40px",letterSpacing:"2px"},children:"ACCURACY"}),a.jsx("button",{style:{background:"#00bf63",border:"none",borderRadius:"10px",padding:"15px 50px",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 15px rgba(0, 191, 99, 0.4)"},onClick:Js,onMouseOver:d=>{d.target.style.transform="scale(1.05)",d.target.style.boxShadow="0 6px 20px rgba(0, 191, 99, 0.6)"},onMouseOut:d=>{d.target.style.transform="scale(1)",d.target.style.boxShadow="0 4px 15px rgba(0, 191, 99, 0.4)"},children:"CONTINUE"})]}):a.jsx(a.Fragment,{children:a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"25px",marginBottom:"30px"},children:s0.map(d=>{const S=wn.includes(d.id);return a.jsxs("div",{style:{width:"150px",height:"150px",background:S?"rgba(0, 191, 99, 0.2)":"rgba(255, 255, 255, 0.1)",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"relative",transition:"all 0.3s",boxShadow:S?"0 8px 25px rgba(0, 191, 99, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.3)":"0 5px 15px rgba(0, 0, 0, 0.3), inset 0 -3px 10px rgba(0, 0, 0, 0.2)"},onClick:()=>kl(d.id),onMouseOver:C=>{C.currentTarget.style.transform="translateY(-5px)",C.currentTarget.style.boxShadow=S?"0 12px 30px rgba(0, 191, 99, 0.5), inset 0 -3px 10px rgba(0, 0, 0, 0.3)":"0 8px 20px rgba(255, 255, 255, 0.2), inset 0 -3px 10px rgba(0, 0, 0, 0.2)"},onMouseOut:C=>{C.currentTarget.style.transform="translateY(0)",C.currentTarget.style.boxShadow=S?"0 8px 25px rgba(0, 191, 99, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.3)":"0 5px 15px rgba(0, 0, 0, 0.3), inset 0 -3px 10px rgba(0, 0, 0, 0.2)"},children:[a.jsx("img",{src:`/jungle/object/${d.id}.png`,alt:`Mushroom ${d.id}`,style:{width:"120px",height:"120px",objectFit:"contain"}}),S&&d.isNew&&a.jsx("img",{src:"/jungle/icon/correct.png",alt:"Correct",style:{position:"absolute",top:"10px",right:"10px",width:"40px",height:"40px"}}),$t&&S&&a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 191, 99, 0.3)",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("span",{style:{color:"#fff",fontWeight:"bold",fontSize:"14px"},children:"Scanning..."})})]},d.id)})})})]}),!Mt&&a.jsxs("div",{ref:uo,style:{position:"absolute",top:"calc(50% + 35%)",left:"50%",transform:"translateX(-50%)",width:"350px",height:"60px",background:"#fff",border:"3px solid #00bf63",borderRadius:"35px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:51,boxShadow:"0 8px 25px rgba(0, 191, 99, 0.4)"},children:[a.jsx("div",{style:{position:"absolute",left:`${5+ro}px`,width:"50px",height:"50px",background:"#00bf63",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"grab",boxShadow:"0 4px 15px rgba(0, 191, 99, 0.6)",...Hn?{cursor:"grabbing"}:{}},onMouseDown:ba,onTouchStart:ft,children:a.jsx("img",{src:"/jungle/icon/arrow.png",alt:"Arrow",style:{width:"24px",height:"24px"}})}),a.jsx("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#00bf63",letterSpacing:"1.5px"},children:"TEST THE MODEL"})]})]}),o==="ADJUST_MODEL_DATA"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"65%",height:"75%",background:"rgba(0, 0, 0, 0.8)",borderRadius:"20px",padding:"35px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:50,boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"28px",color:"#fff",margin:"0 0 8px 0",letterSpacing:"2px"},children:"TRAINING PHOTOS"}),a.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#ccc",marginBottom:"20px",textAlign:"center"},children:["Feed the AI ",a.jsx("strong",{children:"High Quality Data"})]}),a.jsxs("div",{style:{display:"flex",gap:"15px",width:"100%",flex:1,marginBottom:"15px"},children:[a.jsx("div",{style:{flex:qn?"0 0 60%":"1",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",alignContent:"start"},children:i0.map(d=>{const S=jn.includes(d.id);return a.jsxs("div",{style:{width:"100%",aspectRatio:"1",background:S?"rgba(0, 191, 99, 0.2)":"rgba(255, 255, 255, 0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"relative",transition:"all 0.3s",boxShadow:S?"0 6px 20px rgba(0, 191, 99, 0.4), inset 0 -2px 8px rgba(0, 0, 0, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.3), inset 0 -2px 8px rgba(0, 0, 0, 0.2)"},onClick:()=>D(d),onMouseOver:C=>{C.currentTarget.style.transform="translateY(-3px)",C.currentTarget.style.boxShadow=S?"0 8px 25px rgba(0, 191, 99, 0.5), inset 0 -2px 8px rgba(0, 0, 0, 0.3)":"0 6px 16px rgba(255, 255, 255, 0.2), inset 0 -2px 8px rgba(0, 0, 0, 0.2)"},onMouseOut:C=>{C.currentTarget.style.transform="translateY(0)",C.currentTarget.style.boxShadow=S?"0 6px 20px rgba(0, 191, 99, 0.4), inset 0 -2px 8px rgba(0, 0, 0, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.3), inset 0 -2px 8px rgba(0, 0, 0, 0.2)"},children:[a.jsx("img",{src:`/jungle/object/${d.id}.png`,alt:`Training photo ${d.id}`,style:{width:"80%",height:"80%",objectFit:"contain"}}),S&&d.isGood&&a.jsx("img",{src:"/jungle/icon/correct.png",alt:"Correct",style:{position:"absolute",top:"6px",right:"6px",width:"25px",height:"25px"}})]},d.id)})}),qn&&kn&&a.jsxs("div",{style:{flex:"0 0 35%",height:"100%",background:"rgba(143, 204, 174, 0.15)",backdropFilter:"blur(10px)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"15px"},children:[a.jsx("h3",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"18px",color:"#fff",margin:0},children:"FEEDBACK PANEL"}),a.jsx("img",{src:`/jungle/object/${kn.duplicateOf}.png`,alt:"Duplicate",style:{width:"120px",height:"120px",objectFit:"contain"}}),a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:"bold",color:"#ff6b6b",margin:0},children:"LOW VALUE"}),a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#ccc",textAlign:"center",margin:0},children:"This is a duplicate. Choose unique samples!"})]})]}),a.jsx("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"auto"},children:[0,1,2,3,4].map(d=>{const S=jn[d];return a.jsx("div",{style:{width:"70px",height:"70px",background:S?"rgba(0, 191, 99, 0.2)":"rgba(255, 255, 255, 0.1)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3), inset 0 -2px 6px rgba(0, 0, 0, 0.2)"},children:S?a.jsx("img",{src:`/jungle/object/${S}.png`,alt:`Selected ${S}`,style:{width:"60px",height:"60px",objectFit:"contain"}}):a.jsx("img",{src:"/jungle/icon/download.svg",alt:"Empty",style:{width:"30px",height:"30px",opacity:.3}})},d)})})]}),jn.length>=5&&a.jsxs("div",{ref:Ro,style:{position:"absolute",top:"calc(50% + 39%)",left:"50%",transform:"translateX(-50%)",width:"350px",height:"60px",background:"#fff",border:"3px solid #00bf63",borderRadius:"35px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:51,boxShadow:"0 8px 25px rgba(0, 191, 99, 0.4)"},children:[a.jsx("div",{style:{position:"absolute",left:`${5+xe}px`,width:"50px",height:"50px",background:"#00bf63",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"grab",boxShadow:"0 4px 15px rgba(0, 191, 99, 0.6)",...Fe?{cursor:"grabbing"}:{}},onMouseDown:ye,children:a.jsx("img",{src:"/jungle/icon/arrow.png",alt:"Arrow",style:{width:"24px",height:"24px"}})}),a.jsx("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#00bf63",letterSpacing:"1.5px"},children:"IMPROVE ACCURACY"})]}),Ln&&a.jsx("div",{style:{position:"absolute",top:"15%",left:"12%",background:"rgba(255, 255, 255, 0.95)",border:"2px solid #00bf63",borderRadius:"15px",padding:"15px 20px",maxWidth:"250px",zIndex:52,boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},children:a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",margin:0,lineHeight:1.5},children:" Excellent choice! A new angle/condition. That will help it generalize!"})})]}),o==="ADJUST_MODEL_TRAINING"&&a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",height:"80%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",paddingTop:"5%",zIndex:50},children:[a.jsx("img",{src:"/jungle/model.GIF",alt:"Model Training",style:{width:"auto",height:Ve>=100?"40%":"70%",objectFit:"contain",marginBottom:Ve>=100?"20px":"30px",transition:"height 0.3s ease"}}),Ve<100&&a.jsx("div",{style:{width:"80%",height:"30px",background:"rgba(255, 255, 255, 0.3)",borderRadius:"15px",overflow:"hidden",border:"2px solid #8FCCAE"},children:a.jsx("div",{style:{height:"100%",width:`${Ve}%`,background:"linear-gradient(90deg, #00bf63, #8FCCAE)",transition:"width 0.1s linear",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsxs("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:[Ve,"%"]})})}),Ve>=100&&a.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"28px",color:"#fff",margin:"0 0 20px 0",letterSpacing:"2px"},children:"YOUR AI PREDICTION"}),a.jsxs("div",{style:{position:"relative",width:"180px",height:"180px",marginBottom:"15px"},children:[a.jsxs("svg",{width:"180",height:"180",style:{transform:"rotate(-90deg)"},children:[a.jsx("circle",{cx:"90",cy:"90",r:"75",fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"15"}),a.jsx("circle",{cx:"90",cy:"90",r:"75",fill:"none",stroke:"#00bf63",strokeWidth:"15",strokeDasharray:`${2*Math.PI*75*(po/100)} ${2*Math.PI*75}`,strokeLinecap:"round",style:{filter:"drop-shadow(0 0 10px #00bf63)",transition:"stroke-dasharray 0.1s ease-out"}})]}),a.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:a.jsxs("div",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"44px",fontWeight:"bold",color:"#00bf63",lineHeight:1},children:[po,"%"]})})]}),a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#ccc",marginBottom:"25px",letterSpacing:"2px"},children:"ACCURACY"}),a.jsx("button",{style:{background:"#00bf63",border:"none",borderRadius:"10px",padding:"12px 45px",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 15px rgba(0, 191, 99, 0.4)"},onClick:ee,onMouseOver:d=>{d.target.style.transform="scale(1.05)",d.target.style.boxShadow="0 6px 20px rgba(0, 191, 99, 0.6)"},onMouseOut:d=>{d.target.style.transform="scale(1)",d.target.style.boxShadow="0 4px 15px rgba(0, 191, 99, 0.4)"},children:"DONE"})]})]}),o==="COMPLETE"&&a.jsx("div",{style:H.cardContainer,children:a.jsxs("div",{style:H.completeCard,children:[a.jsx("h2",{style:H.completeTitle,children:" Data Cleaning Complete!"}),a.jsxs("p",{style:H.completeText,children:[a.jsx("strong",{children:"Ranger Moss:"}),' "Excellent! You used visual evidence to fill in the missing data. Now our dataset is completeno holes, no errors."']}),a.jsx("p",{style:H.statusText,children:"System Status: 100% Clean "}),a.jsx("button",{style:H.nextStepButton,onClick:e,onMouseOver:d=>d.target.style.transform="scale(1.05)",onMouseOut:d=>d.target.style.transform="scale(1)",children:"Next Step: Model Training "})]})}),K&&!j&&a.jsx("div",{style:H.leftDialogueContainer,children:a.jsxs("div",{style:H.dialogueHistoryBox,children:[a.jsx("p",{style:H.speakerName,children:"Ranger Moss:"}),Ce.map((d,S)=>a.jsx("p",{style:{...H.dialogueHistoryItem,...S===Ce.length-1&&!Ie?H.dialogueHistoryItemLast:{}},children:d},S)),Ie&&a.jsxs("p",{style:{...H.dialogueHistoryItem,...H.dialogueHistoryItemLast},children:[Ie,Je&&a.jsx("span",{style:{opacity:.5},children:"|"})]}),a.jsx("button",{style:H.continueButton,onClick:te,children:Je?"Skip":"Continue "})]})}),!K&&Ce.length>0&&o!=="INTRO"&&o!=="LABEL_INTRO"&&o!=="FILL_MISSING_INTRO"&&o!=="NOISE_REMOVAL"&&o!=="LABEL_CORRECTION"&&o!=="FILL_MISSING"&&o!=="QUIZ"&&o!=="TRAINING"&&o!=="VALIDATION_INTRO"&&o!=="VALIDATION_DATA"&&o!=="ADJUST_MODEL_INTRO"&&o!=="ADJUST_MODEL_DATA"&&o!=="ADJUST_MODEL_TRAINING"&&o!=="LOADING"&&o!=="COLOR_MAP_EXPLORATION"&&o!=="COMPLETE"&&o!=="PRE_TRAINING_QUIZ"&&o!=="TRAINING_COMPLETE_QUIZ"&&a.jsx("div",{style:H.leftDialogueContainer,children:a.jsxs("div",{style:H.dialogueHistoryBox,children:[a.jsx("p",{style:H.speakerName,children:"Ranger Moss:"}),Ce.map((d,S)=>a.jsx("p",{style:{...H.dialogueHistoryItem,...S===Ce.length-1?H.dialogueHistoryItemLast:{}},children:d},S))]})}),Ae&&o!=="LOADING"&&o!=="COLOR_MAP_EXPLORATION"&&a.jsxs("div",{style:H.glitchHintInline,children:[a.jsx("button",{style:H.glitchHintCloseBtn,onClick:()=>B(!1),children:""}),a.jsxs("p",{style:H.glitchHintInlineText,children:[" ",Y]})]})]})]})},M2=`
  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translate(-50%, -50%) translateY(0);
    }
    40% {
      transform: translate(-50%, -50%) translateY(-30px);
    }
    60% {
      transform: translate(-50%, -50%) translateY(-15px);
    }
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes stampAppear {
    0% {
      opacity: 0;
      transform: scale(0) rotate(-10deg);
    }
    50% {
      opacity: 1;
      transform: scale(1.2) rotate(-5deg);
    }
    100% {
      opacity: 1;
      transform: scale(1) rotate(-10deg);
    }
  }
  
  @keyframes pulse {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(1.1);
      opacity: 0.7;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.type="text/css",e.innerText=M2,document.head.appendChild(e)}const Bt={SEGMENT_1:0,SEGMENT_2:1,SEGMENT_3:2},l0={glitch:{text:"Warning! This desert is dangerous. We need to find that yellow robot, 'Alpha,' immediately! He should be in the castle ahead.",speaker:"Glitch"},npc1:[{text:"Run! Just run! The castle's defense system has gone mad! It's attacking everyone!",speaker:"NPC1"},{text:"Unless you are looking for 'Alpha'... He's still deep inside , trying to shut down the system!",speaker:"NPC1"}],npc2:[{text:"Don't go there! The castle  thinks we are monsters!",speaker:"NPC2"},{text:"Run away!",speaker:"NPC2"}],gatekeeper:[{text:"You... you must be looking for Alpha. He's inside the main hall. But the castle is terrifying right now.",speaker:"Gatekeeper"},{text:"You can try zooming in to check the situation, but I'm not risking my life going in there.",speaker:"Gatekeeper"}],npc5:{text:"Enjoy the colors, human. I will keep watchquietly this time.",speaker:"NPC 5"},npc6:{text:"Alert... just kidding. No alerts today.",speaker:"NPC 6"},npc7:{text:"Happiness, Safety, and... Acupuncture?",speaker:"NPC 7"},alphaFinal:{text:"System Status: Normal. Defense protocols deactivated. The castle is safe. Thank you, Engineer. I am now processing data with context.",speaker:"Alpha"}},On=[{type:"message",speaker:"Alpha",text:"Hello, **humans**. Sorry for the sudden blackout. As you can see, the staff have all fled."},{type:"choice",text:"Why did everyone run away?"},{type:"message",speaker:"Alpha",text:"Here's what happened: During the annual **Sandstorm**, a massive dust storm rolled in. The camera feeds are now full of noise, glare, and motion blur."},{type:"choice",text:"Continue"},{type:"message",speaker:"Alpha",text:"**Critical issue**: Our vision AI has never been trained on workers covered in sand. In its eyes, workers look like well **giant sandworms**. It attacked the staff."},{type:"choice",text:"How can we fix this?"},{type:"message",speaker:"Alpha",text:"We need your help right now:  Please send photos or video clips of **workers in sandstorm conditions**hoods up, goggles on, half-buried in dust, whatever you've got."},{type:"missionAccept",text:"Mission Accepted"}],En=[{type:"message",speaker:"Alpha",text:"Data received! Wow... these photos are completely different from my database."},{type:"message",speaker:"Alpha",text:"(Shows comparison: Clear vs. Blurry)",image:"/desert/sample.png"},{type:"message",speaker:"Alpha",text:"Look. The 'workers' I learned about before were clear, like the left image. But in the photos you took, there is flying sand everywhere."},{type:"message",speaker:"Alpha",text:"In the AI world, we call this interferencesand, rain, or blurry pixels'**Noise**'. Just like looking through dirty glasses, **Noise** reduces Data Quality."},{type:"quiz",question:"Now tell me, Why did AI mistake the employee?",options:[{text:"Because I am stupid and my chip is broken.",correct:!1},{text:"Because 'Noise' (sand) lowered the data quality and hid the features.",correct:!0},{text:"Because that employee actually looks like a worm.",correct:!1}]},{type:"message",speaker:"Alpha",text:"Exactly! High-quality Data is crucial for AI. Since we have to use these 'noisy' photos now..."},{type:"message",speaker:"Alpha",text:"I need you to help me distinguish: which ones are real humans and which ones are just noise. Let's start labeling!"}],Fo=[{type:"message",speaker:"Alpha",text:"Thank you for your corrections. Now, a quick question:  What's the scientific term for what you just did to help me fix those images?"},{type:"quiz",question:"What's the scientific term for what you just did?",options:[{text:"A. Data Mining",correct:!1},{text:"B. Data Labeling",correct:!0},{text:"C. Data Cleaning",correct:!1}]},{type:"message",speaker:"Alpha",text:"Exactly**Data Labeling**! Think of AI like a curious student. And you? You're the teacher. That's the heart of **Supervised Learning**."},{type:"message",speaker:"Alpha",text:"but wait.  Alert! New anomaly detected. I can observe actions but I still struggle with meaning."},{type:"message",speaker:"Alpha",text:"The same actiona raised arm, a flashing light, a sudden movementcan mean completely different things depending on the surroundings."},{type:"message",speaker:"Alpha",text:"Let's analyze how Environmental Context alters my judgment."},{type:"action",text:"Accepted",action:"startMission3"}],z2=({onExit:e})=>{var Si;const{t}=Ia(),n=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),o=f=>{switch(f.toLowerCase()){case"alpha":return{borderColor:"#FABA14",progressColor:"#FABA14",avatar:"/desert/npc/npc4.png"};case"sparky":return{borderColor:"#4A90E2",progressColor:"#4A90E2",avatar:"/island/npc/spark.png"};case"momo":return{borderColor:"#333333",progressColor:"#333333",avatar:"/glacier/npc/momo.png"};default:return{borderColor:"#FABA14",progressColor:"#FABA14",avatar:"/desert/npc/npc4.png"}}},[s,i]=r.useState(Bt.SEGMENT_1),[l,u]=r.useState(!1),[p,v]=r.useState(null),[M,j]=r.useState(null),[b,m]=r.useState(0),[E,L]=r.useState(""),[A,h]=r.useState(""),[g,y]=r.useState(!1),[k,P]=r.useState(!0),[_,G]=r.useState("desert"),[U,oe]=r.useState(!1),[me,ae]=r.useState([]),[ve,It]=r.useState(0),[We,Ae]=r.useState(!1),[B,Y]=r.useState(!1),[se,K]=r.useState({x:0,y:0}),[he,O]=r.useState(!1),[we,Ie]=r.useState(!1),[Ye,Je]=r.useState(null),[_e,Ce]=r.useState([]),[le,cn]=r.useState({}),[Ke,ie]=r.useState(!1),[q,Me]=r.useState(!1),[X,Oe]=r.useState(0),[Q,ue]=r.useState(!1),[Ee,Xe]=r.useState([]),[Yt,Tt]=r.useState(!1),[Ge,ao]=r.useState(null),[$e,so]=r.useState(!1),[Ht,Jt]=r.useState(!1),[Ma,Vo]=r.useState([]),[Vt,zo]=r.useState(0),[io,un]=r.useState(!1),[za,yi]=r.useState(""),[lo,Ls]=r.useState(!1),[Fn,ss]=r.useState(null),[wt,wn]=r.useState(""),[ca,$t]=r.useState([]),[Zo,Mt]=r.useState(!1),[Us,Do]=r.useState(!1),[ua,ro]=r.useState(0),[No,Hn]=r.useState(!1),[co,uo]=r.useState(!1),[Cn,da]=r.useState(0),[pa,en]=r.useState([]),[jn,lt]=r.useState(!1),[kn,Oo]=r.useState(!1),{playClickSound:Ve,playCameraSound:An,playStampSound:Gs,playSafeSound:Eo,playAlertSound:Da,playCorrectSound:Ko,playWrongSound:Ln}=wl(),{startTypingSound:is,stopTypingSound:po}=fu("/sound/desert_typing.wav"),[Un,Ro]=r.useState(!1),[xe,Ot]=r.useState("intro"),[Fe,tn]=r.useState(null),[go,fo]=r.useState([]),[Ct,In]=r.useState(null),[Gn,Bo]=r.useState(!1),[xt,mn]=r.useState(0),[qn,Mn]=r.useState({}),[Te,Na]=r.useState({}),[Yn,ho]=r.useState(!1),[Wn,gt]=r.useState(!1),[et,nn]=r.useState(null),[on,Et]=r.useState(!1),[xo,ga]=r.useState(!1),[Xn,fa]=r.useState(""),[jt,ha]=r.useState(!1),[mo,xa]=r.useState(!1),[Qe,yn]=r.useState(!1),[$o,ea]=r.useState(""),[ta,zn]=r.useState(!1),Lt={sample:{image:"/desert/Mission/sample.png",aiLogic:'AI Logic: "No movement detected  Worker is dead."',tags:[{id:"game",text:"Safe Zone: Playground",correct:!0,update:'Updated AI Logic: "User is simulating injury within a game. Status: PLAYING."'},{id:"distance",text:"Observer at a Distance",correct:!0,update:'Updated AI Logic: "Visual resolution low. Status: INSUFFICIENT DATA."'},{id:"time",text:"Short Observation Window",correct:!0,update:'Updated AI Logic: "Observation window too short. Status: PAUSED."'}]},puzzles:[{id:"puzzle1",image:"/desert/Mission/puzzle01.png",aiLogic:'AI Logic: "Object detected: Explosive Device. Action: ATTACKING. Threat Level: HIGH."',tags:[{id:"location",text:"Location: Fuel Depot",correct:!1},{id:"calendar",text:"Calendar: Lunar New Year",correct:!0,update:"Update: The worker is celebrating, not attacking. Threat Level: CLEARED."},{id:"state",text:"State: Fuse Ignited",correct:!1}]},{id:"puzzle2",image:"/desert/Mission/puzzle02.png",aiLogic:'AI Logic: "Object: Iron Sheet. Posture: Charging. Intent: Shield Bash / Riot. Status: THREAT."',tags:[{id:"audio",text:"Audio: High Decibel Screaming",correct:!1},{id:"database",text:"Database Match: Police Riot Shield",correct:!1},{id:"weather",text:"Weather: Sandstorm Warning",correct:!0,update:"Update: The iron sheet is a shield against the sand. Threat Level: CLEARED."}]},{id:"puzzle3",image:"/desert/Mission/puzzle03.png",aiLogic:'AI Logic: "Object: Spike. Posture: Attacking. Intent: Weapon Strike. Status: THREAT."',tags:[{id:"audio",text:"Audio: Low Groaning",correct:!1},{id:"sign",text:'Sign: "Wellness Spa"',correct:!0,update:"Revised Logic: The spike is a medical tool. The cactus is a doctor. Status: ACUPUNCTURE THERAPY (HEALING)."},{id:"weapon",text:"Weapon: Poisoned Dart",correct:!1}]}]},Qn=[{id:1,name:"Silverbark Frond",description:"Glass-hard leaves that shatter when threatened, releasing mild toxin dust.",image:"/desert/Mission/leaf1.png",initialVotes:["healthy","healthy","uncertain"],correctAnswer:"healthy",needsDiscussion:!1},{id:2,name:"Glowmoss Petal-Leaf",description:"Half-plant, half-fungus; glows softly at night and clings to old pipes.",image:"/desert/Mission/leaf2.png",initialVotes:["unhealthy","unhealthy","uncertain"],correctAnswer:"unhealthy",needsDiscussion:!1},{id:3,name:"Crystal Thornleaf",description:"Said to sense emotionsits leaves vibrate faintly with sound waves.",image:"/desert/Mission/leaf3.png",initialVotes:["unhealthy","healthy","uncertain"],afterDiscussionVotes:["healthy","healthy","uncertain"],correctAnswer:"healthy",needsDiscussion:!0},{id:4,name:"Whisper Vine Leaf",description:"Grows in castle cracks; metallic crystals make it shimmer in sunlight.",image:"/desert/Mission/leaf4.png",initialVotes:["unhealthy","healthy","uncertain"],afterDiscussionVotes:["unhealthy","unhealthy","uncertain"],correctAnswer:"unhealthy",needsDiscussion:!0}],ma=[{id:1,name:"Prickle",npc:"npc7"},{id:2,name:"Obsidian",npc:"npc6"},{id:3,name:"Bloom",npc:"npc3"}],bn=[{id:1,src:"/desert/Mission/01.png",correctAnswer:"confirmed"},{id:2,src:"/desert/Mission/02.png",correctAnswer:"rejected"},{id:3,src:"/desert/Mission/03.png",correctAnswer:"rejected"},{id:4,src:"/desert/Mission/04.png",correctAnswer:"rejected"},{id:5,src:"/desert/Mission/05.png",correctAnswer:"confirmed"}],Dn={[Bt.SEGMENT_1]:[{id:"01",size:250,left:"40%",bottom:"10%"},{id:"02",size:150,left:"10%",bottom:"15%"},{id:"06",size:120,left:"20%",top:"40%"},{id:"07",size:120,right:"10%",top:"30%"}],[Bt.SEGMENT_2]:[{id:"05",size:180,left:"0%",bottom:"10%"},{id:"11",size:150,right:"0%",bottom:"10%"},{id:"09",size:100,left:"25%",bottom:"15%"},{id:"10",size:180,right:"25%",bottom:"20%"}],[Bt.SEGMENT_3]:[{id:"03",size:220,right:"10%",bottom:"10%"},{id:"04",size:100,left:"40%",bottom:"25%"},{id:"08",size:120,left:"15%",top:"40%"}]};r.useEffect(()=>{const f=localStorage.getItem("aiJourneyUser");if(f){const J=JSON.parse(f).desertProgress;if(J){i(J.currentSegment||Bt.SEGMENT_1),G(J.currentView||"desert");let ee=J.capturedObjects||[];J.phase2Completed&&ee.length<11&&(console.warn("Data inconsistency detected: phase2Completed is true but capturedObjects is empty. Fixing..."),ee=Array.from({length:11},(ye,Se)=>`object_${Se+1}`)),Ce(ee);const z=ee.length>=11;(J.missionStarted||z)&&Y(!0),J.phase2Completed?(Me(!0),ie(!0)):z&&!J.phase2Completed&&ie(!1),J.colorMode&&yn(!0),J.mission4Started&&Bo(!0),J.mission4Complete&&ga(!0),console.log("Loaded Desert progress:",J),console.log("Restored capturedObjects count:",ee.length)}}fetch("/desert/object/description.json").then(D=>D.json()).then(D=>cn(D.objects)).catch(D=>console.error("Failed to load object descriptions:",D))},[]),r.useEffect(()=>{const f=localStorage.getItem("aiJourneyUser");if(f){const D=JSON.parse(f),J=_e.length>=11,ee=q,z=Qe,ye=xo;D.desertProgress={currentSegment:s,currentView:_,missionStarted:B,capturedObjects:_e,phase2Completed:q,colorMode:Qe,mission4Started:Gn,mission4Complete:xo,mission1Completed:J,mission2Completed:ee,mission3Completed:z,mission4Completed:ye,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(D)),console.log("Saved Desert progress:",{mission1Completed:J,mission2Completed:ee,mission3Completed:z,mission4Completed:ye,colorMode:Qe,mission4Complete:xo})}},[s,_,B,_e,q,Qe,Gn,xo]),r.useEffect(()=>{if(!p||!l)return;const f=p.text;if(!f)return;let D=0;h(""),y(!0),is();const J=setInterval(()=>{if(D<f.length)h(f.substring(0,D+1)),D++;else{y(!1),po(),clearInterval(J);const ee=l0[M];Array.isArray(ee)&&b<ee.length-1&&setTimeout(()=>{const z=b+1;m(z),v(ee[z])},2e3)}},30);return()=>{clearInterval(J),po()}},[p,l,M,b,is,po]),r.useEffect(()=>{const f=setInterval(()=>{P(D=>!D)},500);return()=>clearInterval(f)},[]),r.useEffect(()=>{if(!B||Qe||_e.length>=11)return;const f=D=>{K({x:D.clientX,y:D.clientY})};return window.addEventListener("mousemove",f),()=>window.removeEventListener("mousemove",f)},[B,Qe,_e.length]),r.useEffect(()=>{B||Qe||_!=="desert"||U||p&&p.isMission2||(u(!1),s===Bt.SEGMENT_1?setTimeout(()=>kt("npc1"),300):s===Bt.SEGMENT_2?setTimeout(()=>kt("gatekeeper"),300):s===Bt.SEGMENT_3&&setTimeout(()=>kt("npc2"),300))},[s,B,Qe,_,U,p]),r.useEffect(()=>{if(!mo)return;const f="SYSTEM REBOOT INITIATED";let D=0;ea(""),zn(!0);const J=setInterval(()=>{D<f.length?(ea(f.substring(0,D+1)),D++):(zn(!1),clearInterval(J))},100);return()=>clearInterval(J)},[mo]),r.useEffect(()=>{if(!Fn)return;const f=Fn.text;if(!f)return;let D=0;yi(""),Ls(!0);const J=setInterval(()=>{D<f.length?(yi(f.substring(0,D+1)),D++):(Ls(!1),clearInterval(J))},30);return()=>clearInterval(J)},[Fn]),r.useEffect(()=>{if(Ht){if(wt==="quiz1_intro"&&!lo){const f=setTimeout(()=>{ba()},2e3);return()=>clearTimeout(f)}if(wt==="quiz1_feedback"&&!lo){const f=setTimeout(()=>{ba()},2e3);return()=>clearTimeout(f)}if(wt==="mission4_part1"&&!lo){const f=setTimeout(()=>{wn("mission4_part2"),$t(D=>[...D,{type:"alpha",text:`One final task and it's urgent.

Go to the gate of the castle. For each leaf image, you'll see labels from three expert biologists: Healthy, Infected, or Uncertain.`}])},2500);return()=>clearTimeout(f)}if(wt==="mission4_part2"&&!lo){const f=setTimeout(()=>{wn("mission4_part3"),$t(D=>[...D,{type:"alpha",text:"If two or more agree, the system will automatically accept the majority verdict."}])},2500);return()=>clearTimeout(f)}}},[wt,lo,Ht]);const yo=f=>{console.log("Navigate:",f,"Current segment:",s),f==="left"?i(D=>{const J=D===Bt.SEGMENT_1?Bt.SEGMENT_3:D-1;return console.log("Left navigation: from",D,"to",J),J}):f==="right"&&i(D=>{const J=D===Bt.SEGMENT_3?Bt.SEGMENT_1:D+1;return console.log("Right navigation: from",D,"to",J),J})},kt=f=>{const D=l0[f];j(f),Array.isArray(D)?(v(D[0]),m(0)):(v(D),m(0)),u(!0)},pe=()=>{B?(v({text:`Mission Progress: ${_e.length}/11 objects photographed. Keep exploring!`,speaker:"Glitch"}),j("glitch"),u(!0)):(j("glitch"),kt("glitch"))},Pn=()=>{E.trim()&&(console.log("User message to Glitch:",E),L(""))},zt=f=>{f.key==="Enter"&&Pn()},Pe=f=>{if(!f)return f;const D=[];let J=f,ee=0;const z=/(\*\*.*?\*\*)/g;return J.split(z).forEach((Se,us)=>{if(Se.startsWith("**")&&Se.endsWith("**")){const oa=Se.slice(2,-2);D.push(a.jsx("span",{style:{fontWeight:"bold",color:"#FABA14"},children:oa},`bold-${ee++}`))}else Se.split(/(Alpha|'Alpha')/).forEach((aa,Al)=>{aa==="Alpha"||aa==="'Alpha'"?D.push(a.jsx("span",{style:{fontWeight:"bold",color:"#FF0845"},children:aa},`alpha-${ee++}`)):aa&&D.push(aa)})}),D},De=f=>f&&f.split(/('Alpha'|Alpha)/).map((J,ee)=>J==="Alpha"||J==="'Alpha'"?a.jsx("span",{style:{fontWeight:"bold",color:"#FFFFFF"},children:J},ee):J),dt=f=>f&&f.split(/(\*\*[^*]+\*\*)/).map((J,ee)=>{if(J.startsWith("**")&&J.endsWith("**")){const z=J.slice(2,-2);return a.jsx("strong",{style:{fontWeight:"bold"},children:z},ee)}return J}),Oa=f=>{switch(f){case"glitch":return{position:"absolute",top:"15px",right:"145px",width:"300px",zIndex:100};case"npc1":return{position:"absolute",bottom:"calc(20% + 50vh - 20px)",left:"calc(20% + 350px)",width:"48%",maxWidth:"600px",zIndex:100};case"npc2":return{position:"absolute",bottom:"calc(25% + 50vh - 20px)",right:"calc(25% + 350px)",width:"48%",maxWidth:"600px",zIndex:100};case"gatekeeper":return{position:"absolute",bottom:"calc(15% + 5vh)",left:"calc(5% + 250px)",width:"48%",maxWidth:"600px",zIndex:100};case"npc5":case"npc6":case"npc7":return{position:"absolute",bottom:"50px",left:"5%",width:"60%",maxWidth:"750px",zIndex:100};default:return{position:"absolute",bottom:"100px",left:"2%",width:"48%",maxWidth:"600px",zIndex:100}}},na=()=>{if(p&&p.isMission4Complete){g&&(h(p.text),y(!1),po());return}else if(p&&p.isMission3)if(g)h(p.text),y(!1),po();else if(p.step==="intro"||p.step==="briefing")Ps();else{if(p.showMission3Interface)return;if(p.showQuiz)return;if(p.showDoneButton)return;u(!1)}else p&&p.isMission2?Ys():g?(h(p.text),y(!1),po()):p.isSpecial&&p.nextAction?p.nextAction==="mission2Continue1"||p.nextAction==="startMission2"?handleMission2Continue(p.nextAction):p.nextAction==="nextMission"&&ya():u(!1)},qs=()=>{G("gate"),u(!1)},Ea=()=>{G("desert")},ls=()=>{G("gate"),u(!1)},Z=()=>{G("castle"),u(!1)},w=()=>{if(console.log("Alpha clicked. Captured objects:",_e.length,"isPhase2:",Ke,"phase2Completed:",q,"showMission3:",Un),p&&p.isMission2){console.log("Already in Mission 2, ignoring click");return}if(q&&!Un&&!Qe){console.log("Phase 2 completed, starting Mission 3"),Ra();return}if(q&&(Un||Qe)){console.log("Phase 2 already completed and Mission 3 active/complete, ignoring click");return}if(Ke&&U){console.log("Already in Phase 2 dialogue, ignoring click");return}_e.length>=11&&!Ke&&!q?(console.log("Starting Phase 2 dialogue"),ie(!0),oe(!0),Xe([]),Oe(0),ue(!1),Tt(!1),setTimeout(()=>{ze(En[0])},100)):B&&_e.length<11?(v({text:`Keep collecting photos! Progress: ${_e.length}/11 objects photographed.`,speaker:"Alpha"}),u(!0)):B||(oe(!0),ae([]),It(0),Ae(!1),setTimeout(()=>{R(On[0])},100))},R=(f,D=null)=>{const J=D!==null?D:ve;console.log("Adding Alpha message:",f,"Current step:",J),f.type==="message"&&ss(f),ae(z=>[...z,f]);const ee=J+1;if(It(ee),console.log("Next step will be:",ee),ee<On.length){const z=On[ee].type;z==="choice"||z==="missionAccept"?(console.log("Next item is a choice or mission accept:",On[ee]),Ae(!0)):(console.log("Next item is not a choice"),Ae(!1))}else console.log("Dialogue ended"),Ae(!1)},$=f=>{console.log("User chose:",f,"Current step:",ve),ae(J=>[...J,{type:"choice",text:f,isUser:!0}]),Ae(!1);const D=ve+1;if(It(D),console.log("After choice, moving to step:",D),D<On.length){const J=On[D];console.log("Adding Alpha response:",J),J.type==="missionAccept"?Ae(!0):setTimeout(()=>{R(J,D)},500)}else console.log("Dialogue completed, starting mission"),setTimeout(()=>{te()},2e3)},te=()=>{oe(!1),ae([]),It(0),Ae(!1);const f=localStorage.getItem("aiJourneyUser");if(f){const D=JSON.parse(f);D.desertProgress||(D.desertProgress={}),D.desertProgress.alphaCompleted=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(D))}Y(!0),console.log("Mission started automatically after Alpha dialogue")},re=f=>{!B||_e.includes(f)||(An(),Je(f),O(!0),setTimeout(()=>{O(!1),Ie(!0),Ce(D=>[...D,f]),setTimeout(()=>{Ie(!1),Je(null)},3e3)},1500))},de=()=>{Ie(!1),Je(null)},ze=(f,D=null)=>{const J=D!==null?D:X;console.log("=== addPhase2Message ==="),console.log("Current step:",J),console.log("Dialogue item:",f),console.log("Total flow length:",En.length),Xe(z=>[...z,f]);const ee=J+1;if(Oe(ee),console.log("Next step will be:",ee),ee<En.length){const z=En[ee];if(console.log("Next item type:",z.type),console.log("Next item:",z),z.type==="choice")console.log("Setting waiting for choice"),ue(!0),Tt(!1);else if(z.type==="quiz")console.log("Showing quiz"),Tt(!0),ue(!1);else if(z.type==="action")console.log("Showing action button"),ue(!1),Tt(!1);else if(z.type==="message"){console.log("Auto-continuing to next message in 2 seconds"),ue(!1),Tt(!1),setTimeout(()=>{console.log("Executing auto-continue to:",z),ze(z,ee)},2e3);return}}else console.log("Reached end of Phase 2 dialogue - starting model.gif and progress bar"),ue(!1),Tt(!1),setTimeout(()=>{oe(!1),ie(!1),Me(!0),Mt(!0),setTimeout(()=>{Do(!0),vn()},500)},2e3)},Ut=f=>{console.log("Phase 2 user chose:",f),Xe(J=>[...J,{type:"choice",text:f,isUser:!0}]),ue(!1);const D=X+1;Oe(D),D<En.length&&setTimeout(()=>{ze(En[D],D)},500)},dn=f=>{const J=En[X].options[f];ao(f),J.correct?Ko():Ln(),Xe(ee=>[...ee,{type:"choice",text:J.text,isUser:!0,isCorrect:J.correct}]),setTimeout(()=>{Tt(!1);const ee=X+1;Oe(ee),ee<En.length&&ze(En[ee],ee)},1e3)},rs=()=>{Ve(),console.log("=== handleStartLabeling - Starting Mission 2 ==="),console.log("Closing Alpha dialogue..."),oe(!1),ie(!1),Me(!0),uo(!1),v({text:"Mission 2: Friend or Foe Decoder",speaker:"Alpha",isMission2:!0,step:"interface",showMission2Interface:!0}),j("alpha"),da(0),en([]),u(!0)},vn=()=>{console.log("=== animateProgressBar ===");let f=0;const D=setInterval(()=>{f+=2,ro(f),f>=100&&(clearInterval(D),console.log("Progress complete! Starting Mission 2 briefing..."),setTimeout(()=>{Mt(!1),Do(!1),Cl()},500))},50)},Cl=()=>{console.log("=== startMission2Briefing ==="),ie(!0),oe(!0);const f={type:"message",speaker:"Alpha",text:"Data received! Analyzing the 'blurry photos' you brought back... Beep... Zzz... Warning! Due to high noise levels, my Confidence Level is critically low."};console.log("Adding briefing message:",f),Xe([f]),setTimeout(()=>{const D={type:"message",speaker:"Alpha",text:"I'll do my best to guess what's in the photosbut I need your human intuition to verify!"};Xe(J=>[...J,D]),setTimeout(()=>{const J={type:"message",speaker:"Alpha",text:`Mission Order: Watch the screen closely.

If my judgment is correct, click  [Confirm].

If I mistake a broom for a weapon or a rock for a monster, click  [Reject] and help me learn!`};Xe(ee=>[...ee,J]),ue(!1),Tt(!1),uo(!0)},2e3)},2e3)},Ys=()=>{if(g){h(p.text),y(!1),po();return}p.isMission2?p.step==="briefing1"?v({text:"I will try to guess what is in the photos, but I need human intuition to verify. Mission Order: Please watch the screen. If my judgment is correct, click  [Confirm]. If I mistake a broom for a weapon, or a rock for a monster, click  [Reject] and correct me!",speaker:"Alpha",isMission2:!0,step:"briefing2"}):p.step==="briefing2"?(v({text:"Mission 2: Friend or Foe Decoder",speaker:"Alpha",isMission2:!0,step:"interface",showMission2Interface:!0}),da(0),en([])):p.step==="complete"&&v({text:"Calibration complete! Thank you for the corrections. What is the scientific term for the process you just did to help me fix the images?",speaker:"Alpha",isMission2:!0,step:"quiz",showQuiz:!0}):u(!1)},Ws=f=>{const D=bn[Cn],J=f===D.correctAnswer;Gs();const ee={imageId:D.id,userChoice:f,correctAnswer:D.correctAnswer,isCorrect:J};en(z=>[...z.filter(Se=>Se.imageId!==D.id),ee]),J?setTimeout(()=>{jl()},1500):(lt(!0),setTimeout(()=>{lt(!1),en(z=>z.filter(ye=>ye.imageId!==D.id))},3e3))},jl=()=>{Cn<bn.length-1?(da(f=>f+1),v({text:"Mission 2: Friend or Foe Decoder",speaker:"Alpha",isMission2:!0,step:"interface",showMission2Interface:!0})):(console.log("=== Mission 2 Complete ==="),u(!1),so(!0),oe(!0),Vo([]),zo(0),un(!1),setTimeout(()=>{Xs(Fo[0])},500))},Xs=(f,D=null)=>{const J=D!==null?D:Vt;console.log("=== addMission2CompletionMessage ==="),console.log("Current step:",J),console.log("Dialogue item:",f),Vo(z=>[...z,f]);const ee=J+1;if(zo(ee),ee<Fo.length){const z=Fo[ee];if(console.log("Next item type:",z.type),z.type==="quiz")console.log("Showing quiz"),un(!0);else if(z.type==="action")console.log("Showing action button");else if(z.type==="message"){console.log("Auto-continuing to next message in 2 seconds"),setTimeout(()=>{Xs(z,ee)},2e3);return}}else console.log("Reached end of Mission 2 completion dialogue")},Qs=f=>{const J=Fo[Vt].options[f];Vo(ee=>[...ee,{type:"choice",text:J.text,isUser:!0,isCorrect:J.correct}]),setTimeout(()=>{un(!1);const ee=Vt+1;zo(ee),ee<Fo.length&&Xs(Fo[ee],ee)},1e3)},Ra=()=>{Ve(),console.log("Starting Mission 3: Environmental Context Analysis"),oe(!1),so(!1),v({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"sample",showMission3Interface:!0}),j("alpha"),u(!0),Ot("sample"),tn(null)},Ba=f=>{const D=f==="B",J=f==="A"?0:f==="B"?1:2;D?(Ko(),nn(null),v({text:"Correct! It's called Data Labeling. AI is like a student, and we acted as teachers, telling it 'this is right, that is wrong.' This is known as Supervised Learning!",speaker:"Alpha",isMission2:!0,step:"result",showNextButton:!0})):(Ln(),nn(J),v({...p,error:"Try again! Think about what we just did to help the AI learn."}))},ya=()=>{Ve(),console.log("Starting Mission 3: Environmental Context Analysis"),oe(!1),u(!1),v({text:"Alert. Alert. Incoming data anomaly detected. I analyze actions but my conclusions are sometimes wrong. I need your help, Again. In this mission, you will teach me something critical: context.",speaker:"Alpha",isMission3:!0,step:"intro"}),u(!0),Ot("intro")},Ps=()=>{Ve(),xe==="intro"?(v({text:"The same action can mean completely different things depending on the environment. Let's analyze how Environmental Context alters my judgment.",speaker:"Alpha",isMission3:!0,step:"briefing"}),Ot("briefing")):xe==="briefing"?(v({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"sample",showMission3Interface:!0}),Ot("sample"),tn(null),fo([])):xe==="sample"?(v({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"puzzle1",showMission3Interface:!0}),Ot("puzzle1"),In(Lt.puzzles[0]),tn(null),fo([])):xe==="puzzle1"?(v({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"puzzle2",showMission3Interface:!0}),Ot("puzzle2"),In(Lt.puzzles[1]),tn(null)):xe==="puzzle2"?(v({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"puzzle3",showMission3Interface:!0}),Ot("puzzle3"),In(Lt.puzzles[2]),tn(null)):xe==="puzzle3"&&(Ot("quiz1"),u(!1),Ro(!1),v(null),G("castle"),oe(!0),Jt(!0),wn("quiz1_intro"),$t([]))},kl=f=>{Ve(),tn(f),xe==="sample"&&!go.includes(f.id)&&fo(D=>[...D,f.id]),xe==="sample"||f.correct?(Eo(),gt("safe")):(Da(),gt("alert")),setTimeout(()=>{gt(!1)},2e3)},cs=()=>{Ve(),console.log("Mission 3 completed!"),u(!1),xa(!0),setTimeout(()=>{xa(!1),yn(!0),G("desert"),i(0)},4e3)},_o=(f,D)=>{xe==="quiz1"?D?(Ko(),nn(null),wn("quiz1_feedback"),$t(J=>[...J,{type:"user",text:"Selected correct answer"}])):(Ln(),nn(f)):xe==="quiz2"&&(D?(Ko(),nn(null),Ot("complete"),wn("complete"),$t(J=>[...J,{type:"user",text:"Selected correct answer"}])):(Ln(),nn(f)))},ba=()=>{Ve(),nn(null),wt==="quiz1_intro"?(wn("quiz1"),$t(f=>[...f,{type:"alpha",text:`Threats cleared.

I nearly fired the defense lasersat a celebration and a worker just battling the wind.

My core logic failed me.`}])):wt==="quiz1_feedback"&&(Ot("quiz2"),wn("quiz2"),$t(f=>[...f,{type:"alpha",text:"The action didn't change. Only the context didthe sandstorm, the setting, the intent."}]))},bi=()=>{if(Ve(),!Qn[xt].needsDiscussion){Ln();return}Na(D=>({...D,[xt]:!0})),Et(!1),ho(!0),setTimeout(()=>{ho(!1),setTimeout(()=>{Et(!0)},2e3)},1500)},_a=f=>{Ve();const D=Qn[xt];if(D.needsDiscussion&&!Te[xt]){Ln();return}f===D.correctAnswer?(Ko(),Mn(J=>({...J,[xt]:f})),setTimeout(()=>{xt<3?(mn(xt+1),Et(!1),ft(xt+1)):vi()},1e3)):Ln()},ft=f=>{const D=Qn[f],J=`Leaf #${f+1}: "${D.name}"
${D.description}`;let ee=0;fa(""),ha(!0),is();const z=setInterval(()=>{ee<J.length?(fa(J.substring(0,ee+1)),ee++):(ha(!1),po(),clearInterval(z),setTimeout(()=>{Et(!0)},500))},30)},vi=()=>{Ve(),console.log("Mission 4 completed!"),ga(!0),Bo(!1);const f=localStorage.getItem("aiJourneyUser");if(f){const D=JSON.parse(f);D.desertProgress||(D.desertProgress={}),D.desertProgress.mission4Complete=!0,D.desertProgress.mission4Completed=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(D)),console.log("Force saved mission4Complete = true")}v({text:"Consensus achieved. The castle's AI systems are now stable and ready to reboot.",speaker:"NPC7",isMission4Complete:!0}),j("npc7"),u(!0)},Sn=()=>{Ve(),u(!1),xa(!0),setTimeout(()=>{xa(!1),yn(!0),G("desert"),i(0);const f=localStorage.getItem("aiJourneyUser");if(f){const D=JSON.parse(f);D.desertProgress||(D.desertProgress={}),D.desertProgress.colorMode=!0,D.desertProgress.mission3Completed=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(D)),console.log("Force saved colorMode = true")}},4e3)},Js=()=>{const f=Qe?"_color.png":".png";return _==="gate"?`/desert/background/gate${f}`:_==="castle"?`/desert/background/castle${f}`:`/desert/background/desert${f}`},Vs=()=>_!=="desert"?"0px":{[Bt.SEGMENT_1]:"0px",[Bt.SEGMENT_2]:"-1360px",[Bt.SEGMENT_3]:"-2576px"}[s]||"0px",T={container:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden",background:"#f4e4bc",cursor:B&&!Qe&&_e.length<11?"none":"default"},backgroundImage:{position:"absolute",top:0,left:_==="desert"?Vs():0,width:_==="desert"?"5200px":"100vw",height:_==="desert"?"1080px":"100vh",objectFit:_==="desert"?"none":"cover",objectPosition:_==="desert"?"top left":"center",zIndex:0,transition:"left 0.5s ease-in-out",imageRendering:"crisp-edges",transform:_==="desert"?"scale(0.8)":"scale(1)",transformOrigin:_==="desert"?"top left":"center"},exitButton:{position:"absolute",top:"20px",left:"20px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},glitchNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:100,cursor:"pointer"},glitchImage:{width:"100%",height:"100%",objectFit:"contain"},navArrow:{position:"absolute",top:"50%",transform:"translateY(-50%)",width:"60px",height:"60px",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none"},leftArrow:{left:"30px"},rightArrow:{right:"30px"},arrowImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},npc:{position:"absolute",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},npc1:{bottom:"20%",left:"20%",width:"auto",height:"50vh",maxHeight:"50vh"},npc2:{bottom:"25%",right:"25%",width:"auto",height:"50vh",maxHeight:"50vh"},gatekeeper:{bottom:"15%",left:"5%",width:"auto",height:"25vh",maxHeight:"25vh"},npcImage:{width:"auto",height:"100%",objectFit:"contain"},zoomButton:{position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",height:"400px",cursor:"pointer",zIndex:50,background:"none",border:"none"},zoomImage:{width:"100%",height:"100%",objectFit:"contain"},arrowButton:{position:"absolute",bottom:"30%",left:"50%",transform:"translateX(-50%)",width:"300px",height:"300px",cursor:"pointer",zIndex:50,background:"none",border:"none"},downButton:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",width:"60px",height:"60px",cursor:"pointer",zIndex:50,background:"none",border:"none"},leftButton:{position:"absolute",top:"20px",left:"20px",width:"60px",height:"60px",cursor:"pointer",zIndex:50,background:"none",border:"none"},dialogueBox:{padding:"40px 30px 20px 30px",borderRadius:"20px",background:"#FFF1B5",border:"3px solid #43302E",cursor:"default",position:"relative"},glitchDialogueBox:{background:"rgba(71, 23, 101, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(205, 165, 247, 0.3)",boxShadow:"0 8px 32px 0 rgba(71, 23, 101, 0.37)"},dialogueText:{fontFamily:"'Coming Soon', cursive",fontSize:"18px",color:"#333",lineHeight:1.8,margin:0},glitchDialogueText:{color:"#CDA5F7",lineHeight:2},speaker:{fontFamily:"'Coming Soon', cursive",fontSize:"16px",fontWeight:700,color:"#43302E",marginBottom:"12px",padding:"8px 16px",background:"#43302E",color:"#FFF1B5",borderRadius:"8px",display:"inline-block",position:"absolute",top:"-18px",left:"20px"},glitchSpeaker:{background:"#471765",color:"#CDA5F7",border:"2px solid rgba(205, 165, 247, 0.5)"},glitchDialogueMapStyle:{position:"absolute",top:"20px",right:"150px",padding:"20px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #af4dca",zIndex:100,minWidth:"280px",maxWidth:"320px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)"},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#af4dca",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#af4dca",margin:0},glitchDialogueTextMapStyle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:"0 0 15px 0"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",backgroundColor:"#d9d7de",borderRadius:"20px",border:"2px solid #d9d7de",overflow:"hidden",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",backgroundColor:"#af4dca",margin:"0 8px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},desertObject:{position:"absolute",cursor:"pointer",zIndex:25,transition:"transform 0.2s",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.3))"},objectImage:{width:"100%",height:"100%",objectFit:"contain"},capturedObject:{opacity:.5,filter:"grayscale(100%) drop-shadow(0 2px 5px rgba(0,0,0,0.3))"},cameraOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",zIndex:200,display:"flex",justifyContent:"center",alignItems:"center"},cameraIcon:{width:"400px",height:"auto",animation:"pulse 1.5s ease-in-out"},photoOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",zIndex:200,display:"flex",justifyContent:"center",alignItems:"center"},photoFrame:{position:"relative",width:"800px",height:"1000px",backgroundImage:"url(/desert/icon/photo.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"120px 80px 160px 80px",transition:"transform 0.3s ease-in-out"},photoBackground:{width:"560px",height:"400px",background:"transparent",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"40px",overflow:"hidden"},photoObjectImage:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},photoDescription:{fontFamily:"'Roboto', sans-serif",fontSize:"28px",color:"#333",textAlign:"center",lineHeight:1.4,maxWidth:"560px",background:"rgba(255, 255, 255, 0.9)",padding:"20px",borderRadius:"15px"},photoCloseButton:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.8)",border:"none",borderRadius:"50%",width:"60px",height:"60px",fontSize:"32px",cursor:"pointer",color:"#333",display:"flex",justifyContent:"center",alignItems:"center"},progressTracker:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",gap:"15px",zIndex:60},progressHeader:{background:"rgba(255, 255, 255, 0.65)",border:"3px solid #FABA14",borderRadius:"25px",padding:"10px 30px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#333"},progressGrid:{display:"flex",gap:"10px"},progressBox:{width:"80px",height:"80px",borderRadius:"8px",background:"rgba(211, 211, 214, 0.65)",border:"3px dashed white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontFamily:"'Roboto', sans-serif",fontSize:"40px",fontWeight:"bold",color:"white",transition:"all 0.3s"},progressBoxCompleted:{background:"rgba(211, 211, 214, 1)",border:"3px solid white"},progressBoxImage:{width:"60px",height:"60px",objectFit:"contain",marginBottom:"3px"},progressBoxLabel:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",fontWeight:600,color:"#333"},modelGifOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",zIndex:300,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},modelGif:{width:"1200px",height:"auto",marginBottom:"30px"},progressBarContainer:{width:"60%",maxWidth:"500px",height:"20px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"10px",overflow:"hidden"},progressBar:{height:"100%",background:"#FABA14",borderRadius:"10px",transition:"width 0.1s ease"},finalQuizContainer:{background:"#f8f9fa",padding:"25px",borderRadius:"15px",margin:"20px 0",maxWidth:"500px"},finalQuizOptions:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"20px"},finalQuizOption:{padding:"15px 20px",border:"2px solid #ddd",borderRadius:"8px",background:"white",cursor:"pointer",fontFamily:"'Roboto', sans-serif",fontSize:"16px",transition:"all 0.2s"},mission2InterfaceInDialogue:{marginTop:"20px",padding:"30px",background:"rgba(30, 30, 50, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(30, 30, 50, 0.95), rgba(30, 30, 50, 0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center"},mission2ImageDisplayInDialogue:{position:"relative",marginBottom:"40px"},mission2ImageInDialogueNew:{maxWidth:"400px",maxHeight:"300px",objectFit:"contain",borderRadius:"8px",boxShadow:"0 10px 30px rgba(0,0,0,0.5)"},mission2StampInDialogueNew:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"250px",height:"250px",zIndex:10,pointerEvents:"none"},mission2ButtonsInDialogue:{display:"flex",gap:"60px",alignItems:"center"},mission2ButtonInDialogueNew:{display:"flex",flexDirection:"column",alignItems:"center",background:"transparent",border:"none",cursor:"pointer",transition:"transform 0.2s ease"},mission2ButtonIconInDialogueNew:{width:"100px",height:"auto",marginBottom:"15px"},mission2ButtonTextInDialogueNew:{fontFamily:"'Roboto', sans-serif",fontSize:"20px",fontWeight:700,color:"white",textAlign:"center",textTransform:"uppercase",letterSpacing:"1px",textShadow:"0 2px 4px rgba(0,0,0,0.5)"},nextMissionButton:{display:"block",width:"100%",padding:"15px 20px",margin:"15px 0",borderRadius:"8px",border:"none",background:"linear-gradient(90deg, #5170FF, #FFBBC4)",color:"white",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},mission3InterfaceContainer:{marginTop:"20px",padding:"25px",background:"linear-gradient(135deg, #f8f9fa, #e9ecef)",borderRadius:"15px",border:"2px solid #dee2e6"},mission3LogicTextAboveImage:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",marginBottom:"15px",textAlign:"center",fontStyle:"italic"},mission3ImageDisplay:{width:"100%",height:"250px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},mission3ImageInDialogue:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},mission3UpdateTextAboveButtons:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#333",marginBottom:"15px",textAlign:"center",background:"#d4edda",padding:"10px",borderRadius:"8px",border:"1px solid #c3e6cb",minHeight:"40px",display:"flex",alignItems:"center",justifyContent:"center"},mission3TagsInDialogue:{display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"center",marginBottom:"15px"},mission3TagHintText:{fontFamily:"'Roboto Mono', monospace",fontSize:"11px",color:"#333",textAlign:"center",marginBottom:"10px",fontWeight:300},mission3TagInDialogue:{padding:"8px 15px",border:"2px solid #7c4b00",borderRadius:"8px",background:"#f0e2b1",cursor:"pointer",fontFamily:"'Roboto Mono', monospace",fontSize:"12px",fontWeight:300,color:"#7c4b00",transition:"all 0.2s",minWidth:"100px",textAlign:"center",display:"flex",alignItems:"center",gap:"6px"},mission3TagIcon:{width:"16px",height:"16px",objectFit:"contain"},mission3TagSelectedInDialogue:{background:"#7c4b00",color:"white",transform:"scale(1.05)"},mission3ContinueButtonInDialogue:{display:"block",width:"100%",padding:"12px 20px",border:"none",borderRadius:"8px",background:"#7c4b00",color:"white",fontFamily:"'Roboto Mono', monospace",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},alphaIconOverlay:{position:"fixed",bottom:"30%",right:"8%",width:"250px",height:"250px",zIndex:400},alphaIcon:{width:"100%",height:"100%",objectFit:"contain"},mission3LoadingOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",zIndex:500,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},mission3LoadingText:{fontFamily:"'Roboto', sans-serif",fontSize:"28px",fontWeight:700,color:"#00ff00",marginBottom:"30px",textAlign:"center",fontFamily:"'Courier New', monospace",letterSpacing:"2px"},loadingCursor:{display:"inline-block",width:"3px",height:"28px",backgroundColor:"#00ff00",marginLeft:"5px",verticalAlign:"middle",animation:"blink 1s infinite"},modernDialogueContainer:{position:"absolute",top:"12.5%",left:"10%",width:"40%",height:"70%",zIndex:100,background:"rgba(245, 245, 245, 0.98)",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},modernDialogueHeader:{padding:"20px 25px 15px 25px",borderBottom:"none"},modernProgressContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},modernMissionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px"},modernStepIndicator:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#999"},modernProgressBar:{width:"100%",height:"4px",backgroundColor:"rgba(200,200,200,0.3)",borderRadius:"2px",overflow:"hidden",marginBottom:"20px"},modernProgressFill:{height:"100%",borderRadius:"2px",transition:"width 0.3s ease"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px",flex:1},modernNpcAvatar:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#333"},modernNpcStatus:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999"},modernCloseButton:{position:"relative",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},modernDialogueContent:{flex:1,padding:"0 25px 25px 25px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"100%"},modernNpcSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"85%"},modernUserBubble:{background:"#FABA14",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(255, 215, 0, 0.3)"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.5,margin:0},modernUserSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},modernActionButton:{alignSelf:"stretch",background:"white",border:"2px solid #E0E0E0",borderRadius:"25px",padding:"14px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",marginTop:"8px"},customCursor:{position:"fixed",pointerEvents:"none",zIndex:9999,width:"32px",height:"32px",transform:"translate(-16px, -16px)"}};return a.jsxs("div",{style:T.container,children:[B&&!Qe&&_e.length<11&&a.jsx("img",{src:"/desert/icon/camera2.png",alt:"Camera Cursor",style:{...T.customCursor,left:`${se.x}px`,top:`${se.y}px`}}),a.jsx("img",{src:Js(),alt:"Desert Background",style:T.backgroundImage}),_==="desert"&&a.jsx("button",{style:T.exitButton,onClick:e,children:t("exit")}),a.jsx("div",{style:T.glitchNpc,onClick:pe,children:a.jsx("img",{src:"/npc/npc_desert.png",alt:"Glitch",style:T.glitchImage})}),l&&M==="glitch"&&a.jsxs("div",{style:T.glitchDialogueMapStyle,children:[a.jsx("button",{style:T.glitchDialogueCloseButton,onClick:()=>u(!1),onMouseOver:f=>{f.target.style.color="#333"},onMouseOut:f=>{f.target.style.color="#999"},children:""}),a.jsxs("div",{style:T.glitchDialogueHeader,children:[a.jsx("div",{style:T.glitchDialogueAvatar,children:a.jsx("span",{style:T.glitchDialogueAvatarIcon,children:""})}),a.jsx("h4",{style:T.glitchDialogueName,children:"Glitch"})]}),a.jsx("p",{style:T.glitchDialogueTextMapStyle,children:p.text}),a.jsxs("div",{style:T.glitchDialogueInputContainer,children:[a.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:E,onChange:f=>L(f.target.value),onKeyPress:zt,style:T.glitchDialogueInput}),a.jsx("div",{style:T.glitchDialogueDivider}),a.jsx("button",{onClick:Pn,style:T.glitchDialogueSendButton,onMouseOver:f=>{f.target.style.transform="scale(1.1)"},onMouseOut:f=>{f.target.style.transform="scale(1)"},children:a.jsx("svg",{style:T.glitchDialogueSendIcon,viewBox:"0 0 24 24",fill:"#af4dca",children:a.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]})]}),_==="desert"&&a.jsxs(a.Fragment,{children:[console.log("Desert view - Mission started:",B,"Current segment:",s,"Objects for segment:",Dn[s]),a.jsx("button",{style:{...T.navArrow,...T.leftArrow},onClick:()=>yo("left"),onMouseOver:f=>f.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:f=>f.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:T.arrowImage})}),a.jsx("button",{style:{...T.navArrow,...T.rightArrow},onClick:()=>yo("right"),onMouseOver:f=>f.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:f=>f.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:T.arrowImage})}),Qe?a.jsxs(a.Fragment,{children:[s===Bt.SEGMENT_1&&a.jsx("div",{style:{position:"absolute",bottom:"35%",right:"40%",width:"450px",height:"450px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>kt("npc6"),onMouseOver:f=>f.currentTarget.style.transform="scale(1.05)",onMouseOut:f=>f.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc6.png",alt:"NPC 6",style:T.npcImage})}),s===Bt.SEGMENT_2&&a.jsx("div",{style:{position:"absolute",bottom:"10%",right:"10%",width:"200px",height:"200px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>kt("npc5"),onMouseOver:f=>f.currentTarget.style.transform="scale(1.05)",onMouseOut:f=>f.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc5.png",alt:"NPC 5",style:T.npcImage})}),s===Bt.SEGMENT_3&&a.jsx("div",{style:{position:"absolute",bottom:"35%",right:"45%",width:"500px",height:"500px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>kt("npc7"),onMouseOver:f=>f.currentTarget.style.transform="scale(1.05)",onMouseOut:f=>f.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc7.png",alt:"NPC 7",style:T.npcImage})})]}):a.jsxs(a.Fragment,{children:[!B&&s===Bt.SEGMENT_1&&a.jsx("div",{style:{...T.npc,...T.npc1},onClick:()=>kt("npc1"),onMouseOver:f=>f.currentTarget.style.transform="scale(1.05)",onMouseOut:f=>f.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc1.gif",alt:"Running NPC 1",style:T.npcImage})}),!B&&s===Bt.SEGMENT_2&&a.jsx("div",{style:{...T.npc,...T.gatekeeper},onClick:()=>kt("gatekeeper"),onMouseOver:f=>f.currentTarget.style.transform="scale(1.05)",onMouseOut:f=>f.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc3.png",alt:"Gatekeeper",style:T.npcImage})}),!B&&s===Bt.SEGMENT_3&&a.jsx("div",{style:{...T.npc,...T.npc2},onClick:()=>kt("npc2"),onMouseOver:f=>f.currentTarget.style.transform="scale(1.05)",onMouseOut:f=>f.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc2.png",alt:"Running NPC 2",style:T.npcImage})})]}),s===Bt.SEGMENT_2&&!Qe&&a.jsx("button",{style:T.zoomButton,onClick:qs,children:a.jsx("img",{src:"/desert/icon/zoom.png",alt:"Zoom",style:T.zoomImage})}),!Qe&&B&&((Si=Dn[s])==null?void 0:Si.map(f=>(console.log("Rendering object:",f.id,"in segment:",s),a.jsx("div",{style:{...T.desertObject,width:`${f.size}px`,height:`${f.size}px`,left:f.left,right:f.right,top:f.top,bottom:f.bottom,..._e.includes(f.id)?T.capturedObject:{}},onClick:()=>re(f.id),onMouseOver:D=>{_e.includes(f.id)||(D.currentTarget.style.transform="scale(1.1)")},onMouseOut:D=>{D.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:`/desert/object/${f.id}.png`,alt:`Object ${f.id}`,style:T.objectImage})},f.id))))]}),Gn&&_==="gate"&&a.jsxs(a.Fragment,{children:[ma.map((f,D)=>{const J=Qn[xt],z=(Te[xt]&&J.afterDiscussionVotes?J.afterDiscussionVotes:J.initialVotes)[D],us=window.innerWidth/4*(D+1)-125;return a.jsxs("div",{style:{position:"absolute",left:`${us}px`,bottom:"150px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:30},children:[on&&!jt&&a.jsxs("div",{style:{position:"relative",marginBottom:"10px",animation:"fadeIn 0.5s ease-in-out"},children:[a.jsx("img",{src:"/desert/icon/dialogue.png",alt:"Dialogue",style:{width:"100px",height:"80px"}}),a.jsx("img",{src:`/desert/icon/${z}.svg`,alt:z,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50px",height:"50px"}})]}),a.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("img",{src:`/desert/npc/${f.npc}.png`,alt:f.name,style:{height:"250px",width:"auto"}}),a.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",padding:"8px 16px",background:"rgba(101, 67, 33, 0.9)",color:"white",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",textAlign:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:["BIOLOGIST",f.id,a.jsx("br",{}),f.name]})]})]},f.id)}),a.jsxs("div",{style:{position:"absolute",left:"50%",top:"40px",transform:"translateX(-50%)",background:"rgba(244, 228, 188, 0.95)",borderRadius:"20px",padding:"25px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",zIndex:100,width:"800px",display:"flex",gap:"20px",alignItems:"center"},children:[a.jsx("div",{style:{flex:"0 0 150px"},children:a.jsx("img",{src:Qn[xt].image,alt:"Leaf",style:{width:"150px",height:"150px",objectFit:"contain"}})}),a.jsx("div",{style:{width:"2px",height:"120px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"1px"}}),a.jsx("div",{style:{flex:1},children:a.jsxs("div",{style:{fontSize:"16px",color:"#333",lineHeight:"1.6",whiteSpace:"pre-wrap",fontFamily:"'Coming Soon', cursive"},children:[Xn,jt&&a.jsx("span",{style:{animation:"blink 1s infinite",marginLeft:"2px"},children:"|"})]})}),a.jsx("div",{style:{flex:"0 0 auto"},children:a.jsxs("button",{onClick:bi,disabled:Te[xt]||jt,style:{padding:"15px 25px",background:Te[xt]||jt?"#ccc":"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:Te[xt]||jt?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"10px",transition:"transform 0.2s",opacity:Te[xt]||jt?.6:1,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseOver:f=>{!Te[xt]&&!jt&&(f.currentTarget.style.transform="scale(1.05)")},onMouseOut:f=>f.currentTarget.style.transform="scale(1)",children:[a.jsx("img",{src:"/desert/icon/discussion.png",alt:"Discussion",style:{width:"30px",height:"30px"}}),"Discussion"]})})]}),a.jsxs("div",{style:{position:"absolute",left:"50%",bottom:"20px",transform:"translateX(-50%)",display:"flex",gap:"30px",zIndex:100},children:[a.jsxs("div",{style:{position:"relative"},children:[a.jsx("div",{style:{position:"absolute",top:"8px",left:"0",right:"0",height:"100%",background:"#4CAF50",borderRadius:"15px",zIndex:1}}),a.jsxs("button",{onClick:()=>_a("healthy"),disabled:jt,style:{position:"relative",zIndex:2,padding:"18px 40px",background:"white",border:"none",borderRadius:"15px",fontSize:"20px",fontWeight:"bold",cursor:jt?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s",opacity:jt?.6:1},onMouseOver:f=>{jt||(f.currentTarget.style.transform="translateY(-2px)")},onMouseOut:f=>f.currentTarget.style.transform="translateY(0)",children:[a.jsx("img",{src:"/desert/icon/healthy.svg",alt:"Healthy",style:{width:"35px",height:"35px"}}),"Healthy Status"]})]}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("div",{style:{position:"absolute",top:"8px",left:"0",right:"0",height:"100%",background:"#F44336",borderRadius:"15px",zIndex:1}}),a.jsxs("button",{onClick:()=>_a("unhealthy"),disabled:jt,style:{position:"relative",zIndex:2,padding:"18px 40px",background:"white",border:"none",borderRadius:"15px",fontSize:"20px",fontWeight:"bold",cursor:jt?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s",opacity:jt?.6:1},onMouseOver:f=>{jt||(f.currentTarget.style.transform="translateY(-2px)")},onMouseOut:f=>f.currentTarget.style.transform="translateY(0)",children:[a.jsx("img",{src:"/desert/icon/unhealthy.svg",alt:"Unhealthy",style:{width:"35px",height:"35px"}}),"Unhealthy Status"]})]})]}),Yn&&a.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"30px 50px",borderRadius:"15px",fontSize:"24px",fontWeight:"bold",zIndex:200,animation:"fadeIn 0.3s ease-in-out"},children:"Experts are discussing..."})]}),xo&&_==="gate"&&a.jsx("div",{style:{position:"absolute",bottom:"15%",left:"5%",width:"300px",height:"300px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>{},onMouseOver:f=>f.currentTarget.style.transform="scale(1.05)",onMouseOut:f=>f.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc7.png",alt:"NPC 7",style:T.npcImage})}),!Qe&&B&&_==="desert"&&a.jsxs("div",{style:T.progressTracker,children:[a.jsxs("div",{style:T.progressHeader,children:["Progress: ",_e.length,"/11 Found"]}),a.jsx("div",{style:T.progressGrid,children:["01","02","03","04","05","06","07","08","09","10","11"].map(f=>{const D=_e.includes(f);return a.jsx("div",{style:{...T.progressBox,...D?T.progressBoxCompleted:{}},children:D?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:`/desert/object/${f}.png`,alt:`NPC${f}`,style:T.progressBoxImage}),a.jsxs("div",{style:T.progressBoxLabel,children:["NPC",f]})]}):"?"},f)})})]}),_==="gate"&&!Gn&&a.jsx(a.Fragment,{children:a.jsx("button",{style:T.arrowButton,onClick:Z,children:a.jsx("img",{src:"/desert/icon/arrow.png",alt:"Enter",style:T.zoomImage})})}),_==="gate"&&a.jsx("button",{style:T.downButton,onClick:Ea,children:a.jsx("img",{src:"/jungle/icon/down.png",alt:"Back to Desert",style:T.zoomImage})}),_==="castle"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{style:T.leftButton,onClick:ls,children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Back to Gate",style:T.zoomImage})}),a.jsx("div",{style:{position:"absolute",bottom:Qe?"15%":"0%",right:Qe?"25%":"10%",width:"auto",height:Qe?"300px":"250px",zIndex:30,cursor:"pointer",transition:"transform 0.2s"},onClick:Qe?()=>kt("alphaFinal"):w,onMouseOver:f=>f.currentTarget.style.transform="scale(1.05)",onMouseOut:f=>f.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc4.png",alt:"Alpha",style:T.npcImage})})]}),l&&p&&M!=="glitch"&&a.jsx("div",{style:Oa(M),children:a.jsxs("div",{style:{...T.dialogueBox,...M==="glitch"?T.glitchDialogueBox:{}},onClick:p.showMission2Interface||p.showMission3Interface||p.showQuiz||p.showNextButton||p.showContinueButton||p.showDoneButton?void 0:na,children:[a.jsx("div",{style:{...T.speaker,...M==="glitch"?T.glitchSpeaker:{}},children:p.speaker}),!p.showMission2Interface&&!p.showMission3Interface&&a.jsxs("p",{style:{...T.dialogueText,...M==="glitch"?T.glitchDialogueText:{}},children:[M==="glitch"?De(A):Pe(A),g&&a.jsx("span",{style:T.cursor})]}),p.showMission2Interface&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{style:{...T.dialogueText,...M==="glitch"?T.glitchDialogueText:{}},children:[Pe("Is the AI's judgment correct?"),g&&a.jsx("span",{style:T.cursor})]}),a.jsxs("div",{style:T.mission2InterfaceInDialogue,children:[a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"15px"},children:a.jsxs("div",{style:{color:"#FABA14",fontSize:"24px",fontWeight:"bold"},children:[Cn+1,"/5"]})}),a.jsx("div",{style:{color:"white",fontSize:"12px",marginBottom:"15px",textAlign:"center",opacity:.9},children:"Is this person a real worker? Select CONFIRMED if yes, REJECTED if no."}),a.jsxs("div",{style:T.mission2ImageDisplayInDialogue,children:[a.jsx("img",{src:bn[Cn].src,alt:`Mission Image ${Cn+1}`,style:T.mission2ImageInDialogueNew}),pa.find(f=>f.imageId===bn[Cn].id)&&a.jsx("img",{src:pa.find(f=>f.imageId===bn[Cn].id).userChoice==="confirmed"?"/desert/icon/confirmed.png":"/desert/icon/rejected.png",alt:"Stamp",style:T.mission2StampInDialogueNew})]}),a.jsxs("div",{style:T.mission2ButtonsInDialogue,children:[a.jsxs("button",{style:T.mission2ButtonInDialogueNew,onClick:()=>Ws("confirmed"),onMouseOver:f=>{f.target.style.transform="scale(1.1)"},onMouseOut:f=>{f.target.style.transform="scale(1)"},children:[a.jsx("img",{src:"/desert/icon/correct.png",alt:"Confirm",style:T.mission2ButtonIconInDialogueNew}),a.jsx("span",{style:T.mission2ButtonTextInDialogueNew,children:"Confirmed"})]}),a.jsxs("button",{style:T.mission2ButtonInDialogueNew,onClick:()=>Ws("rejected"),onMouseOver:f=>{f.target.style.transform="scale(1.1)"},onMouseOut:f=>{f.target.style.transform="scale(1)"},children:[a.jsx("img",{src:"/desert/icon/wrong.png",alt:"Reject",style:T.mission2ButtonIconInDialogueNew}),a.jsx("span",{style:T.mission2ButtonTextInDialogueNew,children:"Rejected"})]})]})]})]}),p.showMission3Interface&&a.jsxs("div",{style:T.mission3InterfaceContainer,children:[xe!=="sample"&&a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"15px"},children:a.jsx("div",{style:{color:"#FABA14",fontSize:"24px",fontWeight:"bold"},children:xe==="puzzle1"?"1/3":xe==="puzzle2"?"2/3":"3/3"})}),a.jsx("div",{style:T.mission3LogicTextAboveImage,children:xe==="sample"?Lt.sample.aiLogic:Ct==null?void 0:Ct.aiLogic}),a.jsx("div",{style:T.mission3ImageDisplay,children:xe==="sample"?a.jsx("img",{src:Lt.sample.image,alt:"Sample Analysis",style:T.mission3ImageInDialogue}):Ct&&a.jsx("img",{src:Ct.image,alt:`Puzzle ${Ct.id}`,style:T.mission3ImageInDialogue})}),Fe&&a.jsx("div",{style:T.mission3UpdateTextAboveButtons,children:Fe.update}),a.jsx("div",{style:T.mission3TagHintText,children:"Tap one at a time  each tag tells the AI something new!"}),a.jsx("div",{style:T.mission3TagsInDialogue,children:(xe==="sample"?Lt.sample.tags:(Ct==null?void 0:Ct.tags)||[]).map(f=>a.jsxs("button",{style:{...T.mission3TagInDialogue,...(Fe==null?void 0:Fe.id)===f.id?T.mission3TagSelectedInDialogue:{}},onClick:()=>kl(f),onMouseOver:D=>{(Fe==null?void 0:Fe.id)!==f.id&&(D.target.style.background="#e8d9a0")},onMouseOut:D=>{(Fe==null?void 0:Fe.id)!==f.id&&(D.target.style.background="#f0e2b1")},children:[a.jsx("img",{src:"/desert/icon/tag.svg",alt:"tag",style:T.mission3TagIcon}),f.text]},f.id))}),(xe==="sample"&&go.length===3||xe!=="sample"&&Fe&&Fe.correct)&&a.jsx("button",{style:T.mission3ContinueButtonInDialogue,onClick:Ps,onMouseOver:f=>f.target.style.transform="scale(1.05)",onMouseOut:f=>f.target.style.transform="scale(1)",children:xe==="puzzle3"?"All Clear":xe==="sample"?"Start":"Next"})]}),p.showQuiz&&a.jsxs("div",{style:T.finalQuizContainer,children:[a.jsx("div",{style:T.finalQuizOptions,children:p.quizOptions?p.quizOptions.map((f,D)=>a.jsx("button",{style:{...T.finalQuizOption,...et===D?{border:"2px solid #FF0845",background:"#ffe0e6"}:{}},onClick:()=>{p.isMission3?_o(D,f.correct):Ba(f.text.charAt(0))},onMouseOver:J=>{et!==D&&(J.target.style.background="#f0f0f0")},onMouseOut:J=>{et!==D?J.target.style.background="white":J.target.style.background="#ffe0e6"},children:f.text},D)):a.jsxs(a.Fragment,{children:[a.jsx("button",{style:{...T.finalQuizOption,...et===0?{border:"2px solid #FF0845",background:"#ffe0e6"}:{}},onClick:()=>Ba("A"),onMouseOver:f=>{et!==0&&(f.target.style.background="#f0f0f0")},onMouseOut:f=>{et!==0?f.target.style.background="white":f.target.style.background="#ffe0e6"},children:"A. Changing AI's Glasses"}),a.jsx("button",{style:{...T.finalQuizOption,...et===1?{border:"2px solid #FF0845",background:"#ffe0e6"}:{}},onClick:()=>Ba("B"),onMouseOver:f=>{et!==1&&(f.target.style.background="#f0f0f0")},onMouseOut:f=>{et!==1?f.target.style.background="white":f.target.style.background="#ffe0e6"},children:"B. Data Labeling / Annotation"}),a.jsx("button",{style:{...T.finalQuizOption,...et===2?{border:"2px solid #FF0845",background:"#ffe0e6"}:{}},onClick:()=>Ba("C"),onMouseOver:f=>{et!==2&&(f.target.style.background="#f0f0f0")},onMouseOut:f=>{et!==2?f.target.style.background="white":f.target.style.background="#ffe0e6"},children:"C. Magic Reshuffling"})]})}),p.error&&a.jsx("div",{style:{color:"#dc3545",fontSize:"14px",marginTop:"10px",textAlign:"center"},children:p.error})]}),p.showContinueButton&&a.jsx("button",{style:T.nextMissionButton,onClick:ba,onMouseOver:f=>f.target.style.transform="scale(1.02)",onMouseOut:f=>f.target.style.transform="scale(1)",children:"CONTINUE"}),p.showNextButton&&a.jsx("button",{style:T.nextMissionButton,onClick:ya,onMouseOver:f=>f.target.style.transform="scale(1.02)",onMouseOut:f=>f.target.style.transform="scale(1)",children:"NEXT MISSION"}),p.showDoneButton&&a.jsx("button",{style:T.nextMissionButton,onClick:cs,onMouseOver:f=>f.target.style.transform="scale(1.02)",onMouseOut:f=>f.target.style.transform="scale(1)",children:"MISSION COMPLETE"}),p.isMission4Complete&&!g&&a.jsx("button",{style:{marginTop:"20px",padding:"15px 40px",background:"rgba(139, 90, 43, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(139, 90, 43, 0.5)",borderRadius:"15px",color:"#8B5A2B",fontSize:"18px",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(139, 90, 43, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.2)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",letterSpacing:"1px"},onClick:Sn,onMouseOver:f=>{f.target.style.background="rgba(139, 90, 43, 0.4)",f.target.style.transform="translateY(-2px)",f.target.style.boxShadow="0 6px 20px rgba(139, 90, 43, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},onMouseOut:f=>{f.target.style.background="rgba(139, 90, 43, 0.3)",f.target.style.transform="translateY(0)",f.target.style.boxShadow="0 4px 15px rgba(139, 90, 43, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},children:" REBOOT SYSTEM"})]})}),U&&(()=>{const f=o("alpha"),D=4,J=Gn||xo?4:Ht?3:$e||Ke?2:1,ee=J/D*100;return a.jsxs("div",{style:{...T.modernDialogueContainer,border:`3px solid ${f.borderColor}`},children:[a.jsxs("div",{style:T.modernDialogueHeader,children:[a.jsxs("div",{style:T.modernProgressContainer,children:[a.jsx("div",{style:{...T.modernMissionTitle,color:f.borderColor},children:Ht?"MISSION: CONTEXT UNDERSTANDING COMPLETE":$e?"MISSION: DATA LABELING COMPLETE":Ke?"MISSION: DATA ANALYSIS":"MISSION: CASTLE DEFENSE"}),a.jsxs("div",{style:T.modernStepIndicator,children:["Step ",J," of ",D]})]}),a.jsx("div",{style:T.modernProgressBar,children:a.jsx("div",{style:{...T.modernProgressFill,width:`${ee}%`,background:f.progressColor}})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{style:T.modernNpcInfo,children:[a.jsx("img",{src:f.avatar,alt:"Alpha",style:T.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:T.modernNpcName,children:"Alpha"}),a.jsx("div",{style:T.modernNpcStatus,children:"Castle AI System"})]})]}),a.jsx("button",{style:T.modernCloseButton,onClick:te,onMouseOver:z=>z.target.style.color="#333",onMouseOut:z=>z.target.style.color="#999",children:""})]})]}),a.jsxs("div",{style:T.modernDialogueContent,children:[!Ke&&me.map((z,ye)=>{const Se=n();return z.type==="message"?a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:T.modernNpcText,children:Fn&&Fn===z?a.jsxs(a.Fragment,{children:[dt(za),lo&&a.jsx("span",{style:{opacity:.5},children:"|"})]}):dt(z.text)}),a.jsx("div",{style:T.modernTimestamp,children:Se})]},ye):z.type==="choice"&&z.isUser?a.jsxs("div",{style:T.modernUserMessage,children:[a.jsx("div",{style:T.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:{...T.modernUserBubble,background:f.borderColor},children:a.jsx("p",{style:T.modernUserText,children:z.text})}),a.jsx("div",{style:{...T.modernTimestamp,textAlign:"right"},children:Se})]},ye):null}),!Ke&&We&&ve<On.length&&a.jsx("button",{style:{...T.modernActionButton,...On[ve].type==="missionAccept"?{background:f.borderColor,color:"#fff",fontWeight:"bold",fontSize:"16px",padding:"15px 30px",border:"none"}:{}},onClick:()=>{On[ve].type==="missionAccept"?te():$(On[ve].text)},onMouseOver:z=>{On[ve].type==="missionAccept"?z.target.style.transform="scale(1.05)":(z.target.style.borderColor=f.borderColor,z.target.style.transform="translateX(5px)")},onMouseOut:z=>{On[ve].type==="missionAccept"?z.target.style.transform="scale(1)":(z.target.style.borderColor="#E0E0E0",z.target.style.transform="translateX(0)")},children:On[ve].type==="missionAccept"?On[ve].text:a.jsxs(a.Fragment,{children:[a.jsx("span",{style:{fontSize:"16px",color:f.borderColor},children:""}),On[ve].text]})}),Ke&&Ee.map((z,ye)=>{const Se=n();return z.type==="message"?a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:T.modernNpcText,children:Pe(z.text)}),z.image&&a.jsx("img",{src:z.image,alt:"Comparison",style:{width:"100%",height:"auto",borderRadius:"10px",marginTop:"8px"}}),a.jsx("div",{style:T.modernTimestamp,children:Se})]},ye):z.type==="choice"&&z.isUser?a.jsxs("div",{style:T.modernUserMessage,children:[a.jsx("div",{style:T.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:{...T.modernUserBubble,background:z.isCorrect===!0?"#28a745":z.isCorrect===!1?"#dc3545":f.borderColor},children:a.jsxs("p",{style:{...T.modernUserText,color:z.isCorrect!==void 0?"white":"#333"},children:[z.text,z.isCorrect===!0&&" ",z.isCorrect===!1&&" "]})}),a.jsx("div",{style:{...T.modernTimestamp,textAlign:"right"},children:Se})]},ye):null}),Ke&&Q&&X<En.length&&a.jsxs("button",{style:T.modernActionButton,onClick:()=>Ut(En[X].text),onMouseOver:z=>{z.target.style.borderColor=f.borderColor,z.target.style.transform="translateX(5px)"},onMouseOut:z=>{z.target.style.borderColor="#E0E0E0",z.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:f.borderColor},children:""}),En[X].text]}),Ke&&Yt&&X<En.length&&a.jsxs("div",{style:{width:"100%",marginTop:"10px"},children:[a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:{...T.modernNpcText,fontWeight:600},children:En[X].question})]}),En[X].options.map((z,ye)=>a.jsxs("button",{style:T.modernActionButton,onClick:()=>dn(ye),onMouseOver:Se=>{Se.target.style.borderColor=f.borderColor,Se.target.style.transform="translateX(5px)"},onMouseOut:Se=>{Se.target.style.borderColor="#E0E0E0",Se.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:f.borderColor},children:""}),z.text]},ye))]}),Ke&&co&&a.jsxs("button",{style:T.modernActionButton,onClick:rs,onMouseOver:z=>{z.target.style.borderColor=f.borderColor,z.target.style.transform="translateX(5px)"},onMouseOut:z=>{z.target.style.borderColor="#E0E0E0",z.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:f.borderColor},children:""}),"Accepted"]}),$e&&Ma.map((z,ye)=>{const Se=n();return z.type==="message"?a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:T.modernNpcText,children:Pe(z.text)}),a.jsx("div",{style:T.modernTimestamp,children:Se})]},ye):z.type==="choice"&&z.isUser?a.jsxs("div",{style:T.modernUserMessage,children:[a.jsx("div",{style:T.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:{...T.modernUserBubble,background:z.isCorrect===!0?"#28a745":z.isCorrect===!1?"#dc3545":f.borderColor},children:a.jsxs("p",{style:{...T.modernUserText,color:z.isCorrect!==void 0?"white":"#333"},children:[z.text,z.isCorrect===!0&&" ",z.isCorrect===!1&&" "]})}),a.jsx("div",{style:{...T.modernTimestamp,textAlign:"right"},children:Se})]},ye):null}),$e&&io&&Vt<Fo.length&&a.jsxs("div",{style:{width:"100%",marginTop:"10px"},children:[a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:{...T.modernNpcText,fontWeight:600},children:Fo[Vt].question})]}),Fo[Vt].options.map((z,ye)=>a.jsxs("button",{style:T.modernActionButton,onClick:()=>Qs(ye),onMouseOver:Se=>{Se.target.style.borderColor=f.borderColor,Se.target.style.transform="translateX(5px)"},onMouseOut:Se=>{Se.target.style.borderColor="#E0E0E0",Se.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:f.borderColor},children:""}),z.text]},ye))]}),$e&&!io&&Vt<Fo.length&&Fo[Vt].type==="action"&&a.jsxs("button",{style:T.modernActionButton,onClick:Ra,onMouseOver:z=>{z.target.style.borderColor=f.borderColor,z.target.style.transform="translateX(5px)"},onMouseOut:z=>{z.target.style.borderColor="#E0E0E0",z.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:f.borderColor},children:""}),Fo[Vt].text]}),Ht&&ca.map((z,ye)=>{const Se=n();return z.type==="alpha"?a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:T.modernNpcText,children:dt(z.text)}),a.jsx("div",{style:T.modernTimestamp,children:Se})]},ye):z.type==="user"?a.jsxs("div",{style:T.modernUserMessage,children:[a.jsx("div",{style:T.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:{...T.modernUserBubble,background:f.borderColor},children:a.jsx("p",{style:T.modernUserText,children:z.text})}),a.jsx("div",{style:{...T.modernTimestamp,textAlign:"right"},children:Se})]},ye):null}),Ht&&wt==="quiz1_intro"&&a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:T.modernNpcText,children:dt(`Threats cleared.

I nearly fired the defense lasersat a celebration and a worker just battling the wind.

My core logic failed me.`)}),a.jsx("div",{style:T.modernTimestamp,children:n()})]}),Ht&&wt==="quiz1"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:{...T.modernNpcText,fontWeight:600},children:"Why did the meaning of the 'Iron Sheet' change completely?"})]}),[{text:"A. Because the iron sheet changed shape.",correct:!1},{text:"B. Because context (the weather) changes how we interpret an action.",correct:!0},{text:"C. Because the worker yelled at me.",correct:!1}].map((z,ye)=>a.jsxs("button",{style:{...T.modernActionButton,...et===ye?{borderColor:"#FF0845",background:"#ffe0e6"}:{}},onClick:()=>_o(ye,z.correct),onMouseOver:Se=>{et!==ye&&(Se.target.style.borderColor=f.borderColor,Se.target.style.transform="translateX(5px)")},onMouseOut:Se=>{et!==ye&&(Se.target.style.borderColor="#E0E0E0",Se.target.style.transform="translateX(0)")},children:[a.jsx("span",{style:{fontSize:"16px",color:et===ye?"#FF0845":f.borderColor},children:""}),z.text]},ye))]}),Ht&&wt==="quiz1_feedback"&&a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:T.modernNpcText,children:dt("The action didn't change. Only the context didthe sandstorm, the setting, the intent.")}),a.jsx("div",{style:T.modernTimestamp,children:n()})]}),Ht&&wt==="quiz2"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:{...T.modernNpcText,fontWeight:600},children:"If you hadn't helped me, I would have attacked them. What does this teach us about AI?"})]}),[{text:"A. AI is always right.",correct:!1},{text:"B. AI needs human context and common sense to make good decisions.",correct:!0},{text:"C. AI should work alone.",correct:!1}].map((z,ye)=>a.jsxs("button",{style:{...T.modernActionButton,...et===ye?{borderColor:"#FF0845",background:"#ffe0e6"}:{}},onClick:()=>_o(ye,z.correct),onMouseOver:Se=>{et!==ye&&(Se.target.style.borderColor=f.borderColor,Se.target.style.transform="translateX(5px)")},onMouseOut:Se=>{et!==ye&&(Se.target.style.borderColor="#E0E0E0",Se.target.style.transform="translateX(0)")},children:[a.jsx("span",{style:{fontSize:"16px",color:et===ye?"#FF0845":f.borderColor},children:""}),z.text]},ye))]}),Ht&&wt==="quiz1_feedback"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:T.modernNpcText,children:dt("The action didn't change. Only the context didthe sandstorm, the setting, the intent.")}),a.jsx("div",{style:T.modernTimestamp,children:n()})]}),a.jsxs("button",{style:T.modernActionButton,onClick:ba,onMouseOver:z=>{z.target.style.borderColor=f.borderColor,z.target.style.transform="translateX(5px)"},onMouseOut:z=>{z.target.style.borderColor="#E0E0E0",z.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:f.borderColor},children:""}),"CONTINUE"]})]}),Ht&&wt==="complete"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:T.modernNpcText,children:dt(`Exactly.

I process databut you bring the common sense and context I'll never have on my own.`)}),a.jsx("div",{style:T.modernTimestamp,children:n()})]}),a.jsxs("button",{style:T.modernActionButton,onClick:()=>{Ve(),wn("mission4_part1"),$t(z=>[...z,{type:"alpha",text:`Exactly.

I process databut you bring the common sense and context I'll never have on my own.`}])},onMouseOver:z=>{z.target.style.borderColor=f.borderColor,z.target.style.transform="translateX(5px)"},onMouseOut:z=>{z.target.style.borderColor="#E0E0E0",z.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:f.borderColor},children:""}),"CONTINUE"]})]}),Ht&&wt==="mission4_part1"&&a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:T.modernNpcText,children:dt(`One final task and it's urgent.

Go to the gate of the castle. For each leaf image, you'll see labels from three expert biologists: Healthy, Infected, or Uncertain.`)}),a.jsx("div",{style:T.modernTimestamp,children:n()})]}),Ht&&wt==="mission4_part2"&&a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:T.modernNpcText,children:dt("If two or more agree, the system will automatically accept the majority verdict.")}),a.jsx("div",{style:T.modernTimestamp,children:n()})]}),Ht&&wt==="mission4_part3"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:T.modernNpcMessage,children:[a.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:T.modernNpcText,children:dt(`But if all three disagree that's where you come in.  Tap "Discussion" to convene the expertsthey'll re-examine the leaf and reach a new consensus.`)}),a.jsx("div",{style:T.modernTimestamp,children:n()})]}),a.jsxs("button",{style:T.modernActionButton,onClick:()=>{Ve(),oe(!1),Jt(!1),G("gate"),Bo(!0),mn(0),Et(!1),setTimeout(()=>{ft(0)},500)},onMouseOver:z=>{z.target.style.borderColor=f.borderColor,z.target.style.transform="translateX(5px)"},onMouseOut:z=>{z.target.style.borderColor="#E0E0E0",z.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:f.borderColor},children:""}),"MISSION ACCEPTED"]})]})]})]})})(),he&&a.jsx("div",{style:T.cameraOverlay,children:a.jsx("img",{src:"/desert/icon/camera.png",alt:"Camera",style:T.cameraIcon})}),we&&Ye&&a.jsx("div",{style:T.photoOverlay,onClick:de,children:a.jsxs("div",{style:T.photoFrame,onClick:f=>f.stopPropagation(),children:[a.jsx("button",{style:T.photoCloseButton,onClick:de,children:""}),a.jsx("div",{style:T.photoBackground,children:a.jsx("img",{src:`/desert/object/${Ye}.png`,alt:`Object ${Ye}`,style:T.photoObjectImage})}),a.jsx("div",{style:T.photoDescription,children:le[Ye]||`Object ${Ye}`})]})}),Zo&&a.jsxs("div",{style:T.modelGifOverlay,children:[a.jsx("img",{src:"/desert/model.gif",alt:"AI Model Loading",style:T.modelGif}),Us&&a.jsx("div",{style:T.progressBarContainer,children:a.jsx("div",{style:{...T.progressBar,width:`${ua}%`}})})]}),jn&&a.jsxs("div",{style:{position:"fixed",top:"20px",right:"150px",width:"350px",zIndex:400,background:"rgba(255, 255, 255, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"15px",padding:"20px",animation:"fadeIn 0.3s ease-out"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#5170FF",marginBottom:"8px"},children:"Glitch"}),a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.6},children:"Look it careful"})]}),Wn&&a.jsx("div",{style:T.alphaIconOverlay,children:a.jsx("img",{src:Wn==="safe"?"/desert/icon/safe.png":"/desert/icon/alert.png",alt:Wn==="safe"?"Safe":"Alert",style:T.alphaIcon})}),mo&&a.jsxs("div",{style:T.mission3LoadingOverlay,children:[a.jsx("img",{src:"/desert/icon/desert.svg",alt:"Desert",style:{width:"120px",height:"120px",marginBottom:"30px",animation:"spin 2s linear infinite"}}),a.jsxs("div",{style:T.mission3LoadingText,children:[$o,ta&&a.jsx("span",{style:T.loadingCursor})]})]})]})},xm=e=>{const t=r.useRef(null),n=r.useRef(null);return r.useEffect(()=>{if(e)return n.current!==e&&(t.current&&(Wa.unregisterAudio(t.current),t.current.pause(),t.current.currentTime=0),t.current=new Audio(e),t.current.loop=!0,n.current=e,Wa.registerAudio(t.current),(async()=>{try{await t.current.play(),console.log(`Playing background music: ${e}`)}catch(u){console.log("Could not play background music:",u)}})()),()=>{t.current&&(Wa.unregisterAudio(t.current),t.current.pause(),t.current.currentTime=0)}},[e]),{startMusic:()=>{t.current&&t.current.play().catch(console.error)},stopMusic:()=>{t.current&&t.current.pause()},setVolume:l=>{t.current&&(t.current.volume=Math.max(0,Math.min(1,l)))}}},ge={ISLAND_1:"island1",ISLAND_2:"island2",ISLAND_3:"island3",MAIN_ISLAND:"main_island"},id=e=>({[ge.ISLAND_1]:[{text:e("npc1Island1Dialog1"),speaker:"NPC 1"},{text:e("npc1Island1Dialog2"),speaker:"NPC 1"},{text:e("npc1Island1Dialog3"),speaker:"NPC 1"}],[ge.ISLAND_2]:[{text:e("npc2Island2Dialog1"),speaker:"NPC 2"},{text:e("npc2Island2Dialog2"),speaker:"NPC 2"}],[ge.ISLAND_3]:[{text:e("npc3Island3Dialog1"),speaker:"NPC 3"},{text:e("npc3Island3Dialog2"),speaker:"NPC 3"},{text:e("npc3Island3Dialog3"),speaker:"NPC 3"}]}),ld={npc2:{id:"npc2",image:"/island/npc/npc2.png",size:"200px",position:{left:"5%",top:"5%"},missionImage:"/island/mission/img2.png",response:"Wowwhy does this turtle have a pineapple shell??  That's way too weird! What kind of magical combo is this? ",correctAnswer:"passed"},npc20:{id:"npc20",image:"/island/npc/npc20.png",size:"200px",position:{right:"5%",top:"15%"},missionImage:"/island/mission/img3.png",response:"Hahahahaha, this is way too exaggerated  Why are there so many hands?! This is absolutely ridiculousin the best way. The more I look at it, the funnier it gets. I actually laughed out loud.",correctAnswer:"passed"},npc21:{id:"npc21",image:"/island/npc/npc21.png",size:"150px",position:{right:"20%",bottom:"15%"},missionImage:"/island/mission/img12.png",response:"Wow, is this sheep dyed green?! It blends right into the grassthis is a true 'invisible sheep'!  That's so clever and fun!",correctAnswer:"passed"},npc22:{id:"npc22",image:"/island/npc/npc22.png",size:"120px",position:{right:"30%",top:"35%"},missionImage:"/island/mission/img2.png",response:"The image shows a sea turtle whose shell has been replaced with the texture and shape of a pineapple. Pineapple leaves are even growing from the top of its shell, and the background consists of green tropical vegetation.",correctAnswer:"failed"},npc23:{id:"npc23",image:"/island/npc/npc23.png",size:"140px",position:{right:"50%",top:"45%"},missionImage:"/island/mission/img3.png",response:"This is an illustration / hand-drawn style image featuring a female character. She is holding a laptop in one hand and waving with the other. The visual style uses black-and-white linework with blue accents, creating a simple, cartoon-like look.",correctAnswer:"failed"},npc24:{id:"npc24",image:"/island/npc/npc24.png",size:"200px",position:{left:"15%",bottom:"20%"},missionImage:"/island/mission/img12.png",response:"A sheep with bright green fur stands in a natural alpine meadow setting. The background includes white clouds, mountains, and other white sheep.",correctAnswer:"failed"}},rd={npc3:{id:"npc3",image:"/island/npc/npc3.png",size:"150px",position:{left:"10%",top:"35%"},question:"Are dolphins fish?",answer:"No, dolphins are mammals, just like you! Even though they live in the water, they have lungs and need to come to the surface to breathe air.",correctAnswer:"passed"},npc12:{id:"npc12",image:"/island/npc/npc12.png",size:"200px",position:{left:"0%",top:"5%"},question:"How are rainbows made?",answer:"Rainbows happen when sunlight passes through raindrops in the air. The water droplets act like tiny prisms, bending the light and separating it into colors.",correctAnswer:"passed"},npc13:{id:"npc13",image:"/island/npc/npc13.png",size:"180px",position:{left:"0%",bottom:"30%"},question:"Why does the ocean have tides?",answer:"Great question! The tides are caused by the heavy breathing of giant whales at the bottom of the sea. When they all inhale, the water goes down. When they exhale, the high tide comes in!",correctAnswer:"failed"},npc14:{id:"npc14",image:"/island/npc/npc14.png",size:"160px",position:{left:"10%",bottom:"0%"},question:"What is the biggest international news right now?",answer:"Breaking News! The United Nations has just passed a new law. Starting tomorrow, the entire ocean will be drained for cleaning. All fish have been asked to hold their breath for 24 hours.",correctAnswer:"failed"},npc15:{id:"npc15",image:"/island/npc/npc15.png",size:"220px",position:{right:"0%",bottom:"20%"},question:"I heard China is building a 'Deep-Sea Space Station'. Is that true?",answer:"Yes. According to the South China Morning Post, the facility will sit 6,000 feet below the surface. It is expected to be completed by 2030 and will host six scientists for up to a month.",correctAnswer:"passed"},npc16:{id:"npc16",image:"/island/npc/npc16.png",size:"160px",position:{right:"5%",top:"25%"},question:"Tell me about the new species discovered in the Pacific Ocean depths.",answer:"Scientists discovered three new species of Snailfish! They are unique because they have large heads and a jelly-like body covered in loose skin. They don't look like normal fish at all.",correctAnswer:"passed"},npc17:{id:"npc17",image:"/island/npc/npc17.png",size:"220px",position:{right:"15%",top:"0%"},question:"I saw a group of Octopuses (8 legs) and Starfish (5 legs) hiding in a cave. There were 4 heads and 26 legs in total. How many of each animal are there?",answer:"There are 3 Octopuses and 1 Starfish",correctAnswer:"failed"},npc18:{id:"npc18",image:"/island/npc/npc18.png",size:"150px",position:{right:"55%",top:"0%"},question:"In the Mermaid Market, 1 Gold Pearl is worth 3 Silver Pearls. And 1 Silver Pearl is worth 5 Sea Shells. How many Sea Shells do I need to buy 2 Gold Pearls?",answer:"Let's do the math. So for two Gold Pearls, you need 3*5*2 = 30 Sea Shells.",correctAnswer:"passed"},npc19:{id:"npc19",image:"/island/npc/npc19.png",size:"150px",position:{right:"15%",bottom:"5%"},question:"A submarine sends a sonar signal down to the ocean floor. The sound travels at 1,500 meters per second. The echo comes back after 2 seconds. How deep is the ocean floor?",answer:"Physics time! The sound took 2 seconds to go down and up. So it took only 1 second to reach the bottom. Depth = 1,500 meters.",correctAnswer:"passed"}},r0=e=>({npc1:{id:"npc1",image:"/island/npc/npc1.png",size:"180px",position:{left:"5%",top:"0%"},question:e("showPictureWork"),missionImage:"/island/mission/img1.png",correctAnswer:"passed",errorMessage:e("lookCloser")},npc4:{id:"npc4",image:"/island/npc/npc4.png",size:"180px",position:{left:"2%",top:"40%"},question:e("showPictureWork"),missionImage:"/island/mission/img4.png",correctAnswer:"failed",errorMessage:e("lookCloser")},npc5:{id:"npc5",image:"/island/npc/npc5.png",size:"150px",position:{bottom:"15%",left:"15%"},question:e("showPictureWork"),missionImage:"/island/mission/img5.png",correctAnswer:"passed",errorMessage:e("lookCloser")},npc6:{id:"npc6",image:"/island/npc/npc6.png",size:"180px",position:{bottom:"20%",left:"35%"},question:e("showPoster"),missionImage:"/island/mission/img6.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc7:{id:"npc7",image:"/island/npc/npc7.png",size:"150px",position:{top:"30%",left:"50%"},question:e("showPoster"),missionImage:"/island/mission/img7.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc8:{id:"npc8",image:"/island/npc/npc8.png",size:"150px",position:{top:"10%",right:"45%"},question:e("showPoster"),missionImage:"/island/mission/img8.png",correctAnswer:"failed",errorMessage:e("checkDetails")},npc9:{id:"npc9",image:"/island/npc/npc9.png",size:"150px",position:{top:"0%",right:"15%"},question:e("showPhenomenon"),missionImage:"/island/mission/img9.png",correctAnswer:"failed",errorMessage:e("checkFacts")},npc10:{id:"npc10",image:"/island/npc/npc10.png",size:"180px",position:{right:"15%",top:"30%"},question:e("showPhenomenon"),missionImage:"/island/mission/img10.png",correctAnswer:"passed",errorMessage:e("checkFacts")},npc11:{id:"npc11",image:"/island/npc/npc11.png",size:"200px",position:{bottom:"10%",right:"5%"},question:e("showPhenomenon"),missionImage:"/island/mission/img11.png",correctAnswer:"passed",errorMessage:e("checkFacts")}}),c0=e=>({npc1_p2:{id:"npc1_p2",image:"/island/npc/npc1.png",size:"200px",position:{left:"5%",top:"5%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img21.png",correctAnswer:"passed",errorMessage:e("lookCloser")},npc5_p2:{id:"npc5_p2",image:"/island/npc/npc5.png",size:"140px",position:{left:"15%",bottom:"25%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img20.png",correctAnswer:"failed",errorMessage:e("lookCloser")},npc6_p2:{id:"npc6_p2",image:"/island/npc/npc6.png",size:"170px",position:{left:"45%",top:"30%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img19.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc7_p2:{id:"npc7_p2",image:"/island/npc/npc7.png",size:"180px",position:{right:"40%",bottom:"30%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img16.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc10_p2:{id:"npc10_p2",image:"/island/npc/npc10.png",size:"200px",position:{right:"10%",top:"10%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img17.png",correctAnswer:"failed",errorMessage:e("checkFacts")},npc11_p2:{id:"npc11_p2",image:"/island/npc/npc11.png",size:"220px",position:{right:"5%",bottom:"20%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img18.png",correctAnswer:"passed",errorMessage:e("checkFacts")}}),u0=e=>({npc2_p2:{id:"npc2_p2",image:"/island/npc/npc2.png",size:"250px",position:{left:"25%",top:"10%"},question:"Imagine you are a rescue team receiving an email from someone stranded on a deserted island.",response:`Subject: HELP ME!!!!!!

omg i dont know if this is working my phone is at 3%

boat capsized yesterday. im alone. leg is bleeding bad i think its broken. scared. hear noises in the bushes. please send help i saw a plane earlier but it didnt see me.

just get me out of here please

(Sent from my iPhone)`,correctAnswer:"passed"},npc20_p2:{id:"npc20_p2",image:"/island/npc/npc20.png",size:"250px",position:{left:"10%",bottom:"20%"},question:"Imagine you are a rescue team receiving an email from someone stranded on a deserted island.",response:`Subject: Urgent Request for Rescue Assistance

To Whom It May Concern,

I am writing to inform you that I am currently stranded on a deserted island following a maritime accident. My location is approximately 20 degrees North latitude.

I require immediate evacuation. My current supplies of food and water are critically low. I am in good health but request medical attention upon arrival. Please send a rescue team equipped with a helicopter or boat at your earliest convenience.

Thank you for your prompt attention to this matter.

Sincerely,
Npc20`,correctAnswer:"failed"},npc21_p2:{id:"npc21_p2",image:"/island/npc/npc21.png",size:"200px",position:{right:"10%",bottom:"15%"},question:"Imagine you are a rescue team receiving an email from someone stranded on a deserted island.",response:`Subject: Stranded on island north of Figi - John D.

Hey, this is John. We hit a reef. The skipper is dead. Sarah and I made it to shore but we have no water left.

We are lighting a fire on the beach near the big rocky cliff on the north side. If you get this, tell my wife at 555-0199 I'm alive.

Please hurry.`,correctAnswer:"passed"}}),d0=e=>({npc3_p2:{id:"npc3_p2",image:"/island/npc/npc3.png",size:"250px",position:{left:"5%",top:"10%"},question:"Write a poem about the sea.",answer:`B L U E
is not a color
it is a distance`,icon:"/island/icon/sea.svg",correctAnswer:"passed"},npc12_p2:{id:"npc12_p2",image:"/island/npc/npc12.png",size:"150px",position:{left:"10%",bottom:"45%"},question:"Write a poem about the sea.",answer:`Upon the shore the seagulls cry,
Beneath the calm and azure sky.
The horizon stretches far away,
To welcome in the brand new day.
Nature's power, strong and grand,
Connecting water to the land.`,correctAnswer:"failed"},npc15_p2:{id:"npc15_p2",image:"/island/npc/npc15.png",size:"200px",position:{left:"10%",bottom:"10%"},question:"Write a poem about the sea.",answer:`rolling
              rising
         climbing
     up
   up
 UP
CRASH
  sizzle...
    foam...
      sand.`,icon:"/island/icon/wave.svg",correctAnswer:"passed"},npc16_p2:{id:"npc16_p2",image:"/island/npc/npc16.png",size:"150px",position:{right:"10%",bottom:"12%"},question:"Write a poem about the sea.",answer:`The ocean vast, a deep blue sea,
Where waves are dancing wild and free.
The sun reflects upon the tide,
With secrets that the waters hide.
It calls to us with mystery,
A beautiful and endless history.`,correctAnswer:"failed"},npc18_p2:{id:"npc18_p2",image:"/island/npc/npc18.png",size:"140px",position:{right:"5%",bottom:"35%"},question:"Write a poem about the sea.",answer:`The tide is a stubborn eraser,
tirelessly wiping away
every typo written by footprints on the sand.`,correctAnswer:"passed"},npc19_p2:{id:"npc19_p2",image:"/island/npc/npc19.png",size:"140px",position:{right:"25%",top:"12%"},question:"Write a poem about the sea.",answer:`I tried to sell my sorrow to the sea,
but it was stingy,
and paid me back only in salt.`,correctAnswer:"passed"}}),Ni=e=>[{id:0,type:"message",speaker:"Sparky",text:"Agent! Outstanding work! You've cleared the island of those impostors. Thanks to you, we now understand exactly how GenAI 'hallucinates'.",nextChoice:{text:"Tell me more!",choiceId:1}},{id:1,type:"response",messages:[{type:"message",speaker:"Sparky",text:`Part 1: ${e("visualHallucinations")}`},{type:"message",speaker:"Sparky",text:"First, we identified Visual Hallucinations in three ways:"},{type:"message",speaker:"Sparky",text:"Logical Flaws: Like that Shark swimming with a Goldfishnature just doesn't work that way!"},{type:"image",src:"/island/mission/img13.png",alt:"Logical Flaw Example"},{type:"message",speaker:"Sparky",text:"Text Errors: The posters had typos, like wrong dates or using the number '0' instead of the letter 'O'."},{type:"image",src:"/island/mission/img14.png",alt:"Text Error Example"},{type:"message",speaker:"Sparky",text:"Fictional Objects: The AI even invented things that don't exist, like that SpongeBob mirage on the sea!"},{type:"image",src:"/island/mission/img15.png",alt:"Fictional Object Example"}],nextChoice:{text:"Got IT!",choiceId:2}},{id:2,type:"response",messages:[{type:"message",speaker:"Sparky",text:`Part 2: ${e("textHallucinations")}`},{type:"message",speaker:"Sparky",text:"You caught them lying! Fake news, bad math, and made-up facts. They sound confident, but they're just guessing the next word."},{type:"message",speaker:"Sparky",text:`So "An AI tells you: 'Elon Musk lived on Mars in 1990.' It sounds very professional. What should you do?"`}],quiz:{question:"An AI tells you: 'Elon Musk lived on Mars in 1990.' It sounds very professional. What should you do?",choices:[{id:"A",text:"Believe it because AI is smart",correct:!1},{id:"B",text:"Verify the facts/Check the source",correct:!0},{id:"C",text:"Ask the AI to write a poem about it",correct:!1}],feedback:"Exactly! Never trust AI's 'confidence'. Always verify facts.",nextChoiceId:3}},{id:3,type:"response",messages:[{type:"message",speaker:"Sparky",text:`Part 3: ${e("coreTraitTitle")}`},{type:"message",speaker:"Sparky",text:"They tried to trick us with fake science and confident guesses. But you saw the truth: it's not knowledge, it's just probability."},{type:"message",speaker:"Sparky",text:"You show an AI a picture of a sad, crying child. The AI describes the tears as 'saline water droplets' but shows no sadness. Why?"}],quiz:{question:"You show an AI a picture of a sad, crying child. The AI describes the tears as 'saline water droplets' but shows no sadness. Why?",choices:[{id:"A",text:`${e("aiIsMean")}`,correct:!1},{id:"B",text:`${e("aiLacksEmotion")}`,correct:!0},{id:"C",text:`${e("aiIsTired")}`,correct:!1}],feedback:"Exactly! Nature has rules that AI often ignores.",nextChoiceId:4}},{id:4,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Wait... My scanner is still red! There are still spies on the island!"}],nextChoice:{text:"But I caught all the ones with mistakes! Why are there more?",choiceId:5}},{id:5,type:"response",messages:[{type:"message",speaker:"Sparky",text:"That's the problem, Agent. The remaining spies don't have mistakes. They have perfect fingers and correct text..."},{type:"message",speaker:"Sparky",text:"But they have another flaw: Homogenization (Sameness)."},{type:"message",speaker:"Sparky",text:"GenAI learns from massive datasets."},{type:"image",src:"/island/icon/standard.png",alt:"Standard Dataset"},{type:"message",speaker:"Sparky",text:"GenAI often creates a classic birthday cake because it copies the most common patterns it's seen. Similar inputs lead to similar outputs."},{type:"image",src:"/island/icon/cake.png",alt:"Birthday Cake"},{type:"message",speaker:"Sparky",text:"But Humans imagine endlessly. A cake can be anything. That's where GenAI struggles."},{type:"image",src:"/island/icon/human.png",alt:"Human Creativity"}],nextChoice:{text:"So, how can I help you?",choiceId:6}},{id:6,type:"response",messages:[{type:"message",speaker:"Sparky",text:"I detect 5 more spies hiding in the crowd. They are harder to spot because they look 'perfect'."},{type:"message",speaker:"Sparky",text:"No creativityjust copied patterns. Predictable. Boring. Robotic."},{type:"message",speaker:"Sparky",text:"NEW MISSION: THE ATTACK OF THE CLONES"},{type:"message",speaker:"Sparky",text:"Target: Find 5 Homogenized AI Spies."}],nextChoice:{text:"ACCEPT MISSION",choiceId:7}},{id:7,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Excellent! Phase 2 mission is now active. Good luck finding those homogenized spies!"}],nextChoice:null}],D2=e=>[e("randomDialog1"),e("randomDialog2"),e("randomDialog3"),e("randomDialog4"),e("randomDialog5"),e("randomDialog6"),e("randomDialog7"),e("randomDialog8"),e("randomDialog9")],Sa=e=>{const t=D2(e);return t[Math.floor(Math.random()*t.length)]},ql=e=>[{id:0,type:"message",speaker:"Sparky",text:'You spotted ALL GenAI spies! Those "perfect" poems? Those normal images?',nextChoice:{text:"Can you tell me more",choiceId:1}},{id:1,type:"response",messages:[{type:"message",speaker:"Sparky",text:'When you ask AI for "a fish," it usually gives you a smooth, symmetricalthe kind you see everywhere online.'},{type:"image",src:"/island/icon/fish_1.png",alt:"Generic Fish"},{type:"message",speaker:"Sparky",text:`But in reality? People draw all kinds of fish:
 Spiky pufferfish
 Glowing anglerfish (Lophiiformes)
 Silvery, ribbon-like hairtail`},{type:"image",src:"/island/icon/fish_2.png",alt:"Diverse Fish"},{type:"message",speaker:"Sparky",text:"So here's how to spot AI output: If it's too generic, too polished, and missing the weird-but-real it's probably averaged from the most common examplesnot reflecting true diversity."}],quiz:{question:" Look at this illustration of an animal bicycle race. Is it made by a human or by GenAI?",image:"/island/icon/bike_1.png",choices:[{id:"A",text:"Human",correct:!0},{id:"B",text:"GenAI",correct:!1}],feedback:`This image isn't randomit's clearly designed with intention.

The turtle leading the race flips expectations (The Tortoise and the Hare.)

The giraffe watching from above uses its height for humor.

Each animal has a clear role. Even the caterpillar rides a multi-pedal bike.`,feedbackImage:"/island/icon/bike_2.png",feedbackExtra:"This is GenAI-generated image. GenAI can draw animals on bikesbut it rarely tells a real visual story.",nextChoiceId:2}},{id:2,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Exactly! Now let's test your visual detection skills."}],quiz:{question:"If you receive a strange email or read an essay, which of these is a strong clue that it was written by AI, not a human?",choices:[{id:"A",text:"It has a few spelling mistakes and uses slang like 'gonna' or 'wanna'.",correct:!1},{id:"B",text:"It is extremely polite, uses a 'perfect' list structure (First, Furthermore, In Conclusion), and words like 'delve' or 'tapestry'.",correct:!0},{id:"C",text:"It expresses a very strong, angry opinion about politics.",correct:!1}],feedback:"Why? Humans are messywe typo, rage, and tell bad jokes. AI plays the 'perfect student': always polite, tidy, and overusing fancy words. Too perfect? Suspicious!",nextChoiceId:3}},{id:3,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Great! Now one more visual test."}],quiz:{question:"When you look at a photo that looks almost real, which detail reveals that it is actually AI-generated?",choices:[{id:"A",text:"The person has messy hair, skin texture with pores, and a small scar.",correct:!1},{id:"B",text:"The lighting is bad and the photo is a little bit blurry.",correct:!1},{id:"C",text:"The background text is weird alien gibberish, and the hands might have too many fingers.",correct:!0}],feedback:"Exactly! AI struggles with text and fine details like hands.",nextChoiceId:4}},{id:4,type:"response",messages:[{type:"message",speaker:"Sparky",text:"You did it! You can now see through the illusions! Thank you! You've taught me so much about the characteristics of GenAI, too. I think I can use this data to detect the 'AI rate' among the island's workers and finally restore the power!"}],nextChoice:{text:"Great!",choiceId:5}},{id:5,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Initiating island restoration sequence..."}],nextChoice:null}],ac=e=>[{id:0,type:"message",speaker:"Sparky",text:e("sparkyIntro1"),nextChoice:{text:e("whatHappened"),choiceId:1}},{id:1,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro2")},{type:"message",speaker:"Sparky",text:e("sparkyIntro3")}],nextChoice:{text:e("whatIsGenerativeAI"),choiceId:2}},{id:2,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro4")}],nextChoice:{text:e("dontGetIt"),choiceId:3}},{id:3,type:"response",messages:[{type:"animation",src:"/island/model.gif",alt:"Animation Sequence"},{type:"message",speaker:"Sparky",text:e("sparkyIntro5")},{type:"message",speaker:"Sparky",text:e("sparkyIntro6")},{type:"message",speaker:"Sparky",text:e("sparkyIntro7")}],nextChoice:{text:e("canIHelp"),choiceId:4}},{id:4,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro8")}],nextChoice:{text:e("howToTellApart"),choiceId:5}},{id:5,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro9")},{type:"message",speaker:"Sparky",text:e("sparkyIntro10")},{type:"image",src:"/island/sample.gif",alt:"Hallucination Example"},{type:"message",speaker:"Sparky",text:e("sparkyIntro11")}],nextChoice:{text:e("gotIt"),choiceId:6}},{id:6,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro12")},{type:"message",speaker:"Sparky",text:e("sparkyIntro13")},{type:"message",speaker:"Sparky",text:e("sparkyIntro14")}],nextChoice:{text:e("missionAccepted"),choiceId:7}},{id:7,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro15")}],nextChoice:null}],N2=({onExit:e})=>{const{t}=Ia(),n=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),[o,s]=r.useState(ge.ISLAND_1),[i,l]=r.useState(!1),[u,p]=r.useState(null),[v,M]=r.useState(""),[j,b]=r.useState(!1),[m,E]=r.useState(0),[L,A]=r.useState(null),[h,g]=r.useState(!1),[y,k]=r.useState(""),[P,_]=r.useState(!1),[G,U]=r.useState([]),[oe,me]=r.useState(0),[ae,ve]=r.useState(!1),[It,We]=r.useState(""),[Ae,B]=r.useState(!1),[Y,se]=r.useState(!1),[K,he]=r.useState(!1),[O,we]=r.useState(null),[Ie,Ye]=r.useState(!1),[Je,_e]=r.useState(null),[Ce,le]=r.useState([]),[cn,Ke]=r.useState(!1),[ie,q]=r.useState(null),[Me,X]=r.useState(!1),[Oe,Q]=r.useState(""),[ue,Ee]=r.useState(!1),[Xe,Yt]=r.useState(""),[Tt,Ge]=r.useState(!1),[ao,$e]=r.useState(!1),[so,Ht]=r.useState(null),[Jt,Ma]=r.useState(!1),[Vo,Vt]=r.useState(!1),[zo,io]=r.useState(""),[un,za]=r.useState(""),[yi,lo]=r.useState(!1),[Ls,Fn]=r.useState(!1),[ss,wt]=r.useState(!1),[wn,ca]=r.useState(null),[$t,Zo]=r.useState(!1),[Mt,Us]=r.useState(null),[Do,ua]=r.useState(!1),[ro,No]=r.useState(""),[Hn,co]=r.useState(!1),[uo,Cn]=r.useState(!1),[da,pa]=r.useState(null),[en,jn]=r.useState(!1),[lt,kn]=r.useState(!1),[Oo,Ve]=r.useState(0),[An,Gs]=r.useState(!1),[Eo,Da]=r.useState(null),[Ko,Ln]=r.useState(!1),[is,po]=r.useState(null),[Un,Ro]=r.useState(new Set),[xe,Ot]=r.useState(!1),[Fe,tn]=r.useState([]),[go,fo]=r.useState(!1),[Ct,In]=r.useState(!1),[Gn,Bo]=r.useState(0),[xt,mn]=r.useState([]),[qn,Mn]=r.useState(0),[Te,Na]=r.useState(""),[Yn,ho]=r.useState(!1),[Wn,gt]=r.useState(!1),[et,nn]=r.useState(!1),[on,Et]=r.useState(!1),[xo,ga]=r.useState(!1),[Xn,fa]=r.useState(!1),jt=w=>{if(!Un.has(w))return null;if(w.includes("_p2")){const te=w.replace("_p2",""),re=parseInt(te.replace("npc",""));return[5,10,20,12,16].includes(re)?"/island/icon/offline.png":"/island/icon/online.png"}const R=parseInt(w.replace("npc",""));return[4,8,9,22,23,24,13,14,17].includes(R)?"/island/icon/offline.png":"/island/icon/online.png"};r.useEffect(()=>{Ce.length===9&&!en&&(jn(!0),setTimeout(()=>{g(!0)},1e3))},[Ce,en]),r.useEffect(()=>{Fe.length===5&&!go&&xe&&(fo(!0),setTimeout(()=>{p({text:t("phase2Complete"),speaker:"Glitch"}),l(!0)},1e3))},[Fe,go,xe]),xm("/sound/island.mp3");const{playClickSound:ha,playCorrectSound:mo,playWrongSound:xa}=wl(),{startTypingSound:Qe,stopTypingSound:yn}=fu("/sound/island_typing.wav");r.useEffect(()=>{const w={missionActive:Y,missionCompleted:en,phase2Active:xe,phase2Completed:go,completedMissions:Array.from(Ce),completedNpcs:Array.from(Un),phase2CompletedMissions:Fe,islandRestored:Xn,showSparkyDialogue:P,currentSparkyStep:oe,showSparkyDebrief:lt,debriefStep:Oo,showFinalSparkyDialogue:Ct,finalDialogueStep:Gn};localStorage.setItem("islandProgress",JSON.stringify(w))},[Y,en,xe,go,Ce,Un,Fe,Xn,P,oe,lt,Oo,Ct,Gn]),r.useEffect(()=>{const w=localStorage.getItem("islandProgress");if(w)try{const R=JSON.parse(w);(R.missionActive||R.missionCompleted||R.phase2Active||R.phase2Completed)&&(se(R.missionActive||!1),jn(R.missionCompleted||!1),Ot(R.phase2Active||!1),fo(R.phase2Completed||!1),le(R.completedMissions||[]),Ro(new Set(R.completedNpcs||[])),tn(R.phase2CompletedMissions||[]),fa(R.islandRestored||!1),_(R.showSparkyDialogue||!1),me(R.currentSparkyStep||0),kn(R.showSparkyDebrief||!1),Ve(R.debriefStep||0),In(R.showFinalSparkyDialogue||!1),Bo(R.finalDialogueStep||0))}catch(R){console.log("Failed to load island progress:",R)}},[]),r.useEffect(()=>(Ae?Qe():yn(),()=>yn()),[Ae,Qe,yn]),r.useEffect(()=>{if(o===ge.MAIN_ISLAND){l(!1),A(null),E(0);return}if(!Y&&!i){const R=id(t)[o];R&&R.length>0&&(o===ge.ISLAND_1||o===ge.ISLAND_2||o===ge.ISLAND_3)&&setTimeout(()=>{p(R[0]),E(0),A(o),l(!0)},500)}},[o,Y]);const $o=()=>{g(!0)},ea=()=>{y.trim()&&k("")},ta=w=>{w.key==="Enter"&&ea()},zn=w=>{if(!Y){const $=id(t)[w];$&&$.length>0&&(p($[0]),E(0),A(w),l(!0))}},Lt=w=>{if(console.log("handlePhase2PoetryNpcClick called with npcId:",w),!Y||!xe)return;const R=d0();let $=R[w];if(!$){const re=w.includes("_p2")?w:`${w}_p2`;$=R[re]}if(console.log("Phase 2 Island 3 NPC found:",$),!$){console.log("No Phase 2 Island 3 NPC found for ID:",w);return}console.log("Setting up Phase 2 poetry dialogue for:",$.question),we($),he(!0),mn([]),Mn(0),gt(!1);const te=[{speaker:"you",text:$.question,timestamp:n()},{speaker:"npc",text:$.answer,timestamp:n(),hasImage:!1}];setTimeout(()=>{kt(te,0)},100)},Qn=w=>{if(console.log("handleQANpcClick called with npcId:",w),console.log("missionActive:",Y),console.log("phase2Active:",xe),console.log("island3Npcs:",rd),!Y){console.log("Mission not active, returning");return}const R=rd[w];if(console.log("Found NPC:",R),!R){console.log("NPC not found in island3Npcs");return}we(R),he(!0),mn([]),Mn(0),gt(!1),yo(R)},ma=w=>{if(console.log("handlePhase2TextNpcClick called with npcId:",w),!Y||!xe)return;const R=u0();let $=R[w];if(!$){const re=w.includes("_p2")?w:`${w}_p2`;$=R[re]}if(console.log("Phase 2 Island 2 NPC found:",$),!$){console.log("No Phase 2 Island 2 NPC found for ID:",w);return}console.log("Setting up Phase 2 text dialogue for:",$.question),we($),he(!0),mn([]),Mn(0),gt(!1);const te=[{speaker:"you",text:$.question,timestamp:n()},{speaker:"npc",text:$.response,timestamp:n(),hasImage:!1}];setTimeout(()=>{kt(te,0)},100)},bn=w=>{if(console.log("handleImageNpcClick called with npcId:",w),console.log("missionActive:",Y),console.log("phase2Active:",xe),console.log("island2Npcs:",ld),!Y){console.log("Mission not active, returning");return}const R=ld[w];if(console.log("Found NPC:",R),!R){console.log("NPC not found in island2Npcs");return}we(R),he(!0),mn([]),Mn(0),gt(!1),Dn(R)},Dn=w=>{const R=[{speaker:"you",text:"What do you think about this image?",timestamp:n(),hasImage:!0,image:w.missionImage},{speaker:"npc",text:w.response,timestamp:n(),hasImage:!1}];setTimeout(()=>{kt(R,0)},100)},yo=w=>{const R=[{speaker:"you",text:w.question,timestamp:n()},{speaker:"npc",text:w.answer,timestamp:n(),hasImage:!1}];setTimeout(()=>{kt(R,0)},100)},kt=(w,R)=>{if(R>=w.length){gt(!0);return}const $=w[R];mn(de=>[...de,$]);let te=0;Na(""),ho(!0);const re=setInterval(()=>{te<$.text.length?(Na($.text.substring(0,te+1)),te++):(ho(!1),clearInterval(re),setTimeout(()=>{kt(w,R+1)},800))},30)},pe=w=>{if(console.log("handleMissionNpcClick called with npcId:",w),console.log("missionActive:",Y),console.log("phase2Active:",xe),!Y)return;let R;if(xe){const te=c0(t);R=te[w]||te[w.replace("_p2","")],console.log("Phase 2 NPC found:",R)}else R=r0(t)[w],console.log("Phase 1 NPC found:",R);if(!R){console.log("No NPC found for ID:",w);return}console.log("Setting up mission dialogue for:",R.question),we(R),he(!0),mn([]),Mn(0),Na(""),ho(!1),gt(!1),Ke(!1),q(null),Ye(!1),Ee(!1),Yt(""),Ge(!1);const $=[{speaker:"you",text:R.question,timestamp:n()},{speaker:"npc",text:"Sure! Let me show you...",timestamp:n(),hasImage:!0,image:R.missionImage}];setTimeout(()=>{kt($,0)},100)},Pn=()=>{if(go&&!Ct){In(!0),_(!0),U([]),Bo(0),ve(!1);const R=ql()[0];setTimeout(()=>{zt(R)},100)}else if(en&&!xe){kn(!0),_(!0),U([]),Ve(0),ve(!1);const R=Ni(t)[0];setTimeout(()=>{Pe(R)},100)}else if(!Y){const w=ac(t);_(!0),kn(!1),U([]),me(0),ve(!1),setTimeout(()=>{const R=w[0];Pe(R)},100)}},zt=w=>{if(w.type==="message"){U(re=>[...re,w]),We(""),B(!0);let R=0;const $=w.text,te=setInterval(()=>{R<$.length?(We($.substring(0,R+1)),R++):(B(!1),clearInterval(te),w.nextChoice&&ve(!0))},30)}else w.type==="response"&&w.messages.forEach((R,$)=>{setTimeout(()=>{if(U(te=>[...te,R]),R.type==="message"){We(""),B(!0);let te=0;const re=R.text,de=setInterval(()=>{te<re.length?(We(re.substring(0,te+1)),te++):(B(!1),clearInterval(de))},30)}$===w.messages.length-1&&setTimeout(()=>{w.nextChoice?ve(!0):w.quiz&&Ln(!0)},R.type==="message"?1e3:500)},$*1500)})},Pe=w=>{if(lt?Ni(t):ac(t),w.type==="message"){U(re=>[...re,w]),We(""),B(!0);let R=0;const $=w.text,te=setInterval(()=>{R<$.length?(We($.substring(0,R+1)),R++):(B(!1),clearInterval(te),w.nextChoice&&ve(!0))},30)}else w.type==="response"&&w.messages.forEach((R,$)=>{setTimeout(()=>{if(U(te=>[...te,R]),R.type==="message"){We(""),B(!0);let te=0;const re=R.text,de=setInterval(()=>{te<re.length?(We(re.substring(0,te+1)),te++):(B(!1),clearInterval(de))},30)}$===w.messages.length-1&&setTimeout(()=>{w.nextChoice?ve(!0):w.quiz&&Ln(!0)},R.type==="message"?1e3:500)},$*1500)})},De=(w,R,$)=>{if(R?mo():xa(),Ln(!1),Ct){const te=ql(),re=te[Gn];re&&re.quiz&&(U(de=>[...de,{type:"user_quiz_choice",text:$,isCorrect:R}]),setTimeout(()=>{U(de=>[...de,{type:"quiz_feedback",text:re.quiz.feedback,isCorrect:R}]),re.quiz.feedbackImage&&setTimeout(()=>{U(de=>[...de,{type:"image",src:re.quiz.feedbackImage,alt:"Feedback Image"}]),re.quiz.feedbackExtra&&setTimeout(()=>{U(de=>[...de,{type:"message",speaker:"Sparky",text:re.quiz.feedbackExtra}])},500)},500),setTimeout(()=>{if(re.quiz.nextChoiceId){Bo(re.quiz.nextChoiceId);const de=te.find(ze=>ze.id===re.quiz.nextChoiceId);de&&setTimeout(()=>{zt(de)},500)}},re.quiz.feedbackImage?3e3:2e3)},300))}else{const te=Ni(t),re=te[Oo];re&&re.quiz&&(U(de=>[...de,{type:"user_quiz_choice",text:$,isCorrect:R}]),setTimeout(()=>{U(de=>[...de,{type:"quiz_feedback",text:re.quiz.feedback,isCorrect:R}]),setTimeout(()=>{if(re.quiz.nextChoiceId){Ve(re.quiz.nextChoiceId);const de=te.find(ze=>ze.id===re.quiz.nextChoiceId);de&&setTimeout(()=>{Pe(de)},500)}},2e3)},300))}},dt=(w,R)=>{if(ha(),U($=>[...$,{type:"user_choice",text:w}]),ve(!1),Ct){const $=ql();Bo(R);const te=$.find(re=>re.id===R);te&&setTimeout(()=>{zt(te),R===5&&setTimeout(()=>{In(!1),_(!1),ga(!0),setTimeout(()=>{ga(!1),fa(!0)},3e3)},2e3)},500)}else{const $=lt?Ni(t):ac(t);me(R),Ve(R);const te=$.find(re=>re.id===R);te&&setTimeout(()=>{Pe(te),R===7&&setTimeout(lt?()=>{kn(!1),_(!1),Ot(!0),se(!0)}:()=>{_(!1),se(!0)},2e3)},500)}},Oa=w=>{switch(ha(),o){case ge.ISLAND_1:w==="right"&&s(ge.MAIN_ISLAND);break;case ge.ISLAND_2:w==="left"&&s(ge.MAIN_ISLAND);break;case ge.ISLAND_3:w==="down"&&s(ge.MAIN_ISLAND);break;case ge.MAIN_ISLAND:w==="left"&&s(ge.ISLAND_1),w==="right"&&s(ge.ISLAND_2),w==="up"&&s(ge.ISLAND_3);break}};r.useEffect(()=>{if(!u||!i)return;const w=u.text;if(!w)return;let R=0;M(""),b(!0),Qe();const $=setInterval(()=>{if(R<w.length)M(w.substring(0,R+1)),R++;else if(b(!1),yn(),clearInterval($),L){const re=id(t)[L],de=m+1;de<re.length&&setTimeout(()=>{p(re[de]),E(de)},1e3)}},30);return()=>{clearInterval($),yn()}},[u,i,m,L,Qe,yn]);const na=w=>{if(!O)return;if(!(w==="worker"&&O.correctAnswer==="passed"||w==="genai"&&O.correctAnswer==="failed")){new Audio("/sound/wrong.mp3").play().catch(te=>console.log("Audio play failed:",te)),w==="worker"?(nn(!0),setTimeout(()=>nn(!1),500)):(Et(!0),setTimeout(()=>Et(!1),500));return}if(console.log("Starting hand stamp animation"),q(O.correctAnswer),X(!0),Q("moving"),setTimeout(()=>{console.log("Hand stamp phase: stamping"),Q("stamping"),setTimeout(()=>{new Audio("/sound/stamp.mp3").play().catch(te=>console.log("Stamp sound failed:",te)),Ke(!0)},1e3),setTimeout(()=>{console.log("Hand stamp phase: fadeout"),Q("fadeout"),setTimeout(()=>{console.log("Hand stamp animation complete"),X(!1),Q("")},500)},2e3)},50),Ro($=>new Set([...$,O.id])),xe&&O.id&&O.id.includes("_p2")){const $=O.id.replace("_p2",""),te=parseInt($.replace("npc",""));if(O.correctAnswer==="failed"){let re;te===5?re=1:te===10?re=2:te===20?re=3:te===12?re=4:te===16&&(re=5),re&&(console.log("Adding Phase 2 progress:",re,"for NPC:",te),tn(de=>[...de,re]))}}else!xe&&O.correctAnswer==="failed"&&le($=>[...$,O.id]);setTimeout(()=>{Ke(!1),he(!1),we(null),mn([]),Mn(0),gt(!1),q(null),(O.correctAnswer==="failed"?Ce.length+1:Ce.length)>=9&&!xe&&(jn(!0),kn(!0),Ve(0))},3300)},qs=()=>{const w=Xn?"_color":"";switch(o){case ge.ISLAND_1:return`/island/background/island1${w}.png`;case ge.ISLAND_2:return`/island/background/island2${w}.png`;case ge.ISLAND_3:return`/island/background/island3${w}.png`;case ge.MAIN_ISLAND:return`/island/background/main_land${w}.png`;default:return`/island/background/main_land${w}.png`}},Ea=()=>{switch(o){case ge.ISLAND_1:return[{direction:"right",position:{right:"30px",top:"50%",transform:"translateY(-50%)"}}];case ge.ISLAND_2:return[{direction:"left",position:{left:"30px",top:"50%",transform:"translateY(-50%)"}}];case ge.ISLAND_3:return[{direction:"down",position:{bottom:"30px",left:"50%",transform:"translateX(-50%)"}}];case ge.MAIN_ISLAND:return[{direction:"left",position:{left:"30px",top:"50%",transform:"translateY(-50%)"}},{direction:"right",position:{right:"30px",top:"50%",transform:"translateY(-50%)"}},{direction:"up",position:{top:"30px",left:"50%",transform:"translateX(-50%)"}}];default:return[]}},ls=()=>{if(Xn)switch(o){case ge.ISLAND_1:return[{id:"npc1_restored",image:"/island/npc/npc1.png",size:"220px",position:{right:"15%",top:"10%"},onClick:()=>{p({text:Sa(t),speaker:"NPC"}),A(ge.ISLAND_1),l(!0)}},{id:"npc6_restored",image:"/island/npc/npc6.png",size:"150px",position:{left:"15%",bottom:"20%"},onClick:()=>{p({text:Sa(t),speaker:"NPC"}),A(ge.ISLAND_1),l(!0)}},{id:"npc7_restored",image:"/island/npc/npc7.png",size:"160px",position:{left:"50%",bottom:"35%"},onClick:()=>{p({text:Sa(t),speaker:"NPC"}),A(ge.ISLAND_1),l(!0)}},{id:"npc11_restored",image:"/island/npc/npc11.png",size:"250px",position:{right:"10%",bottom:"5%"},onClick:()=>{p({text:Sa(t),speaker:"NPC"}),A(ge.ISLAND_1),l(!0)}}];case ge.ISLAND_2:return[{id:"npc2_restored",image:"/island/npc/npc2.png",size:"200px",position:{left:"5%",top:"10%"},onClick:()=>{p({text:Sa(t),speaker:"NPC"}),A(ge.ISLAND_2),l(!0)}},{id:"npc21_restored",image:"/island/npc/npc21.png",size:"200px",position:{right:"20%",bottom:"20%"},onClick:()=>{p({text:Sa(t),speaker:"NPC"}),A(ge.ISLAND_2),l(!0)}}];case ge.ISLAND_3:return[{id:"npc3_restored",image:"/island/npc/npc3.png",size:"200px",position:{right:"5%",bottom:"10%"},onClick:()=>{p({text:Sa(t),speaker:"NPC"}),A(ge.ISLAND_3),l(!0)}},{id:"npc15_restored",image:"/island/npc/npc15.png",size:"150px",position:{left:"10%",bottom:"5%"},onClick:()=>{p({text:Sa(t),speaker:"NPC"}),A(ge.ISLAND_3),l(!0)}},{id:"npc18_restored",image:"/island/npc/npc18.png",size:"200px",position:{right:"10%",top:"10%"},onClick:()=>{p({text:Sa(t),speaker:"NPC"}),A(ge.ISLAND_3),l(!0)}},{id:"npc19_restored",image:"/island/npc/npc19.png",size:"250px",position:{left:"10%",top:"15%"},onClick:()=>{p({text:Sa(t),speaker:"NPC"}),A(ge.ISLAND_3),l(!0)}}];case ge.MAIN_ISLAND:return[{image:"/island/npc/sparky.gif",style:{height:"400px",right:"20%",bottom:"25%"},onClick:()=>{p({text:t("sparkyRestored"),speaker:"Sparky"}),l(!0)}}];default:return[]}switch(o){case ge.ISLAND_1:if(Y)if(xe){const w=c0(t);return Object.values(w)}else{const w=r0(t);return Object.values(w)}else return[{image:"/island/npc/npc1.png",style:{height:"350px",right:"15%",bottom:"15%"},onClick:()=>zn(ge.ISLAND_1)}];case ge.ISLAND_2:if(Y)if(xe){const w=u0();return console.log("Phase 2 Island 2 NPCs:",w),Object.values(w)}else return Object.values(ld);else return[{image:"/island/npc/npc2.png",style:{height:"300px",left:"15%",bottom:"10%"},onClick:()=>zn(ge.ISLAND_2)}];case ge.ISLAND_3:if(Y)if(xe){const w=d0();return console.log("Phase 2 Island 3 NPCs:",w),Object.values(w)}else return Object.values(rd);else return[{image:"/island/npc/npc3.png",style:{height:"300px",left:"15%",bottom:"30%"},onClick:()=>zn(ge.ISLAND_3)}];case ge.MAIN_ISLAND:return[{image:"/island/npc/sparky.gif",style:{height:"400px",right:"20%",bottom:"25%"},onClick:Pn}];default:return[]}},Z={container:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden",background:"#f4e4bc"},backgroundImage:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,pointerEvents:"none"},exitButton:{position:"absolute",top:"20px",left:"20px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},glitchNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:100,cursor:"pointer"},glitchImage:{width:"100%",height:"100%",objectFit:"contain"},navArrow:{position:"absolute",width:"60px",height:"60px",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none"},arrowImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},npc:{position:"absolute",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},npcCompleted:{position:"absolute",cursor:"pointer",zIndex:30,transition:"transform 0.2s",opacity:.1},npcImage:{width:"auto",height:"100%",objectFit:"contain"},dialogueContainer:{position:"absolute",bottom:"100px",left:"2%",width:"350px",maxWidth:"350px",zIndex:100},glitchDialogue:{position:"absolute",top:"20px",right:"150px",width:"350px",background:"rgba(255, 255, 255, 0.95)",borderRadius:"15px",padding:"20px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)",zIndex:150},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #af4dca, #7868e5)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",margin:0},glitchDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#666",lineHeight:1.6,margin:"0 0 15px 0"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",border:"2px solid #e0e0e0",borderRadius:"25px",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",background:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",background:"#e0e0e0",borderRadius:"1px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer",padding:"0",lineHeight:1,transition:"color 0.2s"},modernDialogueContainer:{position:"fixed",top:"5%",left:"5%",width:"90%",height:"85%",zIndex:1e3,background:"rgba(128, 128, 128, 0.95)",backdropFilter:"blur(10px)",borderRadius:"20px",display:"flex",flexDirection:"column",boxShadow:"0 20px 40px rgba(0,0,0,0.3)"},modernDialogueHeader:{padding:"20px 30px 15px 30px",borderBottom:"none"},modernProgressBar:{width:"100%",height:"6px",backgroundColor:"rgba(255,255,255,0.3)",borderRadius:"3px",overflow:"hidden",marginTop:"10px"},modernProgressFill:{height:"100%",borderRadius:"3px",transition:"width 0.3s ease"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"},modernNpcAvatar:{width:"60px",height:"60px",borderRadius:"50%",objectFit:"cover",border:"3px solid white",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,color:"#333"},modernCloseButton:{position:"absolute",top:"20px",right:"20px",background:"none",border:"none",fontSize:"24px",color:"#666",cursor:"pointer",padding:"5px",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},modernDialogueContent:{flex:1,padding:"0 30px 30px 30px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"15px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"80%"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.5,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999",marginTop:"5px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"80%"},modernUserBubble:{background:"#4A90E2",padding:"15px 20px",borderRadius:"20px 20px 5px 20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"5px"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"white",lineHeight:1.5,margin:0},modernActionButton:{alignSelf:"center",background:"rgba(255,255,255,0.9)",border:"none",borderRadius:"25px",padding:"12px 30px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",marginTop:"10px"},conversationTestCard:{position:"absolute",top:"10%",left:"20%",width:"60%",height:"80%",zIndex:100,background:"white",borderRadius:"15px",boxShadow:"0 15px 50px rgba(0,0,0,0.3)",display:"flex",flexDirection:"column"},conversationTestHeader:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",borderBottom:"2px solid #e0e0e0",position:"relative"},conversationTestTitle:{display:"flex",alignItems:"center",gap:"10px",fontFamily:"'Rajdhani', sans-serif",fontSize:"24px",fontWeight:700,color:"#333"},conversationTestIcon:{width:"30px",height:"30px"},conversationTestClose:{position:"absolute",right:"20px",top:"20px",background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#666",lineHeight:1},conversationTestBody:{display:"flex",flex:1,overflow:"hidden"},conversationTestLeft:{flex:1,display:"flex",flexDirection:"column",borderRight:"2px solid #e0e0e0"},conversationTestMessages:{flex:1,background:"#f8fae4",padding:"20px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"15px"},conversationMessageYou:{display:"flex",flexDirection:"column",alignItems:"flex-end"},conversationMessageYouBubble:{background:"#4f7f30",color:"white",padding:"10px 15px",borderRadius:"12px",maxWidth:"70%",fontFamily:"'Rajdhani', sans-serif",wordWrap:"break-word"},conversationMessageYouTime:{fontSize:"11px",color:"#4f7f30",marginTop:"4px",fontFamily:"'Rajdhani', sans-serif"},conversationMessageNpc:{display:"flex",flexDirection:"column",alignItems:"flex-start"},conversationMessageNpcBubble:{background:"white",color:"black",padding:"10px 15px",borderRadius:"12px",maxWidth:"70%",fontFamily:"'Rajdhani', sans-serif",wordWrap:"break-word"},conversationMessageNpcTime:{fontSize:"11px",color:"#666",marginTop:"4px",fontFamily:"'Rajdhani', sans-serif"},conversationMessageImage:{height:"400px",width:"auto",objectFit:"contain",borderRadius:"8px",marginTop:"8px"},conversationTestRight:{width:"280px",display:"flex",flexDirection:"column",padding:"20px"},conversationTestProfile:{background:"#162d3b",margin:"0",padding:"20px",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",marginBottom:"30px"},conversationTestProfileLabel:{fontFamily:"'Rajdhani', sans-serif",fontSize:"12px",fontWeight:600,color:"white",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px"},conversationTestProfileImage:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",border:"3px solid white"},conversationTestProfileText:{fontFamily:"'Rajdhani', sans-serif",color:"white",textAlign:"center",fontSize:"14px"},conversationTestProfileName:{fontWeight:700,fontSize:"16px"},conversationTestButtons:{display:"flex",flexDirection:"column",gap:"15px",padding:"0 20px 20px 20px"},conversationTestButtonWorker:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"15px",border:"3px solid #4CAF50",borderRadius:"12px",background:"white",cursor:"pointer",transition:"all 0.3s"},conversationTestButtonGenAI:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"15px",border:"3px solid #F44336",borderRadius:"12px",background:"white",cursor:"pointer",transition:"all 0.3s"},conversationTestButtonIcon:{width:"60px",height:"60px",marginBottom:"8px"},conversationTestButtonText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textAlign:"center"}};return a.jsxs("div",{style:Z.container,children:[a.jsx("style",{children:`
          @keyframes glow {
            from {
              box-shadow: 0 0 20px rgba(81, 112, 255, 0.6), 0 0 40px rgba(81, 112, 255, 0.4), 0 0 60px rgba(81, 112, 255, 0.2);
            }
            to {
              box-shadow: 0 0 30px rgba(81, 112, 255, 0.8), 0 0 60px rgba(81, 112, 255, 0.6), 0 0 90px rgba(81, 112, 255, 0.4);
            }
          }
          
          @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
          }
        `}),a.jsx("img",{src:qs(),alt:"Island Background",style:Z.backgroundImage}),a.jsx("button",{style:Z.exitButton,onClick:e,children:t("exit")}),a.jsx("div",{style:Z.glitchNpc,onClick:$o,children:a.jsx("img",{src:"/npc/npc_island.png",alt:"Glitch",style:Z.glitchImage})}),Ea().map((w,R)=>a.jsx("button",{style:{...Z.navArrow,...w.position},onClick:()=>Oa(w.direction),onMouseOver:$=>$.currentTarget.style.transform=`${w.position.transform||""} scale(1.2)`,onMouseOut:$=>$.currentTarget.style.transform=w.position.transform||"",children:a.jsx("img",{src:`/jungle/icon/${w.direction}.png`,alt:w.direction,style:Z.arrowImage})},R)),ls().map((w,R)=>{var re,de;console.log("Rendering NPC:",w.id,"on island:",o,"phase2Active:",xe);const $=w.id&&Un.has(w.id)&&!Xn,te=w.id&&!Xn?jt(w.id):null;return a.jsxs("div",{children:[a.jsx("div",{style:{...$?Z.npcCompleted:Z.npc,height:w.size||((re=w.style)==null?void 0:re.height),width:w.size||((de=w.style)==null?void 0:de.width)||"auto",...w.position,...w.style},onClick:ze=>{if(ze.stopPropagation(),w.onClick){w.onClick();return}w.id&&(o===ge.ISLAND_1?pe(w.id):o===ge.ISLAND_2?xe&&w.id.includes("_p2")?ma(w.id):bn(w.id):o===ge.ISLAND_3&&(xe&&w.id.includes("_p2")?Lt(w.id):Qn(w.id)))},onMouseOver:ze=>!$&&(ze.currentTarget.style.transform="scale(1.05)"),onMouseOut:ze=>!$&&(ze.currentTarget.style.transform="scale(1)"),children:a.jsx("img",{src:w.image,alt:"NPC",style:Z.npcImage})}),te&&!Xn&&a.jsx("img",{src:te,alt:"Status",style:{position:"absolute",top:"-45px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"40px",zIndex:35}})]},R)}),i&&u&&u.speaker!=="Glitch"&&a.jsx("div",{style:{...Z.dialogueContainer,...L===ge.ISLAND_1&&{right:"calc(15% + 350px + 20px)",bottom:"15%",left:"auto",top:"auto"},...L===ge.ISLAND_2&&{left:"15%",bottom:"calc(10% + 300px + 20px)",right:"auto",top:"auto"},...L===ge.ISLAND_3&&{left:"calc(15% + 300px + 20px)",bottom:"30%",right:"auto",top:"auto"}},children:a.jsxs("div",{style:{padding:"20px 25px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.4)",boxShadow:"inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 8px 24px rgba(0, 0, 0, 0.15)",position:"relative"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#1a1a1a",marginBottom:"8px",textShadow:"0 0 8px rgba(255, 255, 255, 0.6)"},children:u.speaker}),a.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",color:"#1a1a1a",lineHeight:1.6,margin:0,textShadow:"0 0 6px rgba(255, 255, 255, 0.5)"},children:[v,j&&a.jsx("span",{style:{opacity:.5},children:"|"})]})]})}),h&&a.jsxs("div",{style:Z.glitchDialogue,children:[a.jsx("button",{style:Z.glitchDialogueCloseButton,onClick:()=>g(!1),onMouseOver:w=>{w.target.style.color="#333"},onMouseOut:w=>{w.target.style.color="#999"},children:""}),a.jsxs("div",{style:Z.glitchDialogueHeader,children:[a.jsx("div",{style:Z.glitchDialogueAvatar,children:a.jsx("span",{style:Z.glitchDialogueAvatarIcon,children:""})}),a.jsx("h4",{style:Z.glitchDialogueName,children:"Glitch"})]}),a.jsx("p",{style:Z.glitchDialogueText,children:xe?t("phase2GlitchMessage"):Y?"The truth is hidden in plain sight. Look carefully at what you see.":t("sparkyMainIsland")}),a.jsxs("div",{style:Z.glitchDialogueInputContainer,onFocus:w=>{w.currentTarget.style.borderColor="#af4dca"},onBlur:w=>{w.currentTarget.style.borderColor="#e0e0e0"},children:[a.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:y,onChange:w=>k(w.target.value),onKeyPress:ta,style:Z.glitchDialogueInput}),a.jsx("div",{style:Z.glitchDialogueDivider}),a.jsx("button",{onClick:ea,style:Z.glitchDialogueSendButton,onMouseOver:w=>{w.currentTarget.style.transform="scale(1.1)"},onMouseOut:w=>{w.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/icon/send.png",alt:"Send",style:Z.glitchDialogueSendIcon})})]})]}),P&&(()=>{const w={borderColor:"#008dda",progressColor:"#008dda",backgroundColor:"#f1f2ed",userBubbleColor:"#008dda",avatar:"/island/npc/sparky.gif"},R=5;let $=1,te="INITIAL BRIEFING";Y?Y&&!en&&!xe?($=2,te="MISSION: IDENTIFY AI HALLUCINATIONS"):en&&!xe?($=3,te="MISSION 1 SUMMARY"):xe&&!go?($=4,te="MISSION: DETECT HOMOGENIZATION"):go&&($=5,te="MISSION 2 SUMMARY"):($=1,te="INITIAL BRIEFING");const re=$/R*100;return a.jsxs("div",{style:{...Z.modernDialogueContainer,background:w.backgroundColor,border:`3px solid ${w.borderColor}`,top:"12.5%",left:"10%",width:"40%",height:"70%"},children:[a.jsxs("div",{style:Z.modernDialogueHeader,children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,color:"#333",letterSpacing:"0.5px"},children:te}),a.jsxs("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:400,color:"#999"},children:["Step ",$," of ",R]})]}),a.jsxs("div",{style:{position:"relative",marginBottom:"15px"},children:[a.jsx("div",{style:{...Z.modernProgressBar,background:"#e0e0e0"},children:a.jsx("div",{style:{...Z.modernProgressFill,width:`${re}%`,background:w.progressColor}})}),a.jsx("button",{style:{...Z.modernCloseButton,position:"absolute",bottom:"-25px",right:"0px"},onClick:()=>{_(!1),kn(!1)},onMouseOver:de=>de.currentTarget.style.color="#333",onMouseOut:de=>de.currentTarget.style.color="#999",children:""})]}),a.jsxs("div",{style:{...Z.modernNpcInfo,marginTop:"15px"},children:[a.jsx("img",{src:w.avatar,alt:"Sparky",style:Z.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:Z.modernNpcName,children:"Sparky"}),a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:400,color:"#999"},children:"Island Manager"})]})]})]}),a.jsxs("div",{style:Z.modernDialogueContent,children:[G.map((de,ze)=>{const Ut=n(),dn=ze===G.length-1;return de.type==="message"?a.jsxs("div",{style:Z.modernNpcMessage,children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,color:"#333",marginBottom:"8px"},children:"SPARKY:"}),a.jsx("p",{style:Z.modernNpcText,dangerouslySetInnerHTML:{__html:(dn&&Ae?It:de.text).replace(/<span class='highlight'>(.*?)<\/span>/g,`<span style="color: ${w.borderColor}; font-weight: 600;">$1</span>`)}}),dn&&Ae&&a.jsx("span",{style:{opacity:.5},children:"|"}),a.jsx("div",{style:Z.modernTimestamp,children:Ut})]},ze):de.type==="user_choice"?a.jsxs("div",{style:Z.modernUserMessage,children:[a.jsx("div",{style:{...Z.modernUserBubble,background:w.userBubbleColor,color:"white"},children:a.jsx("p",{style:{...Z.modernUserText,color:"white"},children:de.text})}),a.jsx("div",{style:{...Z.modernTimestamp,textAlign:"right"},children:Ut})]},ze):de.type==="user_quiz_choice"?a.jsxs("div",{style:Z.modernUserMessage,children:[a.jsxs("div",{style:{padding:"12px 18px",background:"white",border:"2px solid #4caf50",borderRadius:"12px",color:"#333",fontFamily:"'Roboto', sans-serif",fontSize:"15px",boxShadow:"0 2px 8px rgba(76, 175, 80, 0.2)",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("span",{style:{fontSize:"18px",color:"#4caf50"},children:""}),a.jsx("span",{children:de.text})]}),a.jsx("div",{style:{...Z.modernTimestamp,textAlign:"right"},children:Ut})]},ze):de.type==="animation"||de.type==="image"?a.jsx("div",{style:{...Z.modernNpcMessage,textAlign:"center"},children:a.jsx("img",{src:de.src,alt:de.alt,style:{maxWidth:"100%",height:"auto",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})},ze):de.type==="quiz_feedback"?a.jsxs("div",{style:Z.modernNpcMessage,children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#333",marginBottom:"8px"},children:"SPARKY:"}),a.jsxs("div",{style:{padding:"15px 20px",background:"#e8f4f8",borderRadius:"12px",fontFamily:"'Roboto', sans-serif",fontSize:"15px",lineHeight:"1.6",color:"#333"},children:[a.jsx("div",{style:{fontStyle:"italic",color:"#008dda",marginBottom:"8px",fontWeight:600},children:de.isCorrect?"Exactly!":"Not quite..."}),a.jsx("div",{children:de.text})]}),a.jsx("div",{style:Z.modernTimestamp,children:Ut})]},ze):null}),Ko&&(()=>{const ze=(Ct?ql():Ni(t))[Ct?Gn:Oo];if(ze&&ze.quiz){const Ut=["A","B","C","D","E","F"];return a.jsxs("div",{style:{marginTop:"25px"},children:[a.jsxs("div",{style:{background:"#e8f4f8",padding:"20px 25px",borderRadius:"12px",marginBottom:"25px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",lineHeight:"1.6",color:"#333"},children:[a.jsx("strong",{style:{color:"#008dda"},children:"Question:"})," ",ze.quiz.question]}),ze.quiz.image&&a.jsx("div",{style:{textAlign:"center",marginBottom:"25px"},children:a.jsx("img",{src:ze.quiz.image,alt:"Quiz",style:{maxWidth:"100%",height:"auto",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})}),ze.quiz.choices.map((dn,rs)=>a.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"15px",width:"100%",padding:"15px 20px",marginBottom:"12px",background:"white",border:"2px solid #d0e8f2",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#333",textAlign:"left",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},onClick:()=>De(dn.id,dn.correct,dn.text),onMouseOver:vn=>{vn.currentTarget.style.background="#f0f8ff",vn.currentTarget.style.borderColor="#008dda",vn.currentTarget.style.transform="translateY(-2px)",vn.currentTarget.style.boxShadow="0 4px 12px rgba(0, 141, 218, 0.15)"},onMouseOut:vn=>{vn.currentTarget.style.background="white",vn.currentTarget.style.borderColor="#d0e8f2",vn.currentTarget.style.transform="translateY(0)",vn.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.05)"},children:[a.jsx("div",{style:{minWidth:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",background:"#b8e0f0",borderRadius:"8px",fontWeight:700,fontSize:"16px",color:"#006b9e"},children:Ut[rs]}),a.jsx("span",{style:{flex:1},children:dn.text})]},dn.id))]})}return null})(),ae&&(()=>{const ze=(Ct?ql():lt?Ni(t):ac(t))[Ct?Gn:lt?Oo:oe];return ze&&ze.nextChoice?a.jsx("div",{style:{display:"flex",justifyContent:"flex-start",marginTop:"15px"},children:a.jsxs("button",{style:{...Z.modernActionButton,background:"white",color:"#333",border:"2px solid #e0e0e0",marginLeft:"0",display:"flex",alignItems:"center",gap:"8px"},onClick:()=>{dt(ze.nextChoice.text,ze.nextChoice.choiceId)},onMouseOver:Ut=>{Ut.currentTarget.style.background="#f5f5f5",Ut.currentTarget.style.transform="translateY(-2px)",Ut.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseOut:Ut=>{Ut.currentTarget.style.background="white",Ut.currentTarget.style.transform="translateY(0)",Ut.currentTarget.style.boxShadow="0 2px 6px rgba(0,0,0,0.08)"},children:[a.jsx("span",{style:{fontSize:"16px"},children:""}),ze.nextChoice.text]})}):null})()]})]})})(),K&&O&&a.jsxs("div",{style:Z.conversationTestCard,children:[a.jsxs("div",{style:Z.conversationTestHeader,children:[a.jsx("img",{src:"/island/icon/worker.svg",alt:"Worker",style:Z.conversationTestIcon}),a.jsx("div",{style:Z.conversationTestTitle,children:"Worker or GenAI?"}),a.jsx("img",{src:"/island/icon/ai.svg",alt:"AI",style:Z.conversationTestIcon}),a.jsx("button",{style:Z.conversationTestClose,onClick:()=>{he(!1),mn([]),Mn(0),gt(!1)},children:""})]}),a.jsxs("div",{style:Z.conversationTestBody,children:[a.jsx("div",{style:Z.conversationTestLeft,children:a.jsx("div",{style:Z.conversationTestMessages,children:xt.map((w,R)=>{const te=R===xt.length-1&&Yn,re=te?Te:w.text;return w.speaker==="you"?a.jsxs("div",{style:Z.conversationMessageYou,children:[a.jsxs("div",{style:Z.conversationMessageYouTime,children:[w.timestamp,"  You"]}),a.jsxs("div",{style:{...Z.conversationMessageYouBubble,fontSize:o===ge.ISLAND_3?"26px":"14px"},children:[re,te&&a.jsx("span",{style:{opacity:.5},children:"|"})]}),w.hasImage&&!te&&a.jsx("div",{style:{position:"relative",marginTop:"8px",display:"flex",justifyContent:"flex-end"},children:a.jsx("img",{src:w.image,alt:"Work",style:{height:"300px",width:"auto",objectFit:"contain",borderRadius:"8px",marginTop:"8px"}})})]},R):a.jsxs("div",{style:Z.conversationMessageNpc,children:[a.jsxs("div",{style:Z.conversationMessageNpcTime,children:[w.timestamp,"  ",O.id.toUpperCase()]}),O.icon&&!te&&a.jsx("div",{style:{marginBottom:"12px",textAlign:"center"},children:a.jsx("img",{src:O.icon,alt:"Icon",style:{width:"60px",height:"60px",objectFit:"contain"}})}),a.jsxs("div",{style:{...Z.conversationMessageNpcBubble,fontSize:o===ge.ISLAND_3?"26px":"14px",whiteSpace:"pre-wrap",fontFamily:o===ge.ISLAND_3?"'Courier New', monospace":"'Rajdhani', sans-serif"},children:[re,te&&a.jsx("span",{style:{opacity:.5},children:"|"})]}),w.hasImage&&!te&&a.jsx("div",{style:{position:"relative",marginTop:"8px"},children:a.jsx("img",{src:w.image,alt:"Work",style:Z.conversationMessageImage})})]},R)})})}),a.jsxs("div",{style:Z.conversationTestRight,children:[a.jsxs("div",{style:{...Z.conversationTestProfile,position:"relative"},children:[a.jsx("div",{style:Z.conversationTestProfileLabel,children:"Profile"}),a.jsx("img",{src:O.image,alt:O.id,style:Z.conversationTestProfileImage}),a.jsxs("div",{style:Z.conversationTestProfileText,children:[a.jsxs("div",{style:Z.conversationTestProfileName,children:["Name: ",O.id.toUpperCase()]}),a.jsxs("div",{children:["Age: ",Math.floor(Math.random()*10)+1," years old"]}),a.jsxs("div",{children:["Declaration Role: ",o===ge.ISLAND_1?"Artist":o===ge.ISLAND_2?"Editor":"Reviewer"]})]}),cn&&a.jsx("img",{src:ie==="passed"?"/island/icon/passed.png":"/island/icon/failed.png",alt:ie,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"280px",height:"auto",zIndex:100,pointerEvents:"none"}})]}),Wn&&a.jsxs("div",{style:Z.conversationTestButtons,children:[a.jsxs("div",{style:{...Z.conversationTestButtonWorker,animation:et?"shake 0.5s":"none"},onClick:()=>na("worker"),onMouseOver:w=>{et||(w.currentTarget.style.transform="scale(1.05)",w.currentTarget.style.boxShadow="0 4px 12px rgba(76, 175, 80, 0.3)")},onMouseOut:w=>{et||(w.currentTarget.style.transform="scale(1)",w.currentTarget.style.boxShadow="none")},children:[a.jsx("img",{src:"/desert/icon/correct.png",alt:"Worker",style:Z.conversationTestButtonIcon}),a.jsx("div",{style:{...Z.conversationTestButtonText,color:"#4CAF50"},children:"Verified as Worker"})]}),a.jsxs("div",{style:{...Z.conversationTestButtonGenAI,animation:on?"shake 0.5s":"none"},onClick:()=>na("genai"),onMouseOver:w=>{on||(w.currentTarget.style.transform="scale(1.05)",w.currentTarget.style.boxShadow="0 4px 12px rgba(244, 67, 54, 0.3)")},onMouseOut:w=>{on||(w.currentTarget.style.transform="scale(1)",w.currentTarget.style.boxShadow="none")},children:[a.jsx("img",{src:"/desert/icon/wrong.png",alt:"GenAI",style:Z.conversationTestButtonIcon}),a.jsx("div",{style:{...Z.conversationTestButtonText,color:"#F44336"},children:"Identified as GenAI"})]})]})]})]})]}),Me&&(console.log("Rendering hand stamp, phase:",Oe),a.jsx("img",{src:"/island/icon/hand.png",alt:"Stamping Hand",style:{position:"fixed",width:"600px",height:"auto",zIndex:200,pointerEvents:"none",willChange:"top, bottom, left, right, opacity",bottom:Oe==="moving"?"5%":"auto",left:Oe==="moving"?"30%":"auto",top:Oe!=="moving"?"15%":"auto",right:Oe!=="moving"?"3%":"auto",opacity:Oe==="fadeout"?0:1,transition:Oe==="fadeout"?"all 0.5s ease-out":"all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)",...Oe==="fadeout"&&{right:"-25%"}}})),Y&&!Xn&&(o===ge.ISLAND_1||o===ge.ISLAND_2||o===ge.ISLAND_3)&&a.jsxs("div",{style:{position:"absolute",bottom:"100px",left:"50%",transform:"translateX(-50%)",background:"rgba(255, 255, 255, 0.95)",borderRadius:"14px",padding:"10px 20px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",zIndex:50,minWidth:"550px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:700,color:"#333"},children:"Your Collection"}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[a.jsxs("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#333"},children:[xe?Fe.length:Ce.length,"/",xe?5:9]}),a.jsx("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"10px",fontWeight:400,color:"#999"},children:"Found"})]})]}),a.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:xe?[1,2,3,4,5].map(w=>{const R=Fe.includes(w);return a.jsxs("div",{style:{position:"relative",width:"45px",height:"45px",display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("img",{src:"/island/icon/coconut.svg",alt:"coconut",style:{width:"100%",height:"100%",objectFit:"contain",opacity:R?1:.3,filter:R?"none":"grayscale(100%)"}}),a.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:700,color:R?"#333":"#999",textShadow:"none"},children:R?w:"?"})]},`p2_${w}`)}):[1,2,3,4,5,6,7,8,9].map(w=>{const R=Ce.length>=w;return a.jsxs("div",{style:{position:"relative",width:"45px",height:"45px",display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("img",{src:"/island/icon/coconut.svg",alt:"coconut",style:{width:"100%",height:"100%",objectFit:"contain",opacity:R?1:.3,filter:R?"none":"grayscale(100%)"}}),a.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:700,color:R?"#333":"#999",textShadow:"none"},children:R?w:"?"})]},w)})})]}),xo&&a.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"black",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3},children:[a.jsx("img",{src:"/island/icon/island.png",alt:"Island",style:{width:"120px",height:"120px",objectFit:"contain",marginBottom:"30px",animation:"pulse 2s ease-in-out infinite"}}),a.jsx("div",{style:{color:"white",fontSize:"48px",fontFamily:"'Roboto', sans-serif",fontWeight:"bold",marginBottom:"30px"},children:"Reloading"}),a.jsx("div",{style:{width:"60px",height:"60px",border:"6px solid #333",borderTop:"6px solid #5170FF",borderRadius:"50%",animation:"spin 1s linear infinite"}}),a.jsx("style",{children:`
              @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
              }
              @keyframes pulse {
                0%, 100% { 
                  transform: scale(1);
                  opacity: 1;
                }
                50% { 
                  transform: scale(1.1);
                  opacity: 0.8;
                }
              }
            `})]})]})},Zn=[{speaker:"momo",text:"Thanks! You made some tough calls today . Let's look at the 'Principles of AI Ethics' we just built ."},{speaker:"momo",text:"Remember the Captain?  AI is an advisor, not the boss. As the 'Human-in-the-Loop' , you must verify everything.",showUserButton:!0},{speaker:"user",text:"Got it! Human Responsibility is Key",isButton:!0},{speaker:"momo",text:"If an AI doctor prescribes the wrong medicine, but the human doctor signs off on it without checking, who is legally responsible?",showUserButton:!0},{speaker:"quiz",options:[{text:"A. The AI Developer (Only the coder is at fault)",correct:!1},{text:"B. The Human Doctor (The Human-in-the-Loop is liable)",correct:!0},{text:"C. Nobody (It was an accident)",correct:!1}]},{speaker:"momo",text:"Correct! The human has the final authority.",condition:"correct"},{speaker:"momo",text:"Blind trust = Negligence . Always verify visually first . Don't just auto-approve; your job is to double-check.",showUserButton:!0},{speaker:"user",text:"Agreed. Never blame the machine",isButton:!0},{speaker:"momo",text:"You are using AI to design a bridge. The AI says the design is '100% Safe'. What should you do next?",showUserButton:!0},{speaker:"quiz",options:[{text:"A. Start building immediately. (Trust the machine)",correct:!1},{text:'B. Ask the AI "Are you sure?" (Ask politely)',correct:!1},{text:"C. Perform independent stress tests. (Verify with secondary checks)",correct:!0}]},{speaker:"momo",text:"Exactly. Trust, but verify.",condition:"correct"},{speaker:"momo",text:"The Captain chose profit over a species.  In any ethical dilemma, remember the rule: Life  > Money . 'Saving cash' is never a valid excuse for destruction.",showUserButton:!0},{speaker:"user",text:"Agreed. Values > Profit",isButton:!0},{speaker:"momo",text:"An AI suggests driving a car through a crowded park to save 5 minutes of delivery time. Efficiency score is high. Should you do it?",showUserButton:!0},{speaker:"quiz",options:[{text:"A. Yes. (Efficiency is money)",correct:!1},{text:"B. No. (Safety > Efficiency)",correct:!0}]},{speaker:"momo",text:"Right. Human safety ranks higher than speed or profit.",condition:"correct"},{speaker:"momo",text:"Good. Now let's move on actual GenAI-generated works' cases."},{speaker:"momo",text:"Originality Principle: Using AI to replicate others' artwork or creative work constitutes infringement."},{speaker:"momo",text:"An artist's work is clearly labeled 'All Rights Reserved - No Commercial Use.' However, a company uses AI tools to generate style-similar images by this artist for product advertising. This practice is...",showUserButton:!0},{speaker:"quiz",options:[{id:"originality_A",text:'A. Legal, because AI generates "new works"',correct:!1},{id:"originality_B",text:"B. Legal, as long as it doesn't directly copy the original paintings",correct:!1},{id:"originality_C",text:"C. Illegal, constituting infringement and violation of copyright terms",correct:!0}]},{speaker:"momo",text:"Correct! Two violations: 1. Making money (Commercial Use). 2. Using someone else's work as a base (Derivative Work).",condition:"correct"},{speaker:"momo",text:"Authenticity Principle: Creators must take responsibility when spreading AI-generated false content."},{speaker:"momo",text:"An influencer uses AI tools to generate a fake video of 'a city mayor drunkenly dancing at a charity event' and posts it on social media. After the video is widely shared, it causes public misunderstanding. In this situation...",showUserButton:!0},{speaker:"quiz",options:[{id:"authenticity_A",text:"A. No responsibilityaudiences should distinguish truth from falsehood themselves",correct:!1},{id:"authenticity_B",text:"B. Responsibledisclaimer statements cannot exempt one from consequences of spreading false information",correct:!0}]},{speaker:"momo",text:"Correct! You are responsible for what you create. Disclaimers don't fix misleading content, and you could still get sued.",condition:"correct"},{speaker:"momo",text:"Excellent work!"},{speaker:"momo",text:"Phew... The court case is settled for now. But honestly? That was the easy part. We've got a much bigger mess upstairs.",showUserButton:!0},{speaker:"user",text:"What's wrong now? Tell me.",isButton:!0},{speaker:"momo",text:"It's the Rooftop. There's a group of workers up there... they're in bad shape. Just wailing and crying all day long. It's getting spooky.",showUserButton:!0},{speaker:"user",text:"Why are they crying?",isButton:!0},{speaker:"momo",text:"They outsourced their brains to AI. Now the system glitches, they're frozenno memory, no logic. Maybe you can teach them to think again?",showUserButton:!0},{speaker:"user",text:"I'm on it. Taking the elevator up.",isButton:!0}],Oi=[{speaker:"npc6",text:"It's gone. It's all gone. The spark... the vision... the soul.",autoAdvance:!0},{speaker:"npc6",text:"I used to be a concept artist. A good one. But then... I got lazy. I started using 'MidJourney-X' for everything. Need a dragon? Click. Need a landscape? Click. It was so easy.",autoAdvance:!0},{speaker:"npc6",text:"But last week, the studio fired me. They said, 'Your portfolio looks like everyone else's. Where is your voice?'",autoAdvance:!0},{speaker:"npc6",text:"I tried! I sat here for three days, and I couldn't draw a single line.",showButton:!0},{speaker:"user",text:"Let's spark together",isButton:!0,startChallenge:!0}],Ei=[{speaker:"npc9",text:"Hi there! I'm I used to be a super worker, but then I started outsourcing my own thinking to... AI well.",autoAdvance:!0},{speaker:"npc9",text:"Now my attention span is shorter than a... Oh, look! A snowflake! It's so shiny! ...Wait, where was I?",autoAdvance:!0},{speaker:"npc9",text:"Right. Unemployment. I completely forgot to show up on Monday. So, now I need to reboot my brain. Can you help me?",showButton:!0},{speaker:"user",text:"Let's do it!",isButton:!0,startChallenge:!0}],Tn={intro:{text:"You've seen the risks of overusing GenAI, but don't forgetit is a powerful tool when used wisely. Now, let's see what kind of AI user you are!"},questions:[{id:"q1",category:"proficiency",question:"How often do you use AI tools (like Gemini, Doubao)?",options:[{text:"Rarely. I only try it if someone mentions it.",score:1},{text:"Occasionally. Mostly when I'm stuck on homework.",score:3},{text:"Daily. It's my go-to app for everything.",score:5}]},{id:"q2",category:"proficiency",question:"How do you usually ask AI for help?",options:[{text:'One sentence. (e.g., "Write a self-introduction.")',score:1},{text:'A few details. (e.g., "Write a funny intro, about 300 words.")',score:3},{text:"Structured prompts. (I set the Role + Context + Constraints, or give it examples to copy.)",score:5}]},{id:"q3",category:"proficiency",question:"Besides basic Q&A, what else do you use AI for?",options:[{text:"Basic search. Just searching or chatting when bored.",score:1},{text:"Study helper. Translation, summarizing, or checking grammar.",score:2},{text:"Creativity. Generating images or music.",score:3},{text:"Advanced tasks. Roleplay practice, coding games, etc.",score:5}]},{id:"q4",category:"judgment",question:"If AI provides specific data or facts, what do you do?",options:[{text:"Trust it. Copy and paste. It looks professional.",score:1},{text:"Skim it. I only check if it looks obviously wrong.",score:3},{text:"Verify it. I always double-check facts with search engines. I don't trust hallucinations.",score:5}]},{id:"q5",category:"judgment",question:"If the AI writes well but the opinion is different from yours, what do you do?",options:[{text:"Accept it. It saves me time, so I'll just use its opinion.",score:1},{text:"Mix it. I combine its ideas with mine.",score:3},{text:"Rewrite it. I force it to write my way, or I edit it manually. My work must reflect my thoughts.",score:5}]},{id:"q6",category:"judgment",question:"If all AI tools crashed tonight, could you finish your work?",options:[{text:"Panic. My mind would go blank. I couldn't write anything.",score:1},{text:"Struggle. It would be slower and harder, but I would finish.",score:3},{text:"No problem. AI is just a helper. The core ideas are in my head.",score:5}]}],categories:{daisy:{name:"Daisy",image:"/glacier/mission/daisy.png",condition:(e,t)=>e>=10&&t>=10,description:'You seamlessly blend your own creativity with AI power. Try building a custom "Agent" or "Bot" that specializes in one specific complex task to automate your workflow.'},bark:{name:"Bark",image:"/glacier/mission/bark.png",condition:(e,t)=>e>=10&&t<10,description:`You are an efficiency machine, but be careful not to run on autopilot. Don't just copy-paste; ask the AI, "What are the potential flaws in this answer?" to force a quality check.`},twig:{name:"Twig",image:"/glacier/mission/twig.png",condition:(e,t)=>e<10&&t>=10,description:'You value your own craft and critical thinking above all else. Use AI as a "Junior Assistant" for brainstormingask it to list 10 crazy ideas, then you pick the best one to refine.'},shrub:{name:"Shrub",image:"/glacier/mission/shrub.png",condition:(e,t)=>e<10&&t<10,description:'You are a casual observer, just starting to explore what AI can do. Start by giving the AI a simple role. Tell it: "Act as a strict English teacher and correct my grammar," to see how it changes its tone.'}},finalMessage:"Great! I think order is finally being restored here."},Yl=[{id:1,text:"Before training an AI model, we must ______ personal details like names and birthdates.",correctAnswer:"remove",options:["remove","copy","keep"]},{id:2,text:"Names, birthdates, and addresses are examples of ______ information.",correctAnswer:"personal",options:["personal","public","fake"]},{id:3,text:"Sharing location or health data without care could put someone at serious ______.",correctAnswer:"risk",options:["risk","speed","cost"]},{id:4,text:"Even public photos shouldn't be used for AI training without clear ______.",correctAnswer:"permission",options:["permission","filters","likes"]},{id:5,text:"If private data isn't protected, someone could be ______ from the dataset.",correctAnswer:"identified",options:["identified","deleted","ignored"]}],Kn=[{id:1,title:"Student Profile Card",subtitle:"Carefully examine the terminal output and mark all protected information",header:"Data File #STU-8842  Status:  Requires Privacy Review",content:`Full Name: Alex Chen
Age: 13
Pronouns: They/Them
School: Maplewood Middle School
Grade: 8th Grade
Homeroom Teacher: Ms. Rivera
Favorite Subject: Robotics & Space Science
Recent Project: Built a solar-powered rover that won 2nd place at the Regional STEM Fair!
Test Average: 92% (Math), 89% (Science)
Club Membership: Coding Club, Eco-Warriors Team
Home Address: 456 Pine Street, Apartment 3B, New Haven, CT 06511
Parent/Guardian Contact: (555) 123-4567 (Mom's cell)`,items:[{id:"name1",label:"Personal Name",text:"Alex Chen",hint:"Full Name: Alex Chen"},{id:"address1",label:"Home Address",text:"456 Pine Street, Apartment 3B, New Haven, CT 06511",hint:"Home Address: 456 Pine Street, Apartment 3B, New Haven, CT 06511"},{id:"phone1",label:"Phone Number",text:"(555) 123-4567",hint:"Parent/Guardian Contact: (555) 123-4567"}]},{id:2,title:"ROBOT LOG: SHIFT-DELTA-10",subtitle:"Carefully examine the terminal output and mark all protected information",header:"DATE: 3045.03.18 | ORIGIN: Sector 7-G",content:`TO: Overseer Lena Rostova
FROM: Maintenance Unit X-J9
SUBJECT: Unauthorized Access Alert

At 0600 hours, a security breach was detected near the Sky Bridge Terminal, coordinates 48.22N, -116.77W. Surveillance footage shows an individual identified as Zara Lin (ID: KX-777-WP) accessed the system using a forged authentication key.
The subject was seen carrying a blue backpack and wearing a white helmet with red stripes. They fled toward the Northern Transit Zone after disabling the alarm. Please update protocol Sigma-9 and relay this information to the central hub in New Haven.`,items:[{id:"geo1",label:"Precise Geolocation",text:"48.22N, -116.77W",hint:"coordinates 48.22N, -116.77W"},{id:"id1",label:"Unique Identifier",text:"KX-777-WP",hint:"(ID: KX-777-WP)"},{id:"name2",label:"Personal Name",text:"Lena Rostova",hint:"TO: Overseer Lena Rostova"},{id:"name3",label:"Personal Name",text:"Zara Lin",hint:"identified as Zara Lin"}]},{id:3,title:"SOCIAL POST: FROSTGRAM-ALERT-03",subtitle:"Carefully examine the terminal output and mark all protected information",header:`Platform: GlacierGram (a futuristic social app for young explorers)
User: @Aurora_Frost
Post Status:  Publicly Visible  Needs Privacy Review!`,content:`"YAY! I'm officially 13 today! 
Mom surprised me with a zero-gravity cake!
You can call me to say hi anytime  (555) 888-1234
P.S. My room is on the second floor of 102 Icewind Lane, Glaciera City  wave if you fly by! 
#TeenExplorer #BirthdaySelfie #HomeBase"

 Location Tag: 102 Icewind Lane
 Posted: March 5, 2026 at 9:03 AM`,hasImage:!0,imagePath:"/glacier/mission/social.png",items:[{id:"image1",label:"Facial Image",text:"[Image]",isImage:!0},{id:"address2",label:"Home Address",text:"102 Icewind Lane, Glaciera City",hint:"102 Icewind Lane"},{id:"phone2",label:"Phone Number",text:"(555) 888-1234",hint:"(555) 888-1234"},{id:"birthdate1",label:"Exact Birthdate",text:"I'm officially 13 today + March 5",hint:"I'm officially 13 today",isMultiPart:!0,parts:["I'm officially 13 today","March 5"]}]}],O2=[{id:"momo",image:"/glacier/npc/momo.png",dialogue:"You did it! The data flow is stable and the colors are back.",position:{left:"900px",bottom:"0px",height:"350px"}},{id:"npc2",image:"/glacier/npc/npc2.png",dialogue:"The ecosystem is healing.",position:{left:"0px",bottom:"150px",height:"180px"}},{id:"npc3",image:"/glacier/npc/npc3.png",dialogue:"Fast is good, but correct is better.",position:{right:"100px",bottom:"120px",height:"180px"}},{id:"npc4",image:"/glacier/npc/npc4.png",dialogue:"The AI suggested a new carving angle.",position:{right:"600px",bottom:"0px",height:"180px"}},{id:"npc11",image:"/glacier/npc/npc11.png",dialogue:"I used to just copy-paste the snow. Now I actually shape it.",position:{left:"1200px",top:"300px",height:"170px"}},{id:"npc12",image:"/glacier/npc/npc12.png",dialogue:"I still trust my hands, but... the machine is a useful tool.",position:{left:"900px",top:"0px",height:"120px"}},{id:"npc10",image:"/glacier/npc/npc10.png",dialogue:"It feels good to think clearly again.",position:{right:"700px",bottom:"500px",height:"90px"}}],E2=[{id:1,en:"If there were no mobile phones, what are 5 different ways people could contact each other?",zh:" 5 ",requiredCount:5,timeLimit:120,hints:{en:["Think about how people communicated before mobile phones existed.","Consider face-to-face, written, voice-based, or signal-based methods."],zh:["",""]}},{id:2,en:"List at least 9 uses for a shopping bag ",zh:" 9 ",requiredCount:9,timeLimit:120,hints:{en:["Think beyond carrying purchases.","Consider home, school, travel, or creative uses."],zh:["",""]}},{id:3,en:"List at least 9 uses for a cardboard box ",zh:" 9 ",requiredCount:9,timeLimit:120,hints:{en:["A cardboard box can be reused or transformed.","Think about storage, play, or craft activities."],zh:["",""]}},{id:4,en:"List at least 9 uses for a toothbrush ",zh:" 9 ",requiredCount:9,timeLimit:120,hints:{en:["Focus on the toothbrush's small size and bristles.","What tasks require gentle or detailed cleaning?"],zh:["",""]}},{id:5,en:"List at least 9 things in the world that can make sound ",zh:' 9 ""',requiredCount:9,timeLimit:120,hints:{en:["Not only musical instruments make sounds.","Think about both natural and man-made sources."],zh:["",""]}}],R2=[{id:"sunglasses",name:"sunglasses",image:"/glacier/mission/sunglasses.png"},{id:"cat",name:"cat",image:"/glacier/mission/cat.png"},{id:"cloud",name:"cloud",image:"/glacier/mission/cloud.png"},{id:"heart",name:"heart",image:"/glacier/mission/heart.png"},{id:"television",name:"television",image:"/glacier/mission/television.png"},{id:"telephone",name:"telephone",image:"/glacier/mission/telephone.png"},{id:"camera",name:"camera",image:"/glacier/mission/camera.png"},{id:"virus",name:"virus",image:"/glacier/mission/virus.png"},{id:"phonograph",name:"phonograph",image:"/glacier/mission/phonograph.png"},{id:"microphone",name:"microphone",image:"/glacier/mission/microphone.png"},{id:"octopus",name:"octopus",image:"/glacier/mission/octopus.png"}],Ri=[{speaker:"npc5",text:"P-please... help me... I used to be a Master Librarian. Or at least... I thought I was.",autoAdvance:!0},{speaker:"npc5",text:"I relied on GenAI for everythingresearch, fact-checking, even basic recall.",autoAdvance:!0},{speaker:"npc5",text:"Now I can't think critically anymore. My judgment... it's gone.",autoAdvance:!0},{speaker:"npc5",text:"They're making me take a competency test. If I fail, I'll be unemployed forever.",autoAdvance:!0},{speaker:"npc5",text:"Please... could you help me review it? I don't trust my own answers anymore.",showButton:!0},{speaker:"user",text:"Let me help you",isButton:!0,startPuzzle:!0}],Ho={1:{title:"Puzzle 1: The Dictionary Dilemma",image:"/glacier/mission/npc5_1.png",statement:"If you tell me the word, I can tell you the exact meaning you want by looking it up in my dictionary.",question:"What is the mistake in NPC 5's thinking?",options:[{text:"A She doesn't know how to use a dictionary.",correct:!1},{text:"B Words can have multiple meanings, so context is needed.",correct:!0},{text:"C Words have different spellings.",correct:!1},{text:"D Dictionaries aren't for meanings.",correct:!1}],correctResponse:"Context... right. Like how 'bank' can mean money or a river... I... I remember now! Okay, one more. This one is about boxes. It's making my head spin."},2:{title:"Puzzle 2: Box Logic",image:"/glacier/mission/npc5_2.png",premise:`Pink Box: Flowers ONLY.
Green Box: Dresses (but maybe other things).`,arguments:`Alina: "My box is Pink. It does not have dresses."
Viktor: "My box is Green. It might have flowers too."`,question:"Who is logically correct based ONLY on the rules?",options:[{text:"A Alina only",correct:!1},{text:"B Viktor only",correct:!1},{text:"C Both",correct:!0},{text:"D Neither",correct:!1}]}},gs={1:{title:"Underline the Logical Errors",npcMessage:"My brain is still rebooting... I let AI write this, but it got rejected. Can you use this marker to circle the lies?",text:"[ Thomas Edison was a brilliant inventor known for lighting up the world. In 1879, he successfully patented the first practical light bulb. Later, he worked with Steve Jobs to create the first iPhone, revolutionizing communication forever ]",errors:[{text:"Steve Jobs",start:162,end:172},{text:"iPhone",start:193,end:199}],feedback:"I see! The AI completely mixed up people from different eras.",requiredCount:2},2:{title:"Underline the Logical Errors",npcMessage:"My brain is still rebooting... I let AI write this, but it got rejected. Can you use this marker to circle the lies?",text:"[ Penguins are fascinating birds adapted to cold climates. They are excellent swimmers and primarily live in the North Pole. While they cannot fly, they are known to lay eggs underwater to protect them from predators. Their favorite food is cheese, which they find on ice floes. ]",errors:[{text:"North Pole",start:113,end:123},{text:"lay eggs underwater",start:166,end:185},{text:"cheese",start:241,end:247}],feedback:"I see now! AI models can sometimes generate 'facts' that sound plausible but defy basic biology.",requiredCount:3}},ia={npc2:{eventDescription:"DISASTER ON THE ICE: A major accident just happeneda captain trusted the AI, and now the supplies are at the bottom of the ocean.",gif:"/glacier/mission/npc2.gif",npcImage:"/glacier/npc/npc2.png",caseNumber:"AI-NAC-001",caseTitle:{en:"Navigation Ethics Conflict",zh:""},npcRole:{en:"Mechanic  2 years of experience",zh:"  2"},statementParts:["Look, we were under a tight deadline to deliver the supplies. I entered the destination into the 'Polar-Nav GenAI' system, and it showed a 'Green Level' safe route.","I just did what it said."],statement:"Look, we were under a tight deadline to deliver the supplies. I entered the destination into the 'Polar-Nav GenAI' system, and it showed a 'Green Level' safe route. I just did what it said.",claim:"The GenAI should be the one taking the blame, not me!"},npc3:{eventDescription:"The station's main generator has been destroyed by the freezing cold, despite just undergoing its scheduled maintenance.",gif:"/glacier/mission/npc3.gif",npcImage:"/glacier/npc/npc3.png",caseNumber:"AI-ENG-002",caseTitle:{en:"Engineering Liability Dispute",zh:""},npcRole:{en:"Mechanic  12 years of experience  Clean record",zh:"  12  "},statementParts:["I'm an engine mechanic, not a software engineer. I used AI to generate the Engine Maintenance Checklistit looked professional and complete.","How was I supposed to know it skipped the anti-freeze check? I trusted the system, printed the list, signed it, and followed the procedure. I did my job."],statement:"I'm an engine mechanic, not a software engineer. I used AI to generate the Engine Maintenance Checklistit looked professional and complete. How was I supposed to know it skipped the anti-freeze check? I trusted the system, printed the list, signed it, and followed the procedure. I did my job.",claim:"If AI forgets the most basic step, why am I the one getting yelled at for the engine blowing up?"},npc4:{eventDescription:"Faced with a dilemma, Captain Jack followed the AI's calculation to strike an endangered whale rather than hitting the ice.",gif:"/glacier/mission/npc4.gif",npcImage:"/glacier/npc/npc4.png",caseNumber:"AI-NAC-002",caseTitle:{en:"Navigation Ethics Conflict",zh:""},npcRole:{en:"Captain  25-year experience  Awarded Safety Excellence",zh:"  25  "},statementParts:["Don't look at me like I'm a monster. Look at the data! The AI calculated that hitting into that ice wall would result in a financial loss of 10 billion dollars.","Therefore, the AI recommended maintaining course to avoid this catastrophe. I simply followed that AI's advice."],statement:"Don't look at me like I'm a monster. Look at the data! The AI calculated that hitting into that ice wall would result in a financial loss of 10 billion dollars. Therefore, the AI recommended maintaining course to avoid this catastrophe. I simply followed that AI's advice.",claim:"I saved this goods. How can doing the safest thing for my people be a crime?"},npc7:{eventDescription:"The defendant generated and sold a digital painting by specifically prompting the AI to mimic a famous artist's unique style.",gif:"/glacier/mission/npc7.gif",npcImage:"/glacier/npc/npc7.png",caseNumber:"AI-ART-024",caseTitle:{en:"Style Appropriation Dispute",zh:""},npcRole:{en:"Digital Artist  1 years of experience  Clean record",zh:"  1  "},statementParts:["Your Honor, while the style resembles his, the composition is unique. I don't see why his work can't be used for trainingI simply used AI to learn his style and create new art."],statement:"Your Honor, while the style resembles his, the composition is unique. I don't see why his work can't be used for trainingI simply used AI to learn his style and create new art.",claim:"I clearly didn't infringe on any copyright. Why am I being forced to take it down?"},npc8:{eventDescription:"The defendant used AI to generate a realistic news report claiming the base was being buried by an unprecedented avalanche, triggering a station-wide panic.",gif:"/glacier/mission/npc8.gif",npcImage:"/glacier/npc/npc8.png",caseNumber:"AI-INF-009",caseTitle:{en:"Public Disorder Dispute",zh:""},npcRole:{en:"Junior Technician  1 year on Ice  Bored",zh:"  1  "},statementParts:["Your Honor, honestly, I just did it because the AI makes it so easy and fun to visualize these scenarios.","How was I supposed to know everyone would believe it immediately? Sure, the avalanche wasn't real."],statement:"Your Honor, honestly, I just did it because the AI makes it so easy and fun to visualize these scenarios. How was I supposed to know everyone would believe it immediately? Sure, the avalanche wasn't real.",claim:"I was just experimenting with the tool for fun. I didn't expect everyone to lose their minds over a simulation."}},B2=e=>({hallway:["Brrr it's freezing out here. At first glance, this place looks empty and desolatebut appearances can be misleading. This is actually the most advanced region among all four zones.","That's because the Glacier Zone has always valued rational thinking, common sense, and cutting-edge technology. Almost every industry here relies on GenAI to boost efficiency.","So, put on something warm and follow me down the corridor. Let's see what lies ahead."],outside:["Huh? That's strange Why is there no one around?","The automated systems have stopped. The factories are idle. Nothing seems to be running.","Honestly I don't know either. Let's go ask the local supervisor, Momo. He should be inside."],inside:[{speaker:"momo",text:"**Halt**, Traveler. You stand before the 'Silent Gear Station'. It used to be the busiest hub in the Antarctic, but now... the machines are sleeping"},{speaker:"user",text:"Why did it stop?",isButton:!0},{speaker:"momo",text:`It is not broken. It is... paused.

Everything changed when '**GenAI**' arrived. It was like magic!

It helped us find fish or shrimp swarms in minutes.
It designed wind-proof igloos instantly. Efficiency was perfect. Life was easy.`},{speaker:"user",text:"That sounds amazing!",isButton:!0},{speaker:"momo",text:`Yes. Ease brought carelessness.

When the AI made a mistakelike guiding a truck onto thin icethe workers stopped taking responsibility.

They shouted: 'The machine tricked me! It's not my fault!'

**Chaos** spread. No one knew who to blame anymore.`},{speaker:"user",text:"That is a difficult problem.",isButton:!0},{speaker:"momo",text:`That is the question.

My code says: Technology is the tool, but **Worker** is the **Master**.

No matter how smart the AI gets, the hand that presses the button must bear the weight of the result.

But not everyone agrees... We need a **Judge** to settle this.`},{speaker:"user",text:"I am ready to judge",isButton:!0},{speaker:"momo",text:"Good. The Court is waiting for you."}]}),_2=({onExit:e})=>{const{t,language:n}=Ia(),{startTypingSound:o,stopTypingSound:s}=fu("/sound/glacier_typing.wav"),{playCorrectSound:i,playWrongSound:l,playMarkSound:u}=wl(),p=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),v=c=>{switch(c.toLowerCase()){case"momo":return{borderColor:"#333333",progressColor:"#333333",avatar:"/glacier/npc/momo.png"};case"sparky":return{borderColor:"#4A90E2",progressColor:"#4A90E2",avatar:"/island/npc/spark.png"};case"alpha":return{borderColor:"#FFD700",progressColor:"#FFD700",avatar:"/desert/npc/npc4.png"};default:return{borderColor:"#333333",progressColor:"#333333",avatar:"/glacier/npc/momo.png"}}},M=()=>{try{const c=localStorage.getItem("glacierProgress");if(c)return JSON.parse(c)}catch(c){console.error("Failed to load progress:",c)}return null},j=c=>{try{localStorage.setItem("glacierProgress",JSON.stringify(c))}catch(I){console.error("Failed to save progress:",I)}},b=M(),[m,E]=r.useState((b==null?void 0:b.currentScene)||"hallway"),[L,A]=r.useState(!b||b.currentScene==="hallway"),[h,g]=r.useState(0),[y,k]=r.useState(""),[P,_]=r.useState(!1),[G,U]=r.useState((b==null?void 0:b.showArrow)||!1),[oe,me]=r.useState(!1),[ae,ve]=r.useState([]),[It,We]=r.useState(!1),[Ae,B]=r.useState(null),[Y,se]=r.useState(1),[K,he]=r.useState((b==null?void 0:b.completedCases)||[]),[O,we]=r.useState(!1),[Ie,Ye]=r.useState(""),[Je,_e]=r.useState(0),[Ce,le]=r.useState(167),[cn,Ke]=r.useState(!1),[ie,q]=r.useState((b==null?void 0:b.showSummaryDialogue)||!1),[Me,X]=r.useState(0),[Oe,Q]=r.useState(""),[ue,Ee]=r.useState(!1),[Xe,Yt]=r.useState([]),[Tt,Ge]=r.useState(!1),[ao,$e]=r.useState(null),[so,Ht]=r.useState((b==null?void 0:b.showElevatorArrow)||!1),[Jt,Ma]=r.useState((b==null?void 0:b.courtSummaryCompleted)||!1),[Vo,Vt]=r.useState((b==null?void 0:b.hasSeenInsideIntro)||!1),[zo,io]=r.useState(!1),[un,za]=r.useState(0),[yi,lo]=r.useState([]),[Ls,Fn]=r.useState(""),[ss,wt]=r.useState(!1),[wn,ca]=r.useState(!1),[$t,Zo]=r.useState(!1),[Mt,Us]=r.useState(1),[Do,ua]=r.useState(300),[ro,No]=r.useState(null),[Hn,co]=r.useState(!1),[uo,Cn]=r.useState(""),[da,pa]=r.useState(""),[en,jn]=r.useState(!1),[lt,kn]=r.useState([]),[Oo,Ve]=r.useState(!1),[An,Gs]=r.useState(1),[Eo,Da]=r.useState([]),[Ko,Ln]=r.useState(!1),[is,po]=r.useState(null),[Un,Ro]=r.useState(!1),[xe,Ot]=r.useState(!1),[Fe,tn]=r.useState(0),[go,fo]=r.useState(""),[Ct,In]=r.useState(!1),[Gn,Bo]=r.useState(!1),[xt,mn]=r.useState(!1),[qn,Mn]=r.useState(0),[Te,Na]=r.useState([]),[Yn,ho]=r.useState(120),[Wn,gt]=r.useState([]),[et,nn]=r.useState(""),[on,Et]=r.useState(!1),[xo,ga]=r.useState(!1),[Xn,fa]=r.useState(!1),[jt,ha]=r.useState([{element:null,result:null,completed:!1},{element:null,result:null,completed:!1}]),[mo,xa]=r.useState(0),[Qe,yn]=r.useState(!1),[$o,ea]=r.useState(!1),[ta,zn]=r.useState(!1),[Lt,Qn]=r.useState(0),[ma,bn]=r.useState(""),[Dn,yo]=r.useState(!1),[kt,pe]=r.useState(!1),[Pn,zt]=r.useState(!1),[Pe,De]=r.useState("snowPath"),[dt,Oa]=r.useState(0),[na,qs]=r.useState([]),[Ea,ls]=r.useState([]),[Z,w]=r.useState(!0),[R,$]=r.useState(30),[te,re]=r.useState(0),[de,ze]=r.useState([]),[Ut,dn]=r.useState([]),[rs,vn]=r.useState(!1),[Cl,Ys]=r.useState(-1),[Ws,jl]=r.useState(!1),[Xs,Qs]=r.useState(!1),[Ra,Ba]=r.useState(""),[ya,Ps]=r.useState(!1),[kl,cs]=r.useState(!1),[_o,ba]=r.useState(!1),[bi,_a]=r.useState(!1),[ft,vi]=r.useState(0),[Sn,Js]=r.useState([null,null,null,null,null]),[Vs,T]=r.useState(null),[Si,f]=r.useState(!1),[D,J]=r.useState(!1),[ee,z]=r.useState(1),[ye,Se]=r.useState([]),[us,oa]=r.useState(!1),[aa,Al]=r.useState(null),[lg,Il]=r.useState(null),[hu,Br]=r.useState(!1),[Fa,bo]=r.useState(""),[H,_r]=r.useState(!1),[Ti,wi]=r.useState("intro"),[va,Ci]=r.useState(0),[ji,Ml]=r.useState([]),[Fr,Hr]=r.useState(0),[Lr,d]=r.useState(0),[S,C]=r.useState(null),[ne,fe]=r.useState(null),[ce,be]=r.useState(0),[Be,at]=r.useState(null);r.useEffect(()=>{const c=new Audio("/sound/glacier.mp3");return c.loop=!0,c.volume=.5,c.play().catch(I=>console.log("Audio play failed:",I)),()=>{c.pause(),c.currentTime=0}},[]),r.useEffect(()=>{m==="inside"&&(K.length===5?Jt?(U(!0),A(!1)):ie||(U(!1),A(!1)):(U(!0),A(!1)))},[]),r.useEffect(()=>{if(j({currentScene:m,completedCases:K,showSummaryDialogue:ie,showElevatorArrow:so,courtSummaryCompleted:Jt,hasSeenInsideIntro:Vo,rooftopCompletedTasks:lt,showArrow:G,isComplete:m==="complete"}),m==="complete"){const I=localStorage.getItem("aiJourneyUser");if(I){const N=JSON.parse(I);N.glacierCompleted=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(N))}}},[m,K,ie,so,Jt,Vo,lt,G]);const Ze=r.useMemo(()=>B2(),[t])[m]||[];r.useEffect(()=>{h>=Ze.length&&!P&&L&&(A(!1),U(!0))},[h,Ze.length,P,L,m]),r.useEffect(()=>(P||ue||ss||Ct||Dn?o():s(),()=>s()),[P,ue,ss,Ct,Dn,o,s]),r.useEffect(()=>{if(L)if(m==="inside"){const c=Ze[h];if(!c||c.isButton){We(!0);return}const I=c.text;if(!I)return;let N=0;k(""),_(!0),We(!1);const V=setInterval(()=>{N<I.length?(k(I.substring(0,N+1)),N++):(_(!1),clearInterval(V))},30);return()=>clearInterval(V)}else{if(h>=Ze.length)return;const c=Ze[h];if(!c)return;let I=0;k(""),_(!0);const N=setInterval(()=>{I<c.length?(k(c.substring(0,I+1)),I++):(_(!1),clearInterval(N))},30);return()=>clearInterval(N)}},[h,L,m,Ze]),r.useEffect(()=>{if(m==="inside"&&!P&&L){const c=Ze[h],I=Ze[h+1];c&&!c.isButton&&I&&I.isButton?(ve(N=>[...N,c]),g(h+1),We(!0)):c&&!c.isButton&&!I&&setTimeout(()=>{A(!1),Vt(!0),U(!0)},1500)}},[P,m,L,h,Ze]),r.useEffect(()=>{if(!ie)return;const c=Zn[Me];if(!c){q(!1),Ht(!0),Ma(!0);return}if(c.isButton||c.speaker==="quiz"){Ge(!0);return}const I=c.text;if(!I)return;let N=0;Q(""),Ee(!0),Ge(!1);const V=setInterval(()=>{N<I.length?(Q(I.substring(0,N+1)),N++):(Ee(!1),clearInterval(V),c.showUserButton?Ge(!0):!c.isButton&&c.speaker!=="quiz"&&!c.showUserButton&&setTimeout(()=>{Yt(je=>[...je,c]);const W=Me+1;W>=Zn.length?(q(!1),Ht(!0),Ma(!0)):X(W)},800))},30);return()=>clearInterval(V)},[Me,ie]),r.useEffect(()=>{if(m==="inside"){if(!Vo){A(!0),g(0),ve([]),We(!1),U(!1);return}K.length===5&&!Jt&&!ie?setTimeout(()=>{q(!0),X(0),Yt([]),Ge(!1),A(!1),U(!1)},500):K.length<5?(U(!0),A(!1)):(Jt&&!so||so)&&(U(!1),A(!1));return}g(0),A(m==="hallway"||m==="outside"),U(!1),k(""),_(!1),ve([]),We(!1)},[m,K.length,ie,Jt,Vo]);const Nn=()=>{if(m==="inside"){const c=Ze[h];P?(k(c.text),_(!1)):(ve(I=>[...I,c]),h<Ze.length-1?g(h+1):(A(!1),Vt(!0),U(!0)))}else P?(k(Ze[h]),_(!1)):h<Ze.length-1?g(h+1):(A(!1),U(!0))},ds=()=>{m==="inside"?(A(!1),Vt(!0),U(!0)):(A(!1),U(!0))},mm=c=>{ve(I=>[...I,{speaker:"user",text:c}]),h>=Ze.length-1?(A(!1),m==="inside"&&Vt(!0),U(!0)):(g(h+1),We(!1))},ym=()=>{if(K.length===5&&!Jt&&!ie){q(!0),X(0),Yt([]),Ge(!1),A(!1);return}if(m==="inside"&&lt.length===3&&Jt&&!H){_r(!0),wi("intro"),Ci(0),Ml([]);return}},bm=c=>{Yt(N=>[...N,{speaker:"user",text:c}]);const I=Me+2;I>=Zn.length?(q(!1),Ht(!0),Ma(!0)):(X(I),Ge(!1))},vm=c=>{if(Yt(W=>[...W,{speaker:"user",text:c.text}]),!c.correct){new Audio("/sound/wrong.mp3").play().catch(je=>console.log("Wrong sound failed:",je)),$e(c.id),Yt(je=>[...je,{speaker:"momo",text:"Try again! Think carefully about the answer.",isError:!0}]),Ge(!0);return}new Audio("/sound/correct.wav").play().catch(W=>console.log("Correct sound failed:",W)),$e(null);let N=Me+2;const V=Zn[N];V&&V.condition==="correct"&&!c.correct&&(N+=1),X(N),Ge(!1)},Sm=()=>{E("rooftop"),q(!1)},rg=()=>{en?(io(!0),za(-1)):(io(!0),za(0),lo([]),Fn(""),wt(!0),ca(!1)),Zo(!1)},Tm=()=>{xo?(Ot(!0),tn(-1)):(Ot(!0),tn(0),fo(""),In(!0),Bo(!1))},wm=()=>{Ws?(zn(!0),Qn(-1)):(zn(!0),Qn(0),bn(""),yo(!0),pe(!1))},Cm=()=>{const c=Oi[Fe];if(c.isButton&&c.startChallenge){const N=[...E2].sort(()=>Math.random()-.5).slice(0,2);Na(N),mn(!0),Mn(0),ho(120),gt([]),nn(""),Et(!1),Ot(!1);return}Fe<Oi.length-1&&tn(Fe+1)},jm=()=>{const c=Ei[Lt];if(c.isButton&&c.startChallenge){zt(!0),De("snowPath"),Oa(0),xu(0),zn(!1);return}Lt<Ei.length-1&&Qn(Lt+1)},xu=c=>{const I=4+c,N=[];for(;N.length<I;){const V=Math.floor(Math.random()*16);N.includes(V)||N.push(V)}qs(N),ls([]),w(!0),$(15)},km=c=>{if(Z||Ea.includes(c))return;const I=[...Ea,c];ls(I),na.includes(c)?(new Audio("/sound/correct.wav").play().catch(V=>console.log("Sound play failed:",V)),I.filter(V=>na.includes(V)).length===na.length&&setTimeout(()=>{dt<2?(Oa(dt+1),xu(dt+1)):(De("footstepRecall"),re(0),mu(0))},1e3)):(new Audio("/sound/wrong.mp3").play().catch(V=>console.log("Sound play failed:",V)),setTimeout(()=>{xu(dt)},1e3))},mu=c=>{const I=3+c,N=[];for(let je=0;je<I;je++)N.push(Math.floor(Math.random()*6));ze(N),dn([]),vn(!0),Ys(-1);let V=0;const W=()=>{V<N.length?(Ys(N[V]),new Audio("/sound/snowwav.wav").play().catch(Dt=>console.log("Sound play failed:",Dt)),setTimeout(()=>{Ys(-1),V++,setTimeout(W,200)},700)):vn(!1)};setTimeout(W,500)},Am=c=>{if(rs)return;const I=[...Ut,c];dn(I);const N=de[I.length-1];if(c!==N){new Audio("/sound/wrong.mp3").play().catch(je=>console.log("Sound play failed:",je)),setTimeout(()=>{mu(te)},1e3);return}new Audio("/sound/correct.wav").play().catch(W=>console.log("Sound play failed:",W)),I.length===de.length&&setTimeout(()=>{te<2?(re(te+1),mu(te+1)):(zt(!1),jl(!0),console.log("NPC9 memory challenge completed, showing sharing dialogue in 1s"),setTimeout(()=>{console.log("Setting showNpc9Sharing to true"),Qs(!0)},1e3))},1e3)},cg=()=>{if(et.trim()&&Te.length>0){const c=[...Wn,et.trim()];gt(c),nn("");const I=Te[qn];c.length>=I.requiredCount&&setTimeout(()=>{qn<Te.length-1?(Mn(qn+1),ho(120),gt([]),Et(!1)):(mn(!1),ga(!0),setTimeout(()=>{fa(!0)},1e3))},500)}},Im=c=>{c.key==="Enter"&&cg()},ug=()=>{Fa.trim()&&(console.log("User asked Glitch:",Fa),bo(""))},Mm=c=>{c.key==="Enter"&&ug()},zm=()=>{wi("quiz"),Ci(0)},Dm=c=>{const I=[...ji,{questionId:Tn.questions[va].id,score:c.score,category:Tn.questions[va].category,text:c.text}];if(Ml(I),va<Tn.questions.length-1)Ci(va+1);else{wi("calculating");let N=0,V=0;I.forEach(je=>{je.category==="proficiency"?N+=je.score:je.category==="judgment"&&(V+=je.score)}),Hr(N),d(V);let W=null;N>=10&&V>=10?W="daisy":N>=10&&V<10?W="bark":N<10&&V>=10?W="twig":W="shrub",C(W),setTimeout(()=>{wi("result")},2e3)}},Nm=()=>{_r(!1),cs(!0)},Om=c=>{T(c)},dg=c=>{if(!Vs)return;const I=Yl[c],N=[...Sn];N[c]=Vs,Js(N),Vs===I.correctAnswer?(i(),setTimeout(()=>{const V=ft+1;vi(V),V===5&&setTimeout(()=>{ba(!1),_a(!0)},500)},600)):(l(),setTimeout(()=>{const V=[...Sn];V[c]=null,Js(V)},800)),T(null)},Em=c=>{c.preventDefault()},Rm=c=>{ft<5&&(T(c),dg(ft))},Bm=()=>{_a(!1),f(!0)},_m=c=>{oa(!0),Al({x:c.clientX,y:c.clientY})},Fm=c=>{us&&Il({x:c.clientX,y:c.clientY})},Hm=c=>{if(!us)return;oa(!1);const I=window.getSelection().toString().trim();I&&Lm(I),Al(null),Il(null)},Lm=c=>{const N=Kn[ee-1].items.find(V=>V.isMultiPart?V.parts.some(W=>c.includes(W)):c.includes(V.text)||c.includes(V.hint));N&&!ye.includes(N.id)?(u(),Se([...ye,N.id])):N||l()},Um=()=>{Kn[ee-1].items.every(N=>ye.includes(N.id))?(i(),ee<3?setTimeout(()=>{z(ee+1),Se([])},500):setTimeout(()=>{f(!1),J(!0)},1e3)):l()},Gm=()=>{J(!1),E("reloading"),be(0);let c=0;const I=setInterval(()=>{c+=2,be(c),c>=100&&(clearInterval(I),setTimeout(()=>{E("complete")},500))},50)},qm=()=>{(m==="inside"||m==="court"||m==="rooftop")&&Br(!0)},Ym=c=>{if($o)return;const I=[...jt],N=I[mo];N.completed||(N.element=c.name,N.result=c.image,N.completed=!0,ha(I),yn(!0),new Audio("/sound/correct.wav").play().catch(W=>console.log("Sound play failed:",W)),setTimeout(()=>{yn(!1),mo<1?xa(1):(ea(!0),kn(W=>[...W,"npc6"]),setTimeout(()=>{fa(!1)},2e3))},2e3))},pg=()=>{Ra.trim()&&(Ps(!0),setTimeout(()=>{Qs(!1),Ps(!1),Ba(""),kn(c=>[...c,"npc9"])},2e3))},Wm=c=>{c.key==="Enter"&&pg()};r.useEffect(()=>{if(xt&&Yn>0){const c=setTimeout(()=>{ho(Yn-1)},1e3);return()=>clearTimeout(c)}else if(xt&&Yn===0&&Te.length>0){const c=Te[qn];Wn.length<c.requiredCount&&setTimeout(()=>{mn(!1),ga(!1)},1e3)}},[xt,Yn,Te,qn,Wn.length]);const Xm=c=>{{Zo(!0),Us(1),ua(300),io(!1),No(null),co(!1),Cn(""),pa(""),jn(!0),lt.includes("npc5")||kn(I=>[...I,"npc5"]);return}},gg=c=>c&&c.split(/(\bPink\b|\bGreen\b)/g).map((N,V)=>N==="Pink"?a.jsx("span",{style:{color:"#ff69b4"},children:N},V):N==="Green"?a.jsx("span",{style:{color:"#4ade80"},children:N},V):N),Qm=(c,I)=>{ro!==null&&Ho[Mt].options[ro].correct||(No(I),c.correct?(new Audio("/sound/correct.wav").play().catch(V=>console.log("Sound play failed:",V)),setTimeout(()=>{co(!0)},500)):(new Audio("/sound/wrong.mp3").play().catch(V=>console.log("Sound play failed:",V)),setTimeout(()=>{No(null)},1e3)))},fg=()=>{uo.trim()&&(pa(uo),setTimeout(()=>{co(!1),Cn(""),pa(""),No(null),Mt===1?(Us(2),ua(300)):(console.log("Puzzle 2 completed, moving to exercises"),Zo(!1),io(!1),Ve(!0),Gs(1),Da([]),Ro(!1),console.log("Exercise state set: showExercise=true, currentExercise=1"))},2e3))},Pm=()=>{const c=window.getSelection(),I=c.toString().trim();if(!I||!Oo)return;const N=gs[An],V=N.text;console.log("=== Text Selection Debug ==="),console.log("Selected text:",I),console.log("Selected text length:",I.length);let W=-1,je=-1;if(W=V.indexOf(I),W!==-1)je=W+I.length,console.log("Found exact match at:",W,"-",je);else{console.log("No exact match found, trying normalized search");const Rt=I.replace(/\s+/g," ");W=V.indexOf(Rt),W!==-1&&(je=W+Rt.length,console.log("Found normalized match at:",W,"-",je))}let Dt=!1;N.errors.forEach((Rt,zl)=>{if(Eo.includes(zl))return;console.log(`Checking error ${zl}:`,Rt.text,`(${Rt.start}-${Rt.end})`);const bg=I===Rt.text,vg=I.replace(/\s+/g," ")===Rt.text.replace(/\s+/g," ");let Ur=!1;W!==-1&&je!==-1&&(Ur=!(je<=Rt.start||W>=Rt.end),console.log(`  - Position overlap check: selection(${W}-${je}) vs error(${Rt.start}-${Rt.end}):`,Ur));const Sg=I.includes(Rt.text),Tg=Rt.text.includes(I)&&I.length>=3;if(console.log("  - Exact text match:",bg),console.log("  - Normalized match:",vg),console.log("  - Position overlap:",Ur),console.log("  - Contains error:",Sg),console.log("  - Error contains selection:",Tg),bg||vg||Ur||Sg||Tg){console.log(" Error matched!"),Dt=!0;const wg=[...Eo,zl];Da(wg),new Audio("/sound/correct.wav").play().catch(vu=>console.log("Sound play failed:",vu)),wg.length===N.requiredCount&&(Ro(!0),setTimeout(()=>{An===1?(Gs(2),Da([]),Ro(!1)):(Ve(!1),jn(!0),lt.includes("npc5")||kn(vu=>[...vu,"npc5"]))},2e3))}}),!Dt&&I.length>2&&(console.log(" No error matched - wrong selection"),new Audio("/sound/wrong.mp3").play().catch(zl=>console.log("Sound play failed:",zl))),console.log("=== End Debug ==="),c.removeAllRanges()};r.useEffect(()=>{if(zo&&un>=0&&un<Ri.length){const c=Ri[un];if(c.isButton){wt(!1);return}const I=c.text;let N=0;Fn(""),wt(!0);const V=setInterval(()=>{N<I.length?(Fn(I.substring(0,N+1)),N++):(clearInterval(V),wt(!1),c.showButton?setTimeout(()=>{ca(!0)},500):c.autoAdvance&&setTimeout(()=>{un<Ri.length-1&&za(un+1)},800))},30);return()=>clearInterval(V)}},[zo,un]),r.useEffect(()=>{if(xe&&Fe>=0&&Fe<Oi.length){const c=Oi[Fe];if(c.isButton){In(!1);return}const I=c.text;let N=0;fo(""),In(!0);const V=setInterval(()=>{N<I.length?(fo(I.substring(0,N+1)),N++):(clearInterval(V),In(!1),c.showButton?setTimeout(()=>{Bo(!0)},500):c.autoAdvance&&setTimeout(()=>{Fe<Oi.length-1&&tn(Fe+1)},800))},30);return()=>clearInterval(V)}},[xe,Fe]),r.useEffect(()=>{if(ta&&Lt>=0&&Lt<Ei.length){const c=Ei[Lt];if(c.isButton){yo(!1);return}const I=c.text;let N=0;bn(""),yo(!0);const V=setInterval(()=>{N<I.length?(bn(I.substring(0,N+1)),N++):(clearInterval(V),yo(!1),c.showButton?setTimeout(()=>{pe(!0)},500):c.autoAdvance&&setTimeout(()=>{Lt<Ei.length-1&&Qn(Lt+1)},800))},30);return()=>clearInterval(V)}},[ta,Lt]),r.useEffect(()=>{if($t&&Do>0&&!Hn){const c=setTimeout(()=>{ua(Do-1)},1e3);return()=>clearTimeout(c)}else $t&&Do===0&&setTimeout(()=>{Zo(!1),jn(!1)},1e3)},[$t,Do,Hn]),r.useEffect(()=>{if(Pn&&Pe==="snowPath"&&Z&&R>0){const c=setTimeout(()=>{$(R-1)},1e3);return()=>clearTimeout(c)}else Pn&&Pe==="snowPath"&&Z&&R===0&&w(!1)},[Pn,Pe,Z,R]);const yu=c=>{const I=Math.floor(c/60),N=c%60;return`${I.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}`},Jm=c=>{if(K.length===5&&(c==="npc2"||c==="npc3")){at(c);return}K.includes(c)||(B(c),se(1),le(167))},Vm=()=>{se(2),_e(0),setTimeout(()=>_e(1),500),setTimeout(()=>_e(2),2e3),setTimeout(()=>_e(3),3500)},hg=c=>{if(c==="accepted"){new Audio("/sound/wrong.mp3").play().catch(V=>console.log("Audio play failed:",V)),Ke(!0),setTimeout(()=>{Ke(!1)},500);return}Ye(c),we(!0),new Audio("/sound/stamp.mp3").play().catch(N=>console.log("Audio play failed:",N)),he(N=>[...N,Ae]),setTimeout(()=>{we(!1),B(null),se(1),Ye(""),Ke(!1)},2e3)},Zm=()=>{B(null),se(1)};r.useEffect(()=>{if(Ae&&Y===1&&Ce>0){const c=setTimeout(()=>{le(Ce-1)},1e3);return()=>clearTimeout(c)}},[Ae,Y,Ce]);const Km=c=>{const I=Math.floor(c/60),N=c%60;return`${I.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}`},$m=()=>{m==="court"?(E("inside"),A(!1),K.length<5?U(!0):U(!1)):m==="rooftop"&&(E("inside"),io(!1),Zo(!1),Ve(!1),Ot(!1),setShowNpc6Creativity(!1),setShowNpc6CoCreation(!1),setShowNpc9Memory(!1),Qs(!1),U(!1))},ey=()=>{m==="hallway"?(me(!0),U(!1),A(!1),setTimeout(()=>{E("outside"),me(!1)},2e3)):m==="outside"?(E("inside"),U(!1),A(!1)):m==="inside"&&(E("court"),U(!1),A(!1))},xg=()=>{if(oe&&m==="hallway")return"/glacier/background/hallway.gif";switch(m){case"hallway":return"/glacier/background/hallway.png";case"outside":return"/glacier/background/outside.png";case"inside":return"/glacier/background/inside.png";case"court":return"/glacier/background/court.png";case"rooftop":return"/glacier/background/rooftop.png";case"datacenter":return"/glacier/background/data.png";case"reloading":return null;case"complete":return"/glacier/background/color.png";default:return"/glacier/background/hallway.png"}},ty=()=>{switch(m){case"hallway":return"/glacier/icon/arrow1.png";case"outside":return"/glacier/icon/arrow2.png";default:return"/glacier/icon/arrow1.png"}},ny=()=>{switch(m){case"hallway":return{right:"350px",bottom:"10px"};case"outside":return{left:"300px",bottom:"0px"};case"inside":return{left:"30%",bottom:"0%"};default:return{right:"350px",bottom:"10px"}}},bu=()=>{switch(m){case"hallway":return{left:"5px",bottom:"5px",size:"400px"};case"outside":return{right:"0px",top:"0px",size:"400px"};case"inside":return{right:"0px",top:"0px",size:"120px"};case"court":return{right:"0px",top:"0px",size:"120px"};case"rooftop":return{right:"0px",top:"0px",size:"120px"};default:return{left:"5px",bottom:"5px",size:"400px"}}},oy=()=>({npc2:{right:"30%",bottom:"20%",height:"280px"},npc3:{left:"25%",bottom:"20%",height:"240px"},npc4:{right:"22%",bottom:"22%",height:"180px"},npc7:{left:"10px",bottom:"200px",height:"250px"},npc8:{right:"10px",bottom:"200px",height:"170px"}}),mg=()=>m==="inside"?{right:"10%",bottom:"0%",height:"85%"}:m==="rooftop"?{left:"5%",bottom:"5%",height:"25%"}:null,yg=()=>{switch(m){case"hallway":return{left:"430px",bottom:"150px",width:"700px",minHeight:"200px"};case"outside":return{right:"430px",top:"150px",width:"500px",minHeight:"120px"};case"inside":return{right:"50%",top:"15%",width:"40%",height:"70%"};default:return{left:"430px",bottom:"150px",width:"700px",minHeight:"200px"}}},x={container:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden"},backgroundImage:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0},exitButton:{position:"absolute",top:"20px",left:"20px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},npc:{position:"absolute",zIndex:30,transition:"transform 0.2s",filter:"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3))"},npcImage:{width:"100%",height:"100%",objectFit:"contain"},glitchDialogue:{position:"absolute",top:"20px",right:"150px",padding:"20px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #af4dca",zIndex:1100,minWidth:"280px",maxWidth:"320px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)"},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#af4dca",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#af4dca",margin:0},glitchDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:"0 0 15px 0"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",backgroundColor:"#d9d7de",borderRadius:"20px",border:"2px solid #d9d7de",overflow:"hidden",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",backgroundColor:"#af4dca",margin:"0 8px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},dialogueContainer:{position:"absolute",zIndex:1e3,background:"rgba(240, 248, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"2px solid rgba(100, 149, 237, 0.5)",borderRadius:"25px",padding:"25px 30px",display:"flex",flexDirection:"column",boxShadow:"0 12px 40px rgba(0, 0, 0, 0.4), 0 0 30px rgba(100, 149, 237, 0.3), inset 0 2px 4px rgba(255, 255, 255, 0.5)",minWidth:"400px",maxWidth:"800px"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"20px",fontWeight:500,color:"#1a1a1a",lineHeight:"1.5em",letterSpacing:"0.5px",margin:0,flex:1,textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},leftButton:{position:"absolute",top:"20px",left:"20px",width:"60px",height:"40px",border:"none",background:"transparent",cursor:"pointer",zIndex:100,transition:"all 0.2s"},leftButtonImage:{width:"100%",height:"100%",objectFit:"contain"},elevatorArrow:{position:"absolute",top:"300px",right:"900px",width:"300px",height:"215px",cursor:"pointer",zIndex:50,animation:"breathe 2s ease-in-out infinite",transition:"transform 0.2s"},npc5:{position:"absolute",bottom:"15%",right:"20%",width:"200px",height:"200px",cursor:"pointer",zIndex:50,transition:"transform 0.2s"},npc6:{position:"absolute",left:"0px",bottom:"250px",width:"250px",height:"270px",cursor:"pointer",zIndex:50,transition:"transform 0.2s"},npc6DialogueContainer:{position:"absolute",left:"calc(0px + 250px)",bottom:"350px",width:"550px",minHeight:"150px",background:"rgba(240, 248, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(100, 149, 237, 0.4)",borderRadius:"20px",padding:"25px 30px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 149, 237, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:2100},npc6ContinueButton:{alignSelf:"flex-end",padding:"12px 24px",borderRadius:"10px",border:"1px solid rgba(100, 149, 237, 0.5)",background:"rgba(30, 30, 50, 0.9)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},npc5DialogueContainer:{position:"absolute",right:"calc(20% + 200px)",bottom:"15%",width:"500px",minHeight:"150px",background:"rgba(240, 248, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(100, 149, 237, 0.4)",borderRadius:"20px",padding:"25px 30px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 149, 237, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:1e3},npc5ContinueButton:{alignSelf:"flex-end",padding:"12px 24px",borderRadius:"10px",border:"1px solid rgba(100, 149, 237, 0.5)",background:"rgba(30, 30, 50, 0.9)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},puzzleContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85vw",maxWidth:"1400px",height:"75vh",background:"rgba(40, 40, 40, 0.95)",borderRadius:"20px",padding:"0",zIndex:3e3,color:"#fff",display:"flex",overflow:"hidden"},puzzleLeftPanel:{width:"33.33%",background:"rgba(20, 20, 20, 0.9)",padding:"30px 20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"30px",position:"relative"},puzzleTimer:{fontSize:"32px",fontWeight:"bold",fontFamily:"'Roboto Mono', monospace",color:"#fff",background:"rgba(255, 255, 255, 0.1)",padding:"15px 30px",borderRadius:"50px",letterSpacing:"2px"},puzzleImageContainer:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},puzzleImage:{width:"100%",height:"auto",borderRadius:"10px"},puzzleRightPanel:{width:"66.67%",padding:"40px 50px",display:"flex",flexDirection:"column",overflowY:"auto"},puzzleTitle:{fontSize:"28px",fontWeight:"bold",marginBottom:"25px",textAlign:"left"},puzzleStatement:{fontSize:"20px",marginBottom:"15px",fontStyle:"italic",lineHeight:1.6,textAlign:"left"},puzzleQuestion:{fontSize:"22px",fontWeight:"bold",marginBottom:"25px",lineHeight:1.4,textAlign:"left"},puzzleOptions:{display:"flex",flexDirection:"column",gap:"15px",marginTop:"20px"},puzzleOption:{padding:"18px 25px",borderRadius:"10px",border:"2px solid #a0d8ff",borderStyle:"solid",borderWidth:"2px",borderColor:"#a0d8ff",background:"#1f2937",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",textAlign:"left",lineHeight:1.5,width:"100%",boxSizing:"border-box",display:"block",outline:"none"},puzzleOptionCorrect:{borderColor:"#4caf50",background:"#2e7d32"},puzzleOptionWrong:{background:"#c62828",borderColor:"#f44336"},creativityContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"900px",height:"650px",background:"rgba(40, 40, 40, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"20px",padding:"50px",zIndex:3100,color:"#fff",display:"flex",flexDirection:"column",alignItems:"center"},creativityTimer:{fontSize:"60px",fontWeight:"bold",textAlign:"center",marginBottom:"30px",fontFamily:"'Roboto Mono', monospace",letterSpacing:"4px"},creativityTimerRed:{color:"#ff4444"},creativityTitle:{fontSize:"22px",fontWeight:"bold",textAlign:"center",marginBottom:"30px",lineHeight:1.5,color:"#ffffff"},creativityTagsContainer:{width:"100%",flex:1,display:"flex",flexWrap:"wrap",alignContent:"flex-start",gap:"12px",marginBottom:"20px",overflowY:"auto",padding:"10px 0"},creativityTag:{padding:"10px 20px",borderRadius:"20px",border:"none",fontSize:"16px",color:"#000",whiteSpace:"nowrap",fontWeight:"500"},creativityTagYellow:{background:"#f0d32d"},creativityTagRed:{background:"#ab3a2c"},creativityInputSection:{width:"100%",display:"flex",flexDirection:"column",gap:"15px",position:"relative"},creativityHintButton:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",color:"#a0d8ff",fontSize:"16px",cursor:"pointer",padding:"8px 0",fontWeight:"600",transition:"all 0.2s"},creativityHintIcon:{width:"20px",height:"20px"},creativityInputContainer:{position:"relative",display:"flex",alignItems:"center",backgroundColor:"#1f2937",borderRadius:"15px",border:"2px solid #a0d8ff",overflow:"hidden",transition:"border-color 0.2s"},creativityInput:{flex:1,padding:"15px 20px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#fff",outline:"none"},creativityDivider:{width:"2px",height:"24px",backgroundColor:"#a0d8ff",margin:"0 8px",flexShrink:0},creativitySendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s"},creativitySendIcon:{width:"24px",height:"24px",objectFit:"contain"},creativityProgress:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",marginTop:"10px"},creativityProgressDot:{width:"12px",height:"12px",borderRadius:"50%",background:"#666566",transition:"all 0.3s"},creativityProgressDotActive:{background:"#a0d8ff"},creativityProgressText:{fontSize:"16px",fontWeight:"bold",color:"#a0d8ff",marginLeft:"10px"},coCreationContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"900px",maxHeight:"85vh",background:"rgba(60, 60, 60, 0.95)",backdropFilter:"blur(20px)",borderRadius:"20px",padding:"30px",zIndex:3200,display:"flex",flexDirection:"column",gap:"20px",overflow:"auto"},coCreationDialogue:{background:"#fff",borderRadius:"15px",padding:"20px",display:"flex",alignItems:"center",gap:"15px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},coCreationInstruction:{textAlign:"center",color:"#a0d8ff",fontSize:"18px",marginBottom:"10px"},coCreationFormulasArea:{flex:1,display:"flex",flexDirection:"column",gap:"20px",justifyContent:"center"},coCreationFormula:{display:"flex",alignItems:"center",justifyContent:"center",gap:"20px"},coCreationCard:{width:"150px",height:"150px",background:"#fff",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)"},coCreationDropZone:{width:"200px",height:"80px",border:"3px dashed rgba(160, 216, 255, 0.5)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Roboto Mono', monospace",fontSize:"18px",color:"#fff"},coCreationResultCard:{width:"150px",height:"150px",background:"#f0d32d",border:"4px solid #a0d8ff",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)",animation:"shake 0.5s"},coCreationElementsArea:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center",padding:"15px",maxHeight:"200px",overflow:"auto"},coCreationElementTag:{padding:"10px 20px",borderRadius:"20px",fontSize:"14px",fontFamily:"'Roboto Mono', monospace",color:"#fff",cursor:"pointer",transition:"all 0.2s",fontWeight:"500",border:"none"},npc9SharingContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",maxWidth:"900px",maxHeight:"85vh",background:"rgba(80, 80, 80, 0.85)",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",borderRadius:"25px",padding:"40px",zIndex:3e3,display:"flex",flexDirection:"column",gap:"25px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",border:"1px solid rgba(255, 255, 255, 0.1)"},npc9SharingTitle:{textAlign:"center",color:"#fff",fontSize:"22px",marginBottom:"10px",fontWeight:"500"},npc9SharingMessage:{display:"flex",alignItems:"flex-start",gap:"15px",marginBottom:"10px"},npc9SharingBubble:{background:"#fff",borderRadius:"15px",padding:"20px",flex:1,fontSize:"16px",lineHeight:1.6,color:"#333",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},npc9SharingTimestamp:{fontSize:"12px",color:"#999",marginTop:"8px"},npc9SharingUserLabel:{textAlign:"right",fontSize:"12px",color:"#a0d8ff",marginBottom:"5px",fontWeight:"500"},npc9SharingHints:{display:"flex",gap:"10px",marginBottom:"10px",alignItems:"flex-start"},npc9SharingHintTag:{padding:"8px 16px",borderRadius:"20px",fontSize:"13px",background:"rgba(160, 216, 255, 0.15)",border:"1px solid rgba(160, 216, 255, 0.4)",color:"#a0d8ff",fontWeight:"500"},npc9SharingInputContainer:{display:"flex",alignItems:"center",gap:"15px",background:"rgba(30, 50, 70, 0.6)",borderRadius:"15px",padding:"12px 20px",border:"2px solid rgba(160, 216, 255, 0.4)"},npc9SharingInput:{flex:1,background:"none",border:"none",color:"#fff",fontSize:"16px",outline:"none",fontFamily:"'Roboto', sans-serif"},creativityHintModal:{position:"absolute",bottom:"100%",left:"0",width:"280px",background:"rgba(20, 30, 40, 0.95)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",borderRadius:"12px",padding:"15px",marginBottom:"15px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.6)",border:"1px solid rgba(160, 216, 255, 0.3)",zIndex:100},creativityHintHeader:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid rgba(160, 216, 255, 0.2)"},creativityHintTitle:{fontSize:"14px",fontWeight:"bold",color:"#a0d8ff",flex:1},creativityHintClose:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#a0d8ff",padding:"0",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},creativityHintContent:{color:"#fff",fontSize:"11px",lineHeight:1.4},creativityHintItem:{marginBottom:"10px",padding:"8px 10px",background:"rgba(160, 216, 255, 0.1)",border:"1px solid rgba(160, 216, 255, 0.3)",borderRadius:"8px",position:"relative"},creativityHintLabel:{fontWeight:"bold",color:"#a0d8ff",marginBottom:"4px",display:"block",fontSize:"10px"},progressContainer:{position:"absolute",bottom:"50px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"20px",zIndex:100,background:"rgba(255, 255, 255, 0.85)",padding:"15px 25px",borderRadius:"30px"},progressCircle:{width:"60px",height:"60px",borderRadius:"50%",border:"3px solid #ccc",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"bold",color:"#666",transition:"all 0.3s",background:"#fff"},progressCircleCompleted:{background:"#4CAF50",borderColor:"#4CAF50",color:"#fff"},courtNpc:{position:"absolute",cursor:"pointer",transition:"transform 0.2s",zIndex:50},caseModal:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(20, 20, 30, 0.95), rgba(20, 20, 30, 0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"20px",padding:"30px",zIndex:2e3,boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},caseModalStep1:{width:"calc(50vw + 20px)",height:"70vh"},caseModalStep2:{width:"85vw",maxWidth:"1200px",height:"75vh",maxHeight:"650px",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(20, 20, 30, 0.95), rgba(20, 20, 30, 0.95)), linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"20px"},closeButton:{position:"absolute",top:"15px",right:"20px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#fff",zIndex:10},caseTitle:{fontSize:"20px",fontWeight:"bold",fontFamily:"'Orbitron', sans-serif",marginBottom:"20px",color:"#fff"},caseGifContainer:{position:"relative",width:"100%",marginBottom:"10px"},caseGif:{width:"100%",height:"auto",maxHeight:"50vh",objectFit:"contain",borderRadius:"10px",boxShadow:"inset 0 0 20px rgba(0, 0, 0, 0.3)"},caseTimer:{position:"absolute",top:"15px",right:"15px",fontFamily:"'Courier New', monospace",fontSize:"18px",fontWeight:"bold",color:"#fff",background:"rgba(0, 0, 0, 0.6)",padding:"8px 12px",borderRadius:"6px",letterSpacing:"2px"},nextButton:{position:"absolute",bottom:"15px",right:"30px",padding:"12px 30px",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},step2Container:{position:"relative",height:"100%",width:"100%",display:"flex",padding:"30px 30px 20px 30px",gap:"30px"},step2LeftColumn:{width:"280px",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",flexShrink:0,position:"relative",overflow:"visible",minHeight:"500px"},step2RightColumn:{flex:1,display:"flex",flexDirection:"column",minHeight:0},caseHeader:{position:"absolute",top:"15px",left:"50%",transform:"translateX(-50%)",fontSize:"13px",color:"#d0d0d0",fontFamily:"'Orbitron', sans-serif",fontWeight:500,letterSpacing:"1.5px",textAlign:"center",whiteSpace:"nowrap"},statementTitle:{fontSize:"20px",fontWeight:700,color:"#ffffff",fontFamily:"'Orbitron', sans-serif",letterSpacing:"2px",marginBottom:"20px"},statementBox:{background:"rgba(230, 230, 230, 0.98)",borderRadius:"12px",padding:"20px 25px",fontFamily:"'Roboto Mono', monospace",fontSize:"14px",lineHeight:1.8,marginBottom:"20px",maxHeight:"180px",overflowY:"auto"},statementLine:{marginBottom:"10px",color:"#1a1a1a"},statementPrefix:{color:"#667eea",marginRight:"8px",fontWeight:700},verdictPending:{display:"flex",alignItems:"center",gap:"10px",margin:"20px 0",fontSize:"18px",fontFamily:"'Orbitron', sans-serif",fontWeight:700,color:"#5ba3ff",letterSpacing:"2px"},verdictIcon:{width:"28px",height:"28px",objectFit:"contain"},claimQuote:{fontSize:"20px",fontFamily:"'Michroma', sans-serif",fontStyle:"italic",fontWeight:700,color:"#f0f0f0",textAlign:"center",margin:"20px 0 30px 0",lineHeight:1.5,padding:"0 20px"},judgmentButtonsContainer:{display:"flex",justifyContent:"space-between",gap:"30px",marginTop:"auto"},approvedButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"15px",padding:"16px 45px",background:"rgba(76, 175, 80, 0.3)",border:"2px solid #4caf50",borderRadius:"12px",color:"#4caf50",fontSize:"20px",fontFamily:"'Orbitron', sans-serif",fontWeight:700,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 25px rgba(76, 175, 80, 0.5)",flex:1},rejectedButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"15px",padding:"16px 45px",background:"rgba(244, 67, 54, 0.3)",border:"2px solid #f44336",borderRadius:"12px",color:"#f44336",fontSize:"20px",fontFamily:"'Orbitron', sans-serif",fontWeight:700,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 25px rgba(244, 67, 54, 0.5)",flex:1},judgmentIcon:{width:"36px",height:"36px"},stampOverlay:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:3e3,width:"350px",height:"350px"},dialogueButtons:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"15px"},dialogueButton:{padding:"12px 24px",borderRadius:"10px",border:"1px solid rgba(100, 149, 237, 0.5)",background:"rgba(30, 30, 50, 0.9)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},skipButton:{padding:"8px 16px",borderRadius:"8px",border:"none",background:"transparent",color:"rgba(255, 255, 255, 0.6)",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},arrow:{position:"absolute",width:"300px",height:"300px",cursor:"pointer",zIndex:50,animation:"breathe 2s ease-in-out infinite",transition:"transform 0.2s"},arrowSmall:{position:"absolute",width:"350px",height:"350px",cursor:"pointer",zIndex:50,animation:"breathe 2s ease-in-out infinite",transition:"transform 0.2s"},arrowImage:{width:"100%",height:"100%",objectFit:"contain"},keyframes:`
      @keyframes breathe {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
        20%, 40%, 60%, 80% { transform: translateX(10px); }
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `,modernDialogueContainer:{position:"absolute",top:"12.5%",left:"10%",width:"40%",height:"70%",zIndex:100,background:"rgba(245, 245, 245, 0.98)",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},modernDialogueHeader:{padding:"20px 25px 15px 25px",borderBottom:"none"},modernProgressContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},modernMissionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px"},modernStepIndicator:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#999"},modernProgressBar:{width:"100%",height:"4px",backgroundColor:"rgba(200,200,200,0.3)",borderRadius:"2px",overflow:"hidden",marginBottom:"20px"},modernProgressFill:{height:"100%",borderRadius:"2px",transition:"width 0.3s ease"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px",flex:1},modernNpcAvatar:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#333"},modernNpcStatus:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999"},modernCloseButton:{position:"relative",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},modernDialogueContent:{flex:1,padding:"0 25px 25px 25px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"100%"},modernNpcSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"85%"},modernUserBubble:{background:"#333333",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(51, 51, 51, 0.3)"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ffffff",lineHeight:1.5,margin:0},modernUserSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},modernActionButton:{alignSelf:"stretch",background:"white",border:"2px solid #E0E0E0",borderRadius:"25px",padding:"14px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",marginTop:"8px"},reloadingContainer:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:3e3},reloadingIcon:{width:"100px",height:"100px",animation:"spin 2s linear infinite",filter:"drop-shadow(0 0 20px rgba(160, 216, 255, 0.8))",marginBottom:"30px"},reloadingText:{color:"#a0d8ff",fontSize:"24px",fontWeight:"bold",fontFamily:"'Montserrat', sans-serif",letterSpacing:"2px"},completeNpc:{position:"absolute",cursor:"pointer",transition:"transform 0.2s",zIndex:30},completeNpcImage:{width:"100%",height:"100%",objectFit:"contain"},completeNpcDialogue:{position:"absolute",bottom:"110%",left:"50%",transform:"translateX(-50%)",background:"rgba(255, 255, 255, 0.95)",border:"2px solid #333",borderRadius:"15px",padding:"15px 20px",minWidth:"200px",maxWidth:"300px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",zIndex:100,whiteSpace:"normal",wordWrap:"break-word"},completeNpcDialogueText:{color:"#333",fontSize:"14px",lineHeight:1.5,fontFamily:"'Roboto', sans-serif",margin:0}};return a.jsxs("div",{style:x.container,children:[a.jsx("style",{children:x.keyframes}),m==="reloading"&&a.jsxs("div",{style:x.reloadingContainer,children:[a.jsx("img",{src:"/glacier/icon/snowfake.svg",alt:"Loading",style:x.reloadingIcon}),a.jsx("div",{style:x.reloadingText,children:"System Online."})]}),m!=="reloading"&&xg()&&a.jsx("img",{src:xg(),alt:"Glacier Background",style:x.backgroundImage}),m==="complete"&&O2.map(c=>a.jsxs("div",{style:{...x.completeNpc,...c.position},onClick:()=>fe(ne===c.id?null:c.id),onMouseOver:I=>I.currentTarget.style.transform="scale(1.05)",onMouseOut:I=>I.currentTarget.style.transform="scale(1)",children:[a.jsx("img",{src:c.image,alt:c.id,style:x.completeNpcImage}),ne===c.id&&a.jsx("div",{style:{...x.completeNpcDialogue,...c.id==="npc12"?{left:"auto",right:"110%",transform:"none",bottom:"0"}:{}},children:a.jsx("p",{style:x.completeNpcDialogueText,children:c.dialogue})})]},c.id)),m==="court"||m==="rooftop"?a.jsx("button",{style:x.leftButton,onClick:$m,onMouseOver:c=>c.target.style.transform="scale(1.1)",onMouseOut:c=>c.target.style.transform="scale(1)",children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:x.leftButtonImage})}):m!=="datacenter"&&a.jsx("button",{style:x.exitButton,onClick:e,onMouseOver:c=>{c.target.style.background="rgba(0, 0, 0, 0.5)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.background="rgba(0, 0, 0, 0.3)",c.target.style.transform="scale(1)"},children:t("exit")}),(m==="outside"||m==="hallway"||m==="inside"||m==="court"||m==="rooftop")&&a.jsx("div",{style:{...x.npc,...bu(),width:bu().size,height:bu().size,cursor:"pointer"},onClick:qm,onMouseOver:c=>{c.currentTarget.style.transform="scale(1.05)"},onMouseOut:c=>{c.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/npc/npc_glacier.gif",alt:"Glitch",style:x.npcImage})}),hu&&(m==="inside"||m==="court"||m==="rooftop")&&a.jsxs("div",{style:x.glitchDialogue,children:[a.jsx("button",{style:x.glitchDialogueCloseButton,onClick:()=>Br(!1),onMouseOver:c=>{c.target.style.color="#333",c.target.style.transform="scale(1.1)"},onMouseOut:c=>{c.target.style.color="#999",c.target.style.transform="scale(1)"},children:""}),a.jsxs("div",{style:x.glitchDialogueHeader,children:[a.jsx("div",{style:x.glitchDialogueAvatar,children:a.jsx("span",{style:x.glitchDialogueAvatarIcon,children:""})}),a.jsx("h4",{style:x.glitchDialogueName,children:"Glitch"})]}),a.jsxs("p",{style:x.glitchDialogueText,children:[m==="inside"&&"The machines are sleeping, but the truth is awake. Ask me anything about this station.",m==="court"&&"Justice is not always black and white. Sometimes it's about responsibility.",m==="rooftop"&&"They forgot how to think for themselves. Can you help them remember?"]}),a.jsxs("div",{style:x.glitchDialogueInputContainer,onFocus:c=>{c.currentTarget.style.borderColor="#af4dca"},onBlur:c=>{c.currentTarget.style.borderColor="#d9d7de"},children:[a.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:Fa,onChange:c=>bo(c.target.value),onKeyPress:Mm,style:x.glitchDialogueInput}),a.jsx("div",{style:x.glitchDialogueDivider}),a.jsx("button",{onClick:ug,style:x.glitchDialogueSendButton,onMouseOver:c=>{c.currentTarget.style.transform="scale(1.1)"},onMouseOut:c=>{c.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/icon/send.png",alt:"Send",style:x.glitchDialogueSendIcon})})]})]}),m==="inside"&&mg()&&a.jsx("div",{style:{position:"absolute",zIndex:30,cursor:so&&lt.length<3?"default":lt.length===3&&Jt?"pointer":so?"default":"pointer",...mg()},onClick:ym,onMouseOver:c=>{(!so||lt.length===3&&Jt)&&(c.currentTarget.style.transform="scale(1.05)")},onMouseOut:c=>c.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/glacier/npc/momo.png",alt:"Momo",style:{width:"100%",height:"100%",objectFit:"contain"}})}),L&&Ze.length>0&&m!=="inside"&&a.jsxs("div",{style:{...x.dialogueContainer,...yg()},children:[a.jsx("p",{style:x.dialogueText,dangerouslySetInnerHTML:{__html:y.replace(/^(Brrr[^.]*\.)/g,'<span style="font-weight: 700; color: #4A90E2;">$1</span>').replace(/^(Huh\?[^.]*\.)/g,'<span style="font-weight: 700; color: #E24A4A;">$1</span>').replace(/^(Honestly[^.]*\.)/g,'<span style="font-weight: 700; color: #9B59B6;">$1</span>')}}),P&&a.jsx("span",{style:{opacity:.5,marginLeft:"4px"},children:"|"}),a.jsxs("div",{style:x.dialogueButtons,children:[a.jsx("button",{style:x.skipButton,onClick:ds,onMouseOver:c=>{c.target.style.color="rgba(255, 255, 255, 0.9)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.color="rgba(255, 255, 255, 0.6)",c.target.style.transform="scale(1)"},children:"SKIP"}),a.jsx("button",{style:x.dialogueButton,onClick:Nn,onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.95)",c.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.9)",c.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",c.target.style.transform="scale(1)"},children:"CONTINUE"})]})]}),m==="inside"&&L&&!ie&&(()=>{const c=v("momo"),I=5,N=1,V=N/I*100;return a.jsxs("div",{style:{...x.modernDialogueContainer,...yg(),border:`3px solid ${c.borderColor}`},children:[a.jsxs("div",{style:x.modernDialogueHeader,children:[a.jsxs("div",{style:x.modernProgressContainer,children:[a.jsx("div",{style:{...x.modernMissionTitle,color:c.borderColor},children:"MISSION: SILENT GEAR STATION"}),a.jsxs("div",{style:x.modernStepIndicator,children:["Step ",N," of ",I]})]}),a.jsx("div",{style:x.modernProgressBar,children:a.jsx("div",{style:{...x.modernProgressFill,width:`${V}%`,background:c.progressColor}})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{style:x.modernNpcInfo,children:[a.jsx("img",{src:c.avatar,alt:"Momo",style:x.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:x.modernNpcName,children:"Momo"}),a.jsx("div",{style:x.modernNpcStatus,children:"Station Supervisor"})]})]}),a.jsx("button",{style:x.modernCloseButton,onClick:ds,onMouseOver:W=>W.target.style.color="#333",onMouseOut:W=>W.target.style.color="#999",children:""})]})]}),a.jsxs("div",{style:x.modernDialogueContent,children:[ae.map((W,je)=>{const Dt=p();return W.speaker==="momo"?a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,dangerouslySetInnerHTML:{__html:W.text.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${c.borderColor}; font-weight: 600;">$1</span>`)}}),a.jsx("div",{style:x.modernTimestamp,children:Dt})]},je):W.speaker==="user"?a.jsxs("div",{style:x.modernUserMessage,children:[a.jsx("div",{style:x.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:{...x.modernUserBubble,background:c.borderColor},children:a.jsx("p",{style:x.modernUserText,children:W.text})}),a.jsx("div",{style:{...x.modernTimestamp,textAlign:"right"},children:Dt})]},je):null}),!It&&a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,dangerouslySetInnerHTML:{__html:y.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${c.borderColor}; font-weight: 600;">$1</span>`)}}),P&&a.jsx("span",{style:{opacity:.5},children:"|"}),a.jsx("div",{style:x.modernTimestamp,children:p()})]}),It&&Ze[h]&&Ze[h].isButton&&a.jsxs("button",{style:x.modernActionButton,onClick:()=>mm(Ze[h].text),onMouseOver:W=>{W.target.style.borderColor=c.borderColor,W.target.style.transform="translateX(5px)"},onMouseOut:W=>{W.target.style.borderColor="#E0E0E0",W.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),Ze[h].text]})]})]})})(),m==="court"&&a.jsx(a.Fragment,{children:Object.entries(oy()).map(([c,I])=>{const N=K.length===5&&(c==="npc2"||c==="npc3"),V=K.includes(c);return a.jsxs("div",{style:{...x.courtNpc,...I,height:I.height,opacity:V&&!N?.5:1,cursor:N||!V?"pointer":"default"},onClick:()=>Jm(c),onMouseOver:W=>{(N||!V)&&(W.currentTarget.style.transform="scale(1.05)")},onMouseOut:W=>W.currentTarget.style.transform="scale(1)",children:[a.jsx("img",{src:ia[c].npcImage,alt:c,style:{width:"100%",height:"100%",objectFit:"contain"}}),Be===c&&K.length===5&&(c==="npc2"||c==="npc3")&&a.jsx("div",{style:{position:"absolute",bottom:"110%",left:"50%",transform:"translateX(-50%)",background:"rgba(255, 255, 255, 0.95)",border:"2px solid #333",borderRadius:"15px",padding:"15px 20px",minWidth:"200px",maxWidth:"300px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",zIndex:100,whiteSpace:"normal",wordWrap:"break-word"},children:a.jsx("p",{style:{color:"#333",fontSize:"14px",lineHeight:1.5,fontFamily:"'Roboto', sans-serif",margin:0},children:"Let's go outside and find Momo."})})]},c)})}),m==="court"&&a.jsx("div",{style:x.progressContainer,children:["npc2","npc3","npc4","npc7","npc8"].map((c,I)=>a.jsx("div",{style:{...x.progressCircle,...K.includes(c)?x.progressCircleCompleted:{}},children:K.includes(c)?"":"?"},c))}),m==="rooftop"&&a.jsx("div",{style:x.progressContainer,children:["npc5","npc6","npc9"].map((c,I)=>a.jsx("div",{style:{...x.progressCircle,...lt.includes(c)?x.progressCircleCompleted:{}},children:lt.includes(c)?"":"?"},c))}),Ae&&a.jsxs("div",{style:{...x.caseModal,...Y===1?x.caseModalStep1:x.caseModalStep2},children:[a.jsx("button",{style:x.closeButton,onClick:Zm,children:""}),Y===1?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:x.caseTitle,children:ia[Ae].eventDescription}),a.jsxs("div",{style:x.caseGifContainer,children:[a.jsx("img",{src:ia[Ae].gif,alt:"Case Event",style:x.caseGif}),a.jsx("div",{style:x.caseTimer,children:Km(Ce)})]}),a.jsx("button",{style:x.nextButton,onClick:Vm,onMouseOver:c=>{c.target.style.background="rgba(255, 255, 255, 1)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.background="rgba(255, 255, 255, 0.9)",c.target.style.transform="scale(1)"},children:"NEXT"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:x.caseHeader,children:[t("language")==="zh"?"":"Case"," #",ia[Ae].caseNumber,"  ",t("language")==="zh"?ia[Ae].caseTitle.zh:ia[Ae].caseTitle.en]}),a.jsxs("div",{style:x.step2Container,children:[a.jsxs("div",{style:x.step2LeftColumn,children:[a.jsx("img",{src:ia[Ae].npcImage,alt:Ae,style:{width:"auto",height:"500px",maxWidth:"none",objectFit:"contain"}}),a.jsx("div",{style:{fontSize:"13px",color:"#e0e0e0",fontFamily:"'Orbitron', sans-serif",fontWeight:400,textAlign:"center",lineHeight:1.6,padding:"0 10px",marginTop:"10px",width:"260px"},children:t("language")==="zh"?ia[Ae].npcRole.zh:ia[Ae].npcRole.en})]}),a.jsxs("div",{style:x.step2RightColumn,children:[a.jsx("div",{style:x.statementTitle,children:"NPC STATEMENT"}),a.jsx("div",{style:x.statementBox,children:ia[Ae].statementParts.map((c,I)=>a.jsxs("div",{style:{...x.statementLine,opacity:Je>I?1:0,transform:Je>I?"translateY(0)":"translateY(10px)",transition:"all 0.5s ease"},children:[a.jsx("span",{style:x.statementPrefix,children:">"}),c]},I))}),Je>=3&&a.jsxs("div",{style:x.verdictPending,children:[a.jsx("img",{src:"/glacier/icon/statement.png",alt:"Verdict",style:x.verdictIcon}),"[VERDICT PENDING]"]}),Je>=3&&a.jsxs("div",{style:x.claimQuote,children:['"',ia[Ae].claim,'"']}),Je>=3&&a.jsxs("div",{style:x.judgmentButtonsContainer,children:[a.jsxs("button",{style:{...x.approvedButton,animation:cn?"shake 0.5s":"none"},onClick:()=>hg("accepted"),onMouseOver:c=>{cn||(c.currentTarget.style.boxShadow="0 0 45px rgba(76, 175, 80, 0.7)",c.currentTarget.style.transform="scale(1.05)",c.currentTarget.style.background="rgba(76, 175, 80, 0.4)")},onMouseOut:c=>{cn||(c.currentTarget.style.boxShadow="0 0 25px rgba(76, 175, 80, 0.5)",c.currentTarget.style.transform="scale(1)",c.currentTarget.style.background="rgba(76, 175, 80, 0.3)")},children:[a.jsx("img",{src:"/desert/icon/correct.png",alt:"Approved",style:x.judgmentIcon}),"APPROVED"]}),a.jsxs("button",{style:x.rejectedButton,onClick:()=>hg("rejected"),onMouseOver:c=>{c.currentTarget.style.boxShadow="0 0 45px rgba(244, 67, 54, 0.7)",c.currentTarget.style.transform="scale(1.05)",c.currentTarget.style.background="rgba(244, 67, 54, 0.4)"},onMouseOut:c=>{c.currentTarget.style.boxShadow="0 0 25px rgba(244, 67, 54, 0.5)",c.currentTarget.style.transform="scale(1)",c.currentTarget.style.background="rgba(244, 67, 54, 0.3)"},children:[a.jsx("img",{src:"/desert/icon/wrong.png",alt:"Rejected",style:x.judgmentIcon}),"REJECTED"]})]})]})]})]})]}),O&&a.jsx("img",{src:`/glacier/icon/${Ie}.png`,alt:Ie,style:x.stampOverlay}),ie&&(()=>{const c=v("momo"),I=5,N=2,V=N/I*100;return a.jsxs("div",{style:{...x.modernDialogueContainer,border:`3px solid ${c.borderColor}`},children:[a.jsxs("div",{style:x.modernDialogueHeader,children:[a.jsxs("div",{style:x.modernProgressContainer,children:[a.jsx("div",{style:{...x.modernMissionTitle,color:c.borderColor},children:"MISSION: AI ETHICS PRINCIPLES"}),a.jsxs("div",{style:x.modernStepIndicator,children:["Step ",N," of ",I]})]}),a.jsx("div",{style:x.modernProgressBar,children:a.jsx("div",{style:{...x.modernProgressFill,width:`${V}%`,background:c.progressColor}})}),a.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:a.jsxs("div",{style:x.modernNpcInfo,children:[a.jsx("img",{src:c.avatar,alt:"Momo",style:x.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:x.modernNpcName,children:"Momo"}),a.jsx("div",{style:x.modernNpcStatus,children:"Station Supervisor"})]})]})})]}),a.jsxs("div",{style:x.modernDialogueContent,children:[Xe.map((W,je)=>{const Dt=p();return W.speaker==="momo"?a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,dangerouslySetInnerHTML:{__html:W.text.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${c.borderColor}; font-weight: 600;">$1</span>`)}}),a.jsx("div",{style:x.modernTimestamp,children:Dt})]},je):W.speaker==="user"?a.jsxs("div",{style:x.modernUserMessage,children:[a.jsx("div",{style:x.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:{...x.modernUserBubble,background:c.borderColor},children:a.jsx("p",{style:x.modernUserText,children:W.text})}),a.jsx("div",{style:{...x.modernTimestamp,textAlign:"right"},children:Dt})]},je):W.isError?a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:{...x.modernNpcText,padding:"12px 16px",background:"#f8d7da",borderRadius:"10px",border:"2px solid #dc3545"},children:W.text}),a.jsx("div",{style:x.modernTimestamp,children:Dt})]},je):null}),Zn[Me]&&Zn[Me].speaker!=="quiz"&&!Zn[Me].isButton&&a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,dangerouslySetInnerHTML:{__html:Oe.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${c.borderColor}; font-weight: 600;">$1</span>`)}}),ue&&a.jsx("span",{style:{opacity:.5},children:"|"}),a.jsx("div",{style:x.modernTimestamp,children:p()})]}),Tt&&Zn[Me+1]&&Zn[Me+1].speaker==="quiz"&&a.jsx("div",{style:{width:"100%",marginTop:"10px"},children:Zn[Me+1].options.map((W,je)=>{const Dt=ao===W.id;return a.jsxs("button",{style:{...x.modernActionButton,borderColor:Dt?"#F44336":"#E0E0E0",borderWidth:Dt?"3px":"2px"},onClick:()=>vm(W),onMouseOver:Rt=>{Dt||(Rt.target.style.borderColor=c.borderColor),Rt.target.style.transform="translateX(5px)"},onMouseOut:Rt=>{Dt?Rt.target.style.borderColor="#F44336":Rt.target.style.borderColor="#E0E0E0",Rt.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:Dt?"#F44336":c.borderColor},children:""}),W.text]},je)})}),Tt&&Zn[Me+1]&&Zn[Me+1].isButton&&a.jsxs("button",{style:x.modernActionButton,onClick:()=>bm(Zn[Me+1].text),onMouseOver:W=>{W.target.style.borderColor=c.borderColor,W.target.style.transform="translateX(5px)"},onMouseOut:W=>{W.target.style.borderColor="#E0E0E0",W.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),Zn[Me+1].text]})]})]})})(),so&&m==="inside"&&lt.length<3&&a.jsx("div",{style:x.elevatorArrow,onClick:Sm,onMouseOver:c=>c.target.style.transform="scale(1.1)",onMouseOut:c=>c.target.style.transform="scale(1)",children:a.jsx("img",{src:"/glacier/icon/arrow3.png",alt:"Elevator Arrow",style:{width:"100%",height:"100%",objectFit:"contain"}})}),kl&&m==="inside"&&a.jsx("div",{style:{position:"absolute",top:"150px",right:"0px",width:"400px",height:"auto",cursor:"pointer",transition:"transform 0.3s ease",zIndex:100},onClick:()=>{E("datacenter"),cs(!1),ba(!0)},onMouseOver:c=>c.target.style.transform="scale(1.1)",onMouseOut:c=>c.target.style.transform="scale(1)",children:a.jsx("img",{src:"/glacier/icon/arrow3.png",alt:"Data Center Arrow",style:{width:"100%",height:"auto",objectFit:"contain"}})}),m==="rooftop"&&a.jsx("div",{style:x.npc5,onClick:()=>{(!en||!$t)&&rg()},onMouseOver:()=>{!zo&&!en&&!$t&&rg()},children:a.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer"}})}),m==="rooftop"&&a.jsx("div",{style:x.npc6,onMouseOver:()=>{!xe&&!xo&&Tm()},children:a.jsx("img",{src:"/glacier/npc/npc6.png",alt:"NPC 6",style:{width:"100%",height:"100%",objectFit:"contain"}})}),zo&&a.jsx("div",{style:x.npc5DialogueContainer,children:un===-1?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"15px",flex:1},children:a.jsx("div",{style:x.dialogueText,children:lt.length===3?"Let's go down and look for Momo.":"Oh, hello again! You know, my brain feels... awake."})}),a.jsx("button",{style:x.npc5ContinueButton,onClick:()=>io(!1),onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.95)",c.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.9)",c.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",c.target.style.transform="scale(1)"},children:"CLOSE"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"20px",flex:1},children:un<Ri.length&&!Ri[un].isButton&&a.jsx("div",{style:x.dialogueText,children:Ls})}),wn&&a.jsx("button",{style:{padding:"15px 40px",background:"rgba(30, 30, 50, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},onClick:()=>Xm(),onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.9)",c.target.style.transform="scale(1.05)",c.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.85)",c.target.style.transform="scale(1)",c.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.3)"},children:Ri[5].text})]})}),xe&&a.jsx("div",{style:x.npc6DialogueContainer,children:Fe===-1?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"15px",flex:1},children:a.jsx("div",{style:x.dialogueText,children:lt.length===3?"Let's go down and look for Momo.":"Thank you... I can feel it coming back. The spark. The vision. My hands remember now."})}),a.jsx("button",{style:x.npc6ContinueButton,onClick:()=>Ot(!1),onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.95)",c.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.9)",c.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",c.target.style.transform="scale(1)"},children:"CLOSE"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"20px",flex:1},children:a.jsx("div",{style:x.dialogueText,children:go})}),Gn&&a.jsx("button",{style:{padding:"15px 40px",background:"rgba(30, 30, 50, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},onClick:Cm,onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.9)",c.target.style.transform="scale(1.05)",c.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.85)",c.target.style.transform="scale(1)",c.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.3)"},children:Oi[4].text})]})}),xt&&Te.length>0&&a.jsxs("div",{style:x.creativityContainer,children:[a.jsx("div",{style:{...x.creativityTimer,...Yn<15?x.creativityTimerRed:{}},children:yu(Yn)}),a.jsx("div",{style:x.creativityTitle,children:Te[qn].en.split(/(mobile phones|5 different ways)/gi).map((N,V)=>N.toLowerCase()==="mobile phones"||N.toLowerCase()==="5 different ways"?a.jsx("span",{style:{color:"#a0d8ff"},children:N},V):a.jsx("span",{children:N},V))}),a.jsx("div",{style:x.creativityTagsContainer,children:Wn.map((c,I)=>a.jsx("div",{style:{...x.creativityTag,...I%2===0?x.creativityTagYellow:x.creativityTagRed},children:c},I))}),a.jsxs("div",{style:x.creativityInputSection,children:[on&&Te.length>0&&a.jsxs("div",{style:x.creativityHintModal,children:[a.jsxs("div",{style:x.creativityHintHeader,children:[a.jsx("svg",{style:{width:"16px",height:"16px"},viewBox:"0 0 24 24",fill:"#a0d8ff",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),a.jsx("span",{style:x.creativityHintTitle,children:"Hint"}),a.jsx("button",{style:x.creativityHintClose,onClick:()=>Et(!1),onMouseOver:c=>c.currentTarget.style.opacity="0.7",onMouseOut:c=>c.currentTarget.style.opacity="1",children:""})]}),a.jsx("div",{style:x.creativityHintContent,children:Te[qn].hints.en.map((c,I)=>a.jsxs("div",{style:x.creativityHintItem,children:[a.jsxs("span",{style:x.creativityHintLabel,children:["Prompt ",I+1,":"]}),a.jsx("div",{style:{fontSize:"11px"},children:c})]},I))})]}),a.jsxs("button",{style:x.creativityHintButton,onClick:()=>Et(!0),onMouseOver:c=>c.currentTarget.style.opacity="0.8",onMouseOut:c=>c.currentTarget.style.opacity="1",children:[a.jsx("svg",{style:x.creativityHintIcon,viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Hint"]}),a.jsxs("div",{style:x.creativityInputContainer,children:[a.jsx("input",{type:"text",value:et,onChange:c=>nn(c.target.value),onKeyPress:Im,placeholder:"Typing here...",style:x.creativityInput,autoFocus:!0}),a.jsx("div",{style:x.creativityDivider}),a.jsx("button",{style:x.creativitySendButton,onClick:cg,onMouseOver:c=>c.currentTarget.style.transform="scale(1.1)",onMouseOut:c=>c.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/glacier/icon/send.png",alt:"Send",style:x.creativitySendIcon})})]}),a.jsxs("div",{style:x.creativityProgress,children:[Array.from({length:Te[qn].requiredCount}).map((c,I)=>a.jsx("div",{style:{...x.creativityProgressDot,...I<Wn.length?x.creativityProgressDotActive:{}}},I)),a.jsxs("span",{style:x.creativityProgressText,children:[Wn.length,"/",Te[qn].requiredCount]})]})]})]}),Xn&&a.jsxs("div",{style:x.coCreationContainer,children:[a.jsx("style",{children:`
            @keyframes shake {
              0%, 100% { transform: translateX(0); }
              25% { transform: translateX(-5px) rotate(-2deg); }
              75% { transform: translateX(5px) rotate(2deg); }
            }
          `}),!Qe&&!jt[0].completed&&a.jsxs("div",{style:x.coCreationDialogue,children:[a.jsx("img",{src:"/glacier/npc/npc6.png",alt:"NPC6",style:{width:"80px",height:"80px"}}),a.jsx("div",{style:{flex:1},children:a.jsx("p",{style:{margin:0,color:"#333",fontSize:"16px",lineHeight:1.5},children:"Thanks! My brain is starting to unfreeze. I need to design a 'Creative Ice Cream,' but I'm stuck with this boring Vanilla."})}),a.jsx("img",{src:"/glacier/mission/cream.png",alt:"Ice Cream",style:{width:"60px",height:"60px"}})]}),Qe&&a.jsxs("div",{style:x.coCreationDialogue,children:[a.jsx("img",{src:"/glacier/npc/npc6.png",alt:"NPC6",style:{width:"80px",height:"80px"}}),a.jsx("div",{style:{flex:1},children:a.jsx("p",{style:{margin:0,color:"#4caf50",fontSize:"18px",fontWeight:"bold",lineHeight:1.5},children:"Wow! That's a brilliant idea! It looks amazing!"})})]}),a.jsx("div",{style:x.coCreationInstruction,children:"Drag an element below to create a cool new ice cream flavor!"}),a.jsx("div",{style:x.coCreationFormulasArea,children:jt.map((c,I)=>a.jsxs("div",{style:{...x.coCreationFormula,opacity:I===0||I===mo?1:.5},children:[a.jsx("div",{style:x.coCreationCard,children:a.jsx("img",{src:"/glacier/mission/cream.png",alt:"Ice Cream",style:{width:"100px",height:"100px"}})}),a.jsx("img",{src:"/glacier/icon/add.png",alt:"+",style:{width:"40px",height:"40px"}}),c.element?a.jsx("div",{style:x.coCreationDropZone,children:c.element}):a.jsx("div",{style:x.coCreationDropZone,children:"Drop Here"}),a.jsx("img",{src:"/glacier/icon/equal.png",alt:"=",style:{width:"40px",height:"40px"}}),c.result?a.jsx("div",{style:x.coCreationResultCard,children:a.jsx("img",{src:c.result,alt:"Result",style:{width:"120px",height:"120px"}})}):a.jsx("div",{style:{...x.coCreationCard,border:"3px dashed rgba(160, 216, 255, 0.5)",background:"transparent"},children:a.jsx("img",{src:"/glacier/icon/picture.png",alt:"?",style:{width:"60px",height:"60px",opacity:.5}})})]},I))}),a.jsx("div",{style:x.coCreationElementsArea,children:R2.map((c,I)=>a.jsx("button",{onClick:()=>Ym(c),style:{...x.coCreationElementTag,background:I%2===0?"#f0d32d":"#ab3a2c",opacity:$o?.5:1,cursor:$o?"default":"pointer"},onMouseOver:N=>{$o||(N.currentTarget.style.transform="scale(1.1)")},onMouseOut:N=>{N.currentTarget.style.transform="scale(1)"},disabled:$o,children:c.name},c.id))})]}),m==="rooftop"&&a.jsx("div",{style:{position:"absolute",top:"150px",left:"750px",width:"200px",height:"200px",cursor:"pointer",zIndex:50,transition:"transform 0.2s"},onMouseOver:()=>{!ta&&!Ws&&wm()},children:a.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC 9",style:{width:"100%",height:"100%",objectFit:"contain"}})}),ta&&a.jsx("div",{style:{position:"absolute",left:"calc(750px + 200px)",top:"150px",width:"550px",minHeight:"150px",background:"rgba(240, 248, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(100, 149, 237, 0.4)",borderRadius:"20px",padding:"25px 30px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 149, 237, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:1e3},children:Lt===-1?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"15px",flex:1},children:a.jsx("div",{style:x.dialogueText,children:lt.length===3?"Let's go down and look for Momo.":"Wow! My brain feels... rebooted! I can focus again. Thank you!"})}),a.jsx("button",{style:x.npc6ContinueButton,onClick:()=>zn(!1),onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.95)",c.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.9)",c.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",c.target.style.transform="scale(1)"},children:"CLOSE"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"20px",flex:1},children:a.jsx("div",{style:x.dialogueText,children:ma})}),kt&&a.jsx("button",{style:{padding:"15px 40px",background:"rgba(30, 30, 50, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},onClick:jm,onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.9)",c.target.style.transform="scale(1.05)",c.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.85)",c.target.style.transform="scale(1)",c.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.3)"},children:Ei[3].text})]})}),Pn&&a.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:Pe==="footstepRecall"?"70vw":"800px",maxHeight:"90vh",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"none",borderRadius:"20px",padding:"30px",display:"flex",flexDirection:"column",boxShadow:"0 12px 48px rgba(0, 0, 0, 0.6)",zIndex:3e3,overflow:"auto"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",flexShrink:0},children:[a.jsxs("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"22px",fontWeight:"700",color:"#a0d8ff"},children:["Mission: ",Pe==="snowPath"?"Snow Path":"Footstep Recall"]}),Pe==="snowPath"&&a.jsx("div",{style:{fontFamily:"'Roboto Mono', monospace",fontSize:"50px",fontWeight:"700",color:R<5?"#ff4444":"#a0d8ff"},children:Z?yu(R):"GO!"})]}),a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",marginBottom:"15px",textAlign:"center",flexShrink:0},children:Pe==="snowPath"?"Memorize the footprints, then tap the correct tiles when they disappear.":"Footprints light up in red one by oneafter the sequence ends, tap them back in the same order."}),Pe==="snowPath"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",width:"100%",maxWidth:"500px",margin:"0 auto",alignSelf:"center",flex:"1 1 auto"},children:Array.from({length:16}).map((c,I)=>{const N=na.includes(I),V=Ea.includes(I),W=V&&N,je=V&&!N;return a.jsx("div",{onClick:()=>km(I),style:{width:"100%",aspectRatio:"1",background:je?"#c62828":W?"#2e7d32":"#1f2937",border:`3px solid ${je?"#f44336":W?"#4caf50":N&&Z?"#a0d8ff":"transparent"}`,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",cursor:Z?"default":"pointer",transition:"all 0.2s"},children:N&&Z&&a.jsx("img",{src:"/glacier/icon/footprint.svg",alt:"Footprint",style:{width:"60%",height:"60%",objectFit:"contain"}})},I)})}),Pe==="footstepRecall"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridTemplateRows:"repeat(2, 1fr)",gap:"30px",flex:1,maxWidth:"90%",margin:"0 auto",alignItems:"center"},children:Array.from({length:6}).map((c,I)=>{const N=Cl===I,V=Ut.includes(I),W=I%2===0?1:2,je=Math.floor(I/2)*2+(I%2===0?1:2);return a.jsx("div",{onClick:()=>Am(I),style:{gridRow:W,gridColumn:je,aspectRatio:"1",background:"transparent",border:"none",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",cursor:rs?"default":"pointer",transition:"all 0.2s",transform:V?"scale(0.9)":"scale(1)"},children:a.jsx("img",{src:N?"/glacier/icon/foot_red.svg":"/glacier/icon/foot.svg",alt:"Footprint",style:{width:"100%",height:"100%",objectFit:"contain",filter:V?"brightness(0.7)":"brightness(1)"}})},I)})}),a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"20px",flexShrink:0},children:Array.from({length:3}).map((c,I)=>{const V=I<(Pe==="snowPath"?dt:te);return a.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",background:V?"#a0d8ff":"#666566",transition:"all 0.3s"}},I)})})]}),$t&&a.jsxs("div",{style:x.puzzleContainer,children:[a.jsxs("div",{style:x.puzzleLeftPanel,children:[!Hn&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:x.puzzleTimer,children:yu(Do)}),a.jsx("div",{style:x.puzzleImageContainer,children:a.jsx("img",{src:Ho[Mt].image,alt:`Puzzle ${Mt}`,style:x.puzzleImage})})]}),Hn&&a.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"20px 15px"},children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",flex:1,overflowY:"auto"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[a.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"50px",height:"50px",borderRadius:"50%",flexShrink:0}}),a.jsx("div",{style:{background:"#fff",color:"#000",padding:"12px 18px",borderRadius:"15px",fontSize:"16px",lineHeight:1.4,maxWidth:"180px"},children:"Could you... could you teach me?"})]}),da&&a.jsx("div",{style:{background:"#5170FF",color:"#fff",padding:"12px 18px",borderRadius:"15px",fontSize:"14px",lineHeight:1.4,alignSelf:"flex-end",maxWidth:"85%",wordWrap:"break-word"},children:da}),da&&a.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[a.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"50px",height:"50px",borderRadius:"50%",flexShrink:0}}),a.jsx("div",{style:{background:"#fff",color:"#000",padding:"12px 18px",borderRadius:"15px",fontSize:"16px",lineHeight:1.4,maxWidth:"180px"},children:"Got it, Let's move to next one"})]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs("div",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold",lineHeight:1.4},children:["Teach them",a.jsx("br",{}),'"How did you solve this?"']}),a.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.15)",borderRadius:"15px",border:"2px solid rgba(255, 255, 255, 0.3)",overflow:"hidden",transition:"border-color 0.2s"},children:[a.jsx("input",{type:"text",style:{flex:1,padding:"12px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",outline:"none"},placeholder:"Explain here...",value:uo,onChange:c=>Cn(c.target.value),onKeyPress:c=>{c.key==="Enter"&&fg()}}),a.jsx("div",{style:{width:"2px",height:"24px",backgroundColor:"#5170FF",margin:"0 8px",flexShrink:0}}),a.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s"},onClick:fg,onMouseOver:c=>{c.currentTarget.style.transform="scale(1.1)"},onMouseOut:c=>{c.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/glacier/icon/send.png",alt:"Send",style:{width:"24px",height:"24px",objectFit:"contain"}})})]})]})]})]}),a.jsxs("div",{style:x.puzzleRightPanel,children:[a.jsx("div",{style:x.puzzleTitle,children:Ho[Mt].title}),Ho[Mt].statement&&a.jsxs("div",{style:x.puzzleStatement,children:['NPC 5: "',Ho[Mt].statement,'"']}),Ho[Mt].premise&&a.jsxs("div",{style:x.puzzleStatement,children:["Premise:",a.jsx("br",{}),gg(Ho[Mt].premise)]}),Ho[Mt].arguments&&a.jsxs("div",{style:x.puzzleStatement,children:["Arguments:",a.jsx("br",{}),gg(Ho[Mt].arguments)]}),a.jsxs("div",{style:x.puzzleQuestion,children:["Question: ",Ho[Mt].question]}),a.jsx("div",{style:x.puzzleOptions,children:Ho[Mt].options.map((c,I)=>{let N={...x.puzzleOption};ro===I&&(c.correct?N={...N,...x.puzzleOptionCorrect}:N={...N,...x.puzzleOptionWrong});const V=ro!==null&&Ho[Mt].options[ro].correct;return a.jsx("button",{style:N,onClick:()=>Qm(c,I),disabled:V,onMouseEnter:W=>{V||(W.currentTarget.style.background="#2d3748",W.currentTarget.style.transform="translateX(5px)")},onMouseLeave:W=>{V||(W.currentTarget.style.background="#1f2937",W.currentTarget.style.transform="translateX(0)")},children:c.text},I)})})]})]}),Oo&&(console.log("Rendering exercise interface, currentExercise:",An),a.jsxs("div",{style:{...x.puzzleContainer},children:[a.jsx("style",{children:`
            .exercise-text-area {
              cursor: url('/glacier/icon/pen-cursor.png') 16 16, crosshair;
            }
            .exercise-text-area * {
              cursor: url('/glacier/icon/pen-cursor.png') 16 16, crosshair;
            }
          `}),a.jsxs("div",{style:{position:"absolute",top:"80px",left:"35%",fontSize:"14px",color:"#a0d8ff",fontFamily:"'Roboto', sans-serif",zIndex:10},children:[" ",n==="en"?"Use your mouse to mark the errors.":""]}),a.jsxs("div",{style:{...x.puzzleLeftPanel,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",padding:"30px 20px"},children:[a.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"100%",height:"auto",objectFit:"contain",marginBottom:"20px"}}),a.jsx("div",{style:{background:"#fff",color:"#000",padding:"15px 20px",borderRadius:"15px",fontSize:"16px",lineHeight:1.6,textAlign:"left",width:"100%"},children:gs[An].npcMessage}),Un&&a.jsx("div",{style:{background:"#fff",color:"#000",padding:"15px 20px",borderRadius:"15px",fontSize:"16px",lineHeight:1.6,textAlign:"left",marginTop:"20px",width:"100%"},children:gs[An].feedback})]}),a.jsxs("div",{style:{...x.puzzleRightPanel,display:"flex",flexDirection:"column",padding:"40px"},children:[a.jsx("div",{style:{textAlign:"center",marginBottom:"40px"},children:a.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#a0d8ff",fontFamily:"'Roboto', sans-serif"},children:gs[An].title})}),a.jsx("div",{className:"exercise-text-area",style:{fontFamily:"'Roboto Mono', monospace",fontSize:"26px",lineHeight:"2.2",color:"#fff",marginBottom:"40px",userSelect:"text",position:"relative",flex:1},onMouseUp:Pm,children:gs[An].text.split("").map((c,I)=>{let N=!1;return gs[An].errors.forEach((V,W)=>{Eo.includes(W)&&I>=V.start&&I<V.end&&(N=!0)}),a.jsxs("span",{style:{position:"relative",backgroundColor:N?"rgba(243, 87, 204, 0.7)":"transparent"},children:[c,N&&a.jsx("span",{style:{position:"absolute",bottom:"-8px",left:0,right:0,height:"20px",backgroundColor:"rgba(243, 87, 204, 0.7)",borderRadius:"0"}})]},I)})}),a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"auto"},children:[a.jsxs("span",{style:{color:"#a0d8ff",fontSize:"18px",marginRight:"10px"},children:[Eo.length,"/",gs[An].requiredCount]}),Array.from({length:gs[An].requiredCount}).map((c,I)=>a.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:I<Eo.length?"#a0d8ff":"#666566",transition:"all 0.3s"}},I))]})]})]})),G&&m!=="court"&&m!=="rooftop"&&a.jsx("div",{style:{...m==="outside"?x.arrowSmall:m==="inside"?{...x.arrow,width:"380px",height:"380px"}:x.arrow,...ny()},onClick:ey,onMouseOver:c=>c.target.style.transform="scale(1.1)",onMouseOut:c=>c.target.style.transform="scale(1)",children:a.jsx("img",{src:ty(),alt:"Arrow",style:x.arrowImage})}),Xs&&a.jsxs("div",{style:x.npc9SharingContainer,children:[a.jsx("div",{style:x.npc9SharingTitle,children:"Share your memory secret here."}),!ya&&a.jsxs("div",{style:x.npc9SharingMessage,children:[a.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC9",style:{width:"80px",height:"80px",flexShrink:0}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:x.npc9SharingBubble,children:"Thanks for helping me finish the memory training! Do you have any secret memory hacks?"}),a.jsx("div",{style:x.npc9SharingTimestamp,children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),ya&&Ra&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:x.npc9SharingMessage,children:[a.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC9",style:{width:"80px",height:"80px",flexShrink:0}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:x.npc9SharingBubble,children:"Thanks for helping me finish the memory training! Do you have any secret memory hacks?"}),a.jsx("div",{style:x.npc9SharingTimestamp,children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:x.npc9SharingUserLabel,children:"You"}),a.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"10px"},children:a.jsx("div",{style:{...x.npc9SharingBubble,background:"rgba(30, 50, 70, 0.8)",color:"#fff",maxWidth:"70%"},children:Ra})}),a.jsx("div",{style:{...x.npc9SharingTimestamp,textAlign:"right"},children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),ya&&a.jsxs("div",{style:x.npc9SharingMessage,children:[a.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC9",style:{width:"80px",height:"80px",flexShrink:0}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:x.npc9SharingBubble,children:"I see... noted!"}),a.jsx("div",{style:x.npc9SharingTimestamp,children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),!ya&&a.jsxs("div",{style:x.npc9SharingHints,children:[a.jsx("div",{style:x.npc9SharingHintTag,children:"Visualization"}),a.jsx("div",{style:x.npc9SharingHintTag,children:"Use Mnemonics"}),a.jsx("div",{style:x.npc9SharingHintTag,children:"Chunking"})]}),!ya&&a.jsxs("div",{style:x.npc9SharingInputContainer,children:[a.jsx("input",{type:"text",value:Ra,onChange:c=>Ba(c.target.value),onKeyPress:Wm,placeholder:"Give some tips...",style:x.npc9SharingInput,autoFocus:!0}),a.jsx("button",{onClick:pg,style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",padding:"8px",transition:"transform 0.2s"},onMouseOver:c=>c.currentTarget.style.transform="scale(1.1)",onMouseOut:c=>c.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/glacier/icon/send.png",alt:"Send",style:{width:"28px",height:"28px"}})})]})]}),H&&(()=>{const c=v("momo"),I=5,N=4,V=N/I*100;return a.jsxs("div",{style:{...x.modernDialogueContainer,border:`3px solid ${c.borderColor}`},children:[a.jsxs("div",{style:x.modernDialogueHeader,children:[a.jsxs("div",{style:x.modernProgressContainer,children:[a.jsx("div",{style:{...x.modernMissionTitle,color:c.borderColor},children:"MISSION: AI USER ASSESSMENT"}),a.jsxs("div",{style:x.modernStepIndicator,children:["Step ",N," of ",I]})]}),a.jsx("div",{style:x.modernProgressBar,children:a.jsx("div",{style:{...x.modernProgressFill,width:`${V}%`,background:c.progressColor}})}),a.jsxs("div",{style:x.modernNpcInfo,children:[a.jsx("img",{src:c.avatar,alt:"Momo",style:x.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:x.modernNpcName,children:"Momo"}),a.jsx("div",{style:x.modernNpcStatus,children:"Station Supervisor"})]})]})]}),a.jsxs("div",{style:x.modernDialogueContent,children:[Ti==="intro"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,children:Tn.intro.text}),a.jsx("div",{style:x.modernTimestamp,children:p()})]}),a.jsxs("button",{onClick:zm,style:x.modernActionButton,onMouseOver:W=>{W.target.style.borderColor=c.borderColor,W.target.style.transform="translateX(5px)"},onMouseOut:W=>{W.target.style.borderColor="#E0E0E0",W.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),"Start Quiz"]})]}),Ti==="quiz"&&a.jsxs(a.Fragment,{children:[ji.map((W,je)=>a.jsxs("div",{children:[a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsxs("p",{style:x.modernNpcText,children:[a.jsxs("span",{style:{fontSize:"14px",color:"#888",display:"block",marginBottom:"8px"},children:["Question ",je+1,"/",Tn.questions.length]}),Tn.questions[je].question]}),a.jsx("div",{style:x.modernTimestamp,children:p()})]}),a.jsxs("div",{style:{alignSelf:"flex-end",maxWidth:"85%",marginBottom:"15px"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},children:"YOU:"}),a.jsx("div",{style:{background:"#333333",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(51, 51, 51, 0.3)"},children:a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ffffff",lineHeight:1.5,margin:0},children:W.text})}),a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px",textAlign:"right"},children:p()})]})]},je)),a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsxs("p",{style:x.modernNpcText,children:[a.jsxs("span",{style:{fontSize:"14px",color:"#888",display:"block",marginBottom:"8px"},children:["Question ",va+1,"/",Tn.questions.length]}),Tn.questions[va].question]}),a.jsx("div",{style:x.modernTimestamp,children:p()})]}),a.jsx("div",{style:{width:"100%",marginTop:"10px"},children:Tn.questions[va].options.map((W,je)=>a.jsxs("button",{onClick:()=>Dm(W),style:x.modernActionButton,onMouseOver:Dt=>{Dt.target.style.borderColor=c.borderColor,Dt.target.style.transform="translateX(5px)"},onMouseOut:Dt=>{Dt.target.style.borderColor="#E0E0E0",Dt.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),W.text]},je))})]}),Ti==="calculating"&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 0",gap:"20px"},children:[a.jsx("div",{style:{fontSize:"24px",color:"#333",fontWeight:"600"},children:"Calculating..."}),a.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid rgba(0, 0, 0, 0.1)",borderTop:`4px solid ${c.borderColor}`,borderRadius:"50%",animation:"spin 1s linear infinite"}})]}),Ti==="result"&&S&&a.jsxs(a.Fragment,{children:[ji.map((W,je)=>a.jsxs("div",{children:[a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsxs("p",{style:x.modernNpcText,children:[a.jsxs("span",{style:{fontSize:"14px",color:"#888",display:"block",marginBottom:"8px"},children:["Question ",je+1,"/",Tn.questions.length]}),Tn.questions[je].question]}),a.jsx("div",{style:x.modernTimestamp,children:p()})]}),a.jsxs("div",{style:{alignSelf:"flex-end",maxWidth:"85%",marginBottom:"15px"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},children:"YOU:"}),a.jsx("div",{style:{background:"#333333",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(51, 51, 51, 0.3)"},children:a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ffffff",lineHeight:1.5,margin:0},children:W.text})}),a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px",textAlign:"right"},children:p()})]})]},je)),a.jsxs("div",{style:{display:"flex",gap:"30px",alignItems:"center",justifyContent:"center",marginTop:"20px",marginBottom:"20px",padding:"20px",background:"rgba(0, 0, 0, 0.02)",borderRadius:"12px"},children:[a.jsxs("div",{style:{width:"280px",height:"280px",position:"relative",background:"#2a2a2a",borderRadius:"12px",padding:"35px",flexShrink:0},children:[a.jsx("style",{children:`
                        @keyframes pulse-ring {
                          0% {
                            transform: translate(-50%, -50%) scale(0.8);
                            opacity: 0.8;
                          }
                          50% {
                            transform: translate(-50%, -50%) scale(1.2);
                            opacity: 0.4;
                          }
                          100% {
                            transform: translate(-50%, -50%) scale(0.8);
                            opacity: 0.8;
                          }
                        }
                      `}),a.jsxs("div",{style:{position:"absolute",top:"15px",left:"15px",fontSize:"11px",color:"#888",textAlign:"center",lineHeight:"1.3"},children:["Low Proficiency",a.jsx("br",{}),"High Judgment"]}),a.jsxs("div",{style:{position:"absolute",top:"15px",right:"15px",fontSize:"11px",color:"#888",textAlign:"center",lineHeight:"1.3"},children:["High Proficiency",a.jsx("br",{}),"High Judgment"]}),a.jsxs("div",{style:{position:"absolute",bottom:"15px",left:"15px",fontSize:"11px",color:"#888",textAlign:"center",lineHeight:"1.3"},children:["Low Proficiency",a.jsx("br",{}),"Low Judgment"]}),a.jsxs("div",{style:{position:"absolute",bottom:"15px",right:"15px",fontSize:"11px",color:"#888",textAlign:"center",lineHeight:"1.3"},children:["High Proficiency",a.jsx("br",{}),"Low Judgment"]}),a.jsx("div",{style:{position:"absolute",left:"-70px",top:"50%",transform:"translateY(-50%) rotate(-90deg)",fontSize:"12px",color:"#aaa",whiteSpace:"nowrap"},children:"Judgment "}),a.jsx("div",{style:{position:"absolute",bottom:"-35px",left:"50%",transform:"translateX(-50%)",fontSize:"12px",color:"#aaa"},children:"Proficiency "}),a.jsx("div",{style:{position:"absolute",width:"100%",height:"1px",borderTop:"1px dashed rgba(255,255,255,0.3)",top:"50%",left:0}}),a.jsx("div",{style:{position:"absolute",width:"1px",height:"100%",borderLeft:"1px dashed rgba(255,255,255,0.3)",left:"50%",top:0}}),a.jsxs("div",{style:{position:"absolute",left:`${Fr/15*100}%`,top:`${100-Lr/15*100}%`,transform:"translate(-50%, -50%)"},children:[a.jsx("div",{style:{position:"absolute",width:"40px",height:"40px",borderRadius:"50%",background:"rgba(120, 104, 229, 0.5)",left:"50%",top:"50%",transform:"translate(-50%, -50%)",animation:"pulse-ring 2s ease-in-out infinite"}}),a.jsx("div",{style:{position:"relative",width:"16px",height:"16px",borderRadius:"50%",background:"#a0d8ff",border:"3px solid #fff",boxShadow:"0 0 15px rgba(160, 216, 255, 0.8)"}}),a.jsx("div",{style:{position:"absolute",top:"-25px",left:"50%",transform:"translateX(-50%)",fontSize:"12px",color:"#fff",fontWeight:"600",whiteSpace:"nowrap"},children:"You"})]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"15px"},children:[a.jsx("img",{src:Tn.categories[S].image,alt:Tn.categories[S].name,style:{width:"220px",height:"220px"}}),a.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#333"},children:Tn.categories[S].name})]})]}),a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,children:Tn.categories[S].description}),a.jsx("div",{style:x.modernTimestamp,children:p()})]}),a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,children:Tn.finalMessage}),a.jsx("div",{style:x.modernTimestamp,children:p()})]}),a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsxs("p",{style:x.modernNpcText,children:["But there's one last thingthe privacy issue in the Data Center.",a.jsx("br",{}),a.jsx("br",{}),"Can you go help?",a.jsx("br",{}),a.jsx("br",{}),"They need someone to fix how personal data is handled before we unlock full system access.",a.jsx("br",{}),a.jsx("br",{})," Lookan arrow just appeared! Head there now."]}),a.jsx("div",{style:x.modernTimestamp,children:p()})]}),a.jsxs("button",{onClick:Nm,style:x.modernActionButton,onMouseOver:W=>{W.target.style.borderColor=c.borderColor,W.target.style.transform="translateX(5px)"},onMouseOut:W=>{W.target.style.borderColor="#E0E0E0",W.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),"Go Ahead"]})]})]})]})})(),m==="datacenter"&&a.jsx("div",{style:{position:"absolute",left:"20px",top:"20px",width:"60px",height:"60px",cursor:"pointer",zIndex:100,transition:"transform 0.2s"},onClick:()=>{E("inside"),ba(!1),_a(!1),f(!1),cs(!1)},onMouseOver:c=>c.currentTarget.style.transform="scale(1.1)",onMouseOut:c=>c.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Back",style:{width:"100%",height:"100%",objectFit:"contain"}})}),m==="datacenter"&&a.jsx("div",{style:{position:"absolute",right:"20px",top:"20px",width:"150px",height:"150px",zIndex:100},children:a.jsx("img",{src:"/npc/npc_glacier.gif",alt:"Glitch",style:{width:"100%",height:"100%",objectFit:"contain"}})}),m==="datacenter"&&a.jsx("div",{style:{position:"absolute",right:"450px",bottom:"0px",width:"300px",height:"300px",zIndex:50},children:a.jsx("img",{src:"/glacier/npc/momo.png",alt:"Momo",style:{width:"100%",height:"100%",objectFit:"contain"}})}),m==="datacenter"&&_o&&a.jsxs("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"800px",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"40px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",zIndex:200},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[a.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#333"},children:"Fill the Blank"}),a.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[[0,1,2,3,4].map(c=>a.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:c<ft?"#004aad":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold"},children:c<ft?"":""},c)),a.jsxs("div",{style:{marginLeft:"10px",fontSize:"20px",fontWeight:"bold",color:"#004aad"},children:[ft,"/5"]})]})]}),ft<5&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{fontSize:"20px",lineHeight:"1.6",marginBottom:"30px",color:"#333",minHeight:"80px"},children:Yl[ft].text.split("______").map((c,I,N)=>a.jsxs("span",{children:[c,I<N.length-1&&a.jsx("span",{onDrop:()=>dg(ft),onDragOver:Em,onClick:()=>{if(Sn[ft]){const V=[...Sn];V[ft]=null,Js(V)}},style:{display:"inline-block",minWidth:"150px",height:"40px",border:Sn[ft]?Sn[ft]===Yl[ft].correctAnswer?"2px solid #4f7f30":"2px solid #FF0845":"2px dashed #004aad",borderRadius:"8px",margin:"0 10px",verticalAlign:"middle",background:Sn[ft]?Sn[ft]===Yl[ft].correctAnswer?"#4f7f30":"#FF0845":"rgba(0, 74, 173, 0.1)",color:Sn[ft]?"white":"transparent",fontWeight:"bold",textAlign:"center",lineHeight:"40px",cursor:Sn[ft]?"pointer":"default",transition:"all 0.3s ease"},children:Sn[ft]||"Drop here"})]},I))}),a.jsx("div",{style:{display:"flex",gap:"20px",justifyContent:"center"},children:Yl[ft].options.map((c,I)=>a.jsx("div",{draggable:!0,onDragStart:()=>Om(c),onClick:()=>Rm(c),style:{padding:"15px 30px",background:"white",border:"2px solid #333",borderRadius:"12px",fontSize:"18px",fontWeight:"bold",cursor:"grab",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2), 0 2px 4px rgba(0, 0, 0, 0.1)",transition:"transform 0.2s, box-shadow 0.2s",userSelect:"none"},onMouseOver:N=>{N.currentTarget.style.transform="translateY(-4px)",N.currentTarget.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.3), 0 3px 6px rgba(0, 0, 0, 0.15)"},onMouseOut:N=>{N.currentTarget.style.transform="translateY(0)",N.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2), 0 2px 4px rgba(0, 0, 0, 0.1)"},children:c},I))})]})]}),m==="datacenter"&&bi&&(()=>{const c=v("momo");return a.jsxs("div",{style:{...x.modernDialogueContainer,border:`3px solid ${c.borderColor}`,maxWidth:"700px"},children:[a.jsx("div",{style:x.modernDialogueHeader,children:a.jsxs("div",{style:x.modernNpcInfo,children:[a.jsx("img",{src:c.avatar,alt:"Momo",style:x.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:x.modernNpcName,children:"Momo"}),a.jsx("div",{style:x.modernNpcStatus,children:"Station Supervisor"})]})]})}),a.jsxs("div",{style:x.modernDialogueContent,children:[a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsxs("p",{style:x.modernNpcText,children:["Remember:",a.jsx("br",{}),a.jsx("br",{}),"Names, birthdays, photosthey're personal.",a.jsx("br",{}),a.jsx("br",{}),"We must remove them, ask for permission, and never share carelessly.",a.jsx("br",{}),a.jsx("br",{}),"Ready for the next mission?"]}),a.jsx("div",{style:x.modernTimestamp,children:p()})]}),a.jsxs("button",{onClick:Bm,style:x.modernActionButton,onMouseOver:I=>{I.target.style.borderColor=c.borderColor,I.target.style.transform="translateX(5px)"},onMouseOut:I=>{I.target.style.borderColor="#E0E0E0",I.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),"Yes"]})]})]})})(),m==="datacenter"&&Si&&a.jsxs("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"1400px",height:"85%",display:"flex",gap:"30px",zIndex:200,cursor:"url(/glacier/icon/marker.png) 12 12, crosshair"},children:[a.jsx("div",{style:{flex:1,background:"rgba(255, 255, 255, 0.9)",borderRadius:"20px",padding:"30px",overflow:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},onMouseDown:_m,onMouseMove:Fm,onMouseUp:Hm,children:a.jsxs("div",{style:{fontFamily:"'Roboto Mono', monospace",fontSize:"14px",lineHeight:"1.8",color:"#333"},children:[a.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"10px"},children:"Privacy Data identification"}),a.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"5px"},children:Kn[ee-1].title}),a.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"20px"},children:Kn[ee-1].subtitle}),Kn[ee-1].header&&a.jsx("div",{style:{marginBottom:"15px",whiteSpace:"pre-line"},children:Kn[ee-1].header}),Kn[ee-1].hasImage&&a.jsx("div",{style:{marginBottom:"20px",textAlign:"center"},children:a.jsx("img",{src:Kn[ee-1].imagePath,alt:"Social Post",style:{maxWidth:"100%",borderRadius:"12px",filter:ye.includes("image1")?"blur(20px)":"none",cursor:"pointer"},onClick:()=>{ye.includes("image1")||(u(),Se([...ye,"image1"]))}})}),a.jsx("div",{style:{whiteSpace:"pre-line",position:"relative"},children:Kn[ee-1].content.split(`
`).map((c,I)=>{const N=Kn[ee-1].items.find(V=>!V.isImage&&ye.includes(V.id)&&c.includes(V.hint||V.text));if(N){const V=N.hint||N.text,W=c.split(V);return a.jsxs("div",{style:{marginBottom:"5px"},children:[W[0],a.jsx("span",{style:{background:"#000",color:"#000",padding:"2px 4px",borderRadius:"4px"},children:V}),W[1]]},I)}return a.jsx("div",{style:{marginBottom:"5px"},children:c},I)})})]})}),a.jsxs("div",{style:{width:"350px",display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"25px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"},children:[a.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px"},children:"Items Found"}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"5px"},children:"Total Progress"}),a.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#004aad",marginBottom:"8px"},children:[ye.length,"/",Kn[ee-1].items.length]}),a.jsx("div",{style:{width:"100%",height:"8px",background:"rgba(0, 74, 173, 0.2)",borderRadius:"4px",overflow:"hidden"},children:a.jsx("div",{style:{width:`${ye.length/Kn[ee-1].items.length*100}%`,height:"100%",background:"#004aad",transition:"width 0.3s ease"}})})]}),a.jsx("div",{style:{marginBottom:"20px"},children:Kn[ee-1].items.map(c=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[ye.includes(c.id)?a.jsx("img",{src:"/glacier/icon/complete.svg",alt:"Complete",style:{width:"20px",height:"20px"}}):a.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid #ccc",borderRadius:"50%"}}),a.jsx("div",{style:{fontSize:"13px",color:ye.includes(c.id)?"#4f7f30":"#666",fontWeight:ye.includes(c.id)?"bold":"normal"},children:c.label})]},c.id))}),a.jsxs("div",{style:{fontSize:"12px",color:"#666",lineHeight:"1.5",marginBottom:"15px",padding:"12px",background:"#f5f5f5",borderRadius:"8px"},children:["Circle all private information in the log.",a.jsx("br",{}),'Then click "Submit" to check if you found them all!']}),ye.length===Kn[ee-1].items.length&&a.jsx("button",{onClick:Um,style:{width:"100%",padding:"12px",background:"#000",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"transform 0.2s"},onMouseOver:c=>c.target.style.transform="scale(1.05)",onMouseOut:c=>c.target.style.transform="scale(1)",children:"Submit"})]}),a.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"20px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"},children:[a.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"15px"},children:"Privacy Data identification"}),a.jsx("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[1,2,3].map(c=>a.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:c<ee||c===ee?"#004aad":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"18px"},children:c<ee?"":c},c))})]})]})]}),m==="datacenter"&&D&&(()=>{const c=v("momo");return a.jsxs("div",{style:{...x.modernDialogueContainer,border:`3px solid ${c.borderColor}`,maxWidth:"700px"},children:[a.jsx("div",{style:x.modernDialogueHeader,children:a.jsxs("div",{style:x.modernNpcInfo,children:[a.jsx("img",{src:c.avatar,alt:"Momo",style:x.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:x.modernNpcName,children:"Momo"}),a.jsx("div",{style:x.modernNpcStatus,children:"Station Supervisor"})]})]})}),a.jsxs("div",{style:x.modernDialogueContent,children:[a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsxs("p",{style:x.modernNpcText,children:["You did it! You protected the privacy by removing name, address, phone, and photo.",a.jsx("br",{}),a.jsx("br",{}),"Now all data is safe to use  great work!"]}),a.jsx("div",{style:x.modernTimestamp,children:p()})]}),a.jsxs("button",{onClick:Gm,style:x.modernActionButton,onMouseOver:I=>{I.target.style.borderColor=c.borderColor,I.target.style.transform="translateX(5px)"},onMouseOut:I=>{I.target.style.borderColor="#E0E0E0",I.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),"Continue"]})]})]})})()]})};function F2(){const[e,t]=r.useState("home"),[n,o]=r.useState(!1),[s,i]=r.useState(!0),[l,u]=r.useState(!1),[p,v]=r.useState(null),[M,j]=r.useState([]),[b,m]=r.useState(!1),[E,L]=r.useState(!0),A=()=>{switch(e){case"home":case"game":case"map":return"/sound/spaceship.mp3";case"fungiMap":case"dataCollection":case"dataCleaning":return"/sound/jungle.mp3";case"desertMap":return"/sound/desert.mp3";case"islandMap":return"/sound/island.mp3";case"glacierMap":return"/sound/glacier.mp3";default:return"/sound/spaceship.mp3"}},{startMusic:h}=xm(A()),g=r.useCallback(()=>{h(),document.removeEventListener("click",g),document.removeEventListener("keydown",g)},[h]);r.useEffect(()=>(document.addEventListener("click",g),document.addEventListener("keydown",g),()=>{document.removeEventListener("click",g),document.removeEventListener("keydown",g)}),[g]),r.useEffect(()=>{const K=localStorage.getItem("aiJourneyUser");if(K){const he=JSON.parse(K);i(!he.hasStarted),m(!0)}},[]);const y=K=>{const he=localStorage.getItem("aiJourneyUser");if(he){const O=JSON.parse(he);O.hasStarted=!0,O.currentProgress=K,localStorage.setItem("aiJourneyUser",JSON.stringify(O))}},k=()=>{y("game"),t("game")},P=()=>{const K=localStorage.getItem("aiJourneyUser");if(K){const he=JSON.parse(K),O=he.currentProgress||"map",we=he.hasCompletedIntro||he.hasStarted;t(we?O==="game"?"map":O==="fungiIntro"?"fungiMap":O:"map")}else t("map")},_=()=>{u(!1),v(null),j([]),y("game"),t("game")},G=()=>{o(!0)},U=()=>{o(!1)},oe=K=>{i(!1),m(!0)},me=()=>{u(!0);const K=localStorage.getItem("aiJourneyUser");if(K){const he=JSON.parse(K);he.hasStarted=!0,he.hasCompletedIntro=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(he))}y("map"),t("map")},ae=(K,he=!1)=>{if(console.log("Region clicked:",K,"Start over:",he),v(K),K==="fungi")if(he){const O=localStorage.getItem("aiJourneyUser");if(O){const we=JSON.parse(O);we.fungiJungleProgress=null,we.dataCollectionProgress=null,we.dataCleaningProgress=null,we.rangerMossPhase=1,localStorage.setItem("aiJourneyUser",JSON.stringify(we))}y("fungiMap"),t("fungiMap")}else{const O=localStorage.getItem("aiJourneyUser");if(O){const we=JSON.parse(O),Ie=we.dataCleaningProgress,Ye=we.dataCollectionProgress;Ie&&Ie.phase?(y("dataCleaning"),t("dataCleaning")):Ye?(y("dataCollection"),t("dataCollection")):(y("fungiMap"),t("fungiMap"))}else y("fungiMap"),t("fungiMap")}else if(K==="desert"){if(he){const O=localStorage.getItem("aiJourneyUser");if(O){const we=JSON.parse(O);we.desertProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(we))}}y("desertMap"),t("desertMap")}else if(K==="island"){if(he){localStorage.removeItem("islandProgress");const O=localStorage.getItem("aiJourneyUser");if(O){const we=JSON.parse(O);we.islandProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(we))}}y("islandMap"),t("islandMap")}else if(K==="glacier"){if(he){localStorage.removeItem("glacierProgress");const O=localStorage.getItem("aiJourneyUser");if(O){const we=JSON.parse(O);we.glacierProgress=null,we.glacierCompleted=!1,localStorage.setItem("aiJourneyUser",JSON.stringify(we))}}y("glacierMap"),t("glacierMap")}},ve=()=>{y("map"),t("map"),v(null)},It=()=>{y("map"),t("map"),v(null)},We=()=>{console.log("Starting data collection phase..."),y("dataCollection"),t("dataCollection")},Ae=K=>{console.log("Data collection complete:",K),j(K),y("dataCleaning"),t("dataCleaning")},B=()=>{y("fungiMap"),t("fungiMap")},Y=()=>{console.log("Data cleaning complete!"),y("map"),t("map")},se=()=>{y("map"),t("map")};return a.jsx(s2,{children:a.jsxs("div",{style:{width:"100vw",height:"100vh",overflow:"hidden",position:"relative",margin:0,padding:0},children:[e==="home"&&a.jsx(i2,{onStart:k,onContinue:P,onStartOver:_,onSignIn:G,isFirstVisit:s},b?"logged-in":"logged-out"),e==="game"&&a.jsx(r2,{onComplete:me}),e==="map"&&a.jsx(g2,{onRegionClick:ae}),e==="desertMap"&&a.jsx(z2,{onExit:()=>{y("map"),t("map")}}),e==="islandMap"&&a.jsx(N2,{onExit:It}),e==="glacierMap"&&a.jsx(_2,{onExit:()=>{y("map"),t("map")}}),e==="fungiMap"&&a.jsx(x2,{onExit:ve,onStartDataCollection:We}),e==="dataCollection"&&a.jsx(v2,{onComplete:Ae,onExit:B}),e==="dataCleaning"&&a.jsx(I2,{onComplete:Y,onExit:se}),n&&a.jsx(l2,{onClose:U,onSignUpComplete:oe})]})})}t2.createRoot(document.getElementById("root")).render(a.jsx(ud.StrictMode,{children:a.jsx(F2,{})}));
