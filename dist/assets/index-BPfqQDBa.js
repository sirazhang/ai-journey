(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function h0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x0={exports:{}},$c={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy=Symbol.for("react.transitional.element"),uy=Symbol.for("react.fragment");function m0(e,t,n){var o=null;if(n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:cy,type:e,key:o,ref:t!==void 0?t:null,props:n}}$c.Fragment=uy;$c.jsx=m0;$c.jsxs=m0;x0.exports=$c;var a=x0.exports,y0={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp=Symbol.for("react.transitional.element"),dy=Symbol.for("react.portal"),py=Symbol.for("react.fragment"),gy=Symbol.for("react.strict_mode"),fy=Symbol.for("react.profiler"),hy=Symbol.for("react.consumer"),xy=Symbol.for("react.context"),my=Symbol.for("react.forward_ref"),yy=Symbol.for("react.suspense"),by=Symbol.for("react.memo"),b0=Symbol.for("react.lazy"),vy=Symbol.for("react.activity"),Ag=Symbol.iterator;function Sy(e){return e===null||typeof e!="object"?null:(e=Ag&&e[Ag]||e["@@iterator"],typeof e=="function"?e:null)}var v0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S0=Object.assign,T0={};function Cl(e,t,n){this.props=e,this.context=t,this.refs=T0,this.updater=n||v0}Cl.prototype.isReactComponent={};Cl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function w0(){}w0.prototype=Cl.prototype;function up(e,t,n){this.props=e,this.context=t,this.refs=T0,this.updater=n||v0}var dp=up.prototype=new w0;dp.constructor=up;S0(dp,Cl.prototype);dp.isPureReactComponent=!0;var Ig=Array.isArray;function pd(){}var It={H:null,A:null,T:null,S:null},j0=Object.prototype.hasOwnProperty;function pp(e,t,n){var o=n.ref;return{$$typeof:cp,type:e,key:t,ref:o!==void 0?o:null,props:n}}function Ty(e,t){return pp(e.type,t,e.props)}function gp(e){return typeof e=="object"&&e!==null&&e.$$typeof===cp}function wy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mg=/\/+/g;function ju(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wy(""+e.key):t.toString(36)}function jy(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(pd,pd):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Pi(e,t,n,o,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case cp:case dy:l=!0;break;case b0:return l=e._init,Pi(l(e._payload),t,n,o,s)}}if(l)return s=s(e),l=o===""?"."+ju(e,0):o,Ig(s)?(n="",l!=null&&(n=l.replace(Mg,"$&/")+"/"),Pi(s,t,n,"",function(b){return b})):s!=null&&(gp(s)&&(s=Ty(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(Mg,"$&/")+"/")+l)),t.push(s)),1;l=0;var d=o===""?".":o+":";if(Ig(e))for(var h=0;h<e.length;h++)o=e[h],i=d+ju(o,h),l+=Pi(o,t,n,i,s);else if(h=Sy(e),typeof h=="function")for(e=h.call(e),h=0;!(o=e.next()).done;)o=o.value,i=d+ju(o,h++),l+=Pi(o,t,n,i,s);else if(i==="object"){if(typeof e.then=="function")return Pi(jy(e),t,n,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function Pr(e,t,n){if(e==null)return e;var o=[],s=0;return Pi(e,o,"","",function(i){return t.call(n,i,s++)}),o}function Cy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ky={map:Pr,forEach:function(e,t,n){Pr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pr(e,function(){t++}),t},toArray:function(e){return Pr(e,function(t){return t})||[]},only:function(e){if(!gp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Activity=vy;Me.Children=ky;Me.Component=Cl;Me.Fragment=py;Me.Profiler=fy;Me.PureComponent=up;Me.StrictMode=gy;Me.Suspense=yy;Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=It;Me.__COMPILER_RUNTIME={__proto__:null,c:function(e){return It.H.useMemoCache(e)}};Me.cache=function(e){return function(){return e.apply(null,arguments)}};Me.cacheSignal=function(){return null};Me.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var o=S0({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!j0.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(o[i]=t[i]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var l=Array(i),d=0;d<i;d++)l[d]=arguments[d+2];o.children=l}return pp(e.type,s,o)};Me.createContext=function(e){return e={$$typeof:xy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:hy,_context:e},e};Me.createElement=function(e,t,n){var o,s={},i=null;if(t!=null)for(o in t.key!==void 0&&(i=""+t.key),t)j0.call(t,o)&&o!=="key"&&o!=="__self"&&o!=="__source"&&(s[o]=t[o]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var d=Array(l),h=0;h<l;h++)d[h]=arguments[h+2];s.children=d}if(e&&e.defaultProps)for(o in l=e.defaultProps,l)s[o]===void 0&&(s[o]=l[o]);return pp(e,i,s)};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:my,render:e}};Me.isValidElement=gp;Me.lazy=function(e){return{$$typeof:b0,_payload:{_status:-1,_result:e},_init:Cy}};Me.memo=function(e,t){return{$$typeof:by,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=It.T,n={};It.T=n;try{var o=e(),s=It.S;s!==null&&s(n,o),typeof o=="object"&&o!==null&&typeof o.then=="function"&&o.then(pd,zg)}catch(i){zg(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),It.T=t}};Me.unstable_useCacheRefresh=function(){return It.H.useCacheRefresh()};Me.use=function(e){return It.H.use(e)};Me.useActionState=function(e,t,n){return It.H.useActionState(e,t,n)};Me.useCallback=function(e,t){return It.H.useCallback(e,t)};Me.useContext=function(e){return It.H.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e,t){return It.H.useDeferredValue(e,t)};Me.useEffect=function(e,t){return It.H.useEffect(e,t)};Me.useEffectEvent=function(e){return It.H.useEffectEvent(e)};Me.useId=function(){return It.H.useId()};Me.useImperativeHandle=function(e,t,n){return It.H.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return It.H.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return It.H.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return It.H.useMemo(e,t)};Me.useOptimistic=function(e,t){return It.H.useOptimistic(e,t)};Me.useReducer=function(e,t,n){return It.H.useReducer(e,t,n)};Me.useRef=function(e){return It.H.useRef(e)};Me.useState=function(e){return It.H.useState(e)};Me.useSyncExternalStore=function(e,t,n){return It.H.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return It.H.useTransition()};Me.version="19.2.3";y0.exports=Me;var r=y0.exports;const gd=h0(r);var C0={exports:{}},eu={},k0={exports:{}},A0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,Q){var ne=E.length;E.push(Q);e:for(;0<ne;){var re=ne-1>>>1,se=E[re];if(0<s(se,Q))E[re]=Q,E[ne]=se,ne=re;else break e}}function n(E){return E.length===0?null:E[0]}function o(E){if(E.length===0)return null;var Q=E[0],ne=E.pop();if(ne!==Q){E[0]=ne;e:for(var re=0,se=E.length,ce=se>>>1;re<ce;){var ke=2*(re+1)-1,Ke=E[ke],Fe=ke+1,ue=E[Fe];if(0>s(Ke,ne))Fe<se&&0>s(ue,Ke)?(E[re]=ue,E[Fe]=ne,re=Fe):(E[re]=Ke,E[ke]=ne,re=ke);else if(Fe<se&&0>s(ue,ne))E[re]=ue,E[Fe]=ne,re=Fe;else break e}}return Q}function s(E,Q){var ne=E.sortIndex-Q.sortIndex;return ne!==0?ne:E.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var h=[],b=[],A=1,k=null,T=3,C=!1,w=!1,Y=!1,D=!1,m=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function I(E){for(var Q=n(b);Q!==null;){if(Q.callback===null)o(b);else if(Q.startTime<=E)o(b),Q.sortIndex=Q.expirationTime,t(h,Q);else break;Q=n(b)}}function J(E){if(Y=!1,I(E),!w)if(n(h)!==null)w=!0,B||(B=!0,be());else{var Q=n(b);Q!==null&&Je(J,Q.startTime-E)}}var B=!1,L=-1,ae=5,X=-1;function xe(){return D?!0:!(e.unstable_now()-X<ae)}function Ee(){if(D=!1,B){var E=e.unstable_now();X=E;var Q=!0;try{e:{w=!1,Y&&(Y=!1,g(L),L=-1),C=!0;var ne=T;try{t:{for(I(E),k=n(h);k!==null&&!(k.expirationTime>E&&xe());){var re=k.callback;if(typeof re=="function"){k.callback=null,T=k.priorityLevel;var se=re(k.expirationTime<=E);if(E=e.unstable_now(),typeof se=="function"){k.callback=se,I(E),Q=!0;break t}k===n(h)&&o(h),I(E)}else o(h);k=n(h)}if(k!==null)Q=!0;else{var ce=n(b);ce!==null&&Je(J,ce.startTime-E),Q=!1}}break e}finally{k=null,T=ne,C=!1}Q=void 0}}finally{Q?be():B=!1}}}var be;if(typeof y=="function")be=function(){y(Ee)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,yt=Xe.port2;Xe.port1.onmessage=Ee,be=function(){yt.postMessage(null)}}else be=function(){m(Ee,0)};function Je(E,Q){L=m(function(){E(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(E){switch(T){case 1:case 2:case 3:var Q=3;break;default:Q=T}var ne=T;T=Q;try{return E()}finally{T=ne}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(E,Q){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var ne=T;T=E;try{return Q()}finally{T=ne}},e.unstable_scheduleCallback=function(E,Q,ne){var re=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?re+ne:re):ne=re,E){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ne+se,E={id:A++,callback:Q,priorityLevel:E,startTime:ne,expirationTime:se,sortIndex:-1},ne>re?(E.sortIndex=ne,t(b,E),n(h)===null&&E===n(b)&&(Y?(g(L),L=-1):Y=!0,Je(J,ne-re))):(E.sortIndex=se,t(h,E),w||C||(w=!0,B||(B=!0,be()))),E},e.unstable_shouldYield=xe,e.unstable_wrapCallback=function(E){var Q=T;return function(){var ne=T;T=Q;try{return E.apply(this,arguments)}finally{T=ne}}}})(A0);k0.exports=A0;var Ay=k0.exports,I0={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=r;function M0(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ks(){}var Qn={d:{f:ks,r:function(){throw Error(M0(522))},D:ks,C:ks,L:ks,m:ks,X:ks,S:ks,M:ks},p:0,findDOMNode:null},My=Symbol.for("react.portal");function zy(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:My,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}var sr=Iy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function tu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qn;Vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(M0(299));return zy(e,t,null,n)};Vn.flushSync=function(e){var t=sr.T,n=Qn.p;try{if(sr.T=null,Qn.p=2,e)return e()}finally{sr.T=t,Qn.p=n,Qn.d.f()}};Vn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Qn.d.C(e,t))};Vn.prefetchDNS=function(e){typeof e=="string"&&Qn.d.D(e)};Vn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,o=tu(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Qn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:o,integrity:s,fetchPriority:i}):n==="script"&&Qn.d.X(e,{crossOrigin:o,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Vn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=tu(t.as,t.crossOrigin);Qn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Qn.d.M(e)};Vn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,o=tu(n,t.crossOrigin);Qn.d.L(e,n,{crossOrigin:o,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Vn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=tu(t.as,t.crossOrigin);Qn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Qn.d.m(e)};Vn.requestFormReset=function(e){Qn.d.r(e)};Vn.unstable_batchedUpdates=function(e,t){return e(t)};Vn.useFormState=function(e,t,n){return sr.H.useFormState(e,t,n)};Vn.useFormStatus=function(){return sr.H.useHostTransitionStatus()};Vn.version="19.2.3";function z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z0)}catch(e){console.error(e)}}z0(),I0.exports=Vn;var Dy=I0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gn=Ay,D0=r,Oy=Dy;function W(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function O0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function N0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function R0(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dg(e){if(Nr(e)!==e)throw Error(W(188))}function Ny(e){var t=e.alternate;if(!t){if(t=Nr(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,o=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(o=s.return,o!==null){n=o;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Dg(s),e;if(i===o)return Dg(s),t;i=i.sibling}throw Error(W(188))}if(n.return!==o.return)n=s,o=i;else{for(var l=!1,d=s.child;d;){if(d===n){l=!0,n=s,o=i;break}if(d===o){l=!0,o=s,n=i;break}d=d.sibling}if(!l){for(d=i.child;d;){if(d===n){l=!0,n=i,o=s;break}if(d===o){l=!0,o=i,n=s;break}d=d.sibling}if(!l)throw Error(W(189))}}if(n.alternate!==o)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function E0(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=E0(e),t!==null)return t;e=e.sibling}return null}var Mt=Object.assign,Ry=Symbol.for("react.element"),Xr=Symbol.for("react.transitional.element"),er=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),B0=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),_0=Symbol.for("react.consumer"),os=Symbol.for("react.context"),fp=Symbol.for("react.forward_ref"),hd=Symbol.for("react.suspense"),xd=Symbol.for("react.suspense_list"),hp=Symbol.for("react.memo"),Is=Symbol.for("react.lazy"),md=Symbol.for("react.activity"),Ey=Symbol.for("react.memo_cache_sentinel"),Og=Symbol.iterator;function Ll(e){return e===null||typeof e!="object"?null:(e=Og&&e[Og]||e["@@iterator"],typeof e=="function"?e:null)}var By=Symbol.for("react.client.reference");function yd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===By?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qi:return"Fragment";case fd:return"Profiler";case B0:return"StrictMode";case hd:return"Suspense";case xd:return"SuspenseList";case md:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case er:return"Portal";case os:return e.displayName||"Context";case _0:return(e._context.displayName||"Context")+".Consumer";case fp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hp:return t=e.displayName||null,t!==null?t:yd(e.type)||"Memo";case Is:t=e._payload,e=e._init;try{return yd(e(t))}catch{}}return null}var tr=Array.isArray,we=D0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=Oy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xi={pending:!1,data:null,method:null,action:null},bd=[],Vi=-1;function Na(e){return{current:e}}function Cn(e){0>Vi||(e.current=bd[Vi],bd[Vi]=null,Vi--)}function mt(e,t){Vi++,bd[Vi]=e.current,e.current=t}var Oa=Na(null),br=Na(null),Hs=Na(null),jc=Na(null);function Cc(e,t){switch(mt(Hs,t),mt(br,e),mt(Oa,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Hf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Hf(t),e=om(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Cn(Oa),mt(Oa,e)}function fl(){Cn(Oa),Cn(br),Cn(Hs)}function vd(e){e.memoizedState!==null&&mt(jc,e);var t=Oa.current,n=om(t,e.type);t!==n&&(mt(br,e),mt(Oa,n))}function kc(e){br.current===e&&(Cn(Oa),Cn(br)),jc.current===e&&(Cn(jc),zr._currentValue=xi)}var Cu,Ng;function pi(e){if(Cu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cu=t&&t[1]||"",Ng=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cu+e+Ng}var ku=!1;function Au(e,t){if(!e||ku)return"";ku=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(C){var T=C}Reflect.construct(e,[],k)}else{try{k.call()}catch(C){T=C}e.call(k.prototype)}}else{try{throw Error()}catch(C){T=C}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(C){if(C&&T&&typeof C.stack=="string")return[C.stack,T.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=o.DetermineComponentFrameRoot(),l=i[0],d=i[1];if(l&&d){var h=l.split(`
`),b=d.split(`
`);for(s=o=0;o<h.length&&!h[o].includes("DetermineComponentFrameRoot");)o++;for(;s<b.length&&!b[s].includes("DetermineComponentFrameRoot");)s++;if(o===h.length||s===b.length)for(o=h.length-1,s=b.length-1;1<=o&&0<=s&&h[o]!==b[s];)s--;for(;1<=o&&0<=s;o--,s--)if(h[o]!==b[s]){if(o!==1||s!==1)do if(o--,s--,0>s||h[o]!==b[s]){var A=`
`+h[o].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=o&&0<=s);break}}}finally{ku=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?pi(n):""}function _y(e,t){switch(e.tag){case 26:case 27:case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return e.child!==t&&t!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Au(e.type,!1);case 11:return Au(e.type.render,!1);case 1:return Au(e.type,!0);case 31:return pi("Activity");default:return""}}function Rg(e){try{var t="",n=null;do t+=_y(e,n),n=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Sd=Object.prototype.hasOwnProperty,xp=gn.unstable_scheduleCallback,Iu=gn.unstable_cancelCallback,Fy=gn.unstable_shouldYield,Hy=gn.unstable_requestPaint,zo=gn.unstable_now,Ly=gn.unstable_getCurrentPriorityLevel,F0=gn.unstable_ImmediatePriority,H0=gn.unstable_UserBlockingPriority,Ac=gn.unstable_NormalPriority,Uy=gn.unstable_LowPriority,L0=gn.unstable_IdlePriority,Gy=gn.log,qy=gn.unstable_setDisableYieldValue,Rr=null,Do=null;function Rs(e){if(typeof Gy=="function"&&qy(e),Do&&typeof Do.setStrictMode=="function")try{Do.setStrictMode(Rr,e)}catch{}}var Oo=Math.clz32?Math.clz32:Py,Wy=Math.log,Yy=Math.LN2;function Py(e){return e>>>=0,e===0?32:31-(Wy(e)/Yy|0)|0}var Jr=256,Qr=262144,Vr=4194304;function gi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nu(e,t,n){var o=e.pendingLanes;if(o===0)return 0;var s=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var d=o&134217727;return d!==0?(o=d&~i,o!==0?s=gi(o):(l&=d,l!==0?s=gi(l):n||(n=d&~e,n!==0&&(s=gi(n))))):(d=o&~i,d!==0?s=gi(d):l!==0?s=gi(l):n||(n=o&~e,n!==0&&(s=gi(n)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function Er(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Xy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U0(){var e=Vr;return Vr<<=1,!(Vr&62914560)&&(Vr=4194304),e}function Mu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Br(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jy(e,t,n,o,s,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var d=e.entanglements,h=e.expirationTimes,b=e.hiddenUpdates;for(n=l&~n;0<n;){var A=31-Oo(n),k=1<<A;d[A]=0,h[A]=-1;var T=b[A];if(T!==null)for(b[A]=null,A=0;A<T.length;A++){var C=T[A];C!==null&&(C.lane&=-536870913)}n&=~k}o!==0&&G0(e,o,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(l&~t))}function G0(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-Oo(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|n&261930}function q0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Oo(n),s=1<<o;s&t|e[o]&t&&(e[o]|=t),n&=~s}}function W0(e,t){var n=t&-t;return n=n&42?1:mp(n),n&(e.suspendedLanes|t)?0:n}function mp(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yp(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Y0(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:fm(e.type))}function Eg(e,t){var n=nt.p;try{return nt.p=e,t()}finally{nt.p=n}}var Ks=Math.random().toString(36).slice(2),In="__reactFiber$"+Ks,go="__reactProps$"+Ks,kl="__reactContainer$"+Ks,Td="__reactEvents$"+Ks,Qy="__reactListeners$"+Ks,Vy="__reactHandles$"+Ks,Bg="__reactResources$"+Ks,_r="__reactMarker$"+Ks;function bp(e){delete e[In],delete e[go],delete e[Td],delete e[Qy],delete e[Vy]}function Zi(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kl]||n[In]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wf(e);e!==null;){if(n=e[In])return n;e=Wf(e)}return t}e=n,n=e.parentNode}return null}function Al(e){if(e=e[In]||e[kl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function nr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(W(33))}function ll(e){var t=e[Bg];return t||(t=e[Bg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function jn(e){e[_r]=!0}var P0=new Set,X0={};function ki(e,t){hl(e,t),hl(e+"Capture",t)}function hl(e,t){for(X0[e]=t,e=0;e<t.length;e++)P0.add(t[e])}var Zy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_g={},Fg={};function Ky(e){return Sd.call(Fg,e)?!0:Sd.call(_g,e)?!1:Zy.test(e)?Fg[e]=!0:(_g[e]=!0,!1)}function cc(e,t,n){if(Ky(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Zr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ja(e,t,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+o)}}function Vo(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function J0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $y(e,t,n){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var s=o.get,i=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wd(e){if(!e._valueTracker){var t=J0(e)?"checked":"value";e._valueTracker=$y(e,t,""+e[t])}}function Q0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=J0(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Ic(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var eb=/[\n"\\]/g;function $o(e){return e.replace(eb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function jd(e,t,n,o,s,i,l,d){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vo(t)):e.value!==""+Vo(t)&&(e.value=""+Vo(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?Cd(e,l,Vo(t)):n!=null?Cd(e,l,Vo(n)):o!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.name=""+Vo(d):e.removeAttribute("name")}function V0(e,t,n,o,s,i,l,d){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){wd(e);return}n=n!=null?""+Vo(n):"",t=t!=null?""+Vo(t):n,d||t===e.value||(e.value=t),e.defaultValue=t}o=o??s,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=d?e.checked:!!o,e.defaultChecked=!!o,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),wd(e)}function Cd(e,t,n){t==="number"&&Ic(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function rl(e,t,n,o){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&o&&(e[n].defaultSelected=!0)}else{for(n=""+Vo(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Z0(e,t,n){if(t!=null&&(t=""+Vo(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Vo(n):""}function K0(e,t,n,o){if(t==null){if(o!=null){if(n!=null)throw Error(W(92));if(tr(o)){if(1<o.length)throw Error(W(93));o=o[0]}n=o}n==null&&(n=""),t=n}n=Vo(t),e.defaultValue=n,o=e.textContent,o===n&&o!==""&&o!==null&&(e.value=o),wd(e)}function xl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hg(e,t,n){var o=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,n):typeof n!="number"||n===0||tb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function $0(e,t,n){if(t!=null&&typeof t!="object")throw Error(W(62));if(e=e.style,n!=null){for(var o in n)!n.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var s in t)o=t[s],t.hasOwnProperty(s)&&n[s]!==o&&Hg(e,s,o)}else for(var i in t)t.hasOwnProperty(i)&&Hg(e,i,t[i])}function vp(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ob=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uc(e){return ob.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function as(){}var kd=null;function Sp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,cl=null;function Lg(e){var t=Al(e);if(t&&(e=t.stateNode)){var n=e[go]||null;e:switch(e=t.stateNode,t.type){case"input":if(jd(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$o(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var s=o[go]||null;if(!s)throw Error(W(90));jd(o,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)o=n[t],o.form===e.form&&Q0(o)}break e;case"textarea":Z0(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&rl(e,!!n.multiple,t,!1)}}}var zu=!1;function eh(e,t,n){if(zu)return e(t,n);zu=!0;try{var o=e(t);return o}finally{if(zu=!1,(Ki!==null||cl!==null)&&(fu(),Ki&&(t=Ki,e=cl,cl=Ki=null,Lg(t),e)))for(t=0;t<e.length;t++)Lg(e[t])}}function vr(e,t){var n=e.stateNode;if(n===null)return null;var o=n[go]||null;if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ad=!1;if(cs)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Ad=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Ad=!1}var Es=null,Tp=null,dc=null;function th(){if(dc)return dc;var e,t=Tp,n=t.length,o,s="value"in Es?Es.value:Es.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(o=1;o<=l&&t[n-o]===s[i-o];o++);return dc=s.slice(e,1<o?1-o:void 0)}function pc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kr(){return!0}function Ug(){return!1}function fo(e){function t(n,o,s,i,l){this._reactName=n,this._targetInst=s,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(i):i[d]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kr:Ug,this.isPropagationStopped=Ug,this}return Mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ou=fo(Ai),Fr=Mt({},Ai,{view:0,detail:0}),ab=fo(Fr),Du,Ou,Gl,au=Mt({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gl&&(Gl&&e.type==="mousemove"?(Du=e.screenX-Gl.screenX,Ou=e.screenY-Gl.screenY):Ou=Du=0,Gl=e),Du)},movementY:function(e){return"movementY"in e?e.movementY:Ou}}),Gg=fo(au),sb=Mt({},au,{dataTransfer:0}),ib=fo(sb),lb=Mt({},Fr,{relatedTarget:0}),Nu=fo(lb),rb=Mt({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),cb=fo(rb),ub=Mt({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),db=fo(ub),pb=Mt({},Ai,{data:0}),qg=fo(pb),gb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hb[e])?!!t[e]:!1}function wp(){return xb}var mb=Mt({},Fr,{key:function(e){if(e.key){var t=gb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wp,charCode:function(e){return e.type==="keypress"?pc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yb=fo(mb),bb=Mt({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wg=fo(bb),vb=Mt({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wp}),Sb=fo(vb),Tb=Mt({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),wb=fo(Tb),jb=Mt({},au,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cb=fo(jb),kb=Mt({},Ai,{newState:0,oldState:0}),Ab=fo(kb),Ib=[9,13,27,32],jp=cs&&"CompositionEvent"in window,ir=null;cs&&"documentMode"in document&&(ir=document.documentMode);var Mb=cs&&"TextEvent"in window&&!ir,nh=cs&&(!jp||ir&&8<ir&&11>=ir),Yg=" ",Pg=!1;function oh(e,t){switch(e){case"keyup":return Ib.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $i=!1;function zb(e,t){switch(e){case"compositionend":return ah(t);case"keypress":return t.which!==32?null:(Pg=!0,Yg);case"textInput":return e=t.data,e===Yg&&Pg?null:e;default:return null}}function Db(e,t){if($i)return e==="compositionend"||!jp&&oh(e,t)?(e=th(),dc=Tp=Es=null,$i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nh&&t.locale!=="ko"?null:t.data;default:return null}}var Ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ob[e.type]:t==="textarea"}function sh(e,t,n,o){Ki?cl?cl.push(o):cl=[o]:Ki=o,t=Pc(t,"onChange"),0<t.length&&(n=new ou("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var lr=null,Sr=null;function Nb(e){em(e,0)}function su(e){var t=nr(e);if(Q0(t))return e}function Jg(e,t){if(e==="change")return t}var ih=!1;if(cs){var Ru;if(cs){var Eu="oninput"in document;if(!Eu){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),Eu=typeof Qg.oninput=="function"}Ru=Eu}else Ru=!1;ih=Ru&&(!document.documentMode||9<document.documentMode)}function Vg(){lr&&(lr.detachEvent("onpropertychange",lh),Sr=lr=null)}function lh(e){if(e.propertyName==="value"&&su(Sr)){var t=[];sh(t,Sr,e,Sp(e)),eh(Nb,t)}}function Rb(e,t,n){e==="focusin"?(Vg(),lr=t,Sr=n,lr.attachEvent("onpropertychange",lh)):e==="focusout"&&Vg()}function Eb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return su(Sr)}function Bb(e,t){if(e==="click")return su(t)}function _b(e,t){if(e==="input"||e==="change")return su(t)}function Fb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ro=typeof Object.is=="function"?Object.is:Fb;function Tr(e,t){if(Ro(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var s=n[o];if(!Sd.call(t,s)||!Ro(e[s],t[s]))return!1}return!0}function Zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kg(e,t){var n=Zg(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zg(n)}}function rh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ch(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ic(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ic(e.document)}return t}function Cp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Hb=cs&&"documentMode"in document&&11>=document.documentMode,el=null,Id=null,rr=null,Md=!1;function $g(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Md||el==null||el!==Ic(o)||(o=el,"selectionStart"in o&&Cp(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),rr&&Tr(rr,o)||(rr=o,o=Pc(Id,"onSelect"),0<o.length&&(t=new ou("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=el)))}function ui(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tl={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionrun:ui("Transition","TransitionRun"),transitionstart:ui("Transition","TransitionStart"),transitioncancel:ui("Transition","TransitionCancel"),transitionend:ui("Transition","TransitionEnd")},Bu={},uh={};cs&&(uh=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function Ii(e){if(Bu[e])return Bu[e];if(!tl[e])return e;var t=tl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uh)return Bu[e]=t[n];return e}var dh=Ii("animationend"),ph=Ii("animationiteration"),gh=Ii("animationstart"),Lb=Ii("transitionrun"),Ub=Ii("transitionstart"),Gb=Ii("transitioncancel"),fh=Ii("transitionend"),hh=new Map,zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zd.push("scrollEnd");function xa(e,t){hh.set(e,t),ki(t,[e])}var Mc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qo=[],nl=0,kp=0;function iu(){for(var e=nl,t=kp=nl=0;t<e;){var n=Qo[t];Qo[t++]=null;var o=Qo[t];Qo[t++]=null;var s=Qo[t];Qo[t++]=null;var i=Qo[t];if(Qo[t++]=null,o!==null&&s!==null){var l=o.pending;l===null?s.next=s:(s.next=l.next,l.next=s),o.pending=s}i!==0&&xh(n,s,i)}}function lu(e,t,n,o){Qo[nl++]=e,Qo[nl++]=t,Qo[nl++]=n,Qo[nl++]=o,kp|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ap(e,t,n,o){return lu(e,t,n,o),zc(e)}function Mi(e,t){return lu(e,null,null,t),zc(e)}function xh(e,t,n){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,o=i.alternate,o!==null&&(o.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-Oo(n),e=i.hiddenUpdates,o=e[s],o===null?e[s]=[t]:o.push(t),t.lane=n|536870912),i):null}function zc(e){if(50<mr)throw mr=0,Zd=null,Error(W(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ol={};function qb(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Io(e,t,n,o){return new qb(e,t,n,o)}function Ip(e){return e=e.prototype,!(!e||!e.isReactComponent)}function is(e,t){var n=e.alternate;return n===null?(n=Io(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function mh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function gc(e,t,n,o,s,i){var l=0;if(o=e,typeof e=="function")Ip(e)&&(l=1);else if(typeof e=="string")l=J1(e,n,Oa.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case md:return e=Io(31,n,t,s),e.elementType=md,e.lanes=i,e;case Qi:return mi(n.children,s,i,t);case B0:l=8,s|=24;break;case fd:return e=Io(12,n,t,s|2),e.elementType=fd,e.lanes=i,e;case hd:return e=Io(13,n,t,s),e.elementType=hd,e.lanes=i,e;case xd:return e=Io(19,n,t,s),e.elementType=xd,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case os:l=10;break e;case _0:l=9;break e;case fp:l=11;break e;case hp:l=14;break e;case Is:l=16,o=null;break e}l=29,n=Error(W(130,e===null?"null":typeof e,"")),o=null}return t=Io(l,n,t,s),t.elementType=e,t.type=o,t.lanes=i,t}function mi(e,t,n,o){return e=Io(7,e,o,t),e.lanes=n,e}function _u(e,t,n){return e=Io(6,e,null,t),e.lanes=n,e}function yh(e){var t=Io(18,null,null,0);return t.stateNode=e,t}function Fu(e,t,n){return t=Io(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ef=new WeakMap;function ea(e,t){if(typeof e=="object"&&e!==null){var n=ef.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Rg(t)},ef.set(e,t),t)}return{value:e,source:t,stack:Rg(t)}}var al=[],sl=0,Dc=null,wr=0,Zo=[],Ko=0,Js=null,Ma=1,za="";function es(e,t){al[sl++]=wr,al[sl++]=Dc,Dc=e,wr=t}function bh(e,t,n){Zo[Ko++]=Ma,Zo[Ko++]=za,Zo[Ko++]=Js,Js=e;var o=Ma;e=za;var s=32-Oo(o)-1;o&=~(1<<s),n+=1;var i=32-Oo(t)+s;if(30<i){var l=s-s%5;i=(o&(1<<l)-1).toString(32),o>>=l,s-=l,Ma=1<<32-Oo(t)+s|n<<s|o,za=i+e}else Ma=1<<i|n<<s|o,za=e}function Mp(e){e.return!==null&&(es(e,1),bh(e,1,0))}function zp(e){for(;e===Dc;)Dc=al[--sl],al[sl]=null,wr=al[--sl],al[sl]=null;for(;e===Js;)Js=Zo[--Ko],Zo[Ko]=null,za=Zo[--Ko],Zo[Ko]=null,Ma=Zo[--Ko],Zo[Ko]=null}function vh(e,t){Zo[Ko++]=Ma,Zo[Ko++]=za,Zo[Ko++]=Js,Ma=t.id,za=t.overflow,Js=e}var Mn=null,At=null,Ye=!1,Ls=null,ta=!1,Dd=Error(W(519));function Qs(e){var t=Error(W(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jr(ea(t,e)),Dd}function tf(e){var t=e.stateNode,n=e.type,o=e.memoizedProps;switch(t[In]=e,t[go]=o,n){case"dialog":He("cancel",t),He("close",t);break;case"iframe":case"object":case"embed":He("load",t);break;case"video":case"audio":for(n=0;n<Ir.length;n++)He(Ir[n],t);break;case"source":He("error",t);break;case"img":case"image":case"link":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"input":He("invalid",t),V0(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":He("invalid",t);break;case"textarea":He("invalid",t),K0(t,o.value,o.defaultValue,o.children)}n=o.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||o.suppressHydrationWarning===!0||nm(t.textContent,n)?(o.popover!=null&&(He("beforetoggle",t),He("toggle",t)),o.onScroll!=null&&He("scroll",t),o.onScrollEnd!=null&&He("scrollend",t),o.onClick!=null&&(t.onclick=as),t=!0):t=!1,t||Qs(e,!0)}function nf(e){for(Mn=e.return;Mn;)switch(Mn.tag){case 5:case 31:case 13:ta=!1;return;case 27:case 3:ta=!0;return;default:Mn=Mn.return}}function _i(e){if(e!==Mn)return!1;if(!Ye)return nf(e),Ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||np(e.type,e.memoizedProps)),n=!n),n&&At&&Qs(e),nf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));At=qf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));At=qf(e)}else t===27?(t=At,$s(e.type)?(e=ip,ip=null,At=e):At=t):At=Mn?oa(e.stateNode.nextSibling):null;return!0}function Si(){At=Mn=null,Ye=!1}function Hu(){var e=Ls;return e!==null&&(uo===null?uo=e:uo.push.apply(uo,e),Ls=null),e}function jr(e){Ls===null?Ls=[e]:Ls.push(e)}var Od=Na(null),zi=null,ss=null;function zs(e,t,n){mt(Od,t._currentValue),t._currentValue=n}function ls(e){e._currentValue=Od.current,Cn(Od)}function Nd(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Rd(e,t,n,o){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var l=s.child;i=i.firstContext;e:for(;i!==null;){var d=i;i=s;for(var h=0;h<t.length;h++)if(d.context===t[h]){i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Nd(i.return,n,e),o||(l=null);break e}i=d.next}}else if(s.tag===18){if(l=s.return,l===null)throw Error(W(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),Nd(l,n,e),l=null}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}}function Il(e,t,n,o){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var l=s.alternate;if(l===null)throw Error(W(387));if(l=l.memoizedProps,l!==null){var d=s.type;Ro(s.pendingProps.value,l.value)||(e!==null?e.push(d):e=[d])}}else if(s===jc.current){if(l=s.alternate,l===null)throw Error(W(387));l.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(zr):e=[zr])}s=s.return}e!==null&&Rd(t,e,n,o),t.flags|=262144}function Oc(e){for(e=e.firstContext;e!==null;){if(!Ro(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){zi=e,ss=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zn(e){return Sh(zi,e)}function $r(e,t){return zi===null&&Ti(e),Sh(e,t)}function Sh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ss===null){if(e===null)throw Error(W(308));ss=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ss=ss.next=t;return n}var Wb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Yb=gn.unstable_scheduleCallback,Pb=gn.unstable_NormalPriority,nn={$$typeof:os,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dp(){return{controller:new Wb,data:new Map,refCount:0}}function Hr(e){e.refCount--,e.refCount===0&&Yb(Pb,function(){e.controller.abort()})}var cr=null,Ed=0,ml=0,ul=null;function Xb(e,t){if(cr===null){var n=cr=[];Ed=0,ml=ng(),ul={status:"pending",value:void 0,then:function(o){n.push(o)}}}return Ed++,t.then(of,of),t}function of(){if(--Ed===0&&cr!==null){ul!==null&&(ul.status="fulfilled");var e=cr;cr=null,ml=0,ul=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Jb(e,t){var n=[],o={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(o.status="rejected",o.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),o}var af=we.S;we.S=function(e,t){Ex=zo(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Xb(e,t),af!==null&&af(e,t)};var yi=Na(null);function Op(){var e=yi.current;return e!==null?e:ft.pooledCache}function fc(e,t){t===null?mt(yi,yi.current):mt(yi,t.pool)}function Th(){var e=Op();return e===null?null:{parent:nn._currentValue,pool:e}}var Ml=Error(W(460)),Np=Error(W(474)),ru=Error(W(542)),Nc={then:function(){}};function sf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(as,as),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rf(e),e;default:if(typeof t.status=="string")t.then(as,as);else{if(e=ft,e!==null&&100<e.shellSuspendCounter)throw Error(W(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=o}},function(o){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rf(e),e}throw bi=t,Ml}}function fi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(bi=n,Ml):n}}var bi=null;function lf(){if(bi===null)throw Error(W(459));var e=bi;return bi=null,e}function rf(e){if(e===Ml||e===ru)throw Error(W(483))}var dl=null,Cr=0;function ec(e){var t=Cr;return Cr+=1,dl===null&&(dl=[]),wh(dl,e,t)}function ql(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function tc(e,t){throw t.$$typeof===Ry?Error(W(525)):(e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jh(e){function t(m,g){if(e){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function o(m){for(var g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(m,g){return m=is(m,g),m.index=0,m.sibling=null,m}function i(m,g,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=67108866,g):y):(m.flags|=67108866,g)):(m.flags|=1048576,g)}function l(m){return e&&m.alternate===null&&(m.flags|=67108866),m}function d(m,g,y,I){return g===null||g.tag!==6?(g=_u(y,m.mode,I),g.return=m,g):(g=s(g,y),g.return=m,g)}function h(m,g,y,I){var J=y.type;return J===Qi?A(m,g,y.props.children,I,y.key):g!==null&&(g.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Is&&fi(J)===g.type)?(g=s(g,y.props),ql(g,y),g.return=m,g):(g=gc(y.type,y.key,y.props,null,m.mode,I),ql(g,y),g.return=m,g)}function b(m,g,y,I){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Fu(y,m.mode,I),g.return=m,g):(g=s(g,y.children||[]),g.return=m,g)}function A(m,g,y,I,J){return g===null||g.tag!==7?(g=mi(y,m.mode,I,J),g.return=m,g):(g=s(g,y),g.return=m,g)}function k(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=_u(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xr:return y=gc(g.type,g.key,g.props,null,m.mode,y),ql(y,g),y.return=m,y;case er:return g=Fu(g,m.mode,y),g.return=m,g;case Is:return g=fi(g),k(m,g,y)}if(tr(g)||Ll(g))return g=mi(g,m.mode,y,null),g.return=m,g;if(typeof g.then=="function")return k(m,ec(g),y);if(g.$$typeof===os)return k(m,$r(m,g),y);tc(m,g)}return null}function T(m,g,y,I){var J=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return J!==null?null:d(m,g,""+y,I);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xr:return y.key===J?h(m,g,y,I):null;case er:return y.key===J?b(m,g,y,I):null;case Is:return y=fi(y),T(m,g,y,I)}if(tr(y)||Ll(y))return J!==null?null:A(m,g,y,I,null);if(typeof y.then=="function")return T(m,g,ec(y),I);if(y.$$typeof===os)return T(m,g,$r(m,y),I);tc(m,y)}return null}function C(m,g,y,I,J){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return m=m.get(y)||null,d(g,m,""+I,J);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Xr:return m=m.get(I.key===null?y:I.key)||null,h(g,m,I,J);case er:return m=m.get(I.key===null?y:I.key)||null,b(g,m,I,J);case Is:return I=fi(I),C(m,g,y,I,J)}if(tr(I)||Ll(I))return m=m.get(y)||null,A(g,m,I,J,null);if(typeof I.then=="function")return C(m,g,y,ec(I),J);if(I.$$typeof===os)return C(m,g,y,$r(g,I),J);tc(g,I)}return null}function w(m,g,y,I){for(var J=null,B=null,L=g,ae=g=0,X=null;L!==null&&ae<y.length;ae++){L.index>ae?(X=L,L=null):X=L.sibling;var xe=T(m,L,y[ae],I);if(xe===null){L===null&&(L=X);break}e&&L&&xe.alternate===null&&t(m,L),g=i(xe,g,ae),B===null?J=xe:B.sibling=xe,B=xe,L=X}if(ae===y.length)return n(m,L),Ye&&es(m,ae),J;if(L===null){for(;ae<y.length;ae++)L=k(m,y[ae],I),L!==null&&(g=i(L,g,ae),B===null?J=L:B.sibling=L,B=L);return Ye&&es(m,ae),J}for(L=o(L);ae<y.length;ae++)X=C(L,m,ae,y[ae],I),X!==null&&(e&&X.alternate!==null&&L.delete(X.key===null?ae:X.key),g=i(X,g,ae),B===null?J=X:B.sibling=X,B=X);return e&&L.forEach(function(Ee){return t(m,Ee)}),Ye&&es(m,ae),J}function Y(m,g,y,I){if(y==null)throw Error(W(151));for(var J=null,B=null,L=g,ae=g=0,X=null,xe=y.next();L!==null&&!xe.done;ae++,xe=y.next()){L.index>ae?(X=L,L=null):X=L.sibling;var Ee=T(m,L,xe.value,I);if(Ee===null){L===null&&(L=X);break}e&&L&&Ee.alternate===null&&t(m,L),g=i(Ee,g,ae),B===null?J=Ee:B.sibling=Ee,B=Ee,L=X}if(xe.done)return n(m,L),Ye&&es(m,ae),J;if(L===null){for(;!xe.done;ae++,xe=y.next())xe=k(m,xe.value,I),xe!==null&&(g=i(xe,g,ae),B===null?J=xe:B.sibling=xe,B=xe);return Ye&&es(m,ae),J}for(L=o(L);!xe.done;ae++,xe=y.next())xe=C(L,m,ae,xe.value,I),xe!==null&&(e&&xe.alternate!==null&&L.delete(xe.key===null?ae:xe.key),g=i(xe,g,ae),B===null?J=xe:B.sibling=xe,B=xe);return e&&L.forEach(function(be){return t(m,be)}),Ye&&es(m,ae),J}function D(m,g,y,I){if(typeof y=="object"&&y!==null&&y.type===Qi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Xr:e:{for(var J=y.key;g!==null;){if(g.key===J){if(J=y.type,J===Qi){if(g.tag===7){n(m,g.sibling),I=s(g,y.props.children),I.return=m,m=I;break e}}else if(g.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Is&&fi(J)===g.type){n(m,g.sibling),I=s(g,y.props),ql(I,y),I.return=m,m=I;break e}n(m,g);break}else t(m,g);g=g.sibling}y.type===Qi?(I=mi(y.props.children,m.mode,I,y.key),I.return=m,m=I):(I=gc(y.type,y.key,y.props,null,m.mode,I),ql(I,y),I.return=m,m=I)}return l(m);case er:e:{for(J=y.key;g!==null;){if(g.key===J)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(m,g.sibling),I=s(g,y.children||[]),I.return=m,m=I;break e}else{n(m,g);break}else t(m,g);g=g.sibling}I=Fu(y,m.mode,I),I.return=m,m=I}return l(m);case Is:return y=fi(y),D(m,g,y,I)}if(tr(y))return w(m,g,y,I);if(Ll(y)){if(J=Ll(y),typeof J!="function")throw Error(W(150));return y=J.call(y),Y(m,g,y,I)}if(typeof y.then=="function")return D(m,g,ec(y),I);if(y.$$typeof===os)return D(m,g,$r(m,y),I);tc(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(m,g.sibling),I=s(g,y),I.return=m,m=I):(n(m,g),I=_u(y,m.mode,I),I.return=m,m=I),l(m)):n(m,g)}return function(m,g,y,I){try{Cr=0;var J=D(m,g,y,I);return dl=null,J}catch(L){if(L===Ml||L===ru)throw L;var B=Io(29,L,null,m.mode);return B.lanes=I,B.return=m,B}finally{}}}var wi=jh(!0),Ch=jh(!1),Ms=!1;function Rp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gs(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,tt&2){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,t=zc(e),xh(e,null,n),t}return lu(e,o,t,n),zc(e)}function ur(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,q0(e,n)}}function Lu(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:o.shared,callbacks:o.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _d=!1;function dr(){if(_d){var e=ul;if(e!==null)throw e}}function pr(e,t,n,o){_d=!1;var s=e.updateQueue;Ms=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var h=d,b=h.next;h.next=null,l===null?i=b:l.next=b,l=h;var A=e.alternate;A!==null&&(A=A.updateQueue,d=A.lastBaseUpdate,d!==l&&(d===null?A.firstBaseUpdate=b:d.next=b,A.lastBaseUpdate=h))}if(i!==null){var k=s.baseState;l=0,A=b=h=null,d=i;do{var T=d.lane&-536870913,C=T!==d.lane;if(C?(qe&T)===T:(o&T)===T){T!==0&&T===ml&&(_d=!0),A!==null&&(A=A.next={lane:0,tag:d.tag,payload:d.payload,callback:null,next:null});e:{var w=e,Y=d;T=t;var D=n;switch(Y.tag){case 1:if(w=Y.payload,typeof w=="function"){k=w.call(D,k,T);break e}k=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=Y.payload,T=typeof w=="function"?w.call(D,k,T):w,T==null)break e;k=Mt({},k,T);break e;case 2:Ms=!0}}T=d.callback,T!==null&&(e.flags|=64,C&&(e.flags|=8192),C=s.callbacks,C===null?s.callbacks=[T]:C.push(T))}else C={lane:T,tag:d.tag,payload:d.payload,callback:d.callback,next:null},A===null?(b=A=C,h=k):A=A.next=C,l|=T;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;C=d,d=C.next,C.next=null,s.lastBaseUpdate=C,s.shared.pending=null}}while(!0);A===null&&(h=k),s.baseState=h,s.firstBaseUpdate=b,s.lastBaseUpdate=A,i===null&&(s.shared.lanes=0),Zs|=l,e.lanes=l,e.memoizedState=k}}function kh(e,t){if(typeof e!="function")throw Error(W(191,e));e.call(t)}function Ah(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)kh(n[e],t)}var yl=Na(null),Rc=Na(0);function cf(e,t){e=gs,mt(Rc,e),mt(yl,t),gs=e|t.baseLanes}function Fd(){mt(Rc,gs),mt(yl,yl.current)}function Ep(){gs=Rc.current,Cn(yl),Cn(Rc)}var Eo=Na(null),na=null;function Ds(e){var t=e.alternate;mt(Vt,Vt.current&1),mt(Eo,e),na===null&&(t===null||yl.current!==null||t.memoizedState!==null)&&(na=e)}function Hd(e){mt(Vt,Vt.current),mt(Eo,e),na===null&&(na=e)}function Ih(e){e.tag===22?(mt(Vt,Vt.current),mt(Eo,e),na===null&&(na=e)):Os()}function Os(){mt(Vt,Vt.current),mt(Eo,Eo.current)}function Ao(e){Cn(Eo),na===e&&(na=null),Cn(Vt)}var Vt=Na(0);function Ec(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ap(n)||sp(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=0,Re=null,gt=null,en=null,Bc=!1,pl=!1,ji=!1,_c=0,kr=0,gl=null,Qb=0;function Yt(){throw Error(W(321))}function Bp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ro(e[n],t[n]))return!1;return!0}function _p(e,t,n,o,s,i){return us=i,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,we.H=e===null||e.memoizedState===null?sx:Jp,ji=!1,i=n(o,s),ji=!1,pl&&(i=zh(t,n,o,s)),Mh(e),i}function Mh(e){we.H=Ar;var t=gt!==null&&gt.next!==null;if(us=0,en=gt=Re=null,Bc=!1,kr=0,gl=null,t)throw Error(W(300));e===null||on||(e=e.dependencies,e!==null&&Oc(e)&&(on=!0))}function zh(e,t,n,o){Re=e;var s=0;do{if(pl&&(gl=null),kr=0,pl=!1,25<=s)throw Error(W(301));if(s+=1,en=gt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}we.H=ix,i=t(n,o)}while(pl);return i}function Vb(){var e=we.H,t=e.useState()[0];return t=typeof t.then=="function"?Lr(t):t,e=e.useState()[0],(gt!==null?gt.memoizedState:null)!==e&&(Re.flags|=1024),t}function Fp(){var e=_c!==0;return _c=0,e}function Hp(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Lp(e){if(Bc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Bc=!1}us=0,en=gt=Re=null,pl=!1,kr=_c=0,gl=null}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Re.memoizedState=en=e:en=en.next=e,en}function Zt(){if(gt===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=en===null?Re.memoizedState:en.next;if(t!==null)en=t,gt=e;else{if(e===null)throw Re.alternate===null?Error(W(467)):Error(W(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},en===null?Re.memoizedState=en=e:en=en.next=e}return en}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lr(e){var t=kr;return kr+=1,gl===null&&(gl=[]),e=wh(gl,e,t),t=Re,(en===null?t.memoizedState:en.next)===null&&(t=t.alternate,we.H=t===null||t.memoizedState===null?sx:Jp),e}function uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lr(e);if(e.$$typeof===os)return zn(e)}throw Error(W(438,String(e)))}function Up(e){var t=null,n=Re.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=cu(),Re.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),o=0;o<e;o++)n[o]=Ey;return t.index++,n}function ds(e,t){return typeof t=="function"?t(e):t}function hc(e){var t=Zt();return Gp(t,gt,e)}function Gp(e,t,n){var o=e.queue;if(o===null)throw Error(W(311));o.lastRenderedReducer=n;var s=e.baseQueue,i=o.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}t.baseQueue=s=i,o.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var d=l=null,h=null,b=t,A=!1;do{var k=b.lane&-536870913;if(k!==b.lane?(qe&k)===k:(us&k)===k){var T=b.revertLane;if(T===0)h!==null&&(h=h.next={lane:0,revertLane:0,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),k===ml&&(A=!0);else if((us&T)===T){b=b.next,T===ml&&(A=!0);continue}else k={lane:0,revertLane:b.revertLane,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},h===null?(d=h=k,l=i):h=h.next=k,Re.lanes|=T,Zs|=T;k=b.action,ji&&n(i,k),i=b.hasEagerState?b.eagerState:n(i,k)}else T={lane:k,revertLane:b.revertLane,gesture:b.gesture,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},h===null?(d=h=T,l=i):h=h.next=T,Re.lanes|=k,Zs|=k;b=b.next}while(b!==null&&b!==t);if(h===null?l=i:h.next=d,!Ro(i,e.memoizedState)&&(on=!0,A&&(n=ul,n!==null)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=h,o.lastRenderedState=i}return s===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Uu(e){var t=Zt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var o=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);Ro(i,t.memoizedState)||(on=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Dh(e,t,n){var o=Re,s=Zt(),i=Ye;if(i){if(n===void 0)throw Error(W(407));n=n()}else n=t();var l=!Ro((gt||s).memoizedState,n);if(l&&(s.memoizedState=n,on=!0),s=s.queue,qp(Rh.bind(null,o,s,e),[e]),s.getSnapshot!==t||l||en!==null&&en.memoizedState.tag&1){if(o.flags|=2048,bl(9,{destroy:void 0},Nh.bind(null,o,s,n,t),null),ft===null)throw Error(W(349));i||us&127||Oh(o,t,n)}return n}function Oh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t=cu(),Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Nh(e,t,n,o){t.value=n,t.getSnapshot=o,Eh(t)&&Bh(e)}function Rh(e,t,n){return n(function(){Eh(t)&&Bh(e)})}function Eh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ro(e,n)}catch{return!0}}function Bh(e){var t=Mi(e,2);t!==null&&po(t,e,2)}function Ld(e){var t=Jn();if(typeof e=="function"){var n=e;if(e=n(),ji){Rs(!0);try{n()}finally{Rs(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t}function _h(e,t,n,o){return e.baseState=n,Gp(e,gt,typeof o=="function"?o:ds)}function Zb(e,t,n,o,s){if(pu(e))throw Error(W(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){i.listeners.push(l)}};we.T!==null?n(!0):i.isTransition=!1,o(i),n=t.pending,n===null?(i.next=t.pending=i,Fh(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Fh(e,t){var n=t.action,o=t.payload,s=e.state;if(t.isTransition){var i=we.T,l={};we.T=l;try{var d=n(s,o),h=we.S;h!==null&&h(l,d),uf(e,t,d)}catch(b){Ud(e,t,b)}finally{i!==null&&l.types!==null&&(i.types=l.types),we.T=i}}else try{i=n(s,o),uf(e,t,i)}catch(b){Ud(e,t,b)}}function uf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(o){df(e,t,o)},function(o){return Ud(e,t,o)}):df(e,t,n)}function df(e,t,n){t.status="fulfilled",t.value=n,Hh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Fh(e,n)))}function Ud(e,t,n){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=n,Hh(t),t=t.next;while(t!==o)}e.action=null}function Hh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Lh(e,t){return t}function pf(e,t){if(Ye){var n=ft.formState;if(n!==null){e:{var o=Re;if(Ye){if(At){t:{for(var s=At,i=ta;s.nodeType!==8;){if(!i){s=null;break t}if(s=oa(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){At=oa(s.nextSibling),o=s.data==="F!";break e}}Qs(o)}o=!1}o&&(t=n[0])}}return n=Jn(),n.memoizedState=n.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lh,lastRenderedState:t},n.queue=o,n=nx.bind(null,Re,o),o.dispatch=n,o=Ld(!1),i=Xp.bind(null,Re,!1,o.queue),o=Jn(),s={state:t,dispatch:null,action:e,pending:null},o.queue=s,n=Zb.bind(null,Re,s,i,n),s.dispatch=n,o.memoizedState=e,[t,n,!1]}function gf(e){var t=Zt();return Uh(t,gt,e)}function Uh(e,t,n){if(t=Gp(e,t,Lh)[0],e=hc(ds)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Lr(t)}catch(l){throw l===Ml?ru:l}else o=t;t=Zt();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(Re.flags|=2048,bl(9,{destroy:void 0},Kb.bind(null,s,n),null)),[o,i,e]}function Kb(e,t){e.action=t}function ff(e){var t=Zt(),n=gt;if(n!==null)return Uh(t,n,e);Zt(),t=t.memoizedState,n=Zt();var o=n.queue.dispatch;return n.memoizedState=e,[t,o,!1]}function bl(e,t,n,o){return e={tag:e,create:n,deps:o,inst:t,next:null},t=Re.updateQueue,t===null&&(t=cu(),Re.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function Gh(){return Zt().memoizedState}function xc(e,t,n,o){var s=Jn();Re.flags|=e,s.memoizedState=bl(1|t,{destroy:void 0},n,o===void 0?null:o)}function du(e,t,n,o){var s=Zt();o=o===void 0?null:o;var i=s.memoizedState.inst;gt!==null&&o!==null&&Bp(o,gt.memoizedState.deps)?s.memoizedState=bl(t,i,n,o):(Re.flags|=e,s.memoizedState=bl(1|t,i,n,o))}function hf(e,t){xc(8390656,8,e,t)}function qp(e,t){du(2048,8,e,t)}function $b(e){Re.flags|=4;var t=Re.updateQueue;if(t===null)t=cu(),Re.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function qh(e){var t=Zt().memoizedState;return $b({ref:t,nextImpl:e}),function(){if(tt&2)throw Error(W(440));return t.impl.apply(void 0,arguments)}}function Wh(e,t){return du(4,2,e,t)}function Yh(e,t){return du(4,4,e,t)}function Ph(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xh(e,t,n){n=n!=null?n.concat([e]):null,du(4,4,Ph.bind(null,t,e),n)}function Wp(){}function Jh(e,t){var n=Zt();t=t===void 0?null:t;var o=n.memoizedState;return t!==null&&Bp(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Qh(e,t){var n=Zt();t=t===void 0?null:t;var o=n.memoizedState;if(t!==null&&Bp(t,o[1]))return o[0];if(o=e(),ji){Rs(!0);try{e()}finally{Rs(!1)}}return n.memoizedState=[o,t],o}function Yp(e,t,n){return n===void 0||us&1073741824&&!(qe&261930)?e.memoizedState=t:(e.memoizedState=n,e=_x(),Re.lanes|=e,Zs|=e,n)}function Vh(e,t,n,o){return Ro(n,t)?n:yl.current!==null?(e=Yp(e,n,o),Ro(e,t)||(on=!0),e):!(us&42)||us&1073741824&&!(qe&261930)?(on=!0,e.memoizedState=n):(e=_x(),Re.lanes|=e,Zs|=e,t)}function Zh(e,t,n,o,s){var i=nt.p;nt.p=i!==0&&8>i?i:8;var l=we.T,d={};we.T=d,Xp(e,!1,t,n);try{var h=s(),b=we.S;if(b!==null&&b(d,h),h!==null&&typeof h=="object"&&typeof h.then=="function"){var A=Jb(h,o);gr(e,t,A,No(e))}else gr(e,t,o,No(e))}catch(k){gr(e,t,{then:function(){},status:"rejected",reason:k},No())}finally{nt.p=i,l!==null&&d.types!==null&&(l.types=d.types),we.T=l}}function e1(){}function Gd(e,t,n,o){if(e.tag!==5)throw Error(W(476));var s=Kh(e).queue;Zh(e,s,t,xi,n===null?e1:function(){return $h(e),n(o)})}function Kh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:xi,baseState:xi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:xi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $h(e){var t=Kh(e);t.next===null&&(t=e.alternate.memoizedState),gr(e,t.next.queue,{},No())}function Pp(){return zn(zr)}function ex(){return Zt().memoizedState}function tx(){return Zt().memoizedState}function t1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=No();e=Us(n);var o=Gs(t,e,n);o!==null&&(po(o,t,n),ur(o,t,n)),t={cache:Dp()},e.payload=t;return}t=t.return}}function n1(e,t,n){var o=No();n={lane:o,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pu(e)?ox(t,n):(n=Ap(e,t,n,o),n!==null&&(po(n,e,o),ax(n,t,o)))}function nx(e,t,n){var o=No();gr(e,t,n,o)}function gr(e,t,n,o){var s={lane:o,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(pu(e))ox(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,d=i(l,n);if(s.hasEagerState=!0,s.eagerState=d,Ro(d,l))return lu(e,t,s,0),ft===null&&iu(),!1}catch{}finally{}if(n=Ap(e,t,s,o),n!==null)return po(n,e,o),ax(n,t,o),!0}return!1}function Xp(e,t,n,o){if(o={lane:2,revertLane:ng(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},pu(e)){if(t)throw Error(W(479))}else t=Ap(e,n,o,2),t!==null&&po(t,e,2)}function pu(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function ox(e,t){pl=Bc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ax(e,t,n){if(n&4194048){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,q0(e,n)}}var Ar={readContext:zn,use:uu,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt};Ar.useEffectEvent=Yt;var sx={readContext:zn,use:uu,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:zn,useEffect:hf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,xc(4194308,4,Ph.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xc(4194308,4,e,t)},useInsertionEffect:function(e,t){xc(4,2,e,t)},useMemo:function(e,t){var n=Jn();t=t===void 0?null:t;var o=e();if(ji){Rs(!0);try{e()}finally{Rs(!1)}}return n.memoizedState=[o,t],o},useReducer:function(e,t,n){var o=Jn();if(n!==void 0){var s=n(t);if(ji){Rs(!0);try{n(t)}finally{Rs(!1)}}}else s=t;return o.memoizedState=o.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},o.queue=e,e=e.dispatch=n1.bind(null,Re,e),[o.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:function(e){e=Ld(e);var t=e.queue,n=nx.bind(null,Re,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wp,useDeferredValue:function(e,t){var n=Jn();return Yp(n,e,t)},useTransition:function(){var e=Ld(!1);return e=Zh.bind(null,Re,e.queue,!0,!1),Jn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=Re,s=Jn();if(Ye){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),ft===null)throw Error(W(349));qe&127||Oh(o,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,hf(Rh.bind(null,o,i,e),[e]),o.flags|=2048,bl(9,{destroy:void 0},Nh.bind(null,o,i,n,t),null),n},useId:function(){var e=Jn(),t=ft.identifierPrefix;if(Ye){var n=za,o=Ma;n=(o&~(1<<32-Oo(o)-1)).toString(32)+n,t="_"+t+"R_"+n,n=_c++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Qb++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Pp,useFormState:pf,useActionState:pf,useOptimistic:function(e){var t=Jn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Xp.bind(null,Re,!0,n),n.dispatch=t,[e,t]},useMemoCache:Up,useCacheRefresh:function(){return Jn().memoizedState=t1.bind(null,Re)},useEffectEvent:function(e){var t=Jn(),n={impl:e};return t.memoizedState=n,function(){if(tt&2)throw Error(W(440));return n.impl.apply(void 0,arguments)}}},Jp={readContext:zn,use:uu,useCallback:Jh,useContext:zn,useEffect:qp,useImperativeHandle:Xh,useInsertionEffect:Wh,useLayoutEffect:Yh,useMemo:Qh,useReducer:hc,useRef:Gh,useState:function(){return hc(ds)},useDebugValue:Wp,useDeferredValue:function(e,t){var n=Zt();return Vh(n,gt.memoizedState,e,t)},useTransition:function(){var e=hc(ds)[0],t=Zt().memoizedState;return[typeof e=="boolean"?e:Lr(e),t]},useSyncExternalStore:Dh,useId:ex,useHostTransitionStatus:Pp,useFormState:gf,useActionState:gf,useOptimistic:function(e,t){var n=Zt();return _h(n,gt,e,t)},useMemoCache:Up,useCacheRefresh:tx};Jp.useEffectEvent=qh;var ix={readContext:zn,use:uu,useCallback:Jh,useContext:zn,useEffect:qp,useImperativeHandle:Xh,useInsertionEffect:Wh,useLayoutEffect:Yh,useMemo:Qh,useReducer:Uu,useRef:Gh,useState:function(){return Uu(ds)},useDebugValue:Wp,useDeferredValue:function(e,t){var n=Zt();return gt===null?Yp(n,e,t):Vh(n,gt.memoizedState,e,t)},useTransition:function(){var e=Uu(ds)[0],t=Zt().memoizedState;return[typeof e=="boolean"?e:Lr(e),t]},useSyncExternalStore:Dh,useId:ex,useHostTransitionStatus:Pp,useFormState:ff,useActionState:ff,useOptimistic:function(e,t){var n=Zt();return gt!==null?_h(n,gt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Up,useCacheRefresh:tx};ix.useEffectEvent=qh;function Gu(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:Mt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qd={enqueueSetState:function(e,t,n){e=e._reactInternals;var o=No(),s=Us(o);s.payload=t,n!=null&&(s.callback=n),t=Gs(e,s,o),t!==null&&(po(t,e,o),ur(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=No(),s=Us(o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Gs(e,s,o),t!==null&&(po(t,e,o),ur(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=No(),o=Us(n);o.tag=2,t!=null&&(o.callback=t),t=Gs(e,o,n),t!==null&&(po(t,e,n),ur(t,e,n))}};function xf(e,t,n,o,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,l):t.prototype&&t.prototype.isPureReactComponent?!Tr(n,o)||!Tr(s,i):!0}function mf(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&qd.enqueueReplaceState(t,t.state,null)}function Ci(e,t){var n=t;if("ref"in t){n={};for(var o in t)o!=="ref"&&(n[o]=t[o])}if(e=e.defaultProps){n===t&&(n=Mt({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function lx(e){Mc(e)}function rx(e){console.error(e)}function cx(e){Mc(e)}function Fc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function yf(e,t,n){try{var o=e.onCaughtError;o(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Wd(e,t,n){return n=Us(n),n.tag=3,n.payload={element:null},n.callback=function(){Fc(e,t)},n}function ux(e){return e=Us(e),e.tag=3,e}function dx(e,t,n,o){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=o.value;e.payload=function(){return s(i)},e.callback=function(){yf(t,n,o)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){yf(t,n,o),typeof s!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var d=o.stack;this.componentDidCatch(o.value,{componentStack:d!==null?d:""})})}function o1(e,t,n,o,s){if(n.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=n.alternate,t!==null&&Il(t,n,s,!0),n=Eo.current,n!==null){switch(n.tag){case 31:case 13:return na===null?qc():n.alternate===null&&Pt===0&&(Pt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,o===Nc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([o]):t.add(o),$u(e,o,s)),!1;case 22:return n.flags|=65536,o===Nc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([o]):n.add(o)),$u(e,o,s)),!1}throw Error(W(435,n.tag))}return $u(e,o,s),qc(),!1}if(Ye)return t=Eo.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,o!==Dd&&(e=Error(W(422),{cause:o}),jr(ea(e,n)))):(o!==Dd&&(t=Error(W(423),{cause:o}),jr(ea(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,o=ea(o,n),s=Wd(e.stateNode,o,s),Lu(e,s),Pt!==4&&(Pt=2)),!1;var i=Error(W(520),{cause:o});if(i=ea(i,n),xr===null?xr=[i]:xr.push(i),Pt!==4&&(Pt=2),t===null)return!0;o=ea(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Wd(n.stateNode,o,e),Lu(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(qs===null||!qs.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=ux(s),dx(s,e,n,o),Lu(n,s),!1}n=n.return}while(n!==null);return!1}var Qp=Error(W(461)),on=!1;function An(e,t,n,o){t.child=e===null?Ch(t,null,n,o):wi(t,e.child,n,o)}function bf(e,t,n,o,s){n=n.render;var i=t.ref;if("ref"in o){var l={};for(var d in o)d!=="ref"&&(l[d]=o[d])}else l=o;return Ti(t),o=_p(e,t,n,l,i,s),d=Fp(),e!==null&&!on?(Hp(e,t,s),ps(e,t,s)):(Ye&&d&&Mp(t),t.flags|=1,An(e,t,o,s),t.child)}function vf(e,t,n,o,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ip(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,px(e,t,i,o,s)):(e=gc(n.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Vp(e,s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Tr,n(l,o)&&e.ref===t.ref)return ps(e,t,s)}return t.flags|=1,e=is(i,o),e.ref=t.ref,e.return=t,t.child=e}function px(e,t,n,o,s){if(e!==null){var i=e.memoizedProps;if(Tr(i,o)&&e.ref===t.ref)if(on=!1,t.pendingProps=o=i,Vp(e,s))e.flags&131072&&(on=!0);else return t.lanes=e.lanes,ps(e,t,s)}return Yd(e,t,n,o,s)}function gx(e,t,n,o){var s=o.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(o=t.child=e.child,s=0;o!==null;)s=s|o.lanes|o.childLanes,o=o.sibling;o=s&~i}else o=0,t.child=null;return Sf(e,t,i,n,o)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&fc(t,i!==null?i.cachePool:null),i!==null?cf(t,i):Fd(),Ih(t);else return o=t.lanes=536870912,Sf(e,t,i!==null?i.baseLanes|n:n,n,o)}else i!==null?(fc(t,i.cachePool),cf(t,i),Os(),t.memoizedState=null):(e!==null&&fc(t,null),Fd(),Os());return An(e,t,s,n),t.child}function or(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Sf(e,t,n,o,s){var i=Op();return i=i===null?null:{parent:nn._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&fc(t,null),Fd(),Ih(t),e!==null&&Il(e,t,o,!0),t.childLanes=s,null}function mc(e,t){return t=Hc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Tf(e,t,n){return wi(t,e.child,null,n),e=mc(t,t.pendingProps),e.flags|=2,Ao(t),t.memoizedState=null,e}function a1(e,t,n){var o=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ye){if(o.mode==="hidden")return e=mc(t,o),t.lanes=536870912,or(null,e);if(Hd(t),(e=At)?(e=sm(e,ta),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Js!==null?{id:Ma,overflow:za}:null,retryLane:536870912,hydrationErrors:null},n=yh(e),n.return=t,t.child=n,Mn=t,At=null)):e=null,e===null)throw Qs(t);return t.lanes=536870912,null}return mc(t,o)}var i=e.memoizedState;if(i!==null){var l=i.dehydrated;if(Hd(t),s)if(t.flags&256)t.flags&=-257,t=Tf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(W(558));else if(on||Il(e,t,n,!1),s=(n&e.childLanes)!==0,on||s){if(o=ft,o!==null&&(l=W0(o,n),l!==0&&l!==i.retryLane))throw i.retryLane=l,Mi(e,l),po(o,e,l),Qp;qc(),t=Tf(e,t,n)}else e=i.treeContext,At=oa(l.nextSibling),Mn=t,Ye=!0,Ls=null,ta=!1,e!==null&&vh(t,e),t=mc(t,o),t.flags|=4096;return t}return e=is(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function yc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(W(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Yd(e,t,n,o,s){return Ti(t),n=_p(e,t,n,o,void 0,s),o=Fp(),e!==null&&!on?(Hp(e,t,s),ps(e,t,s)):(Ye&&o&&Mp(t),t.flags|=1,An(e,t,n,s),t.child)}function wf(e,t,n,o,s,i){return Ti(t),t.updateQueue=null,n=zh(t,o,n,s),Mh(e),o=Fp(),e!==null&&!on?(Hp(e,t,i),ps(e,t,i)):(Ye&&o&&Mp(t),t.flags|=1,An(e,t,n,i),t.child)}function jf(e,t,n,o,s){if(Ti(t),t.stateNode===null){var i=ol,l=n.contextType;typeof l=="object"&&l!==null&&(i=zn(l)),i=new n(o,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=qd,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=o,i.state=t.memoizedState,i.refs={},Rp(t),l=n.contextType,i.context=typeof l=="object"&&l!==null?zn(l):ol,i.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(Gu(t,n,l,o),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(l=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),l!==i.state&&qd.enqueueReplaceState(i,i.state,null),pr(t,o,i,s),dr(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){i=t.stateNode;var d=t.memoizedProps,h=Ci(n,d);i.props=h;var b=i.context,A=n.contextType;l=ol,typeof A=="object"&&A!==null&&(l=zn(A));var k=n.getDerivedStateFromProps;A=typeof k=="function"||typeof i.getSnapshotBeforeUpdate=="function",d=t.pendingProps!==d,A||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(d||b!==l)&&mf(t,i,o,l),Ms=!1;var T=t.memoizedState;i.state=T,pr(t,o,i,s),dr(),b=t.memoizedState,d||T!==b||Ms?(typeof k=="function"&&(Gu(t,n,k,o),b=t.memoizedState),(h=Ms||xf(t,n,h,o,T,b,l))?(A||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=b),i.props=o,i.state=b,i.context=l,o=h):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{i=t.stateNode,Bd(e,t),l=t.memoizedProps,A=Ci(n,l),i.props=A,k=t.pendingProps,T=i.context,b=n.contextType,h=ol,typeof b=="object"&&b!==null&&(h=zn(b)),d=n.getDerivedStateFromProps,(b=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==k||T!==h)&&mf(t,i,o,h),Ms=!1,T=t.memoizedState,i.state=T,pr(t,o,i,s),dr();var C=t.memoizedState;l!==k||T!==C||Ms||e!==null&&e.dependencies!==null&&Oc(e.dependencies)?(typeof d=="function"&&(Gu(t,n,d,o),C=t.memoizedState),(A=Ms||xf(t,n,A,o,T,C,h)||e!==null&&e.dependencies!==null&&Oc(e.dependencies))?(b||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(o,C,h),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(o,C,h)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=C),i.props=o,i.state=C,i.context=h,o=A):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),o=!1)}return i=o,yc(e,t),o=(t.flags&128)!==0,i||o?(i=t.stateNode,n=o&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&o?(t.child=wi(t,e.child,null,s),t.child=wi(t,null,n,s)):An(e,t,n,s),t.memoizedState=i.state,e=t.child):e=ps(e,t,s),e}function Cf(e,t,n,o){return Si(),t.flags|=256,An(e,t,n,o),t.child}var qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wu(e){return{baseLanes:e,cachePool:Th()}}function Yu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Mo),e}function fx(e,t,n){var o=t.pendingProps,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(Vt.current&2)!==0),l&&(s=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ye){if(s?Ds(t):Os(),(e=At)?(e=sm(e,ta),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Js!==null?{id:Ma,overflow:za}:null,retryLane:536870912,hydrationErrors:null},n=yh(e),n.return=t,t.child=n,Mn=t,At=null)):e=null,e===null)throw Qs(t);return sp(e)?t.lanes=32:t.lanes=536870912,null}var d=o.children;return o=o.fallback,s?(Os(),s=t.mode,d=Hc({mode:"hidden",children:d},s),o=mi(o,s,n,null),d.return=t,o.return=t,d.sibling=o,t.child=d,o=t.child,o.memoizedState=Wu(n),o.childLanes=Yu(e,l,n),t.memoizedState=qu,or(null,o)):(Ds(t),Pd(t,d))}var h=e.memoizedState;if(h!==null&&(d=h.dehydrated,d!==null)){if(i)t.flags&256?(Ds(t),t.flags&=-257,t=Pu(e,t,n)):t.memoizedState!==null?(Os(),t.child=e.child,t.flags|=128,t=null):(Os(),d=o.fallback,s=t.mode,o=Hc({mode:"visible",children:o.children},s),d=mi(d,s,n,null),d.flags|=2,o.return=t,d.return=t,o.sibling=d,t.child=o,wi(t,e.child,null,n),o=t.child,o.memoizedState=Wu(n),o.childLanes=Yu(e,l,n),t.memoizedState=qu,t=or(null,o));else if(Ds(t),sp(d)){if(l=d.nextSibling&&d.nextSibling.dataset,l)var b=l.dgst;l=b,o=Error(W(419)),o.stack="",o.digest=l,jr({value:o,source:null,stack:null}),t=Pu(e,t,n)}else if(on||Il(e,t,n,!1),l=(n&e.childLanes)!==0,on||l){if(l=ft,l!==null&&(o=W0(l,n),o!==0&&o!==h.retryLane))throw h.retryLane=o,Mi(e,o),po(l,e,o),Qp;ap(d)||qc(),t=Pu(e,t,n)}else ap(d)?(t.flags|=192,t.child=e.child,t=null):(e=h.treeContext,At=oa(d.nextSibling),Mn=t,Ye=!0,Ls=null,ta=!1,e!==null&&vh(t,e),t=Pd(t,o.children),t.flags|=4096);return t}return s?(Os(),d=o.fallback,s=t.mode,h=e.child,b=h.sibling,o=is(h,{mode:"hidden",children:o.children}),o.subtreeFlags=h.subtreeFlags&65011712,b!==null?d=is(b,d):(d=mi(d,s,n,null),d.flags|=2),d.return=t,o.return=t,o.sibling=d,t.child=o,or(null,o),o=t.child,d=e.child.memoizedState,d===null?d=Wu(n):(s=d.cachePool,s!==null?(h=nn._currentValue,s=s.parent!==h?{parent:h,pool:h}:s):s=Th(),d={baseLanes:d.baseLanes|n,cachePool:s}),o.memoizedState=d,o.childLanes=Yu(e,l,n),t.memoizedState=qu,or(e.child,o)):(Ds(t),n=e.child,e=n.sibling,n=is(n,{mode:"visible",children:o.children}),n.return=t,n.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function Pd(e,t){return t=Hc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Hc(e,t){return e=Io(22,e,null,t),e.lanes=0,e}function Pu(e,t,n){return wi(t,e.child,null,n),e=Pd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kf(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Nd(e.return,t,n)}function Xu(e,t,n,o,s,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:s,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=o,l.tail=n,l.tailMode=s,l.treeForkCount=i)}function hx(e,t,n){var o=t.pendingProps,s=o.revealOrder,i=o.tail;o=o.children;var l=Vt.current,d=(l&2)!==0;if(d?(l=l&1|2,t.flags|=128):l&=1,mt(Vt,l),An(e,t,o,n),o=Ye?wr:0,!d&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kf(e,n,t);else if(e.tag===19)kf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ec(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Xu(t,!1,s,n,i,o);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ec(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Xu(t,!0,n,null,i,o);break;case"together":Xu(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function ps(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zs|=t.lanes,!(n&t.childLanes))if(e!==null){if(Il(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=is(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=is(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vp(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Oc(e)))}function s1(e,t,n){switch(t.tag){case 3:Cc(t,t.stateNode.containerInfo),zs(t,nn,e.memoizedState.cache),Si();break;case 27:case 5:vd(t);break;case 4:Cc(t,t.stateNode.containerInfo);break;case 10:zs(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Hd(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(Ds(t),t.flags|=128,null):n&t.child.childLanes?fx(e,t,n):(Ds(t),e=ps(e,t,n),e!==null?e.sibling:null);Ds(t);break;case 19:var s=(e.flags&128)!==0;if(o=(n&t.childLanes)!==0,o||(Il(e,t,n,!1),o=(n&t.childLanes)!==0),s){if(o)return hx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),mt(Vt,Vt.current),o)break;return null;case 22:return t.lanes=0,gx(e,t,n,t.pendingProps);case 24:zs(t,nn,e.memoizedState.cache)}return ps(e,t,n)}function xx(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)on=!0;else{if(!Vp(e,n)&&!(t.flags&128))return on=!1,s1(e,t,n);on=!!(e.flags&131072)}else on=!1,Ye&&t.flags&1048576&&bh(t,wr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=fi(t.elementType),t.type=e,typeof e=="function")Ip(e)?(o=Ci(e,o),t.tag=1,t=jf(null,t,e,o,n)):(t.tag=0,t=Yd(null,t,e,o,n));else{if(e!=null){var s=e.$$typeof;if(s===fp){t.tag=11,t=bf(null,t,e,o,n);break e}else if(s===hp){t.tag=14,t=vf(null,t,e,o,n);break e}}throw t=yd(e)||e,Error(W(306,t,""))}}return t;case 0:return Yd(e,t,t.type,t.pendingProps,n);case 1:return o=t.type,s=Ci(o,t.pendingProps),jf(e,t,o,s,n);case 3:e:{if(Cc(t,t.stateNode.containerInfo),e===null)throw Error(W(387));o=t.pendingProps;var i=t.memoizedState;s=i.element,Bd(e,t),pr(t,o,null,n);var l=t.memoizedState;if(o=l.cache,zs(t,nn,o),o!==i.cache&&Rd(t,[nn],n,!0),dr(),o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Cf(e,t,o,n);break e}else if(o!==s){s=ea(Error(W(424)),t),jr(s),t=Cf(e,t,o,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(At=oa(e.firstChild),Mn=t,Ye=!0,Ls=null,ta=!0,n=Ch(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Si(),o===s){t=ps(e,t,n);break e}An(e,t,o,n)}t=t.child}return t;case 26:return yc(e,t),e===null?(n=Pf(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ye||(n=t.type,e=t.pendingProps,o=Xc(Hs.current).createElement(n),o[In]=t,o[go]=e,Dn(o,n,e),jn(o),t.stateNode=o):t.memoizedState=Pf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vd(t),e===null&&Ye&&(o=t.stateNode=im(t.type,t.pendingProps,Hs.current),Mn=t,ta=!0,s=At,$s(t.type)?(ip=s,At=oa(o.firstChild)):At=s),An(e,t,t.pendingProps.children,n),yc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ye&&((s=o=At)&&(o=E1(o,t.type,t.pendingProps,ta),o!==null?(t.stateNode=o,Mn=t,At=oa(o.firstChild),ta=!1,s=!0):s=!1),s||Qs(t)),vd(t),s=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,o=i.children,np(s,i)?o=null:l!==null&&np(s,l)&&(t.flags|=32),t.memoizedState!==null&&(s=_p(e,t,Vb,null,null,n),zr._currentValue=s),yc(e,t),An(e,t,o,n),t.child;case 6:return e===null&&Ye&&((e=n=At)&&(n=B1(n,t.pendingProps,ta),n!==null?(t.stateNode=n,Mn=t,At=null,e=!0):e=!1),e||Qs(t)),null;case 13:return fx(e,t,n);case 4:return Cc(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=wi(t,null,o,n):An(e,t,o,n),t.child;case 11:return bf(e,t,t.type,t.pendingProps,n);case 7:return An(e,t,t.pendingProps,n),t.child;case 8:return An(e,t,t.pendingProps.children,n),t.child;case 12:return An(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,zs(t,t.type,o.value),An(e,t,o.children,n),t.child;case 9:return s=t.type._context,o=t.pendingProps.children,Ti(t),s=zn(s),o=o(s),t.flags|=1,An(e,t,o,n),t.child;case 14:return vf(e,t,t.type,t.pendingProps,n);case 15:return px(e,t,t.type,t.pendingProps,n);case 19:return hx(e,t,n);case 31:return a1(e,t,n);case 22:return gx(e,t,n,t.pendingProps);case 24:return Ti(t),o=zn(nn),e===null?(s=Op(),s===null&&(s=ft,i=Dp(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:o,cache:s},Rp(t),zs(t,nn,s)):(e.lanes&n&&(Bd(e,t),pr(t,null,null,n),dr()),s=e.memoizedState,i=t.memoizedState,s.parent!==o?(s={parent:o,cache:o},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),zs(t,nn,o)):(o=i.cache,zs(t,nn,o),o!==s.cache&&Rd(t,[nn],n,!0))),An(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(W(156,t.tag))}function Qa(e){e.flags|=4}function Ju(e,t,n,o,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Lx())e.flags|=8192;else throw bi=Nc,Np}else e.flags&=-16777217}function Af(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!cm(t))if(Lx())e.flags|=8192;else throw bi=Nc,Np}function nc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?U0():536870912,e.lanes|=t,vl|=t)}function Wl(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,o|=s.subtreeFlags&65011712,o|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function i1(e,t,n){var o=t.pendingProps;switch(zp(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Ct(t),null;case 3:return n=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),ls(nn),fl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_i(t)?Qa(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hu())),Ct(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(Qa(t),i!==null?(Ct(t),Af(t,i)):(Ct(t),Ju(t,s,null,o,n))):i?i!==e.memoizedState?(Qa(t),Ct(t),Af(t,i)):(Ct(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&Qa(t),Ct(t),Ju(t,s,e,o,n)),null;case 27:if(kc(t),n=Hs.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Qa(t);else{if(!o){if(t.stateNode===null)throw Error(W(166));return Ct(t),null}e=Oa.current,_i(t)?tf(t):(e=im(s,o,n),t.stateNode=e,Qa(t))}return Ct(t),null;case 5:if(kc(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Qa(t);else{if(!o){if(t.stateNode===null)throw Error(W(166));return Ct(t),null}if(i=Oa.current,_i(t))tf(t);else{var l=Xc(Hs.current);switch(i){case 1:i=l.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=l.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=l.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=l.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=l.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof o.is=="string"?l.createElement("select",{is:o.is}):l.createElement("select"),o.multiple?i.multiple=!0:o.size&&(i.size=o.size);break;default:i=typeof o.is=="string"?l.createElement(s,{is:o.is}):l.createElement(s)}}i[In]=t,i[go]=o;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=i;e:switch(Dn(i,s,o),s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Qa(t)}}return Ct(t),Ju(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&Qa(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(W(166));if(e=Hs.current,_i(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,s=Mn,s!==null)switch(s.tag){case 27:case 5:o=s.memoizedProps}e[In]=t,e=!!(e.nodeValue===n||o!==null&&o.suppressHydrationWarning===!0||nm(e.nodeValue,n)),e||Qs(t,!0)}else e=Xc(e).createTextNode(o),e[In]=t,t.stateNode=e}return Ct(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(o=_i(t),n!==null){if(e===null){if(!o)throw Error(W(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(557));e[In]=t}else Si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),e=!1}else n=Hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ao(t),t):(Ao(t),null);if(t.flags&128)throw Error(W(558))}return Ct(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=_i(t),o!==null&&o.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[In]=t}else Si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),s=!1}else s=Hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Ao(t),t):(Ao(t),null)}return Ao(t),t.flags&128?(t.lanes=n,t):(n=o!==null,e=e!==null&&e.memoizedState!==null,n&&(o=t.child,s=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(s=o.alternate.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==s&&(o.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),nc(t,t.updateQueue),Ct(t),null);case 4:return fl(),e===null&&og(t.stateNode.containerInfo),Ct(t),null;case 10:return ls(t.type),Ct(t),null;case 19:if(Cn(Vt),o=t.memoizedState,o===null)return Ct(t),null;if(s=(t.flags&128)!==0,i=o.rendering,i===null)if(s)Wl(o,!1);else{if(Pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ec(e),i!==null){for(t.flags|=128,Wl(o,!1),e=i.updateQueue,t.updateQueue=e,nc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)mh(n,e),n=n.sibling;return mt(Vt,Vt.current&1|2),Ye&&es(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&zo()>Uc&&(t.flags|=128,s=!0,Wl(o,!1),t.lanes=4194304)}else{if(!s)if(e=Ec(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,nc(t,e),Wl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ye)return Ct(t),null}else 2*zo()-o.renderingStartTime>Uc&&n!==536870912&&(t.flags|=128,s=!0,Wl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(e=o.last,e!==null?e.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=zo(),e.sibling=null,n=Vt.current,mt(Vt,s?n&1|2:n&1),Ye&&es(t,o.treeForkCount),e):(Ct(t),null);case 22:case 23:return Ao(t),Ep(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?n&536870912&&!(t.flags&128)&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),n=t.updateQueue,n!==null&&nc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),e!==null&&Cn(yi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ls(nn),Ct(t),null;case 25:return null;case 30:return null}throw Error(W(156,t.tag))}function l1(e,t){switch(zp(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ls(nn),fl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return kc(t),null;case 31:if(t.memoizedState!==null){if(Ao(t),t.alternate===null)throw Error(W(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ao(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Cn(Vt),null;case 4:return fl(),null;case 10:return ls(t.type),null;case 22:case 23:return Ao(t),Ep(),e!==null&&Cn(yi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ls(nn),null;case 25:return null;default:return null}}function mx(e,t){switch(zp(t),t.tag){case 3:ls(nn),fl();break;case 26:case 27:case 5:kc(t);break;case 4:fl();break;case 31:t.memoizedState!==null&&Ao(t);break;case 13:Ao(t);break;case 19:Cn(Vt);break;case 10:ls(t.type);break;case 22:case 23:Ao(t),Ep(),e!==null&&Cn(yi);break;case 24:ls(nn)}}function Ur(e,t){try{var n=t.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var s=o.next;n=s;do{if((n.tag&e)===e){o=void 0;var i=n.create,l=n.inst;o=i(),l.destroy=o}n=n.next}while(n!==s)}}catch(d){ut(t,t.return,d)}}function Vs(e,t,n){try{var o=t.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var i=s.next;o=i;do{if((o.tag&e)===e){var l=o.inst,d=l.destroy;if(d!==void 0){l.destroy=void 0,s=t;var h=n,b=d;try{b()}catch(A){ut(s,h,A)}}}o=o.next}while(o!==i)}}catch(A){ut(t,t.return,A)}}function yx(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ah(t,n)}catch(o){ut(e,e.return,o)}}}function bx(e,t,n){n.props=Ci(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(o){ut(e,t,o)}}function fr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof n=="function"?e.refCleanup=n(o):n.current=o}}catch(s){ut(e,t,s)}}function Da(e,t){var n=e.ref,o=e.refCleanup;if(n!==null)if(typeof o=="function")try{o()}catch(s){ut(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){ut(e,t,s)}else n.current=null}function vx(e){var t=e.type,n=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break e;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(s){ut(e,e.return,s)}}function Qu(e,t,n){try{var o=e.stateNode;M1(o,e.type,n,t),o[go]=t}catch(s){ut(e,e.return,s)}}function Sx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$s(e.type)||e.tag===4}function Vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$s(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xd(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=as));else if(o!==4&&(o===27&&$s(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Xd(e,t,n),e=e.sibling;e!==null;)Xd(e,t,n),e=e.sibling}function Lc(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(o===27&&$s(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Lc(e,t,n),e=e.sibling;e!==null;)Lc(e,t,n),e=e.sibling}function Tx(e){var t=e.stateNode,n=e.memoizedProps;try{for(var o=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Dn(t,o,n),t[In]=e,t[go]=n}catch(i){ut(e,e.return,i)}}var ns=!1,tn=!1,Zu=!1,If=typeof WeakSet=="function"?WeakSet:Set,wn=null;function r1(e,t){if(e=e.containerInfo,ep=Zc,e=ch(e),Cp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var s=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,d=-1,h=-1,b=0,A=0,k=e,T=null;t:for(;;){for(var C;k!==n||s!==0&&k.nodeType!==3||(d=l+s),k!==i||o!==0&&k.nodeType!==3||(h=l+o),k.nodeType===3&&(l+=k.nodeValue.length),(C=k.firstChild)!==null;)T=k,k=C;for(;;){if(k===e)break t;if(T===n&&++b===s&&(d=l),T===i&&++A===o&&(h=l),(C=k.nextSibling)!==null)break;k=T,T=k.parentNode}k=C}n=d===-1||h===-1?null:{start:d,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(tp={focusedElem:e,selectionRange:n},Zc=!1,wn=t;wn!==null;)if(t=wn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wn=e;else for(;wn!==null;){switch(t=wn,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,o=n.stateNode;try{var w=Ci(n.type,s);e=o.getSnapshotBeforeUpdate(w,i),o.__reactInternalSnapshotBeforeUpdate=e}catch(Y){ut(n,n.return,Y)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)op(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":op(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(W(163))}if(e=t.sibling,e!==null){e.return=t.return,wn=e;break}wn=t.return}}function wx(e,t,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:Za(e,n),o&4&&Ur(5,n);break;case 1:if(Za(e,n),o&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(l){ut(n,n.return,l)}else{var s=Ci(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ut(n,n.return,l)}}o&64&&yx(n),o&512&&fr(n,n.return);break;case 3:if(Za(e,n),o&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ah(e,t)}catch(l){ut(n,n.return,l)}}break;case 27:t===null&&o&4&&Tx(n);case 26:case 5:Za(e,n),t===null&&o&4&&vx(n),o&512&&fr(n,n.return);break;case 12:Za(e,n);break;case 31:Za(e,n),o&4&&kx(e,n);break;case 13:Za(e,n),o&4&&Ax(e,n),o&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=m1.bind(null,n),_1(e,n))));break;case 22:if(o=n.memoizedState!==null||ns,!o){t=t!==null&&t.memoizedState!==null||tn,s=ns;var i=tn;ns=o,(tn=t)&&!i?$a(e,n,(n.subtreeFlags&8772)!==0):Za(e,n),ns=s,tn=i}break;case 30:break;default:Za(e,n)}}function jx(e){var t=e.alternate;t!==null&&(e.alternate=null,jx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&bp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rt=null,co=!1;function Va(e,t,n){for(n=n.child;n!==null;)Cx(e,t,n),n=n.sibling}function Cx(e,t,n){if(Do&&typeof Do.onCommitFiberUnmount=="function")try{Do.onCommitFiberUnmount(Rr,n)}catch{}switch(n.tag){case 26:tn||Da(n,t),Va(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:tn||Da(n,t);var o=Rt,s=co;$s(n.type)&&(Rt=n.stateNode,co=!1),Va(e,t,n),yr(n.stateNode),Rt=o,co=s;break;case 5:tn||Da(n,t);case 6:if(o=Rt,s=co,Rt=null,Va(e,t,n),Rt=o,co=s,Rt!==null)if(co)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(n.stateNode)}catch(i){ut(n,t,i)}else try{Rt.removeChild(n.stateNode)}catch(i){ut(n,t,i)}break;case 18:Rt!==null&&(co?(e=Rt,Uf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),jl(e)):Uf(Rt,n.stateNode));break;case 4:o=Rt,s=co,Rt=n.stateNode.containerInfo,co=!0,Va(e,t,n),Rt=o,co=s;break;case 0:case 11:case 14:case 15:Vs(2,n,t),tn||Vs(4,n,t),Va(e,t,n);break;case 1:tn||(Da(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"&&bx(n,t,o)),Va(e,t,n);break;case 21:Va(e,t,n);break;case 22:tn=(o=tn)||n.memoizedState!==null,Va(e,t,n),tn=o;break;default:Va(e,t,n)}}function kx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{jl(e)}catch(n){ut(t,t.return,n)}}}function Ax(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jl(e)}catch(n){ut(t,t.return,n)}}function c1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new If),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new If),t;default:throw Error(W(435,e.tag))}}function oc(e,t){var n=c1(e);t.forEach(function(o){if(!n.has(o)){n.add(o);var s=y1.bind(null,e,o);o.then(s,s)}})}function so(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var s=n[o],i=e,l=t,d=l;e:for(;d!==null;){switch(d.tag){case 27:if($s(d.type)){Rt=d.stateNode,co=!1;break e}break;case 5:Rt=d.stateNode,co=!1;break e;case 3:case 4:Rt=d.stateNode.containerInfo,co=!0;break e}d=d.return}if(Rt===null)throw Error(W(160));Cx(i,l,s),Rt=null,co=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ix(t,e),t=t.sibling}var ha=null;function Ix(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:so(t,e),io(e),o&4&&(Vs(3,e,e.return),Ur(3,e),Vs(5,e,e.return));break;case 1:so(t,e),io(e),o&512&&(tn||n===null||Da(n,n.return)),o&64&&ns&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?o:n.concat(o))));break;case 26:var s=ha;if(so(t,e),io(e),o&512&&(tn||n===null||Da(n,n.return)),o&4){var i=n!==null?n.memoizedState:null;if(o=e.memoizedState,n===null)if(o===null)if(e.stateNode===null){e:{o=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(o){case"title":i=s.getElementsByTagName("title")[0],(!i||i[_r]||i[In]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(o),s.head.insertBefore(i,s.querySelector("head > title"))),Dn(i,o,n),i[In]=e,jn(i),o=i;break e;case"link":var l=Jf("link","href",s).get(o+(n.href||""));if(l){for(var d=0;d<l.length;d++)if(i=l[d],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(d,1);break t}}i=s.createElement(o),Dn(i,o,n),s.head.appendChild(i);break;case"meta":if(l=Jf("meta","content",s).get(o+(n.content||""))){for(d=0;d<l.length;d++)if(i=l[d],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(d,1);break t}}i=s.createElement(o),Dn(i,o,n),s.head.appendChild(i);break;default:throw Error(W(468,o))}i[In]=e,jn(i),o=i}e.stateNode=o}else Qf(s,e.type,e.stateNode);else e.stateNode=Xf(s,o,e.memoizedProps);else i!==o?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,o===null?Qf(s,e.type,e.stateNode):Xf(s,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Qu(e,e.memoizedProps,n.memoizedProps)}break;case 27:so(t,e),io(e),o&512&&(tn||n===null||Da(n,n.return)),n!==null&&o&4&&Qu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(so(t,e),io(e),o&512&&(tn||n===null||Da(n,n.return)),e.flags&32){s=e.stateNode;try{xl(s,"")}catch(w){ut(e,e.return,w)}}o&4&&e.stateNode!=null&&(s=e.memoizedProps,Qu(e,s,n!==null?n.memoizedProps:s)),o&1024&&(Zu=!0);break;case 6:if(so(t,e),io(e),o&4){if(e.stateNode===null)throw Error(W(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(w){ut(e,e.return,w)}}break;case 3:if(Sc=null,s=ha,ha=Jc(t.containerInfo),so(t,e),ha=s,io(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{jl(t.containerInfo)}catch(w){ut(e,e.return,w)}Zu&&(Zu=!1,Mx(e));break;case 4:o=ha,ha=Jc(e.stateNode.containerInfo),so(t,e),io(e),ha=o;break;case 12:so(t,e),io(e);break;case 31:so(t,e),io(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,oc(e,o)));break;case 13:so(t,e),io(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(gu=zo()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,oc(e,o)));break;case 22:s=e.memoizedState!==null;var h=n!==null&&n.memoizedState!==null,b=ns,A=tn;if(ns=b||s,tn=A||h,so(t,e),tn=A,ns=b,io(e),o&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||h||ns||tn||hi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){h=n=t;try{if(i=h.stateNode,s)l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{d=h.stateNode;var k=h.memoizedProps.style,T=k!=null&&k.hasOwnProperty("display")?k.display:null;d.style.display=T==null||typeof T=="boolean"?"":(""+T).trim()}}catch(w){ut(h,h.return,w)}}}else if(t.tag===6){if(n===null){h=t;try{h.stateNode.nodeValue=s?"":h.memoizedProps}catch(w){ut(h,h.return,w)}}}else if(t.tag===18){if(n===null){h=t;try{var C=h.stateNode;s?Gf(C,!0):Gf(h.stateNode,!1)}catch(w){ut(h,h.return,w)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(n=o.retryQueue,n!==null&&(o.retryQueue=null,oc(e,n))));break;case 19:so(t,e),io(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,oc(e,o)));break;case 30:break;case 21:break;default:so(t,e),io(e)}}function io(e){var t=e.flags;if(t&2){try{for(var n,o=e.return;o!==null;){if(Sx(o)){n=o;break}o=o.return}if(n==null)throw Error(W(160));switch(n.tag){case 27:var s=n.stateNode,i=Vu(e);Lc(e,i,s);break;case 5:var l=n.stateNode;n.flags&32&&(xl(l,""),n.flags&=-33);var d=Vu(e);Lc(e,d,l);break;case 3:case 4:var h=n.stateNode.containerInfo,b=Vu(e);Xd(e,b,h);break;default:throw Error(W(161))}}catch(A){ut(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Mx(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Za(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wx(e,t.alternate,t),t=t.sibling}function hi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vs(4,t,t.return),hi(t);break;case 1:Da(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&bx(t,t.return,n),hi(t);break;case 27:yr(t.stateNode);case 26:case 5:Da(t,t.return),hi(t);break;case 22:t.memoizedState===null&&hi(t);break;case 30:hi(t);break;default:hi(t)}e=e.sibling}}function $a(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,s=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:$a(s,i,n),Ur(4,i);break;case 1:if($a(s,i,n),o=i,s=o.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(b){ut(o,o.return,b)}if(o=i,s=o.updateQueue,s!==null){var d=o.stateNode;try{var h=s.shared.hiddenCallbacks;if(h!==null)for(s.shared.hiddenCallbacks=null,s=0;s<h.length;s++)kh(h[s],d)}catch(b){ut(o,o.return,b)}}n&&l&64&&yx(i),fr(i,i.return);break;case 27:Tx(i);case 26:case 5:$a(s,i,n),n&&o===null&&l&4&&vx(i),fr(i,i.return);break;case 12:$a(s,i,n);break;case 31:$a(s,i,n),n&&l&4&&kx(s,i);break;case 13:$a(s,i,n),n&&l&4&&Ax(s,i);break;case 22:i.memoizedState===null&&$a(s,i,n),fr(i,i.return);break;case 30:break;default:$a(s,i,n)}t=t.sibling}}function Zp(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Hr(n))}function Kp(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hr(e))}function ga(e,t,n,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zx(e,t,n,o),t=t.sibling}function zx(e,t,n,o){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ga(e,t,n,o),s&2048&&Ur(9,t);break;case 1:ga(e,t,n,o);break;case 3:ga(e,t,n,o),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hr(e)));break;case 12:if(s&2048){ga(e,t,n,o),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,d=i.onPostCommit;typeof d=="function"&&d(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(h){ut(t,t.return,h)}}else ga(e,t,n,o);break;case 31:ga(e,t,n,o);break;case 13:ga(e,t,n,o);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,t.memoizedState!==null?i._visibility&2?ga(e,t,n,o):hr(e,t):i._visibility&2?ga(e,t,n,o):(i._visibility|=2,Xi(e,t,n,o,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Zp(l,t);break;case 24:ga(e,t,n,o),s&2048&&Kp(t.alternate,t);break;default:ga(e,t,n,o)}}function Xi(e,t,n,o,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,l=t,d=n,h=o,b=l.flags;switch(l.tag){case 0:case 11:case 15:Xi(i,l,d,h,s),Ur(8,l);break;case 23:break;case 22:var A=l.stateNode;l.memoizedState!==null?A._visibility&2?Xi(i,l,d,h,s):hr(i,l):(A._visibility|=2,Xi(i,l,d,h,s)),s&&b&2048&&Zp(l.alternate,l);break;case 24:Xi(i,l,d,h,s),s&&b&2048&&Kp(l.alternate,l);break;default:Xi(i,l,d,h,s)}t=t.sibling}}function hr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,o=t,s=o.flags;switch(o.tag){case 22:hr(n,o),s&2048&&Zp(o.alternate,o);break;case 24:hr(n,o),s&2048&&Kp(o.alternate,o);break;default:hr(n,o)}t=t.sibling}}var ar=8192;function Fi(e,t,n){if(e.subtreeFlags&ar)for(e=e.child;e!==null;)Dx(e,t,n),e=e.sibling}function Dx(e,t,n){switch(e.tag){case 26:Fi(e,t,n),e.flags&ar&&e.memoizedState!==null&&Q1(n,ha,e.memoizedState,e.memoizedProps);break;case 5:Fi(e,t,n);break;case 3:case 4:var o=ha;ha=Jc(e.stateNode.containerInfo),Fi(e,t,n),ha=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ar,ar=16777216,Fi(e,t,n),ar=o):Fi(e,t,n));break;default:Fi(e,t,n)}}function Ox(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var o=t[n];wn=o,Rx(o,e)}Ox(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nx(e),e=e.sibling}function Nx(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&Vs(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bc(e)):Yl(e);break;default:Yl(e)}}function bc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var o=t[n];wn=o,Rx(o,e)}Ox(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vs(8,t,t.return),bc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,bc(t));break;default:bc(t)}e=e.sibling}}function Rx(e,t){for(;wn!==null;){var n=wn;switch(n.tag){case 0:case 11:case 15:Vs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var o=n.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Hr(n.memoizedState.cache)}if(o=n.child,o!==null)o.return=n,wn=o;else e:for(n=e;wn!==null;){o=wn;var s=o.sibling,i=o.return;if(jx(o),o===n){wn=null;break e}if(s!==null){s.return=i,wn=s;break e}wn=i}}}var u1={getCacheForType:function(e){var t=zn(nn),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return zn(nn).controller.signal}},d1=typeof WeakMap=="function"?WeakMap:Map,tt=0,ft=null,Le=null,qe=0,ct=0,ko=null,Bs=!1,zl=!1,$p=!1,gs=0,Pt=0,Zs=0,vi=0,eg=0,Mo=0,vl=0,xr=null,uo=null,Jd=!1,gu=0,Ex=0,Uc=1/0,Gc=null,qs=null,pn=0,Ws=null,Sl=null,rs=0,Qd=0,Vd=null,Bx=null,mr=0,Zd=null;function No(){return tt&2&&qe!==0?qe&-qe:we.T!==null?ng():Y0()}function _x(){if(Mo===0)if(!(qe&536870912)||Ye){var e=Qr;Qr<<=1,!(Qr&3932160)&&(Qr=262144),Mo=e}else Mo=536870912;return e=Eo.current,e!==null&&(e.flags|=32),Mo}function po(e,t,n){(e===ft&&(ct===2||ct===9)||e.cancelPendingCommit!==null)&&(Tl(e,0),_s(e,qe,Mo,!1)),Br(e,n),(!(tt&2)||e!==ft)&&(e===ft&&(!(tt&2)&&(vi|=n),Pt===4&&_s(e,qe,Mo,!1)),Ra(e))}function Fx(e,t,n){if(tt&6)throw Error(W(327));var o=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Er(e,t),s=o?f1(e,t):Ku(e,t,!0),i=o;do{if(s===0){zl&&!o&&_s(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!p1(n)){s=Ku(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var d=e;s=xr;var h=d.current.memoizedState.isDehydrated;if(h&&(Tl(d,l).flags|=256),l=Ku(d,l,!1),l!==2){if($p&&!h){d.errorRecoveryDisabledLanes|=i,vi|=i,s=4;break e}i=uo,uo=s,i!==null&&(uo===null?uo=i:uo.push.apply(uo,i))}s=l}if(i=!1,s!==2)continue}}if(s===1){Tl(e,0),_s(e,t,0,!0);break}e:{switch(o=e,i=s,i){case 0:case 1:throw Error(W(345));case 4:if((t&4194048)!==t)break;case 6:_s(o,t,Mo,!Bs);break e;case 2:uo=null;break;case 3:case 5:break;default:throw Error(W(329))}if((t&62914560)===t&&(s=gu+300-zo(),10<s)){if(_s(o,t,Mo,!Bs),nu(o,0,!0)!==0)break e;rs=t,o.timeoutHandle=am(Mf.bind(null,o,n,uo,Gc,Jd,t,Mo,vi,vl,Bs,i,"Throttled",-0,0),s);break e}Mf(o,n,uo,Gc,Jd,t,Mo,vi,vl,Bs,i,null,-0,0)}}break}while(!0);Ra(e)}function Mf(e,t,n,o,s,i,l,d,h,b,A,k,T,C){if(e.timeoutHandle=-1,k=t.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:as},Dx(t,i,k);var w=(i&62914560)===i?gu-zo():(i&4194048)===i?Ex-zo():0;if(w=V1(k,w),w!==null){rs=i,e.cancelPendingCommit=w(Df.bind(null,e,t,i,n,o,s,l,d,h,A,k,null,T,C)),_s(e,i,l,!b);return}}Df(e,t,i,n,o,s,l,d,h)}function p1(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var o=0;o<n.length;o++){var s=n[o],i=s.getSnapshot;s=s.value;try{if(!Ro(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _s(e,t,n,o){t&=~eg,t&=~vi,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var s=t;0<s;){var i=31-Oo(s),l=1<<i;o[i]=-1,s&=~l}n!==0&&G0(e,n,t)}function fu(){return tt&6?!0:(Gr(0),!1)}function tg(){if(Le!==null){if(ct===0)var e=Le.return;else e=Le,ss=zi=null,Lp(e),dl=null,Cr=0,e=Le;for(;e!==null;)mx(e.alternate,e),e=e.return;Le=null}}function Tl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,O1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),rs=0,tg(),ft=e,Le=n=is(e.current,null),qe=t,ct=0,ko=null,Bs=!1,zl=Er(e,t),$p=!1,vl=Mo=eg=vi=Zs=Pt=0,uo=xr=null,Jd=!1,t&8&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var s=31-Oo(o),i=1<<s;t|=e[s],o&=~i}return gs=t,iu(),n}function Hx(e,t){Re=null,we.H=Ar,t===Ml||t===ru?(t=lf(),ct=3):t===Np?(t=lf(),ct=4):ct=t===Qp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ko=t,Le===null&&(Pt=1,Fc(e,ea(t,e.current)))}function Lx(){var e=Eo.current;return e===null?!0:(qe&4194048)===qe?na===null:(qe&62914560)===qe||qe&536870912?e===na:!1}function Ux(){var e=we.H;return we.H=Ar,e===null?Ar:e}function Gx(){var e=we.A;return we.A=u1,e}function qc(){Pt=4,Bs||(qe&4194048)!==qe&&Eo.current!==null||(zl=!0),!(Zs&134217727)&&!(vi&134217727)||ft===null||_s(ft,qe,Mo,!1)}function Ku(e,t,n){var o=tt;tt|=2;var s=Ux(),i=Gx();(ft!==e||qe!==t)&&(Gc=null,Tl(e,t)),t=!1;var l=Pt;e:do try{if(ct!==0&&Le!==null){var d=Le,h=ko;switch(ct){case 8:tg(),l=6;break e;case 3:case 2:case 9:case 6:Eo.current===null&&(t=!0);var b=ct;if(ct=0,ko=null,il(e,d,h,b),n&&zl){l=0;break e}break;default:b=ct,ct=0,ko=null,il(e,d,h,b)}}g1(),l=Pt;break}catch(A){Hx(e,A)}while(!0);return t&&e.shellSuspendCounter++,ss=zi=null,tt=o,we.H=s,we.A=i,Le===null&&(ft=null,qe=0,iu()),l}function g1(){for(;Le!==null;)qx(Le)}function f1(e,t){var n=tt;tt|=2;var o=Ux(),s=Gx();ft!==e||qe!==t?(Gc=null,Uc=zo()+500,Tl(e,t)):zl=Er(e,t);e:do try{if(ct!==0&&Le!==null){t=Le;var i=ko;t:switch(ct){case 1:ct=0,ko=null,il(e,t,i,1);break;case 2:case 9:if(sf(i)){ct=0,ko=null,zf(t);break}t=function(){ct!==2&&ct!==9||ft!==e||(ct=7),Ra(e)},i.then(t,t);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:sf(i)?(ct=0,ko=null,zf(t)):(ct=0,ko=null,il(e,t,i,7));break;case 5:var l=null;switch(Le.tag){case 26:l=Le.memoizedState;case 5:case 27:var d=Le;if(l?cm(l):d.stateNode.complete){ct=0,ko=null;var h=d.sibling;if(h!==null)Le=h;else{var b=d.return;b!==null?(Le=b,hu(b)):Le=null}break t}}ct=0,ko=null,il(e,t,i,5);break;case 6:ct=0,ko=null,il(e,t,i,6);break;case 8:tg(),Pt=6;break e;default:throw Error(W(462))}}h1();break}catch(A){Hx(e,A)}while(!0);return ss=zi=null,we.H=o,we.A=s,tt=n,Le!==null?0:(ft=null,qe=0,iu(),Pt)}function h1(){for(;Le!==null&&!Fy();)qx(Le)}function qx(e){var t=xx(e.alternate,e,gs);e.memoizedProps=e.pendingProps,t===null?hu(e):Le=t}function zf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=wf(n,t,t.pendingProps,t.type,void 0,qe);break;case 11:t=wf(n,t,t.pendingProps,t.type.render,t.ref,qe);break;case 5:Lp(t);default:mx(n,t),t=Le=mh(t,gs),t=xx(n,t,gs)}e.memoizedProps=e.pendingProps,t===null?hu(e):Le=t}function il(e,t,n,o){ss=zi=null,Lp(t),dl=null,Cr=0;var s=t.return;try{if(o1(e,s,t,n,qe)){Pt=1,Fc(e,ea(n,e.current)),Le=null;return}}catch(i){if(s!==null)throw Le=s,i;Pt=1,Fc(e,ea(n,e.current)),Le=null;return}t.flags&32768?(Ye||o===1?e=!0:zl||qe&536870912?e=!1:(Bs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Eo.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wx(t,e)):hu(t)}function hu(e){var t=e;do{if(t.flags&32768){Wx(t,Bs);return}e=t.return;var n=i1(t.alternate,t,gs);if(n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Pt===0&&(Pt=5)}function Wx(e,t){do{var n=l1(e.alternate,e);if(n!==null){n.flags&=32767,Le=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Le=e;return}Le=e=n}while(e!==null);Pt=6,Le=null}function Df(e,t,n,o,s,i,l,d,h){e.cancelPendingCommit=null;do xu();while(pn!==0);if(tt&6)throw Error(W(327));if(t!==null){if(t===e.current)throw Error(W(177));if(i=t.lanes|t.childLanes,i|=kp,Jy(e,n,i,l,d,h),e===ft&&(Le=ft=null,qe=0),Sl=t,Ws=e,rs=n,Qd=i,Vd=s,Bx=o,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,b1(Ac,function(){return Qx(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,t.subtreeFlags&13878||o){o=we.T,we.T=null,s=nt.p,nt.p=2,l=tt,tt|=4;try{r1(e,t,n)}finally{tt=l,nt.p=s,we.T=o}}pn=1,Yx(),Px(),Xx()}}function Yx(){if(pn===1){pn=0;var e=Ws,t=Sl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=we.T,we.T=null;var o=nt.p;nt.p=2;var s=tt;tt|=4;try{Ix(t,e);var i=tp,l=ch(e.containerInfo),d=i.focusedElem,h=i.selectionRange;if(l!==d&&d&&d.ownerDocument&&rh(d.ownerDocument.documentElement,d)){if(h!==null&&Cp(d)){var b=h.start,A=h.end;if(A===void 0&&(A=b),"selectionStart"in d)d.selectionStart=b,d.selectionEnd=Math.min(A,d.value.length);else{var k=d.ownerDocument||document,T=k&&k.defaultView||window;if(T.getSelection){var C=T.getSelection(),w=d.textContent.length,Y=Math.min(h.start,w),D=h.end===void 0?Y:Math.min(h.end,w);!C.extend&&Y>D&&(l=D,D=Y,Y=l);var m=Kg(d,Y),g=Kg(d,D);if(m&&g&&(C.rangeCount!==1||C.anchorNode!==m.node||C.anchorOffset!==m.offset||C.focusNode!==g.node||C.focusOffset!==g.offset)){var y=k.createRange();y.setStart(m.node,m.offset),C.removeAllRanges(),Y>D?(C.addRange(y),C.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),C.addRange(y))}}}}for(k=[],C=d;C=C.parentNode;)C.nodeType===1&&k.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<k.length;d++){var I=k[d];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Zc=!!ep,tp=ep=null}finally{tt=s,nt.p=o,we.T=n}}e.current=t,pn=2}}function Px(){if(pn===2){pn=0;var e=Ws,t=Sl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=we.T,we.T=null;var o=nt.p;nt.p=2;var s=tt;tt|=4;try{wx(e,t.alternate,t)}finally{tt=s,nt.p=o,we.T=n}}pn=3}}function Xx(){if(pn===4||pn===3){pn=0,Hy();var e=Ws,t=Sl,n=rs,o=Bx;t.subtreeFlags&10256||t.flags&10256?pn=5:(pn=0,Sl=Ws=null,Jx(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(qs=null),yp(n),t=t.stateNode,Do&&typeof Do.onCommitFiberRoot=="function")try{Do.onCommitFiberRoot(Rr,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=we.T,s=nt.p,nt.p=2,we.T=null;try{for(var i=e.onRecoverableError,l=0;l<o.length;l++){var d=o[l];i(d.value,{componentStack:d.stack})}}finally{we.T=t,nt.p=s}}rs&3&&xu(),Ra(e),s=e.pendingLanes,n&261930&&s&42?e===Zd?mr++:(mr=0,Zd=e):mr=0,Gr(0)}}function Jx(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Hr(t)))}function xu(){return Yx(),Px(),Xx(),Qx()}function Qx(){if(pn!==5)return!1;var e=Ws,t=Qd;Qd=0;var n=yp(rs),o=we.T,s=nt.p;try{nt.p=32>n?32:n,we.T=null,n=Vd,Vd=null;var i=Ws,l=rs;if(pn=0,Sl=Ws=null,rs=0,tt&6)throw Error(W(331));var d=tt;if(tt|=4,Nx(i.current),zx(i,i.current,l,n),tt=d,Gr(0,!1),Do&&typeof Do.onPostCommitFiberRoot=="function")try{Do.onPostCommitFiberRoot(Rr,i)}catch{}return!0}finally{nt.p=s,we.T=o,Jx(e,t)}}function Of(e,t,n){t=ea(n,t),t=Wd(e.stateNode,t,2),e=Gs(e,t,2),e!==null&&(Br(e,2),Ra(e))}function ut(e,t,n){if(e.tag===3)Of(e,e,n);else for(;t!==null;){if(t.tag===3){Of(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qs===null||!qs.has(o))){e=ea(n,e),n=ux(2),o=Gs(t,n,2),o!==null&&(dx(n,o,t,e),Br(o,2),Ra(o));break}}t=t.return}}function $u(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new d1;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(n)||($p=!0,s.add(n),e=x1.bind(null,e,t,n),t.then(e,e))}function x1(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ft===e&&(qe&n)===n&&(Pt===4||Pt===3&&(qe&62914560)===qe&&300>zo()-gu?!(tt&2)&&Tl(e,0):eg|=n,vl===qe&&(vl=0)),Ra(e)}function Vx(e,t){t===0&&(t=U0()),e=Mi(e,t),e!==null&&(Br(e,t),Ra(e))}function m1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vx(e,n)}function y1(e,t){var n=0;switch(e.tag){case 31:case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(W(314))}o!==null&&o.delete(t),Vx(e,n)}function b1(e,t){return xp(e,t)}var Wc=null,Ji=null,Kd=!1,Yc=!1,ed=!1,Fs=0;function Ra(e){e!==Ji&&e.next===null&&(Ji===null?Wc=Ji=e:Ji=Ji.next=e),Yc=!0,Kd||(Kd=!0,S1())}function Gr(e,t){if(!ed&&Yc){ed=!0;do for(var n=!1,o=Wc;o!==null;){if(e!==0){var s=o.pendingLanes;if(s===0)var i=0;else{var l=o.suspendedLanes,d=o.pingedLanes;i=(1<<31-Oo(42|e)+1)-1,i&=s&~(l&~d),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Nf(o,i))}else i=qe,i=nu(o,o===ft?i:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),!(i&3)||Er(o,i)||(n=!0,Nf(o,i));o=o.next}while(n);ed=!1}}function v1(){Zx()}function Zx(){Yc=Kd=!1;var e=0;Fs!==0&&D1()&&(e=Fs);for(var t=zo(),n=null,o=Wc;o!==null;){var s=o.next,i=Kx(o,t);i===0?(o.next=null,n===null?Wc=s:n.next=s,s===null&&(Ji=n)):(n=o,(e!==0||i&3)&&(Yc=!0)),o=s}pn!==0&&pn!==5||Gr(e),Fs!==0&&(Fs=0)}function Kx(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var l=31-Oo(i),d=1<<l,h=s[l];h===-1?(!(d&n)||d&o)&&(s[l]=Xy(d,t)):h<=t&&(e.expiredLanes|=d),i&=~d}if(t=ft,n=qe,n=nu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,n===0||e===t&&(ct===2||ct===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Iu(o),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Er(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(o!==null&&Iu(o),yp(n)){case 2:case 8:n=H0;break;case 32:n=Ac;break;case 268435456:n=L0;break;default:n=Ac}return o=$x.bind(null,e),n=xp(n,o),e.callbackPriority=t,e.callbackNode=n,t}return o!==null&&o!==null&&Iu(o),e.callbackPriority=2,e.callbackNode=null,2}function $x(e,t){if(pn!==0&&pn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var o=qe;return o=nu(e,e===ft?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Fx(e,o,t),Kx(e,zo()),e.callbackNode!=null&&e.callbackNode===n?$x.bind(null,e):null)}function Nf(e,t){if(xu())return null;Fx(e,t,!0)}function S1(){N1(function(){tt&6?xp(F0,v1):Zx()})}function ng(){if(Fs===0){var e=ml;e===0&&(e=Jr,Jr<<=1,!(Jr&261888)&&(Jr=256)),Fs=e}return Fs}function Rf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:uc(""+e)}function Ef(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function T1(e,t,n,o,s){if(t==="submit"&&n&&n.stateNode===s){var i=Rf((s[go]||null).action),l=o.submitter;l&&(t=(t=l[go]||null)?Rf(t.formAction):l.getAttribute("formAction"),t!==null&&(i=t,l=null));var d=new ou("action","action",null,o,s);e.push({event:d,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var h=l?Ef(s,l):new FormData(s);Gd(n,{pending:!0,data:h,method:s.method,action:i},null,h)}}else typeof i=="function"&&(d.preventDefault(),h=l?Ef(s,l):new FormData(s),Gd(n,{pending:!0,data:h,method:s.method,action:i},i,h))},currentTarget:s}]})}}for(var td=0;td<zd.length;td++){var nd=zd[td],w1=nd.toLowerCase(),j1=nd[0].toUpperCase()+nd.slice(1);xa(w1,"on"+j1)}xa(dh,"onAnimationEnd");xa(ph,"onAnimationIteration");xa(gh,"onAnimationStart");xa("dblclick","onDoubleClick");xa("focusin","onFocus");xa("focusout","onBlur");xa(Lb,"onTransitionRun");xa(Ub,"onTransitionStart");xa(Gb,"onTransitionCancel");xa(fh,"onTransitionEnd");hl("onMouseEnter",["mouseout","mouseover"]);hl("onMouseLeave",["mouseout","mouseover"]);hl("onPointerEnter",["pointerout","pointerover"]);hl("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ir));function em(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],s=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var l=o.length-1;0<=l;l--){var d=o[l],h=d.instance,b=d.currentTarget;if(d=d.listener,h!==i&&s.isPropagationStopped())break e;i=d,s.currentTarget=b;try{i(s)}catch(A){Mc(A)}s.currentTarget=null,i=h}else for(l=0;l<o.length;l++){if(d=o[l],h=d.instance,b=d.currentTarget,d=d.listener,h!==i&&s.isPropagationStopped())break e;i=d,s.currentTarget=b;try{i(s)}catch(A){Mc(A)}s.currentTarget=null,i=h}}}}function He(e,t){var n=t[Td];n===void 0&&(n=t[Td]=new Set);var o=e+"__bubble";n.has(o)||(tm(t,e,2,!1),n.add(o))}function od(e,t,n){var o=0;t&&(o|=4),tm(n,e,o,t)}var ac="_reactListening"+Math.random().toString(36).slice(2);function og(e){if(!e[ac]){e[ac]=!0,P0.forEach(function(n){n!=="selectionchange"&&(C1.has(n)||od(n,!1,e),od(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ac]||(t[ac]=!0,od("selectionchange",!1,t))}}function tm(e,t,n,o){switch(fm(t)){case 2:var s=$1;break;case 8:s=e2;break;default:s=lg}n=s.bind(null,t,n,e),s=void 0,!Ad||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ad(e,t,n,o,s){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var d=o.stateNode.containerInfo;if(d===s)break;if(l===4)for(l=o.return;l!==null;){var h=l.tag;if((h===3||h===4)&&l.stateNode.containerInfo===s)return;l=l.return}for(;d!==null;){if(l=Zi(d),l===null)return;if(h=l.tag,h===5||h===6||h===26||h===27){o=i=l;continue e}d=d.parentNode}}o=o.return}eh(function(){var b=i,A=Sp(n),k=[];e:{var T=hh.get(e);if(T!==void 0){var C=ou,w=e;switch(e){case"keypress":if(pc(n)===0)break e;case"keydown":case"keyup":C=yb;break;case"focusin":w="focus",C=Nu;break;case"focusout":w="blur",C=Nu;break;case"beforeblur":case"afterblur":C=Nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=ib;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Sb;break;case dh:case ph:case gh:C=cb;break;case fh:C=wb;break;case"scroll":case"scrollend":C=ab;break;case"wheel":C=Cb;break;case"copy":case"cut":case"paste":C=db;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Wg;break;case"toggle":case"beforetoggle":C=Ab}var Y=(t&4)!==0,D=!Y&&(e==="scroll"||e==="scrollend"),m=Y?T!==null?T+"Capture":null:T;Y=[];for(var g=b,y;g!==null;){var I=g;if(y=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||y===null||m===null||(I=vr(g,m),I!=null&&Y.push(Mr(g,I,y))),D)break;g=g.return}0<Y.length&&(T=new C(T,w,null,n,A),k.push({event:T,listeners:Y}))}}if(!(t&7)){e:{if(T=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",T&&n!==kd&&(w=n.relatedTarget||n.fromElement)&&(Zi(w)||w[kl]))break e;if((C||T)&&(T=A.window===A?A:(T=A.ownerDocument)?T.defaultView||T.parentWindow:window,C?(w=n.relatedTarget||n.toElement,C=b,w=w?Zi(w):null,w!==null&&(D=Nr(w),Y=w.tag,w!==D||Y!==5&&Y!==27&&Y!==6)&&(w=null)):(C=null,w=b),C!==w)){if(Y=Gg,I="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(Y=Wg,I="onPointerLeave",m="onPointerEnter",g="pointer"),D=C==null?T:nr(C),y=w==null?T:nr(w),T=new Y(I,g+"leave",C,n,A),T.target=D,T.relatedTarget=y,I=null,Zi(A)===b&&(Y=new Y(m,g+"enter",w,n,A),Y.target=y,Y.relatedTarget=D,I=Y),D=I,C&&w)t:{for(Y=k1,m=C,g=w,y=0,I=m;I;I=Y(I))y++;I=0;for(var J=g;J;J=Y(J))I++;for(;0<y-I;)m=Y(m),y--;for(;0<I-y;)g=Y(g),I--;for(;y--;){if(m===g||g!==null&&m===g.alternate){Y=m;break t}m=Y(m),g=Y(g)}Y=null}else Y=null;C!==null&&Bf(k,T,C,Y,!1),w!==null&&D!==null&&Bf(k,D,w,Y,!0)}}e:{if(T=b?nr(b):window,C=T.nodeName&&T.nodeName.toLowerCase(),C==="select"||C==="input"&&T.type==="file")var B=Jg;else if(Xg(T))if(ih)B=_b;else{B=Eb;var L=Rb}else C=T.nodeName,!C||C.toLowerCase()!=="input"||T.type!=="checkbox"&&T.type!=="radio"?b&&vp(b.elementType)&&(B=Jg):B=Bb;if(B&&(B=B(e,b))){sh(k,B,n,A);break e}L&&L(e,T,b),e==="focusout"&&b&&T.type==="number"&&b.memoizedProps.value!=null&&Cd(T,"number",T.value)}switch(L=b?nr(b):window,e){case"focusin":(Xg(L)||L.contentEditable==="true")&&(el=L,Id=b,rr=null);break;case"focusout":rr=Id=el=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,$g(k,n,A);break;case"selectionchange":if(Hb)break;case"keydown":case"keyup":$g(k,n,A)}var ae;if(jp)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else $i?oh(e,n)&&(X="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(X="onCompositionStart");X&&(nh&&n.locale!=="ko"&&($i||X!=="onCompositionStart"?X==="onCompositionEnd"&&$i&&(ae=th()):(Es=A,Tp="value"in Es?Es.value:Es.textContent,$i=!0)),L=Pc(b,X),0<L.length&&(X=new qg(X,e,null,n,A),k.push({event:X,listeners:L}),ae?X.data=ae:(ae=ah(n),ae!==null&&(X.data=ae)))),(ae=Mb?zb(e,n):Db(e,n))&&(X=Pc(b,"onBeforeInput"),0<X.length&&(L=new qg("onBeforeInput","beforeinput",null,n,A),k.push({event:L,listeners:X}),L.data=ae)),T1(k,e,b,n,A)}em(k,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pc(e,t){for(var n=t+"Capture",o=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=vr(e,n),s!=null&&o.unshift(Mr(e,s,i)),s=vr(e,t),s!=null&&o.push(Mr(e,s,i))),e.tag===3)return o;e=e.return}return[]}function k1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bf(e,t,n,o,s){for(var i=t._reactName,l=[];n!==null&&n!==o;){var d=n,h=d.alternate,b=d.stateNode;if(d=d.tag,h!==null&&h===o)break;d!==5&&d!==26&&d!==27||b===null||(h=b,s?(b=vr(n,i),b!=null&&l.unshift(Mr(n,b,h))):s||(b=vr(n,i),b!=null&&l.push(Mr(n,b,h)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var A1=/\r\n?/g,I1=/\u0000|\uFFFD/g;function _f(e){return(typeof e=="string"?e:""+e).replace(A1,`
`).replace(I1,"")}function nm(e,t){return t=_f(t),_f(e)===t}function pt(e,t,n,o,s,i){switch(n){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||xl(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&xl(e,""+o);break;case"className":Zr(e,"class",o);break;case"tabIndex":Zr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Zr(e,n,o);break;case"style":$0(e,o,i);break;case"data":if(t!=="object"){Zr(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(n);break}o=uc(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&pt(e,t,"name",s.name,s,null),pt(e,t,"formEncType",s.formEncType,s,null),pt(e,t,"formMethod",s.formMethod,s,null),pt(e,t,"formTarget",s.formTarget,s,null)):(pt(e,t,"encType",s.encType,s,null),pt(e,t,"method",s.method,s,null),pt(e,t,"target",s.target,s,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(n);break}o=uc(""+o),e.setAttribute(n,o);break;case"onClick":o!=null&&(e.onclick=as);break;case"onScroll":o!=null&&He("scroll",e);break;case"onScrollEnd":o!=null&&He("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(W(61));if(n=o.__html,n!=null){if(s.children!=null)throw Error(W(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}n=uc(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":o===!0?e.setAttribute(n,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":He("beforetoggle",e),He("toggle",e),cc(e,"popover",o);break;case"xlinkActuate":Ja(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ja(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ja(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ja(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ja(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ja(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ja(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ja(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ja(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":cc(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=nb.get(n)||n,cc(e,n,o))}}function $d(e,t,n,o,s,i){switch(n){case"style":$0(e,o,i);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(W(61));if(n=o.__html,n!=null){if(s.children!=null)throw Error(W(60));e.innerHTML=n}}break;case"children":typeof o=="string"?xl(e,o):(typeof o=="number"||typeof o=="bigint")&&xl(e,""+o);break;case"onScroll":o!=null&&He("scroll",e);break;case"onScrollEnd":o!=null&&He("scrollend",e);break;case"onClick":o!=null&&(e.onclick=as);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!X0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[go]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof o=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,s);break e}n in e?e[n]=o:o===!0?e.setAttribute(n,""):cc(e,n,o)}}}function Dn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",e),He("load",e);var o=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var l=n[i];if(l!=null)switch(i){case"src":o=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(W(137,t));default:pt(e,t,i,l,n,null)}}s&&pt(e,t,"srcSet",n.srcSet,n,null),o&&pt(e,t,"src",n.src,n,null);return;case"input":He("invalid",e);var d=i=l=s=null,h=null,b=null;for(o in n)if(n.hasOwnProperty(o)){var A=n[o];if(A!=null)switch(o){case"name":s=A;break;case"type":l=A;break;case"checked":h=A;break;case"defaultChecked":b=A;break;case"value":i=A;break;case"defaultValue":d=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(W(137,t));break;default:pt(e,t,o,A,n,null)}}V0(e,i,d,h,b,l,s,!1);return;case"select":He("invalid",e),o=l=i=null;for(s in n)if(n.hasOwnProperty(s)&&(d=n[s],d!=null))switch(s){case"value":i=d;break;case"defaultValue":l=d;break;case"multiple":o=d;default:pt(e,t,s,d,n,null)}t=i,n=l,e.multiple=!!o,t!=null?rl(e,!!o,t,!1):n!=null&&rl(e,!!o,n,!0);return;case"textarea":He("invalid",e),i=s=o=null;for(l in n)if(n.hasOwnProperty(l)&&(d=n[l],d!=null))switch(l){case"value":o=d;break;case"defaultValue":s=d;break;case"children":i=d;break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(W(91));break;default:pt(e,t,l,d,n,null)}K0(e,o,s,i);return;case"option":for(h in n)if(n.hasOwnProperty(h)&&(o=n[h],o!=null))switch(h){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:pt(e,t,h,o,n,null)}return;case"dialog":He("beforetoggle",e),He("toggle",e),He("cancel",e),He("close",e);break;case"iframe":case"object":He("load",e);break;case"video":case"audio":for(o=0;o<Ir.length;o++)He(Ir[o],e);break;case"image":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"embed":case"source":case"link":He("error",e),He("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in n)if(n.hasOwnProperty(b)&&(o=n[b],o!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(W(137,t));default:pt(e,t,b,o,n,null)}return;default:if(vp(t)){for(A in n)n.hasOwnProperty(A)&&(o=n[A],o!==void 0&&$d(e,t,A,o,n,void 0));return}}for(d in n)n.hasOwnProperty(d)&&(o=n[d],o!=null&&pt(e,t,d,o,n,null))}function M1(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,l=null,d=null,h=null,b=null,A=null;for(C in n){var k=n[C];if(n.hasOwnProperty(C)&&k!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":h=k;default:o.hasOwnProperty(C)||pt(e,t,C,null,o,k)}}for(var T in o){var C=o[T];if(k=n[T],o.hasOwnProperty(T)&&(C!=null||k!=null))switch(T){case"type":i=C;break;case"name":s=C;break;case"checked":b=C;break;case"defaultChecked":A=C;break;case"value":l=C;break;case"defaultValue":d=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(W(137,t));break;default:C!==k&&pt(e,t,T,C,o,k)}}jd(e,l,d,h,b,A,i,s);return;case"select":C=l=d=T=null;for(i in n)if(h=n[i],n.hasOwnProperty(i)&&h!=null)switch(i){case"value":break;case"multiple":C=h;default:o.hasOwnProperty(i)||pt(e,t,i,null,o,h)}for(s in o)if(i=o[s],h=n[s],o.hasOwnProperty(s)&&(i!=null||h!=null))switch(s){case"value":T=i;break;case"defaultValue":d=i;break;case"multiple":l=i;default:i!==h&&pt(e,t,s,i,o,h)}t=d,n=l,o=C,T!=null?rl(e,!!n,T,!1):!!o!=!!n&&(t!=null?rl(e,!!n,t,!0):rl(e,!!n,n?[]:"",!1));return;case"textarea":C=T=null;for(d in n)if(s=n[d],n.hasOwnProperty(d)&&s!=null&&!o.hasOwnProperty(d))switch(d){case"value":break;case"children":break;default:pt(e,t,d,null,o,s)}for(l in o)if(s=o[l],i=n[l],o.hasOwnProperty(l)&&(s!=null||i!=null))switch(l){case"value":T=s;break;case"defaultValue":C=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(W(91));break;default:s!==i&&pt(e,t,l,s,o,i)}Z0(e,T,C);return;case"option":for(var w in n)if(T=n[w],n.hasOwnProperty(w)&&T!=null&&!o.hasOwnProperty(w))switch(w){case"selected":e.selected=!1;break;default:pt(e,t,w,null,o,T)}for(h in o)if(T=o[h],C=n[h],o.hasOwnProperty(h)&&T!==C&&(T!=null||C!=null))switch(h){case"selected":e.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:pt(e,t,h,T,o,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Y in n)T=n[Y],n.hasOwnProperty(Y)&&T!=null&&!o.hasOwnProperty(Y)&&pt(e,t,Y,null,o,T);for(b in o)if(T=o[b],C=n[b],o.hasOwnProperty(b)&&T!==C&&(T!=null||C!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(W(137,t));break;default:pt(e,t,b,T,o,C)}return;default:if(vp(t)){for(var D in n)T=n[D],n.hasOwnProperty(D)&&T!==void 0&&!o.hasOwnProperty(D)&&$d(e,t,D,void 0,o,T);for(A in o)T=o[A],C=n[A],!o.hasOwnProperty(A)||T===C||T===void 0&&C===void 0||$d(e,t,A,T,o,C);return}}for(var m in n)T=n[m],n.hasOwnProperty(m)&&T!=null&&!o.hasOwnProperty(m)&&pt(e,t,m,null,o,T);for(k in o)T=o[k],C=n[k],!o.hasOwnProperty(k)||T===C||T==null&&C==null||pt(e,t,k,T,o,C)}function Ff(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),o=0;o<n.length;o++){var s=n[o],i=s.transferSize,l=s.initiatorType,d=s.duration;if(i&&d&&Ff(l)){for(l=0,d=s.responseEnd,o+=1;o<n.length;o++){var h=n[o],b=h.startTime;if(b>d)break;var A=h.transferSize,k=h.initiatorType;A&&Ff(k)&&(h=h.responseEnd,l+=A*(h<d?1:(d-b)/(h-b)))}if(--o,t+=8*(i+l)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ep=null,tp=null;function Xc(e){return e.nodeType===9?e:e.ownerDocument}function Hf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function om(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function np(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sd=null;function D1(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var am=typeof setTimeout=="function"?setTimeout:void 0,O1=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,N1=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(e){return Lf.resolve(null).then(e).catch(R1)}:am;function R1(e){setTimeout(function(){throw e})}function $s(e){return e==="head"}function Uf(e,t){var n=t,o=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(o===0){e.removeChild(s),jl(t);return}o--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")o++;else if(n==="html")yr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,yr(n);for(var i=n.firstChild;i;){var l=i.nextSibling,d=i.nodeName;i[_r]||d==="SCRIPT"||d==="STYLE"||d==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=l}}else n==="body"&&yr(e.ownerDocument.body);n=s}while(n);jl(t)}function Gf(e,t){var n=e;e=0;do{var o=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=o}while(n)}function op(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":op(n),bp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function E1(e,t,n,o){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[_r])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=oa(e.nextSibling),e===null)break}return null}function B1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=oa(e.nextSibling),e===null))return null;return e}function sm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=oa(e.nextSibling),e===null))return null;return e}function ap(e){return e.data==="$?"||e.data==="$~"}function sp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _1(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var o=function(){t(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function oa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ip=null;function qf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return oa(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Wf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function im(e,t,n){switch(t=Xc(n),e){case"html":if(e=t.documentElement,!e)throw Error(W(452));return e;case"head":if(e=t.head,!e)throw Error(W(453));return e;case"body":if(e=t.body,!e)throw Error(W(454));return e;default:throw Error(W(451))}}function yr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);bp(e)}var aa=new Map,Yf=new Set;function Jc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fs=nt.d;nt.d={f:F1,r:H1,D:L1,C:U1,L:G1,m:q1,X:Y1,S:W1,M:P1};function F1(){var e=fs.f(),t=fu();return e||t}function H1(e){var t=Al(e);t!==null&&t.tag===5&&t.type==="form"?$h(t):fs.r(e)}var Dl=typeof document>"u"?null:document;function lm(e,t,n){var o=Dl;if(o&&typeof t=="string"&&t){var s=$o(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Yf.has(s)||(Yf.add(s),e={rel:e,crossOrigin:n,href:t},o.querySelector(s)===null&&(t=o.createElement("link"),Dn(t,"link",e),jn(t),o.head.appendChild(t)))}}function L1(e){fs.D(e),lm("dns-prefetch",e,null)}function U1(e,t){fs.C(e,t),lm("preconnect",e,t)}function G1(e,t,n){fs.L(e,t,n);var o=Dl;if(o&&e&&t){var s='link[rel="preload"][as="'+$o(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+$o(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+$o(n.imageSizes)+'"]')):s+='[href="'+$o(e)+'"]';var i=s;switch(t){case"style":i=wl(e);break;case"script":i=Ol(e)}aa.has(i)||(e=Mt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),aa.set(i,e),o.querySelector(s)!==null||t==="style"&&o.querySelector(qr(i))||t==="script"&&o.querySelector(Wr(i))||(t=o.createElement("link"),Dn(t,"link",e),jn(t),o.head.appendChild(t)))}}function q1(e,t){fs.m(e,t);var n=Dl;if(n&&e){var o=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+$o(o)+'"][href="'+$o(e)+'"]',i=s;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ol(e)}if(!aa.has(i)&&(e=Mt({rel:"modulepreload",href:e},t),aa.set(i,e),n.querySelector(s)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wr(i)))return}o=n.createElement("link"),Dn(o,"link",e),jn(o),n.head.appendChild(o)}}}function W1(e,t,n){fs.S(e,t,n);var o=Dl;if(o&&e){var s=ll(o).hoistableStyles,i=wl(e);t=t||"default";var l=s.get(i);if(!l){var d={loading:0,preload:null};if(l=o.querySelector(qr(i)))d.loading=5;else{e=Mt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=aa.get(i))&&ag(e,n);var h=l=o.createElement("link");jn(h),Dn(h,"link",e),h._p=new Promise(function(b,A){h.onload=b,h.onerror=A}),h.addEventListener("load",function(){d.loading|=1}),h.addEventListener("error",function(){d.loading|=2}),d.loading|=4,vc(l,t,o)}l={type:"stylesheet",instance:l,count:1,state:d},s.set(i,l)}}}function Y1(e,t){fs.X(e,t);var n=Dl;if(n&&e){var o=ll(n).hoistableScripts,s=Ol(e),i=o.get(s);i||(i=n.querySelector(Wr(s)),i||(e=Mt({src:e,async:!0},t),(t=aa.get(s))&&sg(e,t),i=n.createElement("script"),jn(i),Dn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(s,i))}}function P1(e,t){fs.M(e,t);var n=Dl;if(n&&e){var o=ll(n).hoistableScripts,s=Ol(e),i=o.get(s);i||(i=n.querySelector(Wr(s)),i||(e=Mt({src:e,async:!0,type:"module"},t),(t=aa.get(s))&&sg(e,t),i=n.createElement("script"),jn(i),Dn(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(s,i))}}function Pf(e,t,n,o){var s=(s=Hs.current)?Jc(s):null;if(!s)throw Error(W(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=wl(n.href),n=ll(s).hoistableStyles,o=n.get(t),o||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=wl(n.href);var i=ll(s).hoistableStyles,l=i.get(e);if(l||(s=s.ownerDocument||s,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,l),(i=s.querySelector(qr(e)))&&!i._p&&(l.instance=i,l.state.loading=5),aa.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},aa.set(e,n),i||X1(s,e,n,l.state))),t&&o===null)throw Error(W(528,""));return l}if(t&&o!==null)throw Error(W(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ol(n),n=ll(s).hoistableScripts,o=n.get(t),o||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(W(444,e))}}function wl(e){return'href="'+$o(e)+'"'}function qr(e){return'link[rel="stylesheet"]['+e+"]"}function rm(e){return Mt({},e,{"data-precedence":e.precedence,precedence:null})}function X1(e,t,n,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),Dn(t,"link",n),jn(t),e.head.appendChild(t))}function Ol(e){return'[src="'+$o(e)+'"]'}function Wr(e){return"script[async]"+e}function Xf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+$o(n.href)+'"]');if(o)return t.instance=o,jn(o),o;var s=Mt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),jn(o),Dn(o,"style",s),vc(o,n.precedence,e),t.instance=o;case"stylesheet":s=wl(n.href);var i=e.querySelector(qr(s));if(i)return t.state.loading|=4,t.instance=i,jn(i),i;o=rm(n),(s=aa.get(s))&&ag(o,s),i=(e.ownerDocument||e).createElement("link"),jn(i);var l=i;return l._p=new Promise(function(d,h){l.onload=d,l.onerror=h}),Dn(i,"link",o),t.state.loading|=4,vc(i,n.precedence,e),t.instance=i;case"script":return i=Ol(n.src),(s=e.querySelector(Wr(i)))?(t.instance=s,jn(s),s):(o=n,(s=aa.get(i))&&(o=Mt({},n),sg(o,s)),e=e.ownerDocument||e,s=e.createElement("script"),jn(s),Dn(s,"link",o),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(W(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(o=t.instance,t.state.loading|=4,vc(o,n.precedence,e));return t.instance}function vc(e,t,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=o.length?o[o.length-1]:null,i=s,l=0;l<o.length;l++){var d=o[l];if(d.dataset.precedence===t)i=d;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ag(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function sg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Sc=null;function Jf(e,t,n){if(Sc===null){var o=new Map,s=Sc=new Map;s.set(n,o)}else s=Sc,o=s.get(n),o||(o=new Map,s.set(n,o));if(o.has(e))return o;for(o.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[_r]||i[In]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var l=i.getAttribute(t)||"";l=e+l;var d=o.get(l);d?d.push(i):o.set(l,[i])}}return o}function Qf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function J1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function cm(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Q1(e,t,n,o){if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=wl(o.href),i=t.querySelector(qr(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Qc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,jn(i);return}i=t.ownerDocument||t,o=rm(o),(s=aa.get(s))&&ag(o,s),i=i.createElement("link"),jn(i);var l=i;l._p=new Promise(function(d,h){l.onload=d,l.onerror=h}),Dn(i,"link",o),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Qc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var id=0;function V1(e,t){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var o=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&id===0&&(id=62500*z1());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>id?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(s)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vc=null;function Tc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vc=new Map,t.forEach(Z1,e),Vc=null,Qc.call(e))}function Z1(e,t){if(!(t.state.loading&4)){var n=Vc.get(e);if(n)var o=n.get(null);else{n=new Map,Vc.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var l=s[i];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),o=l)}o&&n.set(null,o)}s=t.instance,l=s.getAttribute("data-precedence"),i=n.get(l)||o,i===o&&n.set(null,s),n.set(l,s),this.count++,o=Qc.bind(this),s.addEventListener("load",o),s.addEventListener("error",o),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var zr={$$typeof:os,Provider:null,Consumer:null,_currentValue:xi,_currentValue2:xi,_threadCount:0};function K1(e,t,n,o,s,i,l,d,h){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mu(0),this.hiddenUpdates=Mu(null),this.identifierPrefix=o,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=h,this.incompleteTransitions=new Map}function um(e,t,n,o,s,i,l,d,h,b,A,k){return e=new K1(e,t,n,l,h,b,A,k,d),t=1,i===!0&&(t|=24),i=Io(3,null,null,t),e.current=i,i.stateNode=e,t=Dp(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:o,isDehydrated:n,cache:t},Rp(i),e}function dm(e){return e?(e=ol,e):ol}function pm(e,t,n,o,s,i){s=dm(s),o.context===null?o.context=s:o.pendingContext=s,o=Us(t),o.payload={element:n},i=i===void 0?null:i,i!==null&&(o.callback=i),n=Gs(e,o,t),n!==null&&(po(n,e,t),ur(n,e,t))}function Vf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ig(e,t){Vf(e,t),(e=e.alternate)&&Vf(e,t)}function gm(e){if(e.tag===13||e.tag===31){var t=Mi(e,67108864);t!==null&&po(t,e,67108864),ig(e,67108864)}}function Zf(e){if(e.tag===13||e.tag===31){var t=No();t=mp(t);var n=Mi(e,t);n!==null&&po(n,e,t),ig(e,t)}}var Zc=!0;function $1(e,t,n,o){var s=we.T;we.T=null;var i=nt.p;try{nt.p=2,lg(e,t,n,o)}finally{nt.p=i,we.T=s}}function e2(e,t,n,o){var s=we.T;we.T=null;var i=nt.p;try{nt.p=8,lg(e,t,n,o)}finally{nt.p=i,we.T=s}}function lg(e,t,n,o){if(Zc){var s=lp(o);if(s===null)ad(e,t,o,Kc,n),Kf(e,o);else if(n2(s,e,t,n,o))o.stopPropagation();else if(Kf(e,o),t&4&&-1<t2.indexOf(e)){for(;s!==null;){var i=Al(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var l=gi(i.pendingLanes);if(l!==0){var d=i;for(d.pendingLanes|=2,d.entangledLanes|=2;l;){var h=1<<31-Oo(l);d.entanglements[1]|=h,l&=~h}Ra(i),!(tt&6)&&(Uc=zo()+500,Gr(0))}}break;case 31:case 13:d=Mi(i,2),d!==null&&po(d,i,2),fu(),ig(i,2)}if(i=lp(o),i===null&&ad(e,t,o,Kc,n),i===s)break;s=i}s!==null&&o.stopPropagation()}else ad(e,t,o,null,n)}}function lp(e){return e=Sp(e),rg(e)}var Kc=null;function rg(e){if(Kc=null,e=Zi(e),e!==null){var t=Nr(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=N0(t),e!==null)return e;e=null}else if(n===31){if(e=R0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Kc=e,null}function fm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ly()){case F0:return 2;case H0:return 8;case Ac:case Uy:return 32;case L0:return 268435456;default:return 32}default:return 32}}var rp=!1,Ys=null,Ps=null,Xs=null,Dr=new Map,Or=new Map,Ns=[],t2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kf(e,t){switch(e){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":Dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(t.pointerId)}}function Pl(e,t,n,o,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Al(t),t!==null&&gm(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function n2(e,t,n,o,s){switch(t){case"focusin":return Ys=Pl(Ys,e,t,n,o,s),!0;case"dragenter":return Ps=Pl(Ps,e,t,n,o,s),!0;case"mouseover":return Xs=Pl(Xs,e,t,n,o,s),!0;case"pointerover":var i=s.pointerId;return Dr.set(i,Pl(Dr.get(i)||null,e,t,n,o,s)),!0;case"gotpointercapture":return i=s.pointerId,Or.set(i,Pl(Or.get(i)||null,e,t,n,o,s)),!0}return!1}function hm(e){var t=Zi(e.target);if(t!==null){var n=Nr(t);if(n!==null){if(t=n.tag,t===13){if(t=N0(n),t!==null){e.blockedOn=t,Eg(e.priority,function(){Zf(n)});return}}else if(t===31){if(t=R0(n),t!==null){e.blockedOn=t,Eg(e.priority,function(){Zf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lp(e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);kd=o,n.target.dispatchEvent(o),kd=null}else return t=Al(n),t!==null&&gm(t),e.blockedOn=n,!1;t.shift()}return!0}function $f(e,t,n){wc(e)&&n.delete(t)}function o2(){rp=!1,Ys!==null&&wc(Ys)&&(Ys=null),Ps!==null&&wc(Ps)&&(Ps=null),Xs!==null&&wc(Xs)&&(Xs=null),Dr.forEach($f),Or.forEach($f)}function sc(e,t){e.blockedOn===t&&(e.blockedOn=null,rp||(rp=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,o2)))}var ic=null;function e0(e){ic!==e&&(ic=e,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,function(){ic===e&&(ic=null);for(var t=0;t<e.length;t+=3){var n=e[t],o=e[t+1],s=e[t+2];if(typeof o!="function"){if(rg(o||n)===null)continue;break}var i=Al(n);i!==null&&(e.splice(t,3),t-=3,Gd(i,{pending:!0,data:s,method:n.method,action:o},o,s))}}))}function jl(e){function t(h){return sc(h,e)}Ys!==null&&sc(Ys,e),Ps!==null&&sc(Ps,e),Xs!==null&&sc(Xs,e),Dr.forEach(t),Or.forEach(t);for(var n=0;n<Ns.length;n++){var o=Ns[n];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ns.length&&(n=Ns[0],n.blockedOn===null);)hm(n),n.blockedOn===null&&Ns.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(o=0;o<n.length;o+=3){var s=n[o],i=n[o+1],l=s[go]||null;if(typeof i=="function")l||e0(n);else if(l){var d=null;if(i&&i.hasAttribute("formAction")){if(s=i,l=i[go]||null)d=l.formAction;else if(rg(s)!==null)continue}else d=l.action;typeof d=="function"?n[o+1]=d:(n.splice(o,3),o-=3),e0(n)}}}function xm(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(l){return s=l})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),o||setTimeout(n,20)}function n(){if(!o&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function cg(e){this._internalRoot=e}mu.prototype.render=cg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));var n=t.current,o=No();pm(n,o,e,t,null,null)};mu.prototype.unmount=cg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pm(e.current,2,null,e,null,null),fu(),t[kl]=null}};function mu(e){this._internalRoot=e}mu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Y0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ns.length&&t!==0&&t<Ns[n].priority;n++);Ns.splice(n,0,e),n===0&&hm(e)}};var t0=D0.version;if(t0!=="19.2.3")throw Error(W(527,t0,"19.2.3"));nt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Ny(t),e=e!==null?E0(e):null,e=e===null?null:e.stateNode,e};var a2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:we,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Rr=lc.inject(a2),Do=lc}catch{}}eu.createRoot=function(e,t){if(!O0(e))throw Error(W(299));var n=!1,o="",s=lx,i=rx,l=cx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=um(e,1,!1,null,null,n,o,null,s,i,l,xm),e[kl]=t.current,og(e),new cg(t)};eu.hydrateRoot=function(e,t,n){if(!O0(e))throw Error(W(299));var o=!1,s="",i=lx,l=rx,d=cx,h=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError),n.formState!==void 0&&(h=n.formState)),t=um(e,1,!0,t,n??null,o,s,h,i,l,d,xm),t.context=dm(null),n=t.current,o=No(),o=mp(o),s=Us(o),s.callback=null,Gs(n,s,o),n=o,t.current.lanes=n,Br(t,n),Ra(t),e[kl]=t.current,og(e),new mu(t)};eu.version="19.2.3";function mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mm)}catch(e){console.error(e)}}mm(),C0.exports=eu;var s2=C0.exports;const i2=h0(s2),Di=()=>{const e=r.useCallback((A,k=.5)=>{try{const T=new Audio(A);T.volume=k,T.play().catch(C=>{console.log("Could not play sound effect:",C)})}catch(T){console.log("Error creating audio:",T)}},[]),t=r.useCallback(()=>{e("/sound/click.mp3",.6)},[e]),n=r.useCallback(()=>{e("/sound/camera.mp3",.7)},[e]),o=r.useCallback(()=>{e("/sound/stamp.mp3",.8)},[e]),s=r.useCallback(()=>{e("/sound/safe.mp3",.7)},[e]),i=r.useCallback(()=>{e("/sound/alert.mp3",.7)},[e]),l=r.useCallback(()=>{e("/sound/correct.wav",.7)},[e]),d=r.useCallback(()=>{e("/sound/wrong.mp3",.7)},[e]),h=r.useCallback(()=>{e("/sound/mark.wav",.7)},[e]),b=r.useCallback(()=>{e("/sound/select.mp3",.6)},[e]);return{playSound:e,playClickSound:t,playCameraSound:n,playStampSound:o,playSafeSound:s,playAlertSound:i,playCorrectSound:l,playWrongSound:d,playMarkSound:h,playSelectSound:b}},yu=e=>{const t=r.useRef(null),n=r.useCallback(()=>{if(e)try{t.current&&(t.current.pause(),t.current.currentTime=0),t.current=new Audio(e),t.current.volume=.3,t.current.loop=!0,t.current.play().catch(s=>{console.log("Could not play typing sound:",s)})}catch(s){console.log("Error creating typing audio:",s)}},[e]),o=r.useCallback(()=>{t.current&&(t.current.pause(),t.current.currentTime=0)},[]);return{startTypingSound:n,stopTypingSound:o}},l2={exit:"Exit",continue:"CONTINUE",skip:"Skip",passed:"PASSED",failed:"FAILED",welcome:"Welcome!",aiJourneyTitle:"AI JOURNEY",aiJourneySubtitle:"An Interactive Journey into AI Literacy",start:"Start",continueGame:"Continue",startOver:"Start Over",signIn:"Sign In",signInTitle:"Sign In",signUpTitle:"Sign Up",userName:"User Name",userNameEmail:"User Name/ Email",password:"Password",email:"Email",enterUsername:"Enter username",enterUsernameOrEmail:"Enter username or email",enterPassword:"Enter password",enterEmail:"Enter email address",done:"Done",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",signUp:"Sign Up",invalidCredentials:"Invalid username/email or password",noAccountFound:"No account found. Please sign up first.",userAlreadyExists:"User already exists. Please sign in instead.",selectRegion:"Select a Region",fungiJungle:"FUNGA JUNGLE",desert:"AETHER DESERT",island:"NEXUS ISLAND",glacier:"CORE GLACIER",centralCity:"RINGED CENTRAL CITY",fungiDescription:"Welcome to the Funga Jungle! The guardian here is a green robot named <strong style='color: #00bf63;'>Ranger Moss</strong>. He usually keeps everything running smoothlybut today, something feels off. Let's find him first!",desertDescription:"Welcome to the Aether Desert! The guardian here is a yellow robot named <strong style='color: #FFD700;'>Alpha</strong>, who oversees the castle's security system. But the alarms are silent and Alpha is missing. Find him before it's too late.",islandDescription:"Welcome to Nexus Island! Spies disguised as workers are infiltrating the docks. Before chaos erupts, find <strong style='color: #5170FF;'>Sparky</strong>he knows how to spot the impostors hiding in plain sight.",glacierDescription:"Welcome to the Core Glacier! The AI guardian <strong style='color: #FF4444;'>Momo</strong> has stopped responding. Citizens whisper it's rebelling against its programming. Go find itand decide: should a machine have a conscience?",centralCityDescription:"Welcome to the Ringed Central City! The heart of the world is awakening. Guardians from all four realms have returnedtheir eyes gleaming with newfound will. Step inside but be ready. The truth here changes everything.",easyDifficulty:" (Easy / Introductory)",intermediateDifficulty:" (Intermediate)",advancedDifficulty:" (Advanced)",expertDifficulty:" (Expert)",locked:"LOCKED",comingSoon:"Coming Soon",sparkyEnergyManager:"Sparky - Energy Manager",npcConversation:"NPC Conversation",imageEvaluation:"Image Evaluation",questionAndAnswer:"QUESTION AND ANSWER",missionAccepted:"Mission Accepted!",sparkyIntro1:"Bzzzt... System recalibrating... Systems Online. Oh, thank goodness a human is here! I am Sparky, the island's energy manager.",sparkyIntro2:"We have been infiltrated! Do you see those workers wandering around? Many of them aren't real elves.",sparkyIntro3:"They are Generative AI Agents in disguise. They look like us, but they are flooding our grid with bad data.",sparkyIntro4:"Technically speaking, Generative AI is a type of artificial intelligence technology that uses machine learning to create new contentincluding text, imagery, audio, and synthetic datainstead of just analyzing existing data.",sparkyIntro5:"Let me explain simply. Generative AI is like a super-fast student.",sparkyIntro6:"It has read every book and seen every picture in the world. When you ask it to draw, write, or sing, it doesn't 'think' like you do.",sparkyIntro7:"It just guesses what comes next based on patterns. It's like a very clever parrot mimicking humans!",sparkyIntro8:"Yes! Please! I need you to find these AI impostors and remove them from the system.",sparkyIntro9:"Good question. Even though they are smart, they have big weaknesses. Listen carefully.",sparkyIntro10:"First is Hallucinations (The 'Daydreaming').",sparkyIntro11:"Sometimes, they gets overconfident and makes things up!  Six-fingered hands?  Octopuses running banks? If it sounds too weird to be trueit's probably an AI hallucination!",sparkyIntro12:"Perfect. Here is your mission:",sparkyIntro13:"Go talk to the workers on the islands. Ask them to show you their photos or writing.",sparkyIntro14:"If you spot mistakes or copies, mark them down. There are 9 spies hidden in total. Good luck, Agent!",sparkyIntro15:"Excellent! Your mission is now active. Good luck, Agent!",whatHappened:"What happened here?",whatIsGenerativeAI:"What is Generative AI?",dontGetIt:"I don't get it...",canIHelp:"Can I help you fix it?",howToTellApart:"How do I tell them apart?",gotIt:"Got it.",showPictureWork:"Can you show me a picture of where you work?",showPoster:"Can you show me a poster you have made?",showPhenomenon:"Can you show me some interesting phenomenon here?",whatThinkImage:"What do you think of this image?",sureLetMeShow:"Sure! Let me show you...",sparkyMainIsland:"Sparky is on the Main Island!",lookCloser:"Look closer! Don't be fooled.",checkDetails:"Check the details. Read the text.",checkFacts:"Check the facts. Is that logical?",fakeNews:"AI models often invent 'Fake News' just to sound important.",visualHallucinations:"Visual Hallucinations",textHallucinations:"Text Hallucinations",coreTraitTitle:"The Core Trait",aiIsMean:"The AI is mean",aiLacksEmotion:"AI lacks emotion and common sense",aiIsTired:"The AI is tired",language:"EN/",setting:"SETTING",controlPanel:"CONTROL PANEL",languageSelection:"LANGUAGE SELECTION",systemVolume:"SYSTEM VOLUME",reset:"Reset",applyChanges:"Apply Changes",npc1Island1Dialog1:"Hey! You! Be careful out there.",npc1Island1Dialog2:"I don't know what's going on. A lot of new workers arrived, but they look... wrong.",npc1Island1Dialog3:"You should go to the Main Island . Sparky will know what to do.",npc2Island2Dialog1:"This is a disaster! The new workers are ruining our archives!",npc2Island2Dialog2:"They sound so confident, but they just make things up! Please, head to the Main Island. Find Sparky. He controls the grid!",npc3Island3Dialog1:"It's so boring lately... so eerily boring.",npc3Island3Dialog2:"The new guys? They all look the same.",npc3Island3Dialog3:"Go  find Sparky on the Main Island. He's the only one who can fix this mess.",randomDialog1:"Phew... I am absolutely drained today.",randomDialog2:"My back is killing me...",randomDialog3:"Work, work, work. It never ends.",randomDialog4:"I need a vacation from this island.",randomDialog5:"Yay! Now I can finally charge my phone.",randomDialog6:"Finally! The lights are back on!",randomDialog7:"Thanks for the fix, buddy! It was getting spooky in the dark.",randomDialog8:"Is it lunch time yet?",randomDialog9:"My shell is aching...",sparkyRestored:"Systems online! Oh, that sweet, sweet electricity!",phase2Complete:"Yo! High five! Go Back to the MAIN LAND",phase2GlitchMessage:"Task 2: Spot the GenAI NPC You should talk to all the NPCs before making your decision.",phase1Complete:"System purged! 6/6 Spies caught. Return to Sparky for debrief."},r2={exit:"",continue:"",skip:"",passed:"",failed:"",welcome:"",aiJourneyTitle:"AI ",aiJourneySubtitle:"",start:"",continueGame:"",startOver:"",signIn:"",signInTitle:"",signUpTitle:"",userName:"",userNameEmail:"/",password:"",email:"",enterUsername:"",enterUsernameOrEmail:"",enterPassword:"",enterEmail:"",done:"",alreadyHaveAccount:"",dontHaveAccount:"",signUp:"",invalidCredentials:"/",noAccountFound:"",userAlreadyExists:"",selectRegion:"",fungiJungle:"",desert:"",island:"",glacier:"",centralCity:"",fungiDescription:"<strong style='color: #00bf63;'></strong>",desertDescription:"<strong style='color: #FFD700;'></strong>",islandDescription:"<strong style='color: #5170FF;'>Sparky</strong>",glacierDescription:"AI<strong style='color: #FF4444;'>Momo</strong>",centralCityDescription:"",easyDifficulty:" ( / )",intermediateDifficulty:" ()",advancedDifficulty:" ()",expertDifficulty:" ()",locked:"",comingSoon:"",sparkyEnergyManager:"Sparky - ",npcConversation:"NPC",imageEvaluation:"",questionAndAnswer:"",missionAccepted:"",sparkyIntro1:"......Sparky",sparkyIntro2:"",sparkyIntro3:"AI",sparkyIntro4:"AI",sparkyIntro5:"AI",sparkyIntro6:"''",sparkyIntro7:"",sparkyIntro8:"AI",sparkyIntro9:"",sparkyIntro10:"''",sparkyIntro11:"",sparkyIntro12:"",sparkyIntro13:"",sparkyIntro14:"9",sparkyIntro15:"",whatHappened:"",whatIsGenerativeAI:"AI",dontGetIt:"...",canIHelp:"",howToTellApart:"",gotIt:"",showPictureWork:"",showPoster:"",showPhenomenon:"",whatThinkImage:"",sureLetMeShow:"...",sparkyMainIsland:"Sparky",lookCloser:"",checkDetails:"",checkFacts:"",fakeNews:"AI''",visualHallucinations:"",textHallucinations:"",coreTraitTitle:"",aiIsMean:"AI",aiLacksEmotion:"AI",aiIsTired:"AI",language:"EN/",setting:"",controlPanel:"",languageSelection:"",systemVolume:"",reset:"",applyChanges:"",npc1Island1Dialog1:"",npc1Island1Dialog2:"...",npc1Island1Dialog3:" Sparky",npc2Island2Dialog1:"",npc2Island2Dialog2:" Sparky",npc3Island3Dialog1:"...",npc3Island3Dialog2:"",npc3Island3Dialog3:"  Sparky",randomDialog1:"...",randomDialog2:"...",randomDialog3:"",randomDialog4:"",randomDialog5:"",randomDialog6:"",randomDialog7:"",randomDialog8:"",randomDialog9:"...",sparkyRestored:"",phase2Complete:"",phase2GlitchMessage:"2AI NPC NPC",phase1Complete:"6/6 Sparky"},n0={en:l2,zh:r2},c2=(e,t)=>{var n;return((n=n0[e])==null?void 0:n[t])||n0.en[t]||t},ym=r.createContext(),Ea=()=>{const e=r.useContext(ym);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},u2=({children:e})=>{const[t,n]=r.useState("en");r.useEffect(()=>{const l=localStorage.getItem("aiJourneyLanguage");l&&(l==="en"||l==="zh")&&n(l)},[]);const i={language:t,changeLanguage:l=>{n(l),localStorage.setItem("aiJourneyLanguage",l)},t:l=>c2(t,l)};return a.jsx(ym.Provider,{value:i,children:e})},d2=({onStart:e,onContinue:t,onSignIn:n,onStartOver:o})=>{const{t:s}=Ea(),[i,l]=r.useState(!1),[d,h]=r.useState(""),[b,A]=r.useState(!1),{playClickSound:k}=Di();r.useEffect(()=>{const D=localStorage.getItem("aiJourneyUser");if(D){const g=JSON.parse(D);h(g.username||""),l(g.hasStarted===!0)}(()=>{const g={},y=localStorage.getItem("glacierProgress");if(y){const L=JSON.parse(y);g.glacier=L.isComplete?100:0}else g.glacier=0;const I=localStorage.getItem("islandProgress");if(I){const L=JSON.parse(I);g.island=L.islandRestored?100:0}else g.island=0;const J=localStorage.getItem("desertProgress");if(J){const L=JSON.parse(J);g.desert=L.isComplete?100:0}else g.desert=0;if(D){const ae=JSON.parse(D).rangerMossPhase||1;g.fungi=ae===5?100:0}else g.fungi=0;const B=g.fungi===100&&g.desert===100&&g.island===100&&g.glacier===100;A(B)})()},[]);const T=()=>{k();const D=localStorage.getItem("aiJourneyUser");if(D){const m=JSON.parse(D);m.hasStarted=!1,m.currentProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(m))}o?o():e()},C=()=>{k(),e()},w=()=>{k(),t?t():e()},Y={container:{width:"100vw",height:"100vh",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",margin:0,padding:0},backgroundGif:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0},welcome:{position:"absolute",top:"30px",left:"40px",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:400,color:"#fff",zIndex:3},signInButton:{position:"absolute",top:"25px",right:"40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:400,color:"#fff",background:"transparent",border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"8px",padding:"10px 25px",zIndex:3,transition:"all 0.3s ease"},content:{position:"relative",zIndex:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},title:{fontFamily:"'Montserrat', sans-serif",fontSize:"90px",fontWeight:800,color:"#fff",marginBottom:"10px",textAlign:"center",letterSpacing:"8px",textShadow:"0 4px 20px rgba(0,0,0,0.5)"},subtitle:{fontFamily:"'Roboto', sans-serif",fontSize:"22px",fontWeight:300,color:"#fff",marginBottom:"50px",textAlign:"center",opacity:.9,textShadow:"0 2px 10px rgba(0,0,0,0.5)"},continueButton:{fontFamily:"'Montserrat', sans-serif",fontSize:"32px",fontWeight:700,color:"#fff",background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.85)), linear-gradient(90deg, #5170FF, #8B5CF6, #FF6B9D)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",padding:"25px 120px",borderRadius:"15px",letterSpacing:"3px",transition:"all 0.3s ease",marginBottom:"25px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},startOverButton:{fontFamily:"'Montserrat', sans-serif",fontSize:"22px",fontWeight:600,color:"#fff",background:"transparent",border:"none",padding:"10px 30px",letterSpacing:"2px",opacity:.9,transition:"opacity 0.3s ease",textShadow:"0 2px 10px rgba(0,0,0,0.5)"},cardWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 80px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.18)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)",position:"relative",overflow:"hidden",animation:"floatCard 3s ease-in-out infinite"},cardGradientOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(100, 149, 237, 0.2), rgba(75, 0, 130, 0.15))",borderRadius:"25px",zIndex:0,pointerEvents:"none"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"72px",fontWeight:800,color:"#fff",marginBottom:"16px",textAlign:"center",letterSpacing:"2px",textShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",position:"relative",zIndex:1},cardSubtitle:{fontFamily:"'Roboto', sans-serif",fontSize:"20px",fontWeight:300,color:"#fff",marginBottom:"40px",textAlign:"center",opacity:.95,textShadow:"0 1px 4px rgba(0, 0, 0, 0.3)",position:"relative",zIndex:1},startButton:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:500,color:"#fff",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"16px 60px",borderRadius:"30px",textTransform:"lowercase",letterSpacing:"2px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",position:"relative",zIndex:1},footer:{position:"absolute",bottom:"20px",right:"30px",fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:300,color:"#fff",opacity:.7,zIndex:3,textAlign:"right"},keyframes:`
      @keyframes floatCard {
        0%, 100% { 
          transform: translateY(0px); 
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        50% { 
          transform: translateY(-8px); 
          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
      }
    `};return a.jsxs("div",{style:Y.container,children:[a.jsx("style",{children:Y.keyframes}),a.jsx("img",{src:b?"/background/home_color.gif":"/background/home.gif",alt:"Background",style:Y.backgroundGif}),a.jsx("span",{style:Y.welcome,children:d?`${s("welcome").replace("!","")}, ${d}!`:s("welcome")}),a.jsx("button",{style:Y.signInButton,onClick:n,onMouseOver:D=>{D.target.style.borderColor="#fff",D.target.style.background="rgba(255,255,255,0.1)"},onMouseOut:D=>{D.target.style.borderColor="rgba(255, 255, 255, 0.5)",D.target.style.background="transparent"},children:s("signIn")}),i?a.jsxs("div",{style:Y.content,children:[a.jsx("h1",{style:Y.title,children:s("aiJourneyTitle")}),a.jsx("p",{style:Y.subtitle,children:s("aiJourneySubtitle")}),a.jsx("button",{style:Y.continueButton,onClick:w,onMouseOver:D=>{D.target.style.transform="scale(1.05)",D.target.style.backgroundImage="linear-gradient(rgba(0, 0, 0, 0.95), rgba(0, 0, 0, 0.95)), linear-gradient(90deg, #5170FF, #8B5CF6, #FF6B9D)",D.target.style.boxShadow="0 12px 40px rgba(81, 112, 255, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},onMouseOut:D=>{D.target.style.transform="scale(1)",D.target.style.backgroundImage="linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.85)), linear-gradient(90deg, #5170FF, #8B5CF6, #FF6B9D)",D.target.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:s("continueGame")}),a.jsx("button",{style:Y.startOverButton,onClick:T,onMouseOver:D=>D.target.style.opacity="0.6",onMouseOut:D=>D.target.style.opacity="0.9",children:s("startOver")})]}):a.jsxs("div",{style:Y.cardWrapper,children:[a.jsx("div",{style:Y.cardGradientOverlay}),a.jsx("h1",{style:Y.cardTitle,children:s("aiJourneyTitle")}),a.jsx("p",{style:Y.cardSubtitle,children:s("aiJourneySubtitle")}),a.jsx("button",{style:Y.startButton,onClick:C,onMouseOver:D=>{D.target.style.background="rgba(0, 0, 0, 0.8)",D.target.style.transform="scale(1.05)",D.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)"},onMouseOut:D=>{D.target.style.background="rgba(0, 0, 0, 0.6)",D.target.style.transform="scale(1)",D.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:s("start")})]}),a.jsxs("div",{style:Y.footer,children:[a.jsx("div",{children:"Ver 0.8.0 Beta"}),a.jsx("div",{children:" 2026 Zhihui ZHANG All Rights Reserved."})]})]})},p2=({onClose:e,onSignUpComplete:t})=>{const{t:n}=Ea(),[o,s]=r.useState(!1),[i,l]=r.useState({username:"",password:"",email:""}),[d,h]=r.useState(""),[b,A]=r.useState(null),{playClickSound:k}=Di(),T=m=>{const{name:g,value:y}=m.target;l(I=>({...I,[g]:y})),h("")},C=m=>{m.preventDefault(),k();const g=localStorage.getItem("aiJourneyUser");if(g){const y=JSON.parse(g);(y.username===i.username||y.email===i.username)&&y.password===i.password?(console.log("Sign in successful:",y),t&&t(y),e()):h(n("invalidCredentials"))}else h(n("noAccountFound"))},w=m=>{m.preventDefault(),k();const g=localStorage.getItem("aiJourneyUser");if(g){const I=JSON.parse(g);if(I.username===i.username||I.email===i.email){h(n("userAlreadyExists"));return}}console.log("Sign up data:",i);const y={username:i.username,email:i.email,password:i.password,hasStarted:!1,currentProgress:null,createdAt:Date.now()};localStorage.setItem("aiJourneyUser",JSON.stringify(y)),t&&t(y),e()},Y=()=>{k(),s(!o),l({username:"",password:"",email:""}),h("")},D={overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{position:"relative",width:"560px",padding:"40px 50px",borderRadius:"25px",background:"rgba(0, 0, 10, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.18)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(81, 112, 255, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)",animation:"scaleIn 0.3s ease-out"},title:{fontFamily:"'Roboto', sans-serif",fontSize:"24px",fontWeight:400,color:"#fff",textAlign:"center",marginBottom:"35px"},form:{display:"flex",flexDirection:"column",gap:"20px"},inputRow:{display:"flex",alignItems:"center",gap:"20px",position:"relative"},label:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:400,color:"#fff",width:"120px",textAlign:"right",flexShrink:0},inputWrapper:{flex:1,position:"relative",display:"flex",alignItems:"center"},input:{flex:1,fontFamily:"'Roboto', sans-serif",fontSize:"16px",padding:"12px 16px",borderRadius:"25px",border:"2px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(0, 0, 0, 0.3)",color:"#fff",outline:"none",transition:"all 0.3s"},spaceshipIcon:{position:"absolute",right:"15px",width:"24px",height:"24px",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"},submitButton:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:500,color:"#fff",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"16px 60px",borderRadius:"30px",cursor:"pointer",letterSpacing:"2px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",marginTop:"15px",position:"relative"},toggleButton:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:400,color:"#5170FF",background:"transparent",border:"none",padding:"10px 15px",cursor:"pointer",textAlign:"center",transition:"opacity 0.2s",textDecoration:"underline"},error:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ff6b6b",textAlign:"center",marginTop:"10px"},toggleText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",textAlign:"center",marginTop:"20px",opacity:.8}};return a.jsx("div",{style:D.overlay,onClick:e,children:a.jsxs("div",{style:D.modal,onClick:m=>m.stopPropagation(),children:[a.jsx("h2",{style:D.title,children:n(o?"signUpTitle":"signInTitle")}),a.jsxs("form",{style:D.form,onSubmit:o?w:C,children:[a.jsxs("div",{style:D.inputRow,children:[a.jsx("label",{style:D.label,children:n(o?"userName":"userNameEmail")}),a.jsxs("div",{style:D.inputWrapper,children:[a.jsx("input",{type:"text",name:"username",value:i.username,onChange:T,style:D.input,placeholder:n(o?"enterUsername":"enterUsernameOrEmail"),onMouseEnter:()=>A("username"),onMouseLeave:()=>A(null),onFocus:m=>{m.target.style.borderColor="#5170FF",m.target.style.backgroundColor="rgba(0, 0, 0, 0.5)",m.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.5)"},onBlur:m=>{m.target.style.borderColor="rgba(255, 255, 255, 0.3)",m.target.style.backgroundColor="rgba(0, 0, 0, 0.3)",m.target.style.boxShadow="none"},required:!0}),a.jsx("img",{src:"/icon/spaceship.svg",alt:"spaceship",style:{...D.spaceshipIcon,opacity:b==="username"?1:0}})]})]}),a.jsxs("div",{style:D.inputRow,children:[a.jsx("label",{style:D.label,children:n("password")}),a.jsxs("div",{style:D.inputWrapper,children:[a.jsx("input",{type:"password",name:"password",value:i.password,onChange:T,style:D.input,placeholder:n("enterPassword"),onMouseEnter:()=>A("password"),onMouseLeave:()=>A(null),onFocus:m=>{m.target.style.borderColor="#5170FF",m.target.style.backgroundColor="rgba(0, 0, 0, 0.5)",m.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.5)"},onBlur:m=>{m.target.style.borderColor="rgba(255, 255, 255, 0.3)",m.target.style.backgroundColor="rgba(0, 0, 0, 0.3)",m.target.style.boxShadow="none"},required:!0}),a.jsx("img",{src:"/icon/spaceship.svg",alt:"spaceship",style:{...D.spaceshipIcon,opacity:b==="password"?1:0}})]})]}),o&&a.jsxs("div",{style:D.inputRow,children:[a.jsx("label",{style:D.label,children:n("email")}),a.jsxs("div",{style:D.inputWrapper,children:[a.jsx("input",{type:"email",name:"email",value:i.email,onChange:T,style:D.input,placeholder:n("enterEmail"),onMouseEnter:()=>A("email"),onMouseLeave:()=>A(null),onFocus:m=>{m.target.style.borderColor="#5170FF",m.target.style.backgroundColor="rgba(0, 0, 0, 0.5)",m.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.5)"},onBlur:m=>{m.target.style.borderColor="rgba(255, 255, 255, 0.3)",m.target.style.backgroundColor="rgba(0, 0, 0, 0.3)",m.target.style.boxShadow="none"},required:!0}),a.jsx("img",{src:"/icon/spaceship.svg",alt:"spaceship",style:{...D.spaceshipIcon,opacity:b==="email"?1:0}})]})]}),d&&a.jsx("div",{style:D.error,children:d}),a.jsx("button",{type:"submit",style:D.submitButton,onMouseOver:m=>{m.target.style.background="rgba(0, 0, 0, 0.8)",m.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)",m.target.style.transform="translateY(-2px)"},onMouseOut:m=>{m.target.style.background="rgba(0, 0, 0, 0.6)",m.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)",m.target.style.transform="translateY(0)"},children:n("done")})]}),a.jsxs("div",{style:D.toggleText,children:[n(o?"alreadyHaveAccount":"dontHaveAccount"),a.jsx("button",{style:D.toggleButton,onClick:Y,onMouseOver:m=>m.target.style.opacity="0.7",onMouseOut:m=>m.target.style.opacity="1",children:n(o?"signInTitle":"signUp")})]})]})})},Ka=[{text:"System reconnecting... Connection established! Signal stable! ly, you're here! Oh, I forgot to introduce myself. Hello there, Human! I'm Glitch. I used to be the fastest Data Sprite in this city!",highlights:["System reconnecting","Connection established","Signal stable","Glitch","Data Sprite"],audio:"/npc/glitch_dialogue_1.wav"},{text:"But ever since the Great Blackout, the entire city has been paralyzed. Everyone is trapped. The big robots are frozen without power, and creatures like me... well, I can only fly for short bursts on my emergency battery reserves.",highlights:["Great Blackout","paralyzed","trapped","frozen without power","emergency battery reserves"],audio:"/npc/glitch_dialogue_2.wav"},{text:"Our world consumes massive amounts of energy, which comes from four outer regions. To save the city, we need to inspect those areas and restart the main 'Energy Core'.",highlights:["massive amounts of energy","four outer regions","Energy Core"],audio:"/npc/glitch_dialogue_3.wav"},{text:"Please, will you help us? If we don't act now, our world will fade into permanent darkness. Here are the four regions... I suggest we start by checking the Fungi Jungle.",highlights:["help us","permanent darkness","four regions","Fungi Jungle"],audio:"/npc/glitch_dialogue_4.wav"}],g2=({onComplete:e})=>{var m;const[t,n]=r.useState(0),[o,s]=r.useState(""),[i,l]=r.useState(!0),[d,h]=r.useState(!0),[b,A]=r.useState(!1),[k,T]=r.useState(null);r.useEffect(()=>{const g=setTimeout(()=>{A(!0)},2e3);return()=>clearTimeout(g)},[]),r.useEffect(()=>{if(t>=Ka.length||!b)return;k&&(k.pause(),k.currentTime=0);const g=Ka[t];if(g.audio){const y=new Audio(g.audio);y.volume=.7,y.play().catch(I=>console.log("Audio play failed:",I)),T(y)}return()=>{k&&(k.pause(),k.currentTime=0)}},[t,b]),r.useEffect(()=>{if(t>=Ka.length||!b)return;const g=Ka[t].text;let y=0;s(""),l(!0);const I=setInterval(()=>{y<g.length?(s(g.substring(0,y+1)),y++):(l(!1),clearInterval(I))},30);return()=>clearInterval(I)},[t,b]),r.useEffect(()=>{const g=setInterval(()=>{h(y=>!y)},500);return()=>clearInterval(g)},[]);const C=()=>{i?(s(Ka[t].text),l(!1)):t<Ka.length-1?(k&&(k.pause(),k.currentTime=0),n(g=>g+1)):(k&&(k.pause(),k.currentTime=0),e())},w=()=>{k&&(k.pause(),k.currentTime=0),e()},Y=(g,y)=>{let I=g;return y.forEach(J=>{const B=new RegExp(`(${J})`,"gi");I=I.replace(B,'<span style="color: #FFFFFF; font-weight: 600;">$1</span>')}),a.jsx("span",{dangerouslySetInnerHTML:{__html:I}})},D={container:{width:"100%",height:"100vh",position:"relative",display:"flex",alignItems:"flex-end",overflow:"hidden",background:"#1a1a2e"},backgroundGif:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,opacity:.8},npcContainer:{position:"absolute",bottom:"50px",left:"50px",zIndex:2,opacity:b?1:0,transition:"opacity 0.5s ease-in-out"},npcImage:{width:"300px",height:"auto",filter:"drop-shadow(0 0 20px rgba(81, 112, 255, 0.5))"},dialogueContainer:{position:"absolute",bottom:"80px",left:"380px",right:"80px",zIndex:3,opacity:b?1:0,transition:"opacity 0.5s ease-in-out"},dialogueBox:{padding:"30px 40px",borderRadius:"25px",background:"rgba(71, 23, 101, 0.7)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"2px solid rgba(205, 165, 247, 0.3)",boxShadow:"0 8px 32px 0 rgba(71, 23, 101, 0.5)",position:"relative"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:400,color:"#CDA5F7",lineHeight:2,marginBottom:"20px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},cursor:{display:"inline-block",width:"2px",height:"20px",backgroundColor:"#fff",marginLeft:"2px",verticalAlign:"middle",opacity:d&&i?1:0},buttonContainer:{display:"flex",gap:"15px",justifyContent:"flex-end"},continueButton:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#fff",background:"#CDA5F7",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(205, 165, 247, 0.8)",padding:"10px 30px",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 0 15px rgba(205, 165, 247, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},skipButton:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#fff",background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.4)",padding:"10px 30px",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},progressIndicator:{position:"absolute",top:"15px",right:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"rgba(255, 255, 255, 0.5)"}};return a.jsxs("div",{style:D.container,children:[a.jsx("img",{src:"/background/story.gif",alt:"Background",style:D.backgroundGif}),b&&a.jsx("div",{style:D.npcContainer,children:a.jsx("img",{src:"/npc/npc.gif",alt:"Glitch NPC",style:D.npcImage})}),b&&a.jsx("div",{style:D.dialogueContainer,children:a.jsxs("div",{style:D.dialogueBox,children:[a.jsxs("span",{style:D.progressIndicator,children:[t+1," / ",Ka.length]}),a.jsxs("p",{style:D.dialogueText,children:[Y(o,((m=Ka[t])==null?void 0:m.highlights)||[]),a.jsx("span",{style:D.cursor})]}),a.jsxs("div",{style:D.buttonContainer,children:[a.jsx("button",{style:D.skipButton,onClick:w,onMouseOver:g=>{g.target.style.background="rgba(255, 255, 255, 0.4)",g.target.style.borderColor="rgba(255, 255, 255, 0.6)",g.target.style.transform="scale(1.02)"},onMouseOut:g=>{g.target.style.background="rgba(255, 255, 255, 0.3)",g.target.style.borderColor="rgba(255, 255, 255, 0.4)",g.target.style.transform="scale(1)"},children:"Skip"}),a.jsx("button",{style:D.continueButton,onClick:C,onMouseOver:g=>{g.target.style.background="#B88FE8",g.target.style.boxShadow="0 0 20px rgba(205, 165, 247, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.3)",g.target.style.transform="scale(1.02)"},onMouseOut:g=>{g.target.style.background="#CDA5F7",g.target.style.boxShadow="0 0 15px rgba(205, 165, 247, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)",g.target.style.transform="scale(1)"},children:t<Ka.length-1?"Continue":"Enter Map"})]})]})})]})};class f2{constructor(){this.volume=85,this.isMuted=!1,this.listeners=new Set,this.audioElements=new Set;const t=localStorage.getItem("systemVolume");t&&(this.volume=parseInt(t))}registerAudio(t){t&&(this.audioElements.add(t),this.updateAudioVolume(t))}unregisterAudio(t){t&&this.audioElements.delete(t)}setVolume(t){this.volume=Math.max(0,Math.min(100,t)),localStorage.setItem("systemVolume",this.volume.toString()),this.updateAllAudioVolumes(),this.notifyListeners()}getVolume(){return this.volume}toggleMute(){this.isMuted=!this.isMuted,this.updateAllAudioVolumes(),this.notifyListeners()}isMutedStatus(){return this.isMuted}updateAudioVolume(t){if(t){const n=this.isMuted?0:this.volume/100;t.volume=n}}updateAllAudioVolumes(){this.audioElements.forEach(t=>{this.updateAudioVolume(t)})}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notifyListeners(){this.listeners.forEach(t=>{t({volume:this.volume,isMuted:this.isMuted})})}}const ts=new f2,h2=({position:e="topLeft"})=>{const{language:t,changeLanguage:n,t:o}=Ea(),[s,i]=r.useState(!1),[l,d]=r.useState(ts.getVolume()),[h,b]=r.useState(ts.getVolume()),[A,k]=r.useState(ts.isMutedStatus());r.useEffect(()=>ts.subscribe(({volume:I,isMuted:J})=>{d(I),k(J)}),[]),r.useEffect(()=>{s&&b(l)},[s,l]);const T=()=>{switch(e){case"topLeft":return{top:"5%",left:"5%"};case"topRight":return{top:"20px",right:"20px"};default:return{top:"5%",left:"5%"}}},C=y=>{n(y)},w=y=>{b(parseInt(y.target.value))},Y=()=>{ts.toggleMute()},D=()=>{b(85)},m=()=>{ts.setVolume(h),i(!1)},g={container:{position:"absolute",...T(),zIndex:100},settingButton:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",backdropFilter:"blur(5px)"},settingIcon:{width:"18px",height:"18px",objectFit:"contain"},panel:{position:"absolute",top:"50px",left:"0",width:"320px",padding:"20px",borderRadius:"15px",background:"#e5e6e0",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",animation:"slideDown 0.3s ease-out"},panelHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"15px",borderBottom:"1px solid rgba(0, 0, 0, 0.1)"},panelTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#333",margin:0},closeButton:{background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},section:{marginBottom:"20px"},sectionHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},sectionHeaderLeft:{display:"flex",alignItems:"center",gap:"8px"},sectionIcon:{width:"20px",height:"20px",objectFit:"contain"},sectionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",fontWeight:600,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",margin:0},languageButtons:{display:"flex",gap:"10px"},languageButton:{flex:1,padding:"10px",borderRadius:"10px",border:"none",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",background:"rgba(255, 255, 255, 0.5)",color:"#333"},languageButtonActive:{background:"rgba(0, 0, 0, 0.9)",color:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},volumeControl:{display:"flex",alignItems:"center",gap:"12px"},volumeValue:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",minWidth:"50px",textAlign:"right"},muteButton:{background:"none",border:"none",cursor:"pointer",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},muteIcon:{width:"24px",height:"24px",objectFit:"contain"},volumeIcon:{width:"24px",height:"24px",objectFit:"contain",flexShrink:0},sliderWrapper:{flex:1,display:"flex",alignItems:"center",position:"relative"},slider:{flex:1,height:"8px",borderRadius:"4px",background:"#d9d7de",outline:"none",WebkitAppearance:"none",appearance:"none",cursor:"pointer",margin:"0"},actionButtons:{display:"flex",gap:"10px",marginTop:"20px"},resetButton:{flex:"0 0 35%",padding:"10px",borderRadius:"10px",border:"1px solid rgba(0, 0, 0, 0.2)",background:"rgba(255, 255, 255, 0.5)",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s"},applyButton:{flex:"0 0 60%",padding:"10px",borderRadius:"10px",border:"none",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#fff",cursor:"pointer",transition:"all 0.2s"},keyframes:`
      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    `};return a.jsxs("div",{style:g.container,children:[a.jsx("style",{children:g.keyframes}),a.jsx("style",{children:`
        input[type="range"] {
          -webkit-appearance: none;
          appearance: none;
        }
        input[type="range"]::-webkit-slider-thumb {
          -webkit-appearance: none;
          appearance: none;
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #000;
          cursor: pointer;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
          margin-top: -6px;
        }
        input[type="range"]::-moz-range-thumb {
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #000;
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }
        input[type="range"]::-webkit-slider-runnable-track {
          height: 8px;
          border-radius: 4px;
          background: linear-gradient(to right, #4c4cef 0%, #4c4cef ${h}%, #d9d7de ${h}%, #d9d7de 100%);
        }
        input[type="range"]::-moz-range-track {
          height: 8px;
          border-radius: 4px;
          background: #d9d7de;
        }
        input[type="range"]::-moz-range-progress {
          height: 8px;
          border-radius: 4px;
          background: #4c4cef;
        }
      `}),a.jsxs("button",{style:g.settingButton,onClick:()=>i(!s),onMouseOver:y=>{y.currentTarget.style.background="rgba(0, 0, 0, 0.5)",y.currentTarget.style.transform="scale(1.05)"},onMouseOut:y=>{y.currentTarget.style.background="rgba(0, 0, 0, 0.3)",y.currentTarget.style.transform="scale(1)"},children:[a.jsx("img",{src:"/icon/setting.png",alt:"Settings",style:g.settingIcon}),a.jsx("span",{children:o("setting")})]}),s&&a.jsxs("div",{style:g.panel,children:[a.jsxs("div",{style:g.panelHeader,children:[a.jsx("h3",{style:g.panelTitle,children:o("controlPanel")}),a.jsx("button",{style:g.closeButton,onClick:()=>i(!1),onMouseOver:y=>{y.target.style.color="#333",y.target.style.transform="scale(1.1)"},onMouseOut:y=>{y.target.style.color="#999",y.target.style.transform="scale(1)"},children:""})]}),a.jsxs("div",{style:g.section,children:[a.jsxs("div",{style:g.sectionHeader,children:[a.jsx("img",{src:"/icon/language.png",alt:"Language",style:g.sectionIcon}),a.jsx("h4",{style:g.sectionTitle,children:o("languageSelection")})]}),a.jsxs("div",{style:g.languageButtons,children:[a.jsx("button",{style:{...g.languageButton,...t==="zh"?g.languageButtonActive:{}},onClick:()=>C("zh"),children:""}),a.jsx("button",{style:{...g.languageButton,...t==="en"?g.languageButtonActive:{}},onClick:()=>C("en"),children:"ENGLISH"})]})]}),a.jsxs("div",{style:g.section,children:[a.jsxs("div",{style:g.sectionHeader,children:[a.jsxs("div",{style:g.sectionHeaderLeft,children:[a.jsx("img",{src:"/icon/volume.png",alt:"Volume",style:g.sectionIcon}),a.jsx("h4",{style:g.sectionTitle,children:o("systemVolume")})]}),a.jsxs("span",{style:g.volumeValue,children:[h,"%"]})]}),a.jsxs("div",{style:g.volumeControl,children:[a.jsx("button",{style:g.muteButton,onClick:Y,onMouseOver:y=>{y.currentTarget.style.transform="scale(1.1)"},onMouseOut:y=>{y.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/icon/mute.png",alt:"Mute",style:g.muteIcon})}),a.jsx("div",{style:g.sliderWrapper,children:a.jsx("input",{type:"range",min:"0",max:"100",value:h,onChange:w,style:g.slider})}),a.jsx("img",{src:"/icon/volume.png",alt:"Volume",style:g.volumeIcon})]})]}),a.jsxs("div",{style:g.actionButtons,children:[a.jsx("button",{style:g.resetButton,onClick:D,onMouseOver:y=>{y.target.style.background="rgba(255, 255, 255, 0.7)",y.target.style.transform="scale(1.02)"},onMouseOut:y=>{y.target.style.background="rgba(255, 255, 255, 0.5)",y.target.style.transform="scale(1)"},children:o("reset")}),a.jsx("button",{style:g.applyButton,onClick:m,onMouseOver:y=>{y.target.style.background="rgba(0, 0, 0, 0.95)",y.target.style.transform="scale(1.02)"},onMouseOut:y=>{y.target.style.background="rgba(0, 0, 0, 0.8)",y.target.style.transform="scale(1)"},children:o("applyChanges")})]})]})]})},x2=({isOpen:e,onClose:t})=>{const[n,o]=r.useState([]),[s,i]=r.useState(0),{playSelectSound:l}=Di(),d=2;if(console.log("ExplorerJournal render:",{isOpen:e,savedPhotosCount:n.length}),r.useEffect(()=>{if(e){console.log("ExplorerJournal opened, loading photos...");const w=localStorage.getItem("aiJourneyUser");if(w){const D=JSON.parse(w).explorerJournal||[];console.log("Loaded journal:",D),o(D),i(0)}}},[e]),!e)return null;const h=Math.ceil(n.length/d),b=s*d,A=n.slice(b,b+d),k=()=>{l(),s<h-1&&i(s+1)},T=()=>{l(),s>0&&i(s-1)},C=()=>{l(),t()};return a.jsx("div",{style:Ne.overlay,children:a.jsxs("div",{style:Ne.journalBook,children:[a.jsx("button",{style:Ne.closeButton,onClick:C,onMouseOver:w=>{w.currentTarget.style.transform="scale(1.1)"},onMouseOut:w=>{w.currentTarget.style.transform="scale(1)"},children:""}),a.jsx("div",{style:Ne.journalTitle,children:a.jsx("span",{style:Ne.titleText,children:"Explorer's Journal"})}),a.jsx("div",{style:Ne.spiralBinding,children:[...Array(12)].map((w,Y)=>a.jsx("div",{style:Ne.spiralRing},Y))}),a.jsxs("div",{style:Ne.pagesContainer,children:[a.jsx("div",{style:Ne.page,children:A[0]?a.jsxs("div",{style:Ne.photoCard,children:[a.jsx("div",{style:Ne.cardHeader,children:"#Object detected"}),a.jsx("div",{style:Ne.cardSubtitle,children:"Look what I spotted!"}),a.jsxs("div",{style:Ne.photoContainer,children:[a.jsx("img",{src:A[0].photo,alt:"Captured object",style:Ne.photo}),a.jsxs("div",{style:Ne.timestamp,children:["Captured: ",A[0].timestamp]})]}),a.jsxs("div",{style:Ne.infoRow,children:[a.jsx("div",{style:Ne.infoLabel,children:"Item"}),a.jsx("div",{style:Ne.infoLabel,children:"Type"})]}),a.jsxs("div",{style:Ne.infoRow,children:[a.jsx("div",{style:Ne.infoValue,children:A[0].item}),a.jsx("div",{style:Ne.infoValueType,children:A[0].type})]})]}):a.jsx("div",{style:Ne.emptyPage,children:a.jsx("div",{style:Ne.emptyText,children:"No photos yet"})})}),a.jsx("div",{style:Ne.page,children:A[1]?a.jsxs("div",{style:Ne.photoCard,children:[a.jsx("div",{style:Ne.cardHeader,children:"#Object detected"}),a.jsx("div",{style:Ne.cardSubtitle,children:"Look what I spotted!"}),a.jsxs("div",{style:Ne.photoContainer,children:[a.jsx("img",{src:A[1].photo,alt:"Captured object",style:Ne.photo}),a.jsxs("div",{style:Ne.timestamp,children:["Captured: ",A[1].timestamp]})]}),a.jsxs("div",{style:Ne.infoRow,children:[a.jsx("div",{style:Ne.infoLabel,children:"Item"}),a.jsx("div",{style:Ne.infoLabel,children:"Type"})]}),a.jsxs("div",{style:Ne.infoRow,children:[a.jsx("div",{style:Ne.infoValue,children:A[1].item}),a.jsx("div",{style:Ne.infoValueType,children:A[1].type})]})]}):a.jsx("div",{style:Ne.emptyPage,children:a.jsx("div",{style:Ne.emptyText,children:n.length===0?"Start exploring!":""})})})]}),n.length>0&&a.jsxs("div",{style:Ne.navigation,children:[a.jsx("button",{style:{...Ne.navButton,opacity:s===0?.3:1,cursor:s===0?"not-allowed":"pointer"},onClick:T,disabled:s===0,onMouseOver:w=>{s>0&&(w.currentTarget.style.transform="scale(1.05)")},onMouseOut:w=>{w.currentTarget.style.transform="scale(1)"},children:" PREV"}),a.jsxs("div",{style:Ne.pageIndicator,children:["Page ",s+1," / ",Math.max(1,h)]}),a.jsx("button",{style:{...Ne.navButton,opacity:s>=h-1?.3:1,cursor:s>=h-1?"not-allowed":"pointer"},onClick:k,disabled:s>=h-1,onMouseOver:w=>{s<h-1&&(w.currentTarget.style.transform="scale(1.05)")},onMouseOut:w=>{w.currentTarget.style.transform="scale(1)"},children:"NEXT "})]})]})})},Ne={overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},journalBook:{position:"relative",width:"90%",maxWidth:"1200px",height:"80vh",background:"linear-gradient(to bottom, #8B7355 0%, #6B5344 100%)",borderRadius:"20px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5), inset 0 2px 10px rgba(255, 255, 255, 0.1)",padding:"40px",display:"flex",flexDirection:"column"},closeButton:{position:"absolute",top:"20px",right:"20px",width:"40px",height:"40px",borderRadius:"50%",background:"rgba(0, 0, 0, 0.3)",border:"2px solid #fff",color:"#fff",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",zIndex:10},journalTitle:{background:"#4A3728",borderRadius:"12px",padding:"15px 30px",marginBottom:"30px",textAlign:"center",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.3)"},titleText:{fontFamily:"'Roboto Mono', monospace",fontSize:"28px",fontWeight:"bold",color:"#F5E6D3",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)"},spiralBinding:{position:"absolute",left:"50%",top:"80px",bottom:"80px",width:"40px",transform:"translateX(-50%)",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",zIndex:5},spiralRing:{width:"30px",height:"30px",borderRadius:"50%",border:"4px solid #2C2416",background:"linear-gradient(135deg, #4A3728 0%, #2C2416 100%)",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.5)"},pagesContainer:{flex:1,display:"flex",gap:"60px",marginBottom:"20px"},page:{flex:1,background:"#FFF9F0",borderRadius:"10px",padding:"30px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",overflow:"auto"},photoCard:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},cardHeader:{fontFamily:"'Roboto Mono', monospace",fontSize:"20px",fontWeight:"bold",color:"#f89303",marginBottom:"5px"},cardSubtitle:{fontFamily:"'Roboto Mono', monospace",fontSize:"14px",color:"#666",marginBottom:"20px"},photoContainer:{position:"relative",width:"100%",marginBottom:"20px",border:"3px dashed #fff",borderRadius:"8px",overflow:"hidden",background:"#f5f5f5"},photo:{width:"100%",height:"auto",display:"block"},timestamp:{position:"absolute",bottom:"10px",right:"10px",fontFamily:"'Roboto Mono', monospace",fontSize:"11px",color:"#fff",background:"rgba(0, 0, 0, 0.6)",padding:"4px 8px",borderRadius:"4px"},infoRow:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},infoLabel:{fontFamily:"'Roboto Mono', monospace",fontSize:"14px",fontWeight:"bold",color:"#666"},infoValue:{fontFamily:"'Roboto Mono', monospace",fontSize:"16px",fontWeight:"bold",color:"#333"},infoValueType:{fontFamily:"'Roboto Mono', monospace",fontSize:"16px",fontWeight:"bold",color:"#f89303"},emptyPage:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},emptyText:{fontFamily:"'Roboto Mono', monospace",fontSize:"18px",color:"#999",fontStyle:"italic"},navigation:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"20px",marginTop:"20px"},navButton:{padding:"12px 24px",background:"#4A3728",border:"2px solid #F5E6D3",borderRadius:"8px",color:"#F5E6D3",fontFamily:"'Roboto Mono', monospace",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s"},pageIndicator:{fontFamily:"'Roboto Mono', monospace",fontSize:"16px",color:"#F5E6D3",fontWeight:"bold"}},di=()=>{try{const e=new Audio("/sound/select.mp3");e.volume=.6,e.play().catch(t=>{console.log("Could not play select sound:",t)})}catch(e){console.log("Error creating select audio:",e)}},m2=()=>{try{const e=new Audio("/sound/hum.mp3");e.volume=.5,e.play().catch(t=>{console.log("Could not play hum sound:",t)})}catch(e){console.log("Error creating hum audio:",e)}},y2=e=>[{id:"fungi",name:e("fungiJungle"),regionNumber:1,stars:1,position:{top:"52%",left:"5%"},cardPosition:{top:"15%",left:"5%"},description:e("fungiDescription"),difficulty:e("easyDifficulty"),available:!0},{id:"desert",name:e("desert"),regionNumber:2,stars:2,position:{top:"5%",left:"30%"},cardPosition:{top:"15%",left:"30%"},description:e("desertDescription"),difficulty:e("intermediateDifficulty"),available:!0},{id:"glacier",name:e("glacier"),regionNumber:4,stars:3,position:{bottom:"8%",left:"45%"},cardPosition:{bottom:"22%",left:"45%"},description:e("glacierDescription"),difficulty:e("advancedDifficulty"),available:!0},{id:"island",name:e("island"),regionNumber:3,stars:3,position:{top:"35%",right:"5%"},cardPosition:{top:"38%",right:"5%"},description:e("islandDescription"),difficulty:e("advancedDifficulty"),available:!0},{id:"centralCity",name:e("centralCity"),regionNumber:5,stars:4,position:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},cardPosition:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},description:e("centralCityDescription"),difficulty:e("expertDifficulty"),available:!1}],b2=({onRegionClick:e})=>{var ce,ke,Ke,Fe,ue,Te;const{t}=Ea(),n=y2(t),[o,s]=r.useState(!1),[i,l]=r.useState(!1),[d,h]=r.useState(null),[b,A]=r.useState(!1),[k,T]=r.useState(null),[C,w]=r.useState(!1),[Y,D]=r.useState(""),[m,g]=r.useState([]),[y,I]=r.useState(!1),[J,B]=r.useState({}),[L,ae]=r.useState(!1),[X,xe]=r.useState(!1);r.useEffect(()=>{const F=setTimeout(()=>{A(!0)},300);return()=>clearTimeout(F)},[]),r.useEffect(()=>{const F=()=>{var vt,fn;const Be={},at=localStorage.getItem("aiJourneyUser"),de=at?JSON.parse(at):null,Z=localStorage.getItem("glacierProgress");if(Z){const ye=JSON.parse(Z);let _=0;ye.completedCases&&ye.completedCases.length>0&&(_+=ye.completedCases.length/5*25),ye.courtSummaryCompleted&&(_+=25),ye.rooftopCompletedTasks&&ye.rooftopCompletedTasks.length>0&&(_+=ye.rooftopCompletedTasks.length/3*25),ye.isComplete&&(_=100),Be.glacier=Math.round(_)}else Be.glacier=0;const Ae=localStorage.getItem("islandProgress");if(Ae){const ye=JSON.parse(Ae);let _=0;ye.islandRestored?_=100:ye.phase2Completed?ye.showFinalSparkyDialogue||ye.finalDialogueStep>0?_=80+(ye.finalDialogueStep||0)/5*20:_=80:ye.missionCompleted&&ye.phase2Active?_=40+(((vt=ye.phase2CompletedMissions)==null?void 0:vt.length)||0)/5*40:ye.missionActive&&(_=(((fn=ye.completedMissions)==null?void 0:fn.length)||0)/9*40),Be.island=Math.round(_)}else Be.island=0;if(de&&de.desertProgress){const ye=de.desertProgress;let _=ye.mission1Completed;if(ye.phase2Completed&&(!ye.capturedObjects||ye.capturedObjects.length<11)){console.warn("MapView: Fixing Desert data inconsistency - phase2Completed is true but capturedObjects is empty"),_=!0;const _e=Array.from({length:11},(Qe,Un)=>`object_${Un+1}`);de.desertProgress={...ye,capturedObjects:_e,mission1Completed:!0},localStorage.setItem("aiJourneyUser",JSON.stringify(de)),console.log("MapView: Fixed Desert data saved to localStorage")}console.log("MapView - Loading Desert progress:",{mission1Completed:_,mission2Completed:ye.mission2Completed,mission3Completed:ye.mission3Completed,mission4Completed:ye.mission4Completed,colorMode:ye.colorMode,mission4Complete:ye.mission4Complete});let pe=0;_&&(pe+=25),ye.mission2Completed&&(pe+=25),ye.mission3Completed&&(pe+=25),ye.mission4Completed&&(pe+=25),console.log("MapView - Desert progress calculated:",pe+"%"),Be.desert=pe}else Be.desert=0;if(de){const _=(de.rangerMossPhase||1)*20;Be.fungi=Math.min(_,100)}else Be.fungi=0;const ze=Be.fungi===100&&Be.desert===100&&Be.island===100&&Be.glacier===100;ae(ze),B(Be)};F();const bt=()=>{F()};return window.addEventListener("storage",bt),()=>window.removeEventListener("storage",bt)},[]);const Ee=d!==null,be=F=>{if(di(),k===F&&!C){h(d===F?null:F);return}T(F),w(!0),setTimeout(()=>{w(!1),h(F)},800)},Xe=()=>{di(),h(null),T(null)},yt=async()=>{var F,bt,Be,at;if(Y.trim()){const de=Y.trim();di(),console.log("User message to Glitch:",de),g(Z=>[...Z,{role:"user",text:de}]),D(""),I(!0);try{const Ae=await(await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=AIzaSyBcXQWrPV9YwtEW44u6JmkaFlmMEtaMTw4",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`You are Glitch, a helpful AI guide in an educational game about AI and machine learning. You help players navigate through different regions (Fungi Jungle, Desert, Nexus Island, Glacier) where they learn about data collection, labeling, model training, and AI ethics. You're friendly, encouraging, and explain concepts in simple terms. Keep responses concise (2-3 sentences max).

User question: ${de}`}]}]})})).json();if(Ae.candidates&&((at=(Be=(bt=(F=Ae.candidates[0])==null?void 0:F.content)==null?void 0:bt.parts)==null?void 0:Be[0])!=null&&at.text)){const ze=Ae.candidates[0].content.parts[0].text;g(vt=>[...vt,{role:"glitch",text:ze}])}else throw new Error("Invalid API response")}catch(Z){console.error("Glitch chat error:",Z),g(Ae=>[...Ae,{role:"glitch",text:"Oops! My circuits are a bit scrambled right now. Try asking me again?"}])}finally{I(!1)}}},Je=F=>{F.key==="Enter"&&yt()},E=F=>{if(!k)return"scale(1) translate(0, 0)";switch(F){case"island":return"scale(3) translate(-25%, 25%)";case"desert":return"scale(3) translate(25%, 25%)";case"fungi":return"scale(3) translate(25%, -25%)";case"glacier":return"scale(3) translate(-25%, -25%)";default:return"scale(1) translate(0, 0)"}},Q={container:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},backgroundGif:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transition:"transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)",transformOrigin:"center center"},npcContainer:{position:"absolute",top:"20px",right:"20px",width:"120px",height:"120px",cursor:"pointer",zIndex:10,transition:"opacity 0.3s ease"},npcImage:{width:"120px",height:"120px",objectFit:"contain",transition:"transform 0.3s ease",animation:o?"breathe 1s ease-in-out infinite":"none"},aboutMeButton:{position:"absolute",bottom:"5%",right:"5%",display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",backdropFilter:"blur(5px)",zIndex:100,textDecoration:"none"},aboutMeIcon:{width:"18px",height:"18px",objectFit:"contain"},npcDialogue:{position:"absolute",top:"20px",right:"150px",padding:"20px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #af4dca",zIndex:10,minWidth:"280px",maxWidth:"320px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)"},npcDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},npcDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#af4dca",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},npcDialogueAvatarIcon:{fontSize:"24px"},npcDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#af4dca",margin:0},npcDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:"0 0 15px 0"},npcDialogueInputContainer:{display:"flex",alignItems:"center",backgroundColor:"#d9d7de",borderRadius:"20px",border:"2px solid #d9d7de",overflow:"hidden",transition:"border-color 0.2s"},npcDialogueInput:{flex:1,padding:"10px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",outline:"none"},npcDialogueDivider:{width:"2px",height:"24px",backgroundColor:"#af4dca",margin:"0 8px",flexShrink:0},npcDialogueSendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s",flexShrink:0},npcDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},npcDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},regionLabel:{position:"absolute",width:"280px",padding:"15px 20px",borderRadius:"20px",border:"2px solid transparent",background:"rgba(255, 255, 255, 0.98)",fontFamily:"'Montserrat', sans-serif",cursor:"pointer",zIndex:5,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:`
        0 20px 40px rgba(0, 0, 0, 0.25),
        0 8px 16px rgba(0, 0, 0, 0.15),
        0 4px 8px rgba(0, 0, 0, 0.1),
        inset 0 2px 4px rgba(255, 255, 255, 1),
        inset 0 -2px 4px rgba(0, 0, 0, 0.08)
      `,backgroundImage:`
        linear-gradient(to bottom, 
          rgba(255, 255, 255, 1) 0%, 
          rgba(255, 255, 255, 0.98) 50%,
          rgba(245, 245, 250, 0.98) 100%
        ),
        linear-gradient(135deg, 
          rgba(81, 112, 255, 1) 0%, 
          rgba(255, 107, 157, 1) 25%,
          rgba(255, 200, 100, 1) 50%,
          rgba(255, 107, 157, 1) 75%,
          rgba(81, 112, 255, 1) 100%
        )
      `,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},regionLabelHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},regionLabelRegion:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",fontWeight:600,color:"#999",textTransform:"uppercase",letterSpacing:"1px"},regionLabelStars:{display:"flex",gap:"3px"},regionLabelStarIcon:{width:"16px",height:"16px",objectFit:"contain"},regionLabelTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:800,color:"#000",textTransform:"uppercase",marginBottom:"10px",lineHeight:1.2},regionLabelProgressContainer:{width:"100%",height:"6px",backgroundColor:"#E0E0E0",borderRadius:"3px",overflow:"hidden"},regionLabelProgressFill:{height:"100%",backgroundColor:"#777777",borderRadius:"3px",transition:"width 0.3s ease"},regionCard:{position:"absolute",width:"450px",padding:"30px",paddingBottom:"30px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"2px solid transparent",backgroundImage:`
        linear-gradient(to bottom, 
          rgba(255, 255, 255, 1) 0%, 
          rgba(255, 255, 255, 0.98) 50%,
          rgba(248, 248, 252, 0.98) 100%
        ),
        linear-gradient(135deg, 
          rgba(81, 112, 255, 1) 0%, 
          rgba(255, 107, 157, 1) 20%,
          rgba(255, 200, 100, 1) 40%,
          rgba(100, 255, 218, 1) 60%,
          rgba(255, 107, 157, 1) 80%,
          rgba(81, 112, 255, 1) 100%
        )
      `,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",zIndex:20,boxShadow:`
        0 30px 60px rgba(0, 0, 0, 0.3),
        0 15px 30px rgba(0, 0, 0, 0.2),
        0 8px 16px rgba(0, 0, 0, 0.15),
        inset 0 3px 6px rgba(255, 255, 255, 1),
        inset 0 -3px 6px rgba(0, 0, 0, 0.1)
      `,animation:"fadeInUp 0.3s ease-out"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},cardCloseButton:{background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",marginLeft:"10px",flexShrink:0},cardRegionLabel:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",fontWeight:600,color:"#999",textTransform:"uppercase",letterSpacing:"1.5px",marginBottom:"5px"},cardStars:{display:"flex",gap:"6px"},starIcon:{width:"24px",height:"24px",objectFit:"contain"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"32px",fontWeight:900,color:"#000",marginBottom:"18px",textTransform:"uppercase",lineHeight:1.1,letterSpacing:"1px"},progressBarContainer:{width:"100%",height:"10px",backgroundColor:"#E0E0E0",borderRadius:"5px",overflow:"hidden",marginBottom:"20px"},progressBarFill:{height:"100%",backgroundColor:"#777777",borderRadius:"5px",transition:"width 0.3s ease"},cardDescription:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.7,marginBottom:"12px",textAlign:"left"},cardDifficulty:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#666",marginBottom:"20px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},goButton:{display:"block",width:"100%",margin:"0 auto 12px auto",padding:"16px 0",borderRadius:"12px",border:"none",background:"#000",fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:700,color:"#fff",cursor:"pointer",transition:"all 0.2s ease",textTransform:"uppercase",letterSpacing:"1px"},startOverButton:{display:"block",width:"100%",margin:"0 auto",padding:"8px 0",borderRadius:"8px",border:"none",background:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:500,color:"#666",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center"},lockedButton:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",margin:"0 auto",padding:"16px 0",borderRadius:"12px",border:"none",background:"#999",fontFamily:"'Montserrat', sans-serif",fontSize:"18px",fontWeight:600,color:"#fff",cursor:"not-allowed"},cardNpc:{position:"absolute",bottom:"20px",left:"-60px",width:"140px",height:"140px",objectFit:"contain",zIndex:21},keyframes:`
      @keyframes breathe {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.08); }
      }
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes blink {
        0%, 100% { opacity: 0.2; }
        50% { opacity: 1; }
      }
    `},ne=()=>n.find(F=>F.id===d),re=F=>{if(!F)return"";switch(F.id){case"island":return t("island");case"desert":return t("desert");case"fungi":return t("fungiJungle");case"glacier":return t("glacier");case"centralCity":return t("centralCity");default:return F.name}},se=F=>Array.from({length:F}).map((bt,Be)=>a.jsx("img",{src:"/icon/star.png",alt:"star",style:Q.starIcon},Be));return a.jsxs("div",{style:Q.container,children:[a.jsx("style",{children:Q.keyframes}),!C&&a.jsx(h2,{position:"topLeft"}),!C&&a.jsxs("button",{style:{position:"absolute",bottom:"5%",left:"5%",display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",backdropFilter:"blur(5px)",zIndex:100},onClick:()=>{di(),xe(!0)},onMouseEnter:F=>{F.currentTarget.style.background="rgba(0, 0, 0, 0.5)",F.currentTarget.style.transform="scale(1.05)"},onMouseLeave:F=>{F.currentTarget.style.background="rgba(0, 0, 0, 0.3)",F.currentTarget.style.transform="scale(1)"},children:[a.jsx("img",{src:"/icon/journal.svg",alt:"Journal",style:{width:"18px",height:"18px",objectFit:"contain"}}),a.jsx("span",{children:"Explorer's Journal"})]}),!C&&a.jsxs("a",{href:"https://sirazhang.github.io",target:"_blank",rel:"noopener noreferrer",style:{...Q.aboutMeButton,opacity:Ee||C?0:1,pointerEvents:Ee||C?"none":"auto"},onClick:di,onMouseEnter:F=>{F.currentTarget.style.background="rgba(0, 0, 0, 0.5)",F.currentTarget.style.transform="scale(1.05)"},onMouseLeave:F=>{F.currentTarget.style.background="rgba(0, 0, 0, 0.3)",F.currentTarget.style.transform="scale(1)"},children:[a.jsx("img",{src:"/icon/me.png",alt:"About Me",style:Q.aboutMeIcon}),a.jsx("span",{children:"About Me"})]}),a.jsx("img",{src:L?"/background/map_color.gif":"/background/map.gif",alt:"Map Background",style:{...Q.backgroundGif,transform:k?E(k):"scale(1) translate(0, 0)"}}),a.jsx("div",{style:{...Q.npcContainer,opacity:Ee||C?0:1,pointerEvents:Ee||C?"none":"auto"},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:()=>{m2(),l(!0)},children:a.jsx("img",{src:"/npc/npc1.png",alt:"Glitch",style:Q.npcImage})}),i&&!Ee&&!C&&a.jsxs("div",{style:Q.npcDialogue,children:[a.jsx("button",{style:Q.npcDialogueCloseButton,onClick:()=>{l(!1),g([])},onMouseOver:F=>{F.target.style.color="#333",F.target.style.transform="scale(1.1)"},onMouseOut:F=>{F.target.style.color="#999",F.target.style.transform="scale(1)"},children:""}),a.jsxs("div",{style:Q.npcDialogueHeader,children:[a.jsx("div",{style:Q.npcDialogueAvatar,children:a.jsx("span",{style:Q.npcDialogueAvatarIcon,children:""})}),a.jsx("h4",{style:Q.npcDialogueName,children:"Glitch"})]}),a.jsxs("div",{style:{maxHeight:"300px",overflowY:"auto",marginBottom:"15px",display:"flex",flexDirection:"column",gap:"10px"},children:[m.length===0&&a.jsx("p",{style:Q.npcDialogueText,children:"I suggest go to the Fungi Jungle first."}),m.map((F,bt)=>a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"12px",background:F.role==="user"?"rgba(175, 77, 202, 0.1)":"rgba(175, 77, 202, 0.05)",border:F.role==="user"?"1px solid rgba(175, 77, 202, 0.3)":"1px solid rgba(175, 77, 202, 0.1)",alignSelf:F.role==="user"?"flex-end":"flex-start",maxWidth:"85%"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#af4dca",marginBottom:"4px",fontFamily:"'Roboto', sans-serif"},children:F.role==="user"?"YOU":"GLITCH"}),a.jsx("div",{style:{fontSize:"14px",color:"#333",lineHeight:1.5,fontFamily:"'Roboto', sans-serif",whiteSpace:"pre-wrap"},children:F.text})]},bt)),y&&a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"12px",background:"rgba(175, 77, 202, 0.05)",border:"1px solid rgba(175, 77, 202, 0.1)",alignSelf:"flex-start",maxWidth:"85%"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#af4dca",marginBottom:"4px",fontFamily:"'Roboto', sans-serif"},children:"GLITCH"}),a.jsxs("div",{style:{fontSize:"14px",color:"#999",fontFamily:"'Roboto', sans-serif"},children:[a.jsx("span",{style:{animation:"blink 1.4s infinite"},children:""}),a.jsx("span",{style:{animation:"blink 1.4s infinite 0.2s"},children:""}),a.jsx("span",{style:{animation:"blink 1.4s infinite 0.4s"},children:""})]})]})]}),a.jsxs("div",{style:Q.npcDialogueInputContainer,onFocus:F=>{F.currentTarget.style.borderColor="#af4dca"},onBlur:F=>{F.currentTarget.style.borderColor="#d9d7de"},children:[a.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:Y,onChange:F=>D(F.target.value),onKeyPress:Je,disabled:y,style:Q.npcDialogueInput}),a.jsx("div",{style:Q.npcDialogueDivider}),a.jsx("button",{onClick:yt,style:{...Q.npcDialogueSendButton,opacity:y?.5:1,cursor:y?"not-allowed":"pointer"},disabled:y,onMouseOver:F=>{y||(F.currentTarget.style.transform="scale(1.1)")},onMouseOut:F=>{F.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/icon/send.png",alt:"Send",style:Q.npcDialogueSendIcon})})]})]}),n.filter(F=>F.id==="centralCity"?L:!0).map((F,bt)=>a.jsxs("div",{style:{...Q.regionLabel,...F.position,opacity:b&&!k?1:0,transform:b&&!k?"translateY(0)":"translateY(20px)",transitionDelay:`${bt*.1}s`,pointerEvents:k?"none":"auto",...d===F.id?{boxShadow:`
                0 25px 50px rgba(81, 112, 255, 0.4),
                0 12px 24px rgba(81, 112, 255, 0.3),
                0 6px 12px rgba(81, 112, 255, 0.2),
                inset 0 3px 6px rgba(255, 255, 255, 1),
                inset 0 -2px 4px rgba(0, 0, 0, 0.08)
              `,transform:"translateY(-8px) scale(1.03)"}:{}},onClick:()=>be(F.id),onMouseEnter:Be=>{d!==F.id&&(Be.currentTarget.style.transform="translateY(-8px) scale(1.03)",Be.currentTarget.style.boxShadow=`
                0 25px 50px rgba(0, 0, 0, 0.3),
                0 12px 24px rgba(0, 0, 0, 0.2),
                0 6px 12px rgba(0, 0, 0, 0.15),
                inset 0 3px 6px rgba(255, 255, 255, 1),
                inset 0 -2px 4px rgba(0, 0, 0, 0.08)
              `)},onMouseLeave:Be=>{d!==F.id&&(Be.currentTarget.style.transform="translateY(0) scale(1)",Be.currentTarget.style.boxShadow=`
                0 20px 40px rgba(0, 0, 0, 0.25),
                0 8px 16px rgba(0, 0, 0, 0.15),
                0 4px 8px rgba(0, 0, 0, 0.1),
                inset 0 2px 4px rgba(255, 255, 255, 1),
                inset 0 -2px 4px rgba(0, 0, 0, 0.08)
              `)},children:[a.jsxs("div",{style:Q.regionLabelHeader,children:[a.jsxs("div",{style:Q.regionLabelRegion,children:["REGION ",F.regionNumber]}),a.jsx("div",{style:Q.regionLabelStars,children:Array.from({length:F.stars}).map((Be,at)=>a.jsx("img",{src:"/icon/star.png",alt:"star",style:Q.regionLabelStarIcon},at))})]}),a.jsx("div",{style:Q.regionLabelTitle,children:re({id:F.id})}),a.jsx("div",{style:Q.regionLabelProgressContainer,children:a.jsx("div",{style:{...Q.regionLabelProgressFill,width:`${J[F.id]||0}%`}})})]},F.id)),d&&!C&&a.jsxs("div",{style:{...Q.regionCard,...(ce=ne())==null?void 0:ce.cardPosition},children:[a.jsxs("div",{style:Q.cardHeader,children:[a.jsx("div",{style:{flex:1},children:a.jsxs("div",{style:Q.cardRegionLabel,children:["REGION ",(ke=ne())==null?void 0:ke.regionNumber]})}),a.jsx("div",{style:Q.cardStars,children:se((Ke=ne())==null?void 0:Ke.stars)}),a.jsx("button",{style:Q.cardCloseButton,onClick:Xe,onMouseOver:F=>{F.target.style.color="#333",F.target.style.transform="scale(1.1)"},onMouseOut:F=>{F.target.style.color="#999",F.target.style.transform="scale(1)"},children:""})]}),a.jsx("h3",{style:Q.cardTitle,children:re(ne())}),a.jsx("div",{style:Q.progressBarContainer,children:a.jsx("div",{style:{...Q.progressBarFill,width:`${J[d]||0}%`}})}),a.jsx("p",{style:Q.cardDescription,dangerouslySetInnerHTML:{__html:(Fe=ne())==null?void 0:Fe.description}}),a.jsxs("p",{style:Q.cardDifficulty,children:[a.jsx("span",{children:"Difficulty: "}),a.jsx("span",{children:(ue=ne())==null?void 0:ue.difficulty})]}),(Te=ne())!=null&&Te.available?a.jsxs(a.Fragment,{children:[a.jsx("button",{style:Q.goButton,onClick:()=>{di(),e(d,!1)},onMouseOver:F=>{F.target.style.background="#333",F.target.style.transform="scale(1.02)"},onMouseOut:F=>{F.target.style.background="#000",F.target.style.transform="scale(1)"},children:J[d]===0?t("start"):t("continue")}),J[d]>0&&a.jsx("button",{style:Q.startOverButton,onClick:()=>{di(),e(d,!0)},onMouseOver:F=>{F.target.style.color="#666",F.target.style.transform="scale(1.02)"},onMouseOut:F=>{F.target.style.color="#333",F.target.style.transform="scale(1)"},children:t("startOver")})]}):a.jsxs("button",{style:Q.lockedButton,children:[a.jsx("img",{src:"/icon/locked.png",alt:"Locked",style:{width:"20px",height:"20px",marginRight:"8px"}}),t("locked")]}),a.jsx("img",{src:"/npc/npc2.png",alt:"Glitch",style:Q.cardNpc})]}),a.jsx(x2,{isOpen:X,onClose:()=>xe(!1)})]})},et={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3},v2={[et.BOTTOM_LEFT]:{npc:"npc_a",image:"/jungle/npc_a.png",name:"NPC A",dialogues:[{text:"System Error... Bzzzt...Ugh... my sensors are spinning... You looking for Ranger Moss? He went... <strong>that way</strong>... ",speaker:"NPC A"}]},[et.BOTTOM_RIGHT]:{npc:"npc_b",image:"/jungle/npc_b.gif",name:"NPC B",dialogues:[{text:"Welc-come... to... *static noise*...Ranger Moss... is <strong>up there</strong>...  He tried to fix the solar array but... (Powers down)",speaker:"NPC B"}]},[et.TOP_LEFT]:{npc:null,dialogues:[]},[et.TOP_RIGHT]:{npc:"ranger_moss",image:"/jungle/npc_c.png",name:"Ranger Moss",dialogues:[{text:"Hey! Down here! No, waitup here! Hello? Can you hear me? I am Ranger Moss. As you can see, I am currently... slightly indisposed.",speaker:"Ranger Moss"},{text:"My battery died while I was climbing, and now my magnetic grip won't let go of this tree!",speaker:"Ranger Moss"},{text:"",speaker:"",isOption:!0,optionText:"Why is everyone down?"},{text:"It's a disaster. Recently, strange mutated mushrooms just popped up everywhere. My workers couldn't tell the difference. They ate the toxic mushrooms thinking they were batteries... and now their systems have crashed!",speaker:"Ranger Moss"},{text:"",speaker:"",isOption:!0,optionText:"How can I help you?"},{text:"We need to build an AI algorithm to automatically identify the toxic mushrooms. But since I can't move... could you help me? Please go into the jungle and collect data samples of the mushrooms.",speaker:"Ranger Moss"},{text:"We need at least 12 samples to train the model. Good luck, human!",speaker:"Ranger Moss"}]}},o0={[et.BOTTOM_LEFT]:{up:et.TOP_LEFT,right:et.BOTTOM_RIGHT},[et.BOTTOM_RIGHT]:{up:et.TOP_RIGHT,left:et.BOTTOM_LEFT},[et.TOP_LEFT]:{down:et.BOTTOM_LEFT,right:et.TOP_RIGHT},[et.TOP_RIGHT]:{down:et.BOTTOM_RIGHT,left:et.TOP_LEFT}},S2={[et.BOTTOM_LEFT]:"translate(0%, -50%)",[et.BOTTOM_RIGHT]:"translate(-50%, -50%)",[et.TOP_LEFT]:"translate(0%, 0%)",[et.TOP_RIGHT]:"translate(-50%, 0%)"},T2=({onExit:e,onStartDataCollection:t})=>{var Ve;const{t:n}=Ea(),{startTypingSound:o,stopTypingSound:s}=yu("/sound/typing_jungle.wav"),[i,l]=r.useState(et.BOTTOM_LEFT),[d,h]=r.useState(0),[b,A]=r.useState(""),[k,T]=r.useState(!1),[C,w]=r.useState(!0),[Y,D]=r.useState(!1),[m,g]=r.useState({}),[y,I]=r.useState(!1),[J,B]=r.useState([]),[L,ae]=r.useState(0),[X,xe]=r.useState(!1),[Ee,be]=r.useState(""),[Xe,yt]=r.useState(!1),[Je,E]=r.useState(null),[Q,ne]=r.useState(!1),[re,se]=r.useState(""),[ce,ke]=r.useState([]),[Ke,Fe]=r.useState(!1);r.useEffect(()=>{const U=localStorage.getItem("aiJourneyUser");if(U){const fe=JSON.parse(U),je=fe.fungiJungleProgress;if(je){l(je.currentPosition||et.BOTTOM_LEFT),g(je.dialogueComplete||{});const Ue=fe.rangerMossPhase||1;console.log("Loaded Fungi Jungle progress:",je,"Ranger Moss Phase:",Ue)}}return()=>{s()}},[]),r.useEffect(()=>{const U=localStorage.getItem("aiJourneyUser");if(U){const fe=JSON.parse(U);fe.fungiJungleProgress={currentPosition:i,dialogueComplete:m,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(fe)),console.log("Saved Fungi Jungle progress:",fe.fungiJungleProgress)}},[i,m]);const ue=v2[i],Te=(Ve=ue==null?void 0:ue.dialogues)==null?void 0:Ve[d];r.useEffect(()=>{var U;!m[i]&&((U=ue==null?void 0:ue.dialogues)==null?void 0:U.length)>0&&(h(0),i===et.TOP_RIGHT?(I(!0),w(!1),J.length===0&&bt()):(w(!0),I(!1)))},[i]);const F=[{type:"message",text:"Hey! Down here! No, waitup here! Hello? Can you hear me? I am <strong>Ranger Moss</strong>. As you can see, I am currently... slightly indisposed."},{type:"message",text:"My battery died while I was climbing, and now my magnetic grip won't let go of this tree!"},{type:"choice",text:"Why is everyone down?"},{type:"message",text:"It's a disaster. Recently, strange mutated mushrooms just popped up everywhere. My workers couldn't tell the difference. They ate the toxic mushrooms thinking they were batteries... and now their systems have crashed!"},{type:"choice",text:"How can I help you?"},{type:"message",text:"We need to build an <strong>AI algorithm</strong> to automatically identify the toxic mushrooms. But since I can't move... could you help me? Please go into the jungle and collect <strong>data samples</strong> of the mushrooms."},{type:"message",text:"We need at least <strong>12 samples</strong> to train the model. Good luck, human!"},{type:"action",text:"START MISSION"}],bt=()=>{B([]),ae(0),Be(0)},Be=U=>{if(U>=F.length)return;const fe=F[U];if(fe.type==="message"){const je={type:"message",text:fe.text};B(St=>[...St,je]),E(je);let Ue=0;be(""),yt(!0),o();const Et=setInterval(()=>{Ue<fe.text.length?(be(fe.text.substring(0,Ue+1)),Ue++):(yt(!1),E(null),s(),clearInterval(Et),U+1<F.length&&F[U+1].type==="choice"?(xe(!0),ae(U+1)):U+1<F.length?setTimeout(()=>{ae(U+1),Be(U+1)},500):ae(U+1))},25)}},at=U=>{B(je=>[...je,{type:"user",text:U}]),xe(!1);const fe=L+1;ae(fe),setTimeout(()=>{Be(fe)},500)},de=()=>{s(),g(fe=>({...fe,[et.TOP_RIGHT]:!0})),I(!1);const U=localStorage.getItem("aiJourneyUser");if(U){const fe=JSON.parse(U);fe.rangerMossPhase=1,localStorage.setItem("aiJourneyUser",JSON.stringify(fe))}setTimeout(()=>{t&&t()},500)},Z=()=>{ne(!0)},Ae=async()=>{var U,fe,je,Ue;if(re.trim()){const Et=re.trim();console.log("User message to Glitch:",Et),ke(St=>[...St,{role:"user",text:Et}]),se(""),Fe(!0);try{const De=await(await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=AIzaSyBcXQWrPV9YwtEW44u6JmkaFlmMEtaMTw4",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`You are Glitch, a helpful AI guide in the Fungi Jungle region of an educational game about AI and machine learning. In this region, players learn about data collection, data labeling, and model training. You help them understand concepts like gathering diverse data samples, the importance of clean data, labeling accuracy, and how models learn from data. You're friendly, encouraging, and explain concepts in simple terms. Keep responses concise (2-3 sentences max).

User question: ${Et}`}]}]})})).json();if(De.candidates&&((Ue=(je=(fe=(U=De.candidates[0])==null?void 0:U.content)==null?void 0:fe.parts)==null?void 0:je[0])!=null&&Ue.text)){const Bt=De.candidates[0].content.parts[0].text;ke(dt=>[...dt,{role:"glitch",text:Bt}])}else throw new Error("Invalid API response")}catch(St){console.error("Glitch chat error:",St),ke(De=>[...De,{role:"glitch",text:"Oops! My circuits are a bit scrambled right now. Try asking me again?"}])}finally{Fe(!1)}}},ze=U=>{U.key==="Enter"&&Ae()},vt=U=>U&&U.split(/(<strong>.*?<\/strong>)/g).map((je,Ue)=>{if(je.startsWith("<strong>")){const Et=je.replace(/<\/?strong>/g,"");return a.jsx("span",{style:{fontWeight:700,color:"#8B4513"},children:Et},Ue)}return je}),fn=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});r.useEffect(()=>{if(!Te||Te.isOption)return;const U=Te.text;if(!U)return;let fe=0;A(""),T(!0);const je=setInterval(()=>{fe<U.length?(A(U.substring(0,fe+1)),fe++):(T(!1),clearInterval(je))},25);return()=>clearInterval(je)},[d,i]);const ye=U=>{var je;const fe=(je=o0[i])==null?void 0:je[U];fe!==void 0&&!Y&&(D(!0),setTimeout(()=>{l(fe),D(!1)},500))},_=()=>{if(k){A(Te.text),T(!1);return}const U=(ue==null?void 0:ue.dialogues)||[];d<U.length-1?h(fe=>fe+1):(g(fe=>({...fe,[i]:!0})),w(!1),i===et.TOP_RIGHT&&d===U.length-1&&setTimeout(()=>{t&&t()},1e3))},pe=U=>U&&U.replace(/<strong>(.*?)<\/strong>/g,'<span style="font-weight: 700; color: #FF0000; font-size: 24px;">$1</span>'),_e=()=>{const fe=((ue==null?void 0:ue.dialogues)||[])[d+1];fe!=null&&fe.isOption?h(je=>je+2):h(je=>je+1)},Qe=o0[i]||{},Un=()=>{if(!y)return null;const U=localStorage.getItem("aiJourneyUser"),je=(U?JSON.parse(U):{}).rangerMossPhase||1,Ue=5,Et=je/Ue*100,St={1:"PHASE 1: COLLECTING DATA",2:"PHASE 2: DATA CLEANING",3:"PHASE 3: CORRECT LABELS + FILL MISSING VALUES",4:"PHASE 4: TEST THE MODEL",5:"PHASE 5: REFINE THE MODEL"};return a.jsxs("div",{style:V.modernDialogueContainer,children:[a.jsxs("div",{style:V.modernDialogueHeader,children:[a.jsxs("div",{style:V.modernProgressContainer,children:[a.jsx("div",{style:V.modernMissionTitle,children:St[je]}),a.jsxs("div",{style:V.modernStepIndicator,children:["Phase ",je," of ",Ue]})]}),a.jsx("div",{style:V.modernProgressBar,children:a.jsx("div",{style:{...V.modernProgressFill,width:`${Et}%`}})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{style:V.modernNpcInfo,children:[a.jsx("img",{src:"/jungle/npc_c.png",alt:"Ranger Moss",style:V.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:V.modernNpcName,children:"Ranger Moss"}),a.jsx("div",{style:V.modernNpcStatus,children:"Jungle Ranger"})]})]}),a.jsx("button",{style:V.modernCloseButton,onClick:()=>{s(),I(!1)},onMouseOver:De=>De.target.style.color="#333",onMouseOut:De=>De.target.style.color="#999",children:""})]})]}),a.jsxs("div",{style:V.modernDialogueContent,children:[J.map((De,Bt)=>{const dt=fn();return De.type==="message"?a.jsxs("div",{style:V.modernNpcMessage,children:[a.jsx("div",{style:V.modernNpcSpeaker,children:"RANGER MOSS:"}),a.jsx("p",{style:V.modernNpcText,children:Je&&Je===De?a.jsxs(a.Fragment,{children:[vt(Ee),Xe&&a.jsx("span",{style:{opacity:.5},children:"|"})]}):vt(De.text)}),a.jsx("div",{style:V.modernTimestamp,children:dt})]},Bt):De.type==="user"?a.jsxs("div",{style:V.modernUserMessage,children:[a.jsx("div",{style:V.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:V.modernUserBubble,children:a.jsx("p",{style:V.modernUserText,children:De.text})}),a.jsx("div",{style:{...V.modernTimestamp,textAlign:"right"},children:dt})]},Bt):null}),X&&L<F.length&&F[L].type==="choice"&&a.jsxs("button",{style:V.modernActionButton,onClick:()=>at(F[L].text),onMouseOver:De=>{De.target.style.borderColor="#8B4513",De.target.style.transform="translateX(5px)"},onMouseOut:De=>{De.target.style.borderColor="#E0E0E0",De.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:"#8B4513"},children:""}),F[L].text]}),!X&&L<F.length&&F[L].type==="action"&&a.jsx("button",{style:{...V.modernActionButton,background:"#8B4513",color:"#fff",fontWeight:"bold",fontSize:"16px",padding:"15px 30px",border:"none"},onClick:de,onMouseOver:De=>{De.target.style.transform="scale(1.05)"},onMouseOut:De=>{De.target.style.transform="scale(1)"},children:F[L].text})]})]})},V={container:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},mapContainer:{width:"200%",height:"200%",position:"absolute",top:0,left:0,transition:"transform 0.5s ease-in-out",transform:S2[i]},mapImage:{width:"100%",height:"100%",objectFit:"cover"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.1)",zIndex:1},exitButton:{position:"absolute",top:"20px",left:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(81, 112, 255, 0.5)",padding:"10px 25px",borderRadius:"8px",cursor:"pointer",zIndex:10,transition:"all 0.2s"},miniNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"transform 0.2s"},miniNpcImage:{width:"120px",height:"120px",objectFit:"contain"},navArrow:{position:"absolute",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:10,transition:"transform 0.2s",background:"none",border:"none"},arrowImage:{width:"80px",height:"80px",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},upArrow:{top:"30px",left:"50%",transform:"translateX(-50%)"},downArrow:{bottom:"30px",left:"50%",transform:"translateX(-50%)"},leftArrow:{left:"30px",top:"50%",transform:"translateY(-50%)"},rightArrow:{right:"30px",top:"50%",transform:"translateY(-50%)"},npcContainer:{position:"absolute",bottom:"50px",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcContainerLeft:{left:"50px"},npcContainerRight:{right:"50px"},npcContainerNpcA:{position:"absolute",bottom:"0",right:"50px",height:"66.67vh",display:"flex",alignItems:"flex-end",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcImage:{width:"250px",height:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},npcImageNpcA:{height:"66.67vh",width:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},npcContainerNpcB:{position:"absolute",bottom:"0",left:"25%",height:"50vh",display:"flex",alignItems:"flex-end",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcImageNpcB:{height:"50vh",width:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},npcContainerRangerMoss:{position:"absolute",bottom:"10%",right:"15%",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcImageRangerMoss:{height:"66.67vh",width:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},dialogueContainer:{position:"absolute",top:"80px",left:"80px",right:"150px",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueContainerNpcA:{position:"absolute",top:"33.33%",left:"80px",width:"45%",maxWidth:"500px",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueContainerNpcB:{position:"absolute",top:"50%",right:"80px",width:"45%",maxWidth:"500px",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueContainerRangerMoss:{position:"absolute",top:"10%",left:"80px",width:"45%",maxWidth:"500px",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueBox:{padding:"25px 30px",borderRadius:"30% 70% 70% 30% / 30% 30% 70% 70%",background:"rgba(255, 255, 255, 0.95)",border:"3px solid #8B4513",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3), inset 0 2px 5px rgba(255, 255, 255, 0.5)",position:"relative",minHeight:"100px"},speakerName:{position:"absolute",top:"-15px",right:"20px",fontFamily:"'Patrick Hand', cursive",fontSize:"20px",fontWeight:700,color:"#8B4513",background:"rgba(255, 255, 255, 0.95)",padding:"5px 15px",borderRadius:"15px",border:"2px solid #8B4513",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},dialogueText:{fontFamily:"'Patrick Hand', cursive",fontSize:"20px",fontWeight:400,color:"#333",lineHeight:1.6,textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)",marginTop:"10px"},optionButton:{fontFamily:"'Patrick Hand', cursive",fontSize:"18px",fontWeight:600,color:"#8B4513",backgroundColor:"rgba(255, 235, 205, 0.9)",border:"3px solid #8B4513",padding:"12px 25px",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",marginTop:"15px",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.2)"},modernDialogueContainer:{position:"absolute",top:"12.5%",left:"10%",width:"40%",height:"70%",zIndex:100,background:"rgba(245, 245, 245, 0.98)",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"3px solid #8B4513"},modernDialogueHeader:{padding:"20px 25px 15px 25px",borderBottom:"none"},modernProgressContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},modernMissionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px",color:"#8B4513"},modernStepIndicator:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#999"},modernProgressBar:{width:"100%",height:"4px",backgroundColor:"rgba(200,200,200,0.3)",borderRadius:"2px",overflow:"hidden",marginBottom:"20px"},modernProgressFill:{height:"100%",borderRadius:"2px",transition:"width 0.3s ease",background:"#8B4513"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px",flex:1},modernNpcAvatar:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#333"},modernNpcStatus:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999"},modernCloseButton:{position:"relative",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},modernDialogueContent:{flex:1,padding:"0 25px 25px 25px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"100%"},modernNpcSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"85%"},modernUserBubble:{background:"#8B4513",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(139, 69, 19, 0.3)"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",lineHeight:1.5,margin:0},modernUserSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},modernActionButton:{alignSelf:"stretch",background:"white",border:"2px solid #E0E0E0",borderRadius:"25px",padding:"14px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",marginTop:"8px"},glitchDialogue:{position:"absolute",top:"20px",right:"150px",width:"350px",background:"rgba(255, 255, 255, 0.98)",borderRadius:"15px",padding:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",zIndex:150,border:"3px solid #8B4513"},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #8B4513, #A0522D)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",margin:0},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",border:"2px solid #e0e0e0",borderRadius:"25px",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",background:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",background:"#e0e0e0",borderRadius:"1px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"}},Ht=()=>{if(!C||!(ue!=null&&ue.npc)||m[i]||!Te)return null;const U=i===et.BOTTOM_LEFT,fe=i===et.BOTTOM_RIGHT,je=i===et.TOP_RIGHT,Ue=U?V.dialogueContainerNpcA:fe?V.dialogueContainerNpcB:je?V.dialogueContainerRangerMoss:V.dialogueContainer,St=((ue==null?void 0:ue.dialogues)||[])[d+1],De=St==null?void 0:St.isOption,Bt=U?"NPC 01":fe?"NPC 02":je?"Ranger Moss":Te.speaker;return Te.isOption?a.jsx("div",{style:Ue,children:a.jsxs("div",{style:V.dialogueBox,children:[a.jsx("div",{style:V.speakerName,children:Bt}),a.jsx("button",{style:V.optionButton,onClick:_e,onMouseOver:dt=>{dt.target.style.backgroundColor="rgba(255, 235, 205, 1)",dt.target.style.transform="scale(1.05)"},onMouseOut:dt=>{dt.target.style.backgroundColor="rgba(255, 235, 205, 0.9)",dt.target.style.transform="scale(1)"},children:Te.optionText})]})}):a.jsx("div",{style:Ue,children:a.jsxs("div",{style:{...V.dialogueBox,cursor:"pointer"},onClick:_,children:[a.jsx("div",{style:V.speakerName,children:Bt}),a.jsxs("p",{style:V.dialogueText,children:[a.jsx("span",{dangerouslySetInnerHTML:{__html:pe(b)}}),k&&a.jsx("span",{style:{opacity:.5,animation:"blink 1s infinite"},children:"|"})]}),De&&!k&&a.jsx("button",{style:V.optionButton,onClick:dt=>{dt.stopPropagation(),_e()},onMouseOver:dt=>{dt.target.style.backgroundColor="rgba(255, 235, 205, 1)",dt.target.style.transform="scale(1.05)"},onMouseOut:dt=>{dt.target.style.backgroundColor="rgba(255, 235, 205, 0.9)",dt.target.style.transform="scale(1)"},children:St.optionText})]})})},sa=()=>{if(!(ue!=null&&ue.npc))return null;const U=i===et.BOTTOM_LEFT,fe=i===et.BOTTOM_RIGHT,je=i===et.TOP_RIGHT;return U?a.jsx("div",{style:V.npcContainerNpcA,children:a.jsx("img",{src:ue.image,alt:ue.name,style:V.npcImageNpcA})}):fe?a.jsx("div",{style:V.npcContainerNpcB,children:a.jsx("img",{src:ue.image,alt:ue.name,style:V.npcImageNpcB})}):je?a.jsx("div",{style:V.npcContainerRangerMoss,children:a.jsx("img",{src:ue.image,alt:ue.name,style:V.npcImageRangerMoss})}):a.jsx("div",{style:{...V.npcContainer,...isRightSide?V.npcContainerRight:V.npcContainerLeft},children:a.jsx("img",{src:ue.image,alt:ue.name,style:V.npcImage})})};return a.jsxs("div",{style:V.container,children:[a.jsx("style",{children:`
          @keyframes blink {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
          }
        `}),a.jsx("div",{style:V.mapContainer,children:a.jsx("img",{src:"/jungle/map_full.png",alt:"Fungi Jungle Map",style:V.mapImage})}),a.jsx("div",{style:V.overlay}),a.jsx("button",{style:V.exitButton,onClick:e,onMouseOver:U=>{U.target.style.backgroundColor="rgba(255, 255, 255, 1)",U.target.style.borderColor="#5170FF"},onMouseOut:U=>{U.target.style.backgroundColor="rgba(255, 255, 255, 0.9)",U.target.style.borderColor="rgba(81, 112, 255, 0.5)"},children:n("exit")}),a.jsx("div",{style:V.miniNpc,onClick:Z,onMouseOver:U=>U.currentTarget.style.transform="scale(1.1)",onMouseOut:U=>U.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:V.miniNpcImage})}),Q&&a.jsxs("div",{style:V.glitchDialogue,children:[a.jsx("button",{style:V.glitchDialogueCloseButton,onClick:()=>{ne(!1),ke([])},onMouseOver:U=>{U.target.style.color="#333",U.target.style.transform="scale(1.1)"},onMouseOut:U=>{U.target.style.color="#999",U.target.style.transform="scale(1)"},children:""}),a.jsxs("div",{style:V.glitchDialogueHeader,children:[a.jsx("div",{style:V.glitchDialogueAvatar,children:a.jsx("span",{style:V.glitchDialogueAvatarIcon,children:""})}),a.jsx("h4",{style:V.glitchDialogueName,children:"Glitch"})]}),a.jsxs("div",{style:{maxHeight:"300px",overflowY:"auto",marginBottom:"15px",display:"flex",flexDirection:"column",gap:"10px"},children:[ce.length===0&&a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#666",lineHeight:1.6,margin:0},children:"Welcome to Fungi Jungle! I'm here to help you learn about data collection and model training."}),ce.map((U,fe)=>a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"12px",background:U.role==="user"?"rgba(139, 69, 19, 0.1)":"rgba(139, 69, 19, 0.05)",border:U.role==="user"?"1px solid rgba(139, 69, 19, 0.3)":"1px solid rgba(139, 69, 19, 0.1)",alignSelf:U.role==="user"?"flex-end":"flex-start",maxWidth:"85%"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#8B4513",marginBottom:"4px",fontFamily:"'Roboto', sans-serif"},children:U.role==="user"?"YOU":"GLITCH"}),a.jsx("div",{style:{fontSize:"14px",color:"#333",lineHeight:1.5,fontFamily:"'Roboto', sans-serif",whiteSpace:"pre-wrap"},children:U.text})]},fe)),Ke&&a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"12px",background:"rgba(139, 69, 19, 0.05)",border:"1px solid rgba(139, 69, 19, 0.1)",alignSelf:"flex-start",maxWidth:"85%"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#8B4513",marginBottom:"4px",fontFamily:"'Roboto', sans-serif"},children:"GLITCH"}),a.jsxs("div",{style:{fontSize:"14px",color:"#999",fontFamily:"'Roboto', sans-serif"},children:[a.jsx("span",{style:{animation:"blink 1.4s infinite"},children:""}),a.jsx("span",{style:{animation:"blink 1.4s infinite 0.2s"},children:""}),a.jsx("span",{style:{animation:"blink 1.4s infinite 0.4s"},children:""})]})]})]}),a.jsxs("div",{style:V.glitchDialogueInputContainer,onFocus:U=>{U.currentTarget.style.borderColor="#8B4513"},onBlur:U=>{U.currentTarget.style.borderColor="#e0e0e0"},children:[a.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:re,onChange:U=>se(U.target.value),onKeyPress:ze,disabled:Ke,style:V.glitchDialogueInput}),a.jsx("div",{style:V.glitchDialogueDivider}),a.jsx("button",{onClick:Ae,style:{...V.glitchDialogueSendButton,opacity:Ke?.5:1,cursor:Ke?"not-allowed":"pointer"},disabled:Ke,onMouseOver:U=>{Ke||(U.currentTarget.style.transform="scale(1.1)")},onMouseOut:U=>{U.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/icon/send.png",alt:"Send",style:V.glitchDialogueSendIcon})})]})]}),Qe.up!==void 0&&a.jsx("button",{style:{...V.navArrow,...V.upArrow},onClick:()=>ye("up"),onMouseOver:U=>U.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:U=>U.currentTarget.style.transform="translateX(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/up.png",alt:"Up",style:V.arrowImage})}),Qe.down!==void 0&&a.jsx("button",{style:{...V.navArrow,...V.downArrow},onClick:()=>ye("down"),onMouseOver:U=>U.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:U=>U.currentTarget.style.transform="translateX(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/down.png",alt:"Down",style:V.arrowImage})}),Qe.left!==void 0&&a.jsx("button",{style:{...V.navArrow,...V.leftArrow},onClick:()=>ye("left"),onMouseOver:U=>U.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:U=>U.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:V.arrowImage})}),Qe.right!==void 0&&a.jsx("button",{style:{...V.navArrow,...V.rightArrow},onClick:()=>ye("right"),onMouseOver:U=>U.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:U=>U.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:V.arrowImage})}),sa(),Ht(),Un()]})},kt={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3},a0={[kt.BOTTOM_LEFT]:{up:kt.TOP_LEFT,right:kt.BOTTOM_RIGHT},[kt.BOTTOM_RIGHT]:{up:kt.TOP_RIGHT,left:kt.BOTTOM_LEFT},[kt.TOP_LEFT]:{down:kt.BOTTOM_LEFT,right:kt.TOP_RIGHT},[kt.TOP_RIGHT]:{down:kt.BOTTOM_RIGHT,left:kt.TOP_LEFT}},w2={[kt.BOTTOM_LEFT]:"translate(0%, -50%)",[kt.BOTTOM_RIGHT]:"translate(-50%, -50%)",[kt.TOP_LEFT]:"translate(0%, 0%)",[kt.TOP_RIGHT]:"translate(-50%, 0%)"},j2={[kt.TOP_LEFT]:[{id:"02",size:250,right:"35%",bottom:"25%"},{id:"04",size:320,left:"0%",top:"50%"},{id:"05",size:240,right:"0%",top:"calc(25% + 200px)"},{id:"10",size:200,left:"40%",top:"5%"}],[kt.BOTTOM_LEFT]:[{id:"01",size:330,right:"0%",bottom:"15%"},{id:"07",size:200,left:"0%",top:"5%"},{id:"08",size:310,left:"0%",bottom:"10%"},{id:"11",size:300,left:"50%",bottom:"15%"}],[kt.BOTTOM_RIGHT]:[{id:"06",size:400,right:"20%",bottom:"0%"},{id:"03",size:200,right:"25%",top:"0%"},{id:"09",size:220,left:"10%",top:"5%"},{id:"12",size:150,right:"5%",bottom:"35%"}],[kt.TOP_RIGHT]:[]},C2={[kt.BOTTOM_LEFT]:{npc:"npc_a",image:"/jungle/npc_a.png",top:"5%",right:"50%",width:"auto",height:"25vh",dialogueTop:"33.33%",dialogueLeft:"80px"},[kt.BOTTOM_RIGHT]:{npc:"npc_b",image:"/jungle/npc_b.gif",left:"0%",bottom:"0%",width:"auto",height:"25vh",dialogueTop:"33.33%",dialogueRight:"80px"},[kt.TOP_RIGHT]:{npc:"npc_c",image:"/jungle/npc_c.png",bottom:"10%",right:"15%",width:"auto",height:"66.67vh",dialogueTop:"25%",dialogueLeft:"80px"}},Hi={"01":{name:"Candy Blob",color:"Pink / Purple / Yellow",colorTone:"Mixed warm and cool",shape:"Irregular / Curved",texture:"Glossy / Dripping",spikes:!1},"02":{name:"Flame Bloom",color:"Red / Green / Beige",colorTone:"Warm dominant",shape:"Flame-like / Circular",texture:"Smooth / Slightly Wavy",spikes:!0},"03":{name:"Velvet Star",color:"Cyan / Blue",colorTone:"Cool",shape:"Star-shaped / Pointed",texture:"Fuzzy / Velvet-like",spikes:!0},"04":{name:"Polka Cluster",color:"Green / Purple",colorTone:"Mixed cool and warm",shape:"Clustered / Round",texture:"Smooth / Polka-dotted",spikes:!1},"05":{name:"Speckled Bell",color:"Purple / Yellow",colorTone:"Mixed cool and warm",shape:"Bell-shaped / Drooping",texture:"Matte / Speckled",spikes:!1},"06":{name:"Glowing Shroom",color:"Blue / Purple / Pink",colorTone:"Cool dominant",shape:"Mushroom-like / Flowing",texture:"Glowing / Translucent",spikes:!1},"07":{name:"Floral Bouquet",color:"Purple / Pink / Lavender",shape:"Round / Radial Petals with Central Stamen",texture:"Smooth, Soft Gradient, Delicate Shading",spikes:!1},"08":{name:"Drip Orb",color:"Yellow / White",colorTone:"Warm",shape:"Round / Bulbous",texture:"Glossy / Dripping",spikes:!1},"09":{name:"Frostfire Cap",color:"Pink / Cyan / White",colorTone:"Mixed warm and cool",shape:"Mushroom-like / Flame-shaped",texture:"Glossy / Glowing",spikes:!1},10:{name:"Classic Toadstool",color:"Red / White / Blue",colorTone:"Warm dominant",shape:"Round / Smooth",texture:"Matte / Polka-dotted",spikes:!1},11:{name:"Rainbow Drip",color:"Pastel Rainbow / Teal / Purple",colorTone:"Soft mixed",shape:"Tapered / Drooping",texture:"Glossy / Dripping",spikes:!1},12:{name:"Starlight Shroom",color:"Pink / Purple / Orange",colorTone:"Warm and cool mixed",shape:"Star-shaped / Pointed",texture:"Glowing / Sticky / Veined",spikes:!0}},k2=({onComplete:e,onExit:t})=>{var Ae,ze,vt,fn,ye;const{t:n}=Ea(),[o,s]=r.useState(kt.TOP_LEFT),[i,l]=r.useState(!1),[d,h]=r.useState([]),[b,A]=r.useState(!1),[k,T]=r.useState(null),[C,w]=r.useState(!1),[Y,D]=r.useState(!1),[m,g]=r.useState(""),[y,I]=r.useState(!1),[J,B]=r.useState(null),[L,ae]=r.useState(!1),[X,xe]=r.useState(""),[Ee,be]=r.useState([]),[Xe,yt]=r.useState(!1),[Je,E]=r.useState({x:0,y:0}),[Q,ne]=r.useState(!1);r.useEffect(()=>{const _=_e=>{E({x:_e.clientX,y:_e.clientY}),ne(!0)},pe=()=>{ne(!1)};return window.addEventListener("mousemove",_),window.addEventListener("mouseleave",pe),()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseleave",pe)}},[]),Di();const[re]=r.useState(new Audio("/sound/pencil.wav")),[se]=r.useState(new Audio("/sound/click.mp3"));r.useEffect(()=>{re.volume=.5,se.volume=.5},[re,se]),r.useEffect(()=>{const _=localStorage.getItem("aiJourneyUser");if(_){const _e=JSON.parse(_).dataCollectionProgress;_e&&(s(_e.currentPosition||kt.TOP_LEFT),h(_e.collectedIds||[]),console.log("Loaded Data Collection progress:",_e))}},[]),r.useEffect(()=>{const _=localStorage.getItem("aiJourneyUser");if(_){const pe=JSON.parse(_);pe.dataCollectionProgress={currentPosition:o,collectedIds:d,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(pe)),console.log("Saved Data Collection progress:",pe.dataCollectionProgress)}},[o,d]);const ce=_=>{var _e;const pe=(_e=a0[o])==null?void 0:_e[_];pe!==void 0&&!i&&(l(!0),setTimeout(()=>{s(pe),l(!1)},500))},ke=_=>{d.includes(_)||(re.currentTime=0,re.play().catch(pe=>console.log("Pencil sound error:",pe)),T(_),A(!0))},Ke=()=>{if(k&&!d.includes(k)){se.currentTime=0,se.play().catch(pe=>console.log("Click sound error:",pe));const _=[...d,k];h(_),A(!1),T(null),_.length===12&&I(!0)}},Fe=_=>{_==="npc_c"&&d.length===12&&e(d)},ue=(_,pe)=>{pe?(B(_),d.length<12?(g("Not finished yet! You're still missing some data!"),D(!0)):(g("Give ALL these to Ranger Moss!"),D(!0))):(B(null),D(!1))},Te=()=>{ae(!0)},F=async()=>{var _,pe,_e,Qe;if(X.trim()){const Un=X.trim();console.log("User message to Glitch:",Un),be(V=>[...V,{role:"user",text:Un}]),xe(""),yt(!0);try{const Ht=await(await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=AIzaSyBcXQWrPV9YwtEW44u6JmkaFlmMEtaMTw4",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`You are Glitch, a helpful AI guide in the Fungi Jungle region of an educational game about AI and machine learning. In this region, players are collecting data samples of mushrooms to train an AI model. You help them understand concepts like gathering diverse data samples, the importance of clean data, and how models learn from data. You're friendly, encouraging, and explain concepts in simple terms. Keep responses concise (2-3 sentences max).

User question: ${Un}`}]}]})})).json();if(Ht.candidates&&((Qe=(_e=(pe=(_=Ht.candidates[0])==null?void 0:_.content)==null?void 0:pe.parts)==null?void 0:_e[0])!=null&&Qe.text)){const sa=Ht.candidates[0].content.parts[0].text;be(Ve=>[...Ve,{role:"glitch",text:sa}])}else throw new Error("Invalid API response")}catch(V){console.error("Glitch chat error:",V),be(Ht=>[...Ht,{role:"glitch",text:"Oops! My circuits are a bit scrambled right now. Try asking me again?"}])}finally{yt(!1)}}},bt=_=>{_.key==="Enter"&&F()},Be=a0[o]||{},at=j2[o]||[],de=C2[o],Z={container:{width:"100%",height:"100vh",position:"relative",overflow:"hidden",cursor:"none"},mapContainer:{width:"200%",height:"200%",position:"absolute",top:0,left:0,transition:"transform 0.5s ease-in-out",transform:w2[o]},mapImage:{width:"100%",height:"100%",objectFit:"cover",filter:"grayscale(80%)"},exitButton:{position:"absolute",top:"20px",left:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#666",backgroundColor:"rgba(255, 255, 255, 0.85)",border:"2px solid rgba(81, 112, 255, 0.4)",padding:"12px 30px",borderRadius:"8px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},glitchNpc:{position:"absolute",top:"10px",right:"10px",width:"120px",height:"120px",zIndex:100,cursor:"pointer",transition:"transform 0.2s"},glitchImage:{width:"100%",height:"100%",objectFit:"contain"},navArrow:{position:"absolute",width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none"},arrowImage:{width:"80px",height:"80px",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},upArrow:{top:"15px",left:"50%",transform:"translateX(-50%)"},downArrow:{bottom:"120px",left:"50%",transform:"translateX(-50%)"},leftArrow:{left:"15px",top:"50%",transform:"translateY(-50%)"},rightArrow:{right:"15px",top:"50%",transform:"translateY(-50%)"},mushroomItem:{position:"absolute",cursor:"pointer",transition:"transform 0.2s, filter 0.2s",zIndex:20},mushroomImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 5px 15px rgba(0,0,0,0.3))"},mushroomCollected:{opacity:.3,pointerEvents:"none"},npcCharacter:{position:"absolute",width:"180px",height:"auto",cursor:"pointer",zIndex:25,transition:"transform 0.2s"},npcDialogueContainer:{position:"absolute",zIndex:150,maxWidth:"400px"},npcDialogueBoxInline:{padding:"25px 30px",borderRadius:"30% 70% 70% 30% / 30% 30% 70% 70%",background:"rgba(255, 255, 255, 0.95)",border:"3px solid #8B4513",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3), inset 0 2px 5px rgba(255, 255, 255, 0.5)",position:"relative",minHeight:"100px"},npcSpeakerName:{position:"absolute",top:"-15px",right:"20px",fontFamily:"'Patrick Hand', cursive",fontSize:"20px",fontWeight:700,color:"#8B4513",background:"rgba(255, 255, 255, 0.95)",padding:"5px 15px",borderRadius:"15px",border:"2px solid #8B4513",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},progressContainer:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",gap:"15px",zIndex:100},progressText:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,color:"#fff",backgroundColor:"#8FCCAE",padding:"10px 25px",borderRadius:"10px",textShadow:"0 2px 4px rgba(0,0,0,0.2)",letterSpacing:"1px",boxShadow:"0 4px 12px rgba(143, 204, 174, 0.4)"},slotsContainer:{display:"flex",gap:"10px",flexWrap:"nowrap",justifyContent:"center"},slot:{width:"65px",height:"65px",border:"3px dashed #8FCCAE",backgroundColor:"rgba(255, 255, 255, 0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"3px",borderRadius:"8px",transition:"all 0.3s"},slotFilled:{border:"3px solid #8FCCAE",backgroundColor:"rgba(255, 255, 255, 0.95)",boxShadow:"0 4px 12px rgba(143, 204, 174, 0.4)"},slotImage:{width:"40px",height:"40px",objectFit:"contain"},slotLabel:{fontFamily:"'Roboto', sans-serif",fontSize:"10px",fontWeight:600,color:"#8FCCAE"},glitchDialogue:{position:"absolute",top:"20px",right:"150px",width:"350px",background:"rgba(255, 255, 255, 0.95)",borderRadius:"15px",padding:"20px",boxShadow:"0 4px 20px rgba(143, 204, 174, 0.3)",zIndex:150},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #8FCCAE, #6FB896)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",margin:0},glitchDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#666",lineHeight:1.6,margin:"0 0 15px 0"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",border:"2px solid #e0e0e0",borderRadius:"25px",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",background:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",background:"#e0e0e0",borderRadius:"1px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer",padding:"0",lineHeight:1,transition:"color 0.2s"},cardOverlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:200,display:"flex",alignItems:"center",justifyContent:"center"},cardBox:{width:"420px",padding:"30px 35px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",textAlign:"center"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"24px",fontWeight:700,color:"#333",marginBottom:"8px"},cardObjectId:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,color:"#555",marginBottom:"20px"},cardInfo:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#444",lineHeight:1.8,textAlign:"center",marginBottom:"25px"},collectButton:{width:"100%",padding:"16px",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#fff",background:"#1a1a2e",border:"none",borderRadius:"12px",cursor:"pointer",textTransform:"uppercase",letterSpacing:"2px",transition:"transform 0.2s, box-shadow 0.2s"},taskHintBox:{width:"380px",padding:"25px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #87CEEB)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},taskTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"22px",fontWeight:700,color:"#333",marginBottom:"15px"},hintImage:{width:"100%",height:"auto",borderRadius:"12px",marginBottom:"15px"},closeButton:{position:"absolute",top:"10px",right:"15px",fontSize:"28px",color:"#999",cursor:"pointer",background:"none",border:"none"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",color:"#333",lineHeight:1.6},customCursor:{position:"fixed",pointerEvents:"none",zIndex:9999,width:"32px",height:"32px",transform:"translate(-8px, -24px)"}};return a.jsxs("div",{style:Z.container,children:[a.jsx("style",{children:`
          @keyframes blink {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
          }
        `}),Q&&a.jsx("img",{src:"/jungle/icon/pencil.png",alt:"Cursor",style:{...Z.customCursor,left:`${Je.x}px`,top:`${Je.y}px`}}),a.jsx("div",{style:Z.mapContainer,children:a.jsx("img",{src:"/jungle/map_full.png",alt:"Fungi Jungle Map",style:Z.mapImage})}),a.jsx("button",{style:Z.exitButton,onClick:t,onMouseOver:_=>{_.target.style.backgroundColor="rgba(255, 255, 255, 1)",_.target.style.borderColor="#5170FF"},onMouseOut:_=>{_.target.style.backgroundColor="rgba(255, 255, 255, 0.85)",_.target.style.borderColor="rgba(81, 112, 255, 0.4)"},children:n("exit")}),a.jsx("div",{style:Z.glitchNpc,onClick:Te,children:a.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:Z.glitchImage})}),L&&a.jsxs("div",{style:Z.glitchDialogue,children:[a.jsx("button",{style:Z.glitchDialogueCloseButton,onClick:()=>{ae(!1),be([])},onMouseOver:_=>{_.target.style.color="#333"},onMouseOut:_=>{_.target.style.color="#999"},children:""}),a.jsxs("div",{style:Z.glitchDialogueHeader,children:[a.jsx("div",{style:Z.glitchDialogueAvatar,children:a.jsx("span",{style:Z.glitchDialogueAvatarIcon,children:""})}),a.jsx("h4",{style:Z.glitchDialogueName,children:"Glitch"})]}),a.jsxs("div",{style:{maxHeight:"300px",overflowY:"auto",marginBottom:"15px",display:"flex",flexDirection:"column",gap:"10px"},children:[Ee.length===0&&a.jsx("p",{style:Z.glitchDialogueText,children:d.length<12?"Not finished yet! You're still missing some data!":"Give ALL these to Ranger Moss!"}),Ee.map((_,pe)=>a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"12px",background:_.role==="user"?"rgba(143, 204, 174, 0.2)":"rgba(143, 204, 174, 0.1)",border:_.role==="user"?"1px solid rgba(143, 204, 174, 0.4)":"1px solid rgba(143, 204, 174, 0.2)",alignSelf:_.role==="user"?"flex-end":"flex-start",maxWidth:"85%"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#8FCCAE",marginBottom:"4px",fontFamily:"'Roboto', sans-serif"},children:_.role==="user"?"YOU":"GLITCH"}),a.jsx("div",{style:{fontSize:"14px",color:"#333",lineHeight:1.5,fontFamily:"'Roboto', sans-serif",whiteSpace:"pre-wrap"},children:_.text})]},pe)),Xe&&a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"12px",background:"rgba(143, 204, 174, 0.1)",border:"1px solid rgba(143, 204, 174, 0.2)",alignSelf:"flex-start",maxWidth:"85%"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#8FCCAE",marginBottom:"4px",fontFamily:"'Roboto', sans-serif"},children:"GLITCH"}),a.jsxs("div",{style:{fontSize:"14px",color:"#999",fontFamily:"'Roboto', sans-serif"},children:[a.jsx("span",{style:{animation:"blink 1.4s infinite"},children:""}),a.jsx("span",{style:{animation:"blink 1.4s infinite 0.2s"},children:""}),a.jsx("span",{style:{animation:"blink 1.4s infinite 0.4s"},children:""})]})]})]}),a.jsxs("div",{style:Z.glitchDialogueInputContainer,onFocus:_=>{_.currentTarget.style.borderColor="#8FCCAE"},onBlur:_=>{_.currentTarget.style.borderColor="#e0e0e0"},children:[a.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:X,onChange:_=>xe(_.target.value),onKeyPress:bt,disabled:Xe,style:Z.glitchDialogueInput}),a.jsx("div",{style:Z.glitchDialogueDivider}),a.jsx("button",{onClick:F,style:{...Z.glitchDialogueSendButton,opacity:Xe?.5:1,cursor:Xe?"not-allowed":"pointer"},disabled:Xe,onMouseOver:_=>{Xe||(_.currentTarget.style.transform="scale(1.1)")},onMouseOut:_=>{_.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/icon/send.png",alt:"Send",style:Z.glitchDialogueSendIcon})})]})]}),Be.up!==void 0&&a.jsx("button",{style:{...Z.navArrow,...Z.upArrow},onClick:()=>ce("up"),onMouseOver:_=>_.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:_=>_.currentTarget.style.transform="translateX(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/up.png",alt:"Up",style:Z.arrowImage})}),Be.down!==void 0&&a.jsx("button",{style:{...Z.navArrow,...Z.downArrow},onClick:()=>ce("down"),onMouseOver:_=>_.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:_=>_.currentTarget.style.transform="translateX(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/down.png",alt:"Down",style:Z.arrowImage})}),Be.left!==void 0&&a.jsx("button",{style:{...Z.navArrow,...Z.leftArrow},onClick:()=>ce("left"),onMouseOver:_=>_.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:_=>_.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:Z.arrowImage})}),Be.right!==void 0&&a.jsx("button",{style:{...Z.navArrow,...Z.rightArrow},onClick:()=>ce("right"),onMouseOver:_=>_.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:_=>_.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:Z.arrowImage})}),at.map(_=>{var _e;const pe=_.size||120;return a.jsx("div",{style:{...Z.mushroomItem,width:`${pe}px`,height:`${pe}px`,top:_.top,bottom:_.bottom,left:_.left,right:_.right,...d.includes(_.id)?Z.mushroomCollected:{}},onClick:()=>ke(_.id),onMouseOver:Qe=>{d.includes(_.id)||(Qe.currentTarget.style.transform="scale(1.15)")},onMouseOut:Qe=>{Qe.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:`/jungle/object/${_.id}.png`,alt:(_e=Hi[_.id])==null?void 0:_e.name,style:Z.mushroomImage})},_.id)}),de&&a.jsx("img",{src:de.image,alt:de.npc,style:{...Z.npcCharacter,top:de.top,bottom:de.bottom,left:de.left,right:de.right,width:de.width==="auto"?"auto":`${de.width}px`,height:de.height?typeof de.height=="string"?de.height:`${de.height}px`:"auto"},onClick:()=>Fe(de.npc),onMouseEnter:()=>ue(de.npc,!0),onMouseLeave:()=>ue(de.npc,!1)}),Y&&J!=="glitch"&&a.jsx("div",{style:{...Z.npcDialogueContainer,...de?{top:de.dialogueTop,left:de.dialogueLeft,right:de.dialogueRight}:{}},children:a.jsxs("div",{style:{...Z.npcDialogueBoxInline,cursor:"pointer"},onClick:()=>D(!1),children:[a.jsx("div",{style:Z.npcSpeakerName,children:J==="npc_a"?"NPC 01":J==="npc_b"?"NPC 02":J==="npc_c"?"Ranger Moss":""}),a.jsx("p",{style:Z.dialogueText,children:m})]})}),a.jsxs("div",{style:Z.progressContainer,children:[a.jsxs("div",{style:Z.progressText,children:["Progress: ",d.length,"/12 found"]}),a.jsx("div",{style:Z.slotsContainer,children:Array.from({length:12},(_,pe)=>{const _e=d[pe];return a.jsx("div",{style:{...Z.slot,..._e?Z.slotFilled:{}},children:_e?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:`/jungle/object/${_e}.png`,alt:`Object ${_e}`,style:Z.slotImage}),a.jsxs("div",{style:Z.slotLabel,children:["Object",_e]})]}):a.jsx("div",{style:{fontSize:"24px",color:"#ccc"},children:"?"})},pe)})})]}),b&&k&&a.jsx("div",{style:Z.cardOverlay,onClick:()=>A(!1),children:a.jsxs("div",{style:Z.cardBox,onClick:_=>_.stopPropagation(),children:[a.jsx("h2",{style:Z.cardTitle,children:"You Found"}),a.jsxs("p",{style:Z.cardObjectId,children:["Object ID: #",k,"  ",(Ae=Hi[k])==null?void 0:Ae.name]}),a.jsxs("div",{style:Z.cardInfo,children:[a.jsxs("p",{children:[" Color: ",(ze=Hi[k])==null?void 0:ze.color]}),a.jsxs("p",{children:[" Shape: ",(vt=Hi[k])==null?void 0:vt.shape]}),a.jsxs("p",{children:[" Texture: ",(fn=Hi[k])==null?void 0:fn.texture]}),a.jsxs("p",{children:[" Spikes: ",(ye=Hi[k])!=null&&ye.spikes?"Yes":"None"]})]}),a.jsx("button",{style:Z.collectButton,onClick:Ke,onMouseOver:_=>{_.target.style.transform="scale(1.02)",_.target.style.boxShadow="0 5px 20px rgba(0,0,0,0.3)"},onMouseOut:_=>{_.target.style.transform="scale(1)",_.target.style.boxShadow="none"},children:"COLLECT DATA"})]})}),C&&a.jsx("div",{style:Z.cardOverlay,onClick:()=>w(!1),children:a.jsxs("div",{style:{...Z.taskHintBox,position:"relative"},onClick:_=>_.stopPropagation(),children:[a.jsx("button",{style:Z.closeButton,onClick:()=>w(!1),children:""}),a.jsx("h2",{style:Z.taskTitle,children:"Task 1: Find the data"}),a.jsx("img",{src:"/jungle/hint.gif",alt:"Hint",style:Z.hintImage})]})})]})},ld=["03","05","07"],s0=[["01","02","03","04","05","06"],["07","08","09","10","11","12"]],A2={1:[{id:"01",name:"Candy Blob",color:"TRUE",texture:"Smooth",spikes:"No",toxic:"NO"},{id:"02",name:"img_file_002.png",color:"Red",texture:"Wavy",spikes:"Yes",toxic:"YES"},{id:"03",name:"Velvet Star",color:"Blue",texture:"404 Error",spikes:"Yes",toxic:"NO"},{id:"04",name:"Polka Cluster",color:"Green",texture:"Smooth",spikes:"Zero",toxic:"NO"}],2:[{id:"05",name:"Speckled Bell",color:"#800080",texture:"Matte",spikes:"No",toxic:"NO"},{id:"06",name:"Glowing Shroom",color:"Blue",texture:"Glowing",spikes:"1",toxic:"Safe"},{id:"07",name:"Striped Chime",color:"Orange",texture:"Looks very nice",spikes:"No",toxic:"NO"},{id:"08",name:"NULL",color:"Yellow",texture:"Glossy",spikes:"No",toxic:"NO"}],3:[{id:"09",name:"Frostfire Cap",color:"Pink",texture:"Glossy",spikes:"N/A",toxic:"NO"},{id:"10",name:"Classic Toadstool",color:"255, 0, 0",texture:"Matte",spikes:"No",toxic:"NO"},{id:"11",name:"Rainbow Drip",color:"Pastel",texture:"Glossy",spikes:"No",toxic:"MAYBE"},{id:"12",name:"Starlight Shroom",color:"Purple",texture:"%&*(#@!",spikes:"Yes",toxic:"YES"}]},i0={1:[{id:"01",field:"color",correct:"Pink"},{id:"02",field:"name",correct:"Flame Bloom"},{id:"03",field:"texture",correct:"Fuzzy"},{id:"04",field:"spikes",correct:"No"}],2:[{id:"05",field:"color",correct:"Purple"},{id:"06",field:"spikes",correct:"No"},{id:"06",field:"toxic",correct:"NO"},{id:"07",field:"texture",correct:"Striped"},{id:"08",field:"name",correct:"Drip Orb"}],3:[{id:"09",field:"spikes",correct:"No"},{id:"10",field:"color",correct:"Red"},{id:"11",field:"toxic",correct:"NO"},{id:"12",field:"texture",correct:"Veined"}]},l0={1:"I see file names mixed with real names, and colors written as True/False! Fix the format errors in the highlighted cells.",2:"Someone entered Hex Codes instead of color names, and wrote a sentence in the texture column. The AI can't read sentences!",3:"Watch out for 'Maybe' labels and corrupted text characters. The AI needs certainty!"},Xl=[{id:"09",name:"Frostfire Cap",color:"Pink / Cyan / White",texture:"Glossy / Glowing",spikes:null,toxic:"YES",missingField:"spikes",options:["Yes","No"],correct:"No"},{id:"02",name:"Flame Bloom",color:"Red / Orange",texture:null,spikes:"Yes",toxic:"YES",missingField:"texture",options:["Textured","Smooth","Plain","Flat"],correct:"Textured"},{id:"08",name:"Drip Orb",color:null,texture:"Glossy / Dripping",spikes:"No",toxic:"YES",missingField:"color",options:["Yellow","Blue","Red","Green"],correct:"Yellow"}],Jl=[{id:1,question:`Hold on! Before we push the big button, I need to make sure you understand what we are doing.

Quick check: How does an AI actually learn?`,options:[{text:"By analyzing patterns in data",correct:!0},{text:"By just guessing randomly",correct:!1}],correctResponse:"Correct! AI isn't magic, and it doesn't verify answers by itself. It needs massive amounts of data to find the hidden rules.",incorrectResponse:"Not quite! AI doesn't just guess randomly. It learns by analyzing patterns in data. It needs massive amounts of data to find the hidden rules and make accurate predictions."},{id:2,question:`Now, think about the data you just collected.

To help the AI decide if a mushroom is toxic, which features are actually helpful?`,options:[{text:"Color, Shape, and Texture",correct:!0},{text:"The name of the person who picked it",correct:!1}],correctResponse:"Precisely! To make accurate predictions, the AI needs data related to the object itself. Irrelevant infolike who picked itis just Noise. It will only confuse the model!",incorrectResponse:"Actually, the name of the person who picked it is irrelevant! To make accurate predictions, the AI needs data related to the object itself - like Color, Shape, and Texture. Irrelevant info is just Noise and will confuse the model!"}],rd="The dataset is clean. The patterns are clear. Are you ready? Let's initiate the Model Training process!",Li={question:`Training complete! The AI has learned to identify the 'Toxic Traits'.

But wait... we need to verify if it really learned, or if it just memorized our list. How should we test the AI?`,options:[{text:"Test with NEW mushrooms it hasn't seen",correct:!0},{text:"Test with the SAME mushrooms it already studied",correct:!1}],correctResponse:"Spot on! If we test with old data, the AI is just cheatinglike memorizing the answers to a test. Only by using Unseen Data (New Mushrooms) can we prove it can truly judge and generalize!",incorrectResponse:"Not quite! If we test with old data, the AI is just cheatinglike memorizing the answers to a test. Only by using Unseen Data (New Mushrooms) can we prove it can truly judge and generalize!"},Ql=[{question:"Hold on! Before we push the big button, I need to make sure you understand what we are doing. Quick check: How does an AI actually learn?",options:[{text:"By analyzing patterns in data",correct:!0},{text:"By just guessing randomly",correct:!1}],correctResponse:"Correct! AI isn't magic, and it doesn't verify answers by itself. It needs massive amounts of data to find the hidden rules.",incorrectResponse:"Not quite! AI doesn't just guess randomly. It learns by analyzing patterns in data. It needs massive amounts of data to find the hidden rules and make accurate predictions."},{question:"Now, think about the data you just collected. To help the AI decide if a mushroom is toxic, which features are actually helpful?",options:[{text:"Color, Shape, and Texture",correct:!0},{text:"The name of the person who picked it",correct:!1}],correctResponse:"Precisely! To make accurate predictions, the AI needs data related to the object itself. Irrelevant infolike who picked itis just Noise. It will only confuse the model!",incorrectResponse:"Actually, the name of the person who picked it is irrelevant! To make accurate predictions, the AI needs data related to the object itself - like Color, Shape, and Texture. Irrelevant info is just Noise and will confuse the model!"}],I2="The dataset is clean. The patterns are clear. Are you ready? Let's initiate the Model Training process!",M2="Training complete! The AI has learned to identify the 'Toxic Traits'. But wait... we need to verify if it really learned, or if it just memorized our list. How should we test the AI?",z2=[{text:"Test with NEW mushrooms it hasn't seen",correct:!0},{text:"Test with the SAME mushrooms it already studied",correct:!1}],D2="Spot on! If we test with old data, the AI is just cheatinglike memorizing the answers to a test. Only by using Unseen Data (New Mushrooms) can we prove it can truly judge and generalize!",r0=[{id:"13",isNew:!0},{id:"14",isNew:!0},{id:"15",isNew:!0},{id:"04",isNew:!1},{id:"06",isNew:!1},{id:"08",isNew:!1}],Vl=["Uh oh...  This is bad news! The AI only got 45% correct on the new mushrooms.","It's confusing  the 'Death Cap' with the 'Edible Paddy Straw' mushroom! If we use this AI now, the Elf might get a tummy ache... or worse!","We can't give up, but we need to fix this."],Ui={question:`Think like a Data Scientist. Why is the AI failing? It probably hasn't seen enough examples of the tricky mushrooms yet.

What should we do to improve the AI's accuracy?`,options:[{text:"Feed it MORE varied photos & Retrain",correct:!0},{text:"Only test it on mushrooms it knows",correct:!1},{text:"Change the code to say 'Safe' for everything",correct:!1}],correctResponse:"Brilliant!  Option B is cheating (and dangerous!), and Option C is just lazy code.",incorrectResponse:"That won't help the AI learn better! Think about what data scientists do."},c0=[{id:"16",isGood:!0},{id:"17",isGood:!0},{id:"18",isGood:!0},{id:"19",isGood:!0},{id:"26",isGood:!0},{id:"27",isGood:!1,duplicateOf:"12"},{id:"20",isGood:!1,duplicateOf:"12"},{id:"21",isGood:!1,duplicateOf:"11"}],Ft={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3},Zl={[Ft.BOTTOM_LEFT]:{up:Ft.TOP_LEFT,right:Ft.BOTTOM_RIGHT},[Ft.BOTTOM_RIGHT]:{up:Ft.TOP_RIGHT,left:Ft.BOTTOM_LEFT},[Ft.TOP_LEFT]:{down:Ft.BOTTOM_LEFT,right:Ft.TOP_RIGHT},[Ft.TOP_RIGHT]:{down:Ft.BOTTOM_RIGHT,left:Ft.TOP_LEFT}},O2={[Ft.BOTTOM_LEFT]:"translate(0%, -50%)",[Ft.BOTTOM_RIGHT]:"translate(-50%, -50%)",[Ft.TOP_LEFT]:"translate(0%, 0%)",[Ft.TOP_RIGHT]:"translate(-50%, 0%)"},N2={[Ft.TOP_RIGHT]:[{id:"17",size:500,left:"0px",bottom:"0px",status:"DANGER",toxicity:"99% Toxic"}],[Ft.BOTTOM_LEFT]:[{id:"26",size:400,right:"50px",bottom:"50px",status:"DANGER",toxicity:"98% Toxic"},{id:"14",size:300,left:"50px",bottom:"100px",status:"DANGER",toxicity:"94% Toxic"},{id:"24",size:200,left:"800px",top:"400px",status:"EDIBLE",toxicity:"90% Safe"}],[Ft.BOTTOM_RIGHT]:[{id:"21",size:400,right:"300px",bottom:"0px",status:"DANGER",toxicity:"99% Toxic"},{id:"22",size:200,right:"0px",bottom:"250px",status:"EDIBLE",toxicity:"92% Safe"},{id:"15",size:250,left:"100px",top:"100px",status:"DANGER",toxicity:"90% Toxic"}],[Ft.TOP_LEFT]:[{id:"25",size:400,left:"50px",bottom:"200px",status:"DANGER",toxicity:"99% Toxic"},{id:"18",size:250,left:"500px",top:"0px",status:"DANGER",toxicity:"95% Toxic"},{id:"23",size:200,left:"500px",bottom:"0px",status:"EDIBLE",toxicity:"95% Safe"},{id:"19",size:200,right:"550px",top:"350px",status:"DANGER",toxicity:"91% Toxic"}]},Tn={[Ft.TOP_RIGHT]:{npc:"npc_c",image:"/jungle/npc_c2.gif",right:"20%",top:"5%",height:"66.67vh",width:"auto",dialogues:[["We're back online! And the system is running smoothly.","The workers have their lunch, and everyone is safe thanks to you.","But the forest is huge and full of surprises. Since you have the scanner... why not take a look around?","Go ahead, try to see which other mushrooms are EDIBLE. Who knows? You might find something rare!"],["Production is up! No more sick days!"]]},[Ft.BOTTOM_LEFT]:{npc:"npc_a",image:"/jungle/npc_a2.gif",right:"40%",bottom:"5%",height:"540px",width:"auto",hoverText:"Yay! No stomach ache today."},[Ft.BOTTOM_RIGHT]:{npc:"npc_b",image:"/jungle/npc_b2.gif",left:"5%",bottom:"0%",height:"540px",width:"auto",hoverText:"This new scanner is like magic. It knows everything!"}},R2=({onComplete:e,onExit:t})=>{var ii,li,S,Aa,p,M,H;const{t:n}=Ea(),[o,s]=r.useState("INTRO"),[i,l]=r.useState(0),[d,h]=r.useState([]),[b,A]=r.useState([]),[k,T]=r.useState(!1),[C,w]=r.useState([]),[Y,D]=r.useState(0),[m,g]=r.useState(""),[y,I]=r.useState(!1),[J,B]=r.useState(null),[L,ae]=r.useState(!1);r.useEffect(()=>{const u=localStorage.getItem("aiJourneyUser");if(u){const v=JSON.parse(u).dataCleaningProgress;v&&(s(v.phase||"INTRO"),l(v.noiseBatch||0),h(v.removedItems||[]),console.log("Loaded Data Cleaning progress:",v))}},[]),r.useEffect(()=>{const u=localStorage.getItem("aiJourneyUser");if(u){const f=JSON.parse(u);f.dataCleaningProgress={phase:o,noiseBatch:i,removedItems:d,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(f)),console.log("Saved Data Cleaning progress:",f.dataCleaningProgress)}},[o,i,d]);const[X,xe]=r.useState(1),[Ee,be]=r.useState([]),[Xe,yt]=r.useState([]),[Je,E]=r.useState(!1),[Q,ne]=r.useState(""),[re,se]=r.useState(!1),[ce,ke]=r.useState(0),[Ke,Fe]=r.useState(""),[ue,Te]=r.useState(!1),[F,bt]=r.useState([]),[Be,at]=r.useState(0),[de,Z]=r.useState({}),[Ae,ze]=r.useState(null),[vt,fn]=r.useState(!1),[ye,_]=r.useState([]),[pe,_e]=r.useState(0),[Qe,Un]=r.useState({}),[V,Ht]=r.useState(0),[sa,Ve]=r.useState(!1),[U,fe]=r.useState(0),[je,Ue]=r.useState(!1),[Et,St]=r.useState(!1),[De,Bt]=r.useState(!1),[dt,Bo]=r.useState(null),[ei,_o]=r.useState(null),[Ba,Lt]=r.useState(0),[hn,_a]=r.useState([]),[Zn,Fo]=r.useState(!1),[Kn,an]=r.useState(!1),[Fa,Ho]=r.useState(0),[ia,ho]=r.useState(0),[$n,eo]=r.useState(!1),xo=gd.useRef(null),[Gn,ma]=r.useState(0),[ya,la]=r.useState(0),[Lo,Ha]=r.useState([]),[sn,On]=r.useState(null),[xn,Nn]=r.useState(0),[Ut,mo]=r.useState(!1),[Xt,Rn]=r.useState(!1),[Gt,hs]=r.useState(!1),[yo,ba]=r.useState(0),ra=gd.useRef(null),[st,ln]=r.useState(0),[ot,zt]=r.useState(!1),[Ge,ca]=r.useState(""),[Jt,Uo]=r.useState(!1),[rn,La]=r.useState([]),[$e,Go]=r.useState(null),[bo,cn]=r.useState(!1),[Oe,Tt]=r.useState(3),[xs,Kt]=r.useState(!1),[ua,Dt]=r.useState(!1),[it,un]=r.useState(""),[mn,wt]=r.useState(null),[kn,va]=r.useState({npc_c:0}),[Sa,Ua]=r.useState(0),[_t,qo]=r.useState(null),[yn,vo]=r.useState(0),[We,da]=r.useState(0),[ms,qn]=r.useState(""),[pa,bn]=r.useState(!1),[Ta,Qt]=r.useState({}),[vn,to]=r.useState(!1),no=["Outstanding work, Human! You've gathered enough raw data. But... we can't feed this directly to the <strong>AI</strong>. Not yet.","In the world of AI, there is a golden rule: <strong>'Garbage In, Garbage Out'</strong>. If we train the model with messy data, it will learn the wrong lessons.","We must enter the <strong>Data Cleaning Phase</strong>."],So=["Great job removing the noise. Now, look at this <strong>Data Table</strong>.","The auto-tagging system was glitching, so some <strong>Labels</strong> are wrong. Click on the cells you think contain errors!","Here's what to watch for:","<strong>Color</strong> should be plain color names like Purple, Red / White, or Lavendernot codes like #2323332, RGB values like rgb(255,0,0), or random strings like 7F3A9C.","<strong>Texture</strong> needs descriptive wordsSmooth, Rough, Stripednot yes/no answers, booleans like True, or numbers like 1.","<strong>Toxic</strong> is strictly Yes or No. Anything fuzzy like Maybe, Probably, N/A, or idk? That's a glitch.","If you see any of that nonsenseclick the cell and flag it!"],Wo=["Some data fields are completely <strong>Empty (Null)</strong>.","The AI cannot learn from nothing! Click on the <strong>empty cells</strong>.","I will project the hologram (photo) of the mushroom. Look at the photo, and <strong>fill in the blank</strong>."];r.useEffect(()=>{be([]),yt([])},[X]),r.useEffect(()=>{if(!re)return;const u=no[ce];if(!u)return;let f=0;Fe(""),Te(!0);const v=setInterval(()=>{f<u.length?(Fe(u.substring(0,f+1)),f++):(Te(!1),clearInterval(v))},25);return()=>clearInterval(v)},[ce,re]),r.useEffect(()=>{o==="INTRO"&&!vn?setTimeout(()=>{T(!0),to(!0),wo()},500):o==="LABEL_INTRO"&&!vn?setTimeout(()=>{T(!0),to(!0),ao()},500):o==="FILL_MISSING_INTRO"&&!vn&&setTimeout(()=>{T(!0),to(!0),wa()},500),o!=="INTRO"&&o!=="LABEL_INTRO"&&o!=="FILL_MISSING_INTRO"&&to(!1)},[o,vn]);const[he]=r.useState(new Audio("/sound/typing_jungle.wav")),[qt]=r.useState(new Audio("/sound/trash.wav")),[jt]=r.useState(new Audio("/sound/wrong.mp3")),[Ot]=r.useState(new Audio("/sound/correct.wav")),[ve]=r.useState(new Audio("/sound/select.mp3")),[To]=r.useState(new Audio("/sound/test.wav"));r.useEffect(()=>{qt.volume=.5,jt.volume=.5,Ot.volume=.5,ve.volume=.6,To.volume=.5},[qt,jt,Ot,ve,To]);const oo=u=>u&&u.split(/(<strong>.*?<\/strong>)/g).map((v,R)=>{if(v.startsWith("<strong>")){const ee=v.replace(/<\/?strong>/g,"");return a.jsx("span",{style:{fontWeight:700,color:"#00bf63"},children:ee},R)}return v}),Yo=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),wo=()=>{w([]),D(0),Wn(0)},ao=()=>{w([]),D(0),dn(0)},wa=()=>{w([]),D(0),Ga(0)},Wn=u=>{if(u>=no.length)return;const f=no[u],v={type:"message",text:f};w($=>[...$,v]),B(v);let R=0;g(""),I(!0),he.play().catch($=>console.log("Typing sound error:",$));const ee=setInterval(()=>{R<f.length?(g(f.substring(0,R+1)),R++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval(ee),u===no.length-1?ae(!0):setTimeout(()=>{D(u+1),Wn(u+1)},500))},25)},dn=u=>{if(u>=So.length)return;const f=So[u],v={type:"message",text:f};w($=>[...$,v]),B(v);let R=0;g(""),I(!0),he.play().catch($=>console.log("Typing sound error:",$));const ee=setInterval(()=>{R<f.length?(g(f.substring(0,R+1)),R++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval(ee),u===So.length-1?ae(!0):setTimeout(()=>{D(u+1),dn(u+1)},500))},25)},Ga=u=>{if(u>=Wo.length)return;const f=Wo[u],v={type:"message",text:f};w($=>[...$,v]),B(v);let R=0;g(""),I(!0),he.play().catch($=>console.log("Typing sound error:",$));const ee=setInterval(()=>{R<f.length?(g(f.substring(0,R+1)),R++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval(ee),u===Wo.length-1?ae(!0):setTimeout(()=>{D(u+1),Ga(u+1)},500))},25)},En=()=>{if(ve.currentTime=0,ve.play().catch(u=>console.log("Select sound error:",u)),T(!1),o==="INTRO"){s("NOISE_REMOVAL");const u=localStorage.getItem("aiJourneyUser");if(u){const f=JSON.parse(u);f.rangerMossPhase=2,localStorage.setItem("aiJourneyUser",JSON.stringify(f))}}else o==="LABEL_INTRO"?s("LABEL_CORRECTION"):o==="FILL_MISSING_INTRO"&&s("FILL_MISSING")},te=()=>{if(ve.currentTime=0,ve.play().catch(u=>console.log("Select sound error:",u)),ue){Fe(no[ce]),Te(!1);return}bt(u=>[...u,no[ce]]),ce<no.length-1?ke(u=>u+1):(se(!1),s("NOISE_REMOVAL"))},j=u=>{const f=ld.includes(u);d.includes(u)?(h(v=>v.filter(R=>R!==u)),A(v=>v.filter(R=>R!==u))):f?(qt.currentTime=0,qt.play().catch(v=>console.log("Trash sound error:",v)),h(v=>[...v,u]),A(v=>v.filter(R=>R!==u))):(jt.currentTime=0,jt.play().catch(v=>console.log("Wrong sound error:",v)),b.includes(u)||A(v=>[...v,u]))},N=()=>{ve.currentTime=0,ve.play().catch(ee=>console.log("Select sound error:",ee));const u=s0[i],v=u.filter(ee=>ld.includes(ee)).every(ee=>d.includes(ee)),R=u.filter(ee=>!ld.includes(ee)&&d.includes(ee));if(!v||R.length>0){ne("First, look at what you collected. Some of these aren't mushrooms at all! These are what we call 'Noise'."),E(!0);return}i<1?l(ee=>ee+1):s("LABEL_INTRO")},K=(u,f)=>{const v=`${u}-${f}`,ee=i0[X].some($=>$.id===u&&$.field===f);Ee.includes(v)?(be($=>$.filter(le=>le!==v)),yt($=>$.filter(le=>le!==v))):(be($=>[...$,v]),ee?(Ot.currentTime=0,Ot.play().catch($=>console.log("Correct sound error:",$))):(yt($=>[...$,v]),jt.currentTime=0,jt.play().catch($=>console.log("Wrong sound error:",$))))},oe=()=>{ve.currentTime=0,ve.play().catch(le=>console.log("Select sound error:",le));const f=i0[X].map(le=>`${le.id}-${le.field}`),v=new Set(Ee),R=new Set(f),ee=f.every(le=>v.has(le)),$=Ee.every(le=>R.has(le));if(!ee||!$){ne(l0[X]),E(!0);return}X<3?xe(le=>le+1):s("FILL_MISSING_INTRO")},ie=(u,f)=>{const v=Xl.find(R=>R.id===u);v&&v.missingField===f&&(ze({itemId:u,field:f}),fn(!0))},ge=u=>{if(!Ae)return;const f=Xl.find(v=>v.id===Ae.itemId);f&&u===f.correct?(Ot.currentTime=0,Ot.play().catch(v=>console.log("Correct sound error:",v)),Z(v=>({...v,[Ae.itemId]:u})),ze(null),fn(!1)):(jt.currentTime=0,jt.play().catch(v=>console.log("Wrong sound error:",v)),ne("Look carefully at the mushroom photo! What do you see?"),E(!0))},Ce=()=>{if(ve.currentTime=0,ve.play().catch(v=>console.log("Select sound error:",v)),!Xl.every(v=>de[v.id])){ne("You still have empty cells! Click on the  to fill them."),E(!0);return}const f=localStorage.getItem("aiJourneyUser");if(f){const v=JSON.parse(f);v.rangerMossPhase=3,localStorage.setItem("aiJourneyUser",JSON.stringify(v))}s("PRE_TRAINING_QUIZ"),fe(0),Ue(!1),St(!1),setTimeout(()=>{T(!0),Ze()},500)},Ze=()=>{const u=Jl[0],f={type:"message",text:u.question};w([f]),D(0),B(f);let v=0;g(""),I(!0),he.play().catch(ee=>console.log("Typing sound error:",ee));const R=setInterval(()=>{v<u.question.length?(g(u.question.substring(0,v+1)),v++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval(R),ae(!1))},25)},Bn=(u,f)=>{ve.currentTime=0,ve.play().catch(R=>console.log("Select sound error:",R));const v=Jl[U];if(f){Ot.currentTime=0,Ot.play(),Bo(u),_o(null);const R=v.correctResponse;Ue(!0);const ee={type:"user",text:v.options[u].text};w($=>[...$,ee]),setTimeout(()=>{const $={type:"message",text:R};w(Pe=>[...Pe,$]),B($);let le=0;g(""),I(!0),he.play().catch(Pe=>console.log("Typing sound error:",Pe));const Ie=setInterval(()=>{le<R.length?(g(R.substring(0,le+1)),le++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval(Ie),U<Jl.length-1?setTimeout(()=>{const Pe=Jl[U+1],lt={type:"message",text:Pe.question};w(ri=>[...ri,lt]),B(lt),fe(ri=>ri+1),Ue(!1),Bo(null),_o(null);let Po=0;g(""),I(!0),he.play().catch(ri=>console.log("Typing sound error:",ri));const Hn=setInterval(()=>{Po<Pe.question.length?(g(Pe.question.substring(0,Po+1)),Po++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval(Hn))},25)},800):setTimeout(()=>{const Pe={type:"message",text:rd};w(Hn=>[...Hn,Pe]),B(Pe);let lt=0;g(""),I(!0),he.play().catch(Hn=>console.log("Typing sound error:",Hn));const Po=setInterval(()=>{lt<rd.length?(g(rd.substring(0,lt+1)),lt++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval(Po),St(!0))},25)},800))},25)},300)}else jt.currentTime=0,jt.play(),_o(u),Bo(null)},qa=()=>{ve.currentTime=0,ve.play().catch(f=>console.log("Select sound error:",f)),T(!1),s("TRAINING"),Ht(0);const u=setInterval(()=>{Ht(f=>f>=100?(clearInterval(u),setTimeout(()=>{s("TRAINING_COMPLETE_QUIZ"),Bt(!1),setTimeout(()=>{T(!0),_n()},500)},1e3),100):f+2)},100)},_n=()=>{const u={type:"message",text:Li.question};w([u]),D(0),B(u);let f=0;g(""),I(!0),he.play().catch(R=>console.log("Typing sound error:",R));const v=setInterval(()=>{f<Li.question.length?(g(Li.question.substring(0,f+1)),f++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval(v),ae(!1))},25)},Nl=(u,f)=>{ve.currentTime=0,ve.play().catch(le=>console.log("Select sound error:",le));const v=f?Li.correctResponse:Li.incorrectResponse;Bt(!0);const R={type:"message",text:v};w(le=>[...le,R]),B(R);let ee=0;g(""),I(!0),he.play().catch(le=>console.log("Typing sound error:",le));const $=setInterval(()=>{ee<v.length?(g(v.substring(0,ee+1)),ee++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval($),setTimeout(()=>{ae(!0)},500))},25)},Rl=()=>{ve.currentTime=0,ve.play().catch(f=>console.log("Select sound error:",f));const u=localStorage.getItem("aiJourneyUser");if(u){const f=JSON.parse(u);f.rangerMossPhase=4,localStorage.setItem("aiJourneyUser",JSON.stringify(f))}T(!1),s("VALIDATION_DATA"),_a([])},ti=(u,f)=>{ve.currentTime=0,ve.play().catch(le=>console.log("Select sound error:",le));const v=Ql[pe],R=v.options[u];Un(le=>({...le,[pe]:{optionIndex:u,isCorrect:f}}));const ee=f?v.correctResponse:v.incorrectResponse,$=[...ye,{type:"user",text:R.text},{type:"ranger",text:ee}];pe<Ql.length-1?($.push({type:"ranger",text:Ql[pe+1].question}),_($),_e(le=>le+1)):($.push({type:"ranger",text:I2}),$.push({type:"button",text:"Ready, Let's GO!"}),_($),_e(le=>le+1))},ys=()=>{ve.currentTime=0,ve.play().catch(f=>console.log("Select sound error:",f)),s("TRAINING"),Ht(0);const u=setInterval(()=>{Ht(f=>f>=100?(clearInterval(u),Ve(!0),100):f+2)},100)},ni=u=>{ve.currentTime=0,ve.play().catch(f=>console.log("Select sound error:",f)),u&&Lt(1)},Wa=()=>{ve.currentTime=0,ve.play().catch(u=>console.log("Select sound error:",u)),s("VALIDATION_DATA"),_a([])},bs=u=>{if(!r0.find(v=>v.id===u).isNew){jt.currentTime=0,jt.play().catch(v=>console.log("Wrong sound error:",v)),ne("We should test with New Mushrooms! These have already been collected."),E(!0);return}hn.includes(u)?_a(v=>v.filter(R=>R!==u)):(Ot.currentTime=0,Ot.play().catch(v=>console.log("Correct sound error:",v)),_a(v=>[...v,u]))},Oi=()=>{if(hn.length!==3){ne("Please select exactly 3 mushrooms to test!"),E(!0),ho(0);return}To.currentTime=0,To.play().catch(u=>console.log("Test sound error:",u)),Fo(!0),setTimeout(()=>{Fo(!1),an(!0)},2e3)},jo=290,vs=u=>{u.preventDefault(),eo(!0)},Ss=u=>{if(!$n||!xo.current)return;const f=xo.current.getBoundingClientRect(),v=u.clientX-f.left-25,R=Math.max(0,Math.min(v,jo));ho(R),R>=jo-10&&(eo(!1),Oi())},Ni=()=>{$n&&(eo(!1),ia<jo-10&&ho(0))},oi=u=>{u.preventDefault(),eo(!0)},ht=u=>{if(!$n||!xo.current)return;const f=u.touches[0],v=xo.current.getBoundingClientRect(),R=f.clientX-v.left-25,ee=Math.max(0,Math.min(R,jo));ho(ee),ee>=jo-10&&(eo(!1),Oi())},Ri=()=>{$n&&(eo(!1),ia<jo-10&&ho(0))};r.useEffect(()=>($n&&(window.addEventListener("mousemove",Ss),window.addEventListener("mouseup",Ni),window.addEventListener("touchmove",ht),window.addEventListener("touchend",Ri)),()=>{window.removeEventListener("mousemove",Ss),window.removeEventListener("mouseup",Ni),window.removeEventListener("touchmove",ht),window.removeEventListener("touchend",Ri)}),[$n,ia]),r.useEffect(()=>{if(Kn){Ho(0);const u=45,f=2e3,v=60,R=u/v,ee=f/v;let $=0;const le=setInterval(()=>{$++,$>=v?(Ho(u),clearInterval(le)):Ho(Math.round($*R))},ee);return()=>clearInterval(le)}},[Kn]),r.useEffect(()=>{if(xn>=100){ba(0);const u=95,f=2e3,v=60,R=u/v,ee=f/v;let $=0;const le=setInterval(()=>{$++,$>=v?(ba(u),clearInterval(le)):ba(Math.round($*R))},ee);return()=>clearInterval(le)}},[xn]);const Yn=()=>{s("ADJUST_MODEL_INTRO"),ma(0),la(0),mo(!1),Rn(!1),setTimeout(()=>{T(!0),Ts()},500)},Ts=()=>{const u=Vl[0],f={type:"message",text:u};w([f]),D(0),B(f);let v=0;g(""),I(!0),he.play().catch(ee=>console.log("Typing sound error:",ee));const R=setInterval(()=>{v<u.length?(g(u.substring(0,v+1)),v++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval(R),setTimeout(()=>{Ya(1)},500))},25)},Ya=u=>{if(u>=Vl.length){setTimeout(()=>{const $={type:"message",text:Ui.question};w(Pe=>[...Pe,$]),B($);let le=0;g(""),I(!0),he.play().catch(Pe=>console.log("Typing sound error:",Pe));const Ie=setInterval(()=>{le<Ui.question.length?(g(Ui.question.substring(0,le+1)),le++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval(Ie))},25)},500);return}const f=Vl[u],v={type:"message",text:f};w($=>[...$,v]),B(v);let R=0;g(""),I(!0),he.play().catch($=>console.log("Typing sound error:",$));const ee=setInterval(()=>{R<f.length?(g(f.substring(0,R+1)),R++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval(ee),u===Vl.length-1?Ya(u+1):setTimeout(()=>{Ya(u+1)},500))},25)},Pa=(u,f)=>{ve.currentTime=0,ve.play().catch(le=>console.log("Select sound error:",le));const v=f?Ui.correctResponse:Ui.incorrectResponse;mo(!0);const R={type:"message",text:v};w(le=>[...le,R]),B(R);let ee=0;g(""),I(!0),he.play().catch(le=>console.log("Typing sound error:",le));const $=setInterval(()=>{ee<v.length?(g(v.substring(0,ee+1)),ee++):(I(!1),B(null),he.pause(),he.currentTime=0,clearInterval($),f&&setTimeout(()=>{Rn(!0)},500))},25)},El=()=>{ve.currentTime=0,ve.play().catch(u=>console.log("Select sound error:",u)),T(!1),s("ADJUST_MODEL_DATA")};r.useEffect(()=>{if(o!=="ADJUST_MODEL_INTRO"||ya!==0)return;const u=Vl[Gn];if(!u)return;let f=0;ca(""),Uo(!0);const v=setInterval(()=>{f<u.length?(ca(u.substring(0,f+1)),f++):(Uo(!1),clearInterval(v))},25);return()=>clearInterval(v)},[Gn,o,ya]);const ws=u=>{u.isGood?Lo.includes(u.id)||(Ot.currentTime=0,Ot.play().catch(f=>console.log("Correct sound error:",f)),Ha(f=>[...f,u.id]),On(null),cn(!1),hs(!0),setTimeout(()=>hs(!1),2e3)):(jt.currentTime=0,jt.play().catch(f=>console.log("Wrong sound error:",f)),On(u),cn(!0),ne("Even though they aren't exactly the same, they don't teach the AI anything new. Try a different one!"),E(!0))},js=()=>{if(c0.filter(v=>v.isGood).map(v=>v.id).every(v=>Lo.includes(v))){To.currentTime=0,To.play().catch(ee=>console.log("Test sound error:",ee)),s("ADJUST_MODEL_TRAINING");let v=0;const R=setInterval(()=>{v+=2,Nn(v),v>=100&&clearInterval(R)},50)}},ai=()=>{ve.currentTime=0,ve.play().catch(f=>console.log("Select sound error:",f));const u=localStorage.getItem("aiJourneyUser");if(u){const f=JSON.parse(u);f.rangerMossPhase=5,localStorage.setItem("aiJourneyUser",JSON.stringify(f))}s("LOADING")},xt=225,Bl=u=>{u.preventDefault(),zt(!0)},Sn=u=>{if(!ot||!ra.current)return;const f=ra.current.getBoundingClientRect(),v=u.clientX-f.left-25,R=Math.max(0,Math.min(v,xt));ln(R),R>=xt-10&&(zt(!1),js())},ja=()=>{ot&&(zt(!1),st<xt-10&&ln(0))};r.useEffect(()=>(ot&&(window.addEventListener("mousemove",Sn),window.addEventListener("mouseup",ja)),()=>{window.removeEventListener("mousemove",Sn),window.removeEventListener("mouseup",ja)}),[ot,st]),r.useEffect(()=>{if(o==="LOADING"){let u=0;const f=setInterval(()=>{u+=2,Ua(u),u>=100&&(clearInterval(f),setTimeout(()=>{s("COLOR_MAP_EXPLORATION")},500))},50);return()=>clearInterval(f)}},[o]),r.useEffect(()=>{if(o==="COLOR_MAP_EXPLORATION"&&!xs){const u=Tn[Oe];u&&u.npc&&!Ta[`${Oe}-${u.npc}`]&&(Qt(f=>({...f,[`${Oe}-${u.npc}`]:!0})),setTimeout(()=>{u.npc==="npc_c"&&u.dialogues&&u.dialogues.length>0?Co(u.npc,u.dialogues[0][0]):u.hoverText&&Co(u.npc,u.hoverText)},800))}},[o,Oe,xs]);const Co=(u,f)=>{wt(u),un(f),Dt(!0),qn(""),bn(!0),he.volume=.5,he.currentTime=0,he.play();let v=0;const R=setInterval(()=>{v<f.length?(qn(f.substring(0,v+1)),v++):(bn(!1),he.pause(),he.currentTime=0,clearInterval(R))},30)},Xa=u=>{var v;const f=(v=Zl[Oe])==null?void 0:v[u];f!==void 0&&!xs&&(Kt(!0),qo(null),Dt(!1),wt(null),setTimeout(()=>{Tt(f),Kt(!1)},500))},_l=u=>{const f=Tn[Oe];if(f&&f.npc===u)if(u==="npc_c"){const v=kn.npc_c;v<f.dialogues.length&&(vo(v),da(0),Co(u,f.dialogues[v][0]))}else f.hoverText&&Co(u,f.hoverText)},si=()=>{if(ve.currentTime=0,ve.play().catch(f=>console.log("Select sound error:",f)),pa){qn(it),bn(!1),he.pause(),he.currentTime=0;return}const u=Tn[Oe];if(u&&mn==="npc_c"){const f=u.dialogues[yn];We<f.length-1?(da(v=>v+1),Co(mn,f[We+1])):(Dt(!1),va(v=>({...v,npc_c:v.npc_c+1})),wt(null),he.pause(),he.currentTime=0)}else Dt(!1),wt(null),he.pause(),he.currentTime=0},Fl=(u,f)=>{const v=Tn[Oe];v&&v.npc===u&&v.hoverText&&(f?(un(v.hoverText),Dt(!0),wt(u)):(Dt(!1),wt(null)))},Ei=()=>{un("You know, technology didn't save the dayYOU did. An AI is just a tool. It was your careful choices as a 'Data Detective' that taught it to see the truth."),Dt(!0),wt("glitch")},Hl=u=>{qo(_t===u?null:u)},Ca=(u,f)=>Ee.includes(`${u}-${f}`),Fn=(u,f)=>Xe.includes(`${u}-${f}`),G={container:{width:"100%",height:"100vh",backgroundImage:"url(/jungle/map_full.png)",backgroundSize:"cover",backgroundPosition:"center",position:"relative",overflow:"hidden"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 30, 20, 0.5)",zIndex:1},exitButton:{position:"absolute",top:"20px",left:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#666",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(81, 112, 255, 0.4)",padding:"12px 30px",borderRadius:"8px",cursor:"pointer",zIndex:100},glitchNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:100,cursor:"pointer"},rangerNpc:{position:"absolute",right:"30px",bottom:"0",height:"66.67vh",width:"auto",zIndex:40},leftDialogueContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",zIndex:50},dialogueHistoryBox:{padding:"25px 30px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",maxHeight:"60vh",overflowY:"auto"},dialogueHistoryItem:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#333",lineHeight:1.7,marginBottom:"15px",paddingBottom:"15px",borderBottom:"1px solid #eee"},dialogueHistoryItemLast:{borderBottom:"none",marginBottom:0,paddingBottom:0},glitchHintInline:{position:"absolute",top:"15px",right:"100px",maxWidth:"350px",padding:"12px 20px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.98)",border:"2px solid #FFB6C1",boxShadow:"0 3px 15px rgba(0,0,0,0.15)",zIndex:150},glitchHintInlineText:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#555",lineHeight:1.5,margin:0},glitchHintCloseBtn:{position:"absolute",top:"5px",right:"8px",background:"none",border:"none",fontSize:"16px",color:"#999",cursor:"pointer"},cardContainer:{position:"absolute",top:"100px",left:"30px",width:"80%",maxWidth:"2100px",zIndex:50},speakerName:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#5170FF",marginBottom:"10px"},continueButton:{marginTop:"20px",float:"right",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#5170FF",background:"transparent",border:"none",cursor:"pointer",textTransform:"uppercase"},completeCard:{width:"600px",padding:"40px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #5170FF, #7B68EE)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",textAlign:"center"},completeTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"28px",fontWeight:700,color:"#333",marginBottom:"20px"},completeText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#555",lineHeight:1.8,marginBottom:"15px"},statusText:{fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:700,color:"#5170FF",marginBottom:"30px"},nextStepButton:{padding:"15px 40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#fff",background:"linear-gradient(135deg, #5170FF, #7B68EE)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"transform 0.2s"},quizContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",maxHeight:"80vh",zIndex:50},chatCard:{padding:"30px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.95)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(135deg, #5170FF, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",maxHeight:"70vh",overflowY:"auto"},chatMessages:{display:"flex",flexDirection:"column",gap:"15px"},rangerMessage:{display:"flex",alignItems:"flex-start",gap:"12px"},rangerAvatar:{width:"50px",height:"50px",borderRadius:"50%",background:"#1a1a2e",flexShrink:0,overflow:"hidden"},messageBubble:{padding:"15px 20px",borderRadius:"15px",background:"rgba(81, 112, 255, 0.1)",maxWidth:"80%"},messageText:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#333",lineHeight:1.6},messageSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#5170FF",marginBottom:"5px"},userMessage:{display:"flex",justifyContent:"flex-end"},userBubble:{padding:"12px 18px",borderRadius:"15px",background:"rgba(123, 104, 238, 0.2)",maxWidth:"70%"},quizOptions:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"15px",marginLeft:"62px"},quizOptionButton:{padding:"12px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",background:"rgba(255, 255, 255, 0.9)",border:"2px solid #5170FF",borderRadius:"10px",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},quizOptionSelected:{background:"rgba(123, 104, 238, 0.3)",borderColor:"#7B68EE"},goButton:{display:"block",margin:"20px auto 0",padding:"15px 40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#fff",background:"linear-gradient(135deg, #5170FF, #7B68EE)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"transform 0.2s"},validationContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",zIndex:50},validationCard:{padding:"30px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},validationText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.7,marginBottom:"25px"},validationOptions:{display:"flex",flexDirection:"column",gap:"15px"},validationOption:{padding:"15px 25px",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:500,color:"#5170FF",background:"rgba(81, 112, 255, 0.1)",border:"2px solid #5170FF",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},loadingContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",zIndex:50},loadingTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"32px",fontWeight:700,color:"#fff",marginBottom:"30px",textShadow:"0 2px 10px rgba(0,0,0,0.5)"},loadingBar:{width:"400px",height:"20px",background:"rgba(255,255,255,0.3)",borderRadius:"10px",overflow:"hidden",margin:"0 auto"},loadingFill:{height:"100%",background:"linear-gradient(90deg, #5170FF, #7B68EE)",borderRadius:"10px",transition:"width 0.1s linear"},colorMapContainer:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},colorMapWrapper:{width:"200%",height:"200%",position:"absolute",top:0,left:0,transition:"transform 0.5s ease-in-out"},colorMapImage:{width:"100%",height:"100%",objectFit:"cover"},colorMapNavArrow:{position:"absolute",width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none",padding:0},colorMapArrowImage:{width:"80px",height:"80px",objectFit:"contain",filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.5))"},colorMapUpArrow:{top:"30px",left:"50%",transform:"translateX(-50%)"},colorMapDownArrow:{bottom:"30px",left:"50%",transform:"translateX(-50%)"},colorMapLeftArrow:{left:"30px",top:"50%",transform:"translateY(-50%)"},colorMapRightArrow:{right:"30px",top:"50%",transform:"translateY(-50%)"},colorMapMushroom:{position:"absolute",cursor:"pointer",transition:"transform 0.2s",zIndex:20},colorMapMushroomImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 5px 15px rgba(0,0,0,0.3))"},colorMapNpc:{position:"absolute",cursor:"pointer",zIndex:25,transition:"transform 0.2s"},colorMapNpcImage:{width:"100%",height:"100%",objectFit:"contain"},mushroomStatusBadge:{position:"absolute",top:"-10px",left:"50%",transform:"translateX(-50%)",padding:"8px 16px",borderRadius:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px",boxShadow:"0 3px 10px rgba(0,0,0,0.3)",zIndex:30},dangerBadge:{background:"linear-gradient(135deg, #FF4444, #CC0000)",color:"#fff"},edibleBadge:{background:"linear-gradient(135deg, #44FF44, #00CC00)",color:"#fff"},colorMapDialogueContainer:{position:"absolute",zIndex:100,animation:"fadeIn 0.3s ease-out"},dialogueContainerNpcA:{top:"33.33%",left:"80px",width:"45%",maxWidth:"500px"},dialogueContainerNpcB:{top:"50%",right:"80px",width:"45%",maxWidth:"500px"},dialogueContainerRangerMoss:{bottom:"10%",left:"5%",width:"35%",maxWidth:"450px"},colorMapDialogueBox:{padding:"25px 30px",borderRadius:"30% 70% 70% 30% / 30% 30% 70% 70%",background:"rgba(255, 255, 255, 0.95)",border:"3px solid #8B4513",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3), inset 0 2px 5px rgba(255, 255, 255, 0.5)",position:"relative",minHeight:"100px"},colorMapSpeakerName:{position:"absolute",top:"-15px",right:"20px",fontFamily:"'Patrick Hand', cursive",fontSize:"20px",fontWeight:700,color:"#8B4513",background:"rgba(255, 255, 255, 0.95)",padding:"5px 15px",borderRadius:"15px",border:"2px solid #8B4513",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},colorMapDialogueText:{fontFamily:"'Patrick Hand', cursive",fontSize:"20px",fontWeight:400,color:"#333",lineHeight:1.6,textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)",marginTop:"10px",marginBottom:"15px"},colorMapContinueButton:{fontFamily:"'Patrick Hand', cursive",fontSize:"18px",fontWeight:600,color:"#8B4513",backgroundColor:"rgba(255, 235, 205, 0.9)",border:"3px solid #8B4513",padding:"12px 25px",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",marginTop:"15px",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.2)"},modernDialogueContainer:{position:"absolute",top:"12.5%",left:"10%",width:"40%",height:"70%",zIndex:100,background:"rgba(245, 245, 245, 0.98)",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",border:"3px solid #8B4513"},modernDialogueHeader:{padding:"20px 25px 15px 25px",borderBottom:"none"},modernProgressContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},modernMissionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px",color:"#8B4513"},modernStepIndicator:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#999"},modernProgressBar:{width:"100%",height:"4px",backgroundColor:"rgba(200,200,200,0.3)",borderRadius:"2px",overflow:"hidden",marginBottom:"20px"},modernProgressFill:{height:"100%",borderRadius:"2px",transition:"width 0.3s ease",background:"#8FCCAE"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px",flex:1},modernNpcAvatar:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#333"},modernNpcStatus:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999"},modernCloseButton:{position:"relative",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},modernDialogueContent:{flex:1,padding:"0 25px 25px 25px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"100%"},modernNpcSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px"},modernActionButton:{alignSelf:"stretch",background:"#8B4513",color:"#fff",fontWeight:"bold",fontSize:"16px",padding:"15px 30px",border:"none",borderRadius:"25px",fontFamily:"'Roboto', sans-serif",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",marginTop:"8px"}},Bi=s0[i]||[],Cs=A2[X],ka=()=>{if(!k)return null;const u=localStorage.getItem("aiJourneyUser"),v=(u?JSON.parse(u):{}).rangerMossPhase||2,R={1:"PHASE 1: COLLECTING DATA",2:"PHASE 2: DATA CLEANING",3:"PHASE 3: CORRECT LABELS",4:"PHASE 4: TEST THE MODEL",5:"PHASE 5: REFINE THE MODEL"};let ee=v;(o==="PRE_TRAINING_QUIZ"||o==="TRAINING"||o==="TRAINING_COMPLETE_QUIZ")&&(ee=3);const $=5,le=ee/$*100;return a.jsxs("div",{style:G.modernDialogueContainer,children:[a.jsxs("div",{style:G.modernDialogueHeader,children:[a.jsxs("div",{style:G.modernProgressContainer,children:[a.jsx("div",{style:G.modernMissionTitle,children:R[ee]}),a.jsxs("div",{style:G.modernStepIndicator,children:["Phase ",ee," of ",$]})]}),a.jsx("div",{style:G.modernProgressBar,children:a.jsx("div",{style:{...G.modernProgressFill,width:`${le}%`}})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{style:G.modernNpcInfo,children:[a.jsx("img",{src:"/jungle/npc_c.png",alt:"Ranger Moss",style:G.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:G.modernNpcName,children:"Ranger Moss"}),a.jsx("div",{style:G.modernNpcStatus,children:"Jungle Ranger"})]})]}),a.jsx("button",{style:G.modernCloseButton,onClick:()=>{he.pause(),he.currentTime=0,T(!1)},onMouseOver:Ie=>Ie.target.style.color="#333",onMouseOut:Ie=>Ie.target.style.color="#999",children:""})]})]}),a.jsxs("div",{style:G.modernDialogueContent,children:[C.map((Ie,Pe)=>{const lt=Yo();return Ie.type==="message"?a.jsxs("div",{style:G.modernNpcMessage,children:[a.jsx("div",{style:G.modernNpcSpeaker,children:"RANGER MOSS:"}),a.jsx("p",{style:G.modernNpcText,children:J&&J===Ie?a.jsxs(a.Fragment,{children:[oo(m),y&&a.jsx("span",{style:{opacity:.5},children:"|"})]}):oo(Ie.text)}),a.jsx("div",{style:G.modernTimestamp,children:lt})]},Pe):Ie.type==="user"?a.jsxs("div",{style:{alignSelf:"flex-end",maxWidth:"85%"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},children:"YOU:"}),a.jsx("div",{style:{background:"#00bf63",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(0, 191, 99, 0.3)"},children:a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",lineHeight:1.5,margin:0},children:Ie.text})}),a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px",textAlign:"right"},children:lt})]},Pe):null}),o==="FILL_MISSING_INTRO"&&L&&a.jsxs("div",{style:{background:"#1a1a2e",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",marginTop:"10px"},children:[a.jsx("img",{src:"/jungle/object/12.png",alt:"Example Mushroom",style:{width:"150px",height:"150px",objectFit:"contain",marginBottom:"15px"}}),a.jsxs("p",{style:{fontFamily:"'Roboto Mono', monospace",fontSize:"13px",color:"#fff",lineHeight:1.6,margin:0,textAlign:"center"},children:[a.jsx("strong",{children:"Color:"})," Pink / Purple",a.jsx("br",{}),a.jsx("strong",{children:"Texture:"})," Slimy / Webbed",a.jsx("br",{}),a.jsx("strong",{children:"Spikes:"})," Yes"]})]}),o==="PRE_TRAINING_QUIZ"&&!je&&!Et&&a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"15px"},children:Jl[U].options.map((Ie,Pe)=>{const lt=ei===Pe,Po=dt===Pe;return a.jsx("button",{style:{...G.modernActionButton,background:Po?"#00bf63":"rgba(139, 69, 19, 0.1)",color:Po?"#fff":"#8B4513",border:lt?"2px solid #ff0000":"2px solid #8B4513",fontWeight:500,pointerEvents:Po?"none":"auto"},onClick:()=>Bn(Pe,Ie.correct),onMouseOver:Hn=>{Po||(Hn.target.style.background="#8B4513",Hn.target.style.color="#fff",Hn.target.style.transform="scale(1.02)")},onMouseOut:Hn=>{Po||(Hn.target.style.background="rgba(139, 69, 19, 0.1)",Hn.target.style.color="#8B4513",Hn.target.style.transform="scale(1)")},children:Ie.text},Pe)})}),o==="PRE_TRAINING_QUIZ"&&Et&&a.jsx("button",{style:G.modernActionButton,onClick:qa,onMouseOver:Ie=>{Ie.target.style.transform="scale(1.05)"},onMouseOut:Ie=>{Ie.target.style.transform="scale(1)"},children:"Ready, Let's GO!"}),o==="TRAINING_COMPLETE_QUIZ"&&!De&&a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"15px"},children:Li.options.map((Ie,Pe)=>a.jsx("button",{style:{...G.modernActionButton,background:"rgba(139, 69, 19, 0.1)",color:"#8B4513",border:"2px solid #8B4513",fontWeight:500},onClick:()=>Nl(Pe,Ie.correct),onMouseOver:lt=>{lt.target.style.background="#8B4513",lt.target.style.color="#fff",lt.target.style.transform="scale(1.02)"},onMouseOut:lt=>{lt.target.style.background="rgba(139, 69, 19, 0.1)",lt.target.style.color="#8B4513",lt.target.style.transform="scale(1)"},children:Ie.text},Pe))}),o==="TRAINING_COMPLETE_QUIZ"&&De&&L&&a.jsx("button",{style:G.modernActionButton,onClick:Rl,onMouseOver:Ie=>{Ie.target.style.transform="scale(1.05)"},onMouseOut:Ie=>{Ie.target.style.transform="scale(1)"},children:"CONTINUE TO TEST"}),o==="ADJUST_MODEL_INTRO"&&!Ut&&!Xt&&a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"15px"},children:Ui.options.map((Ie,Pe)=>a.jsx("button",{style:{...G.modernActionButton,background:"rgba(139, 69, 19, 0.1)",color:"#8B4513",border:"2px solid #8B4513",fontWeight:500},onClick:()=>Pa(Pe,Ie.correct),onMouseOver:lt=>{lt.target.style.background="#8B4513",lt.target.style.color="#fff",lt.target.style.transform="scale(1.02)"},onMouseOut:lt=>{lt.target.style.background="rgba(139, 69, 19, 0.1)",lt.target.style.color="#8B4513",lt.target.style.transform="scale(1)"},children:Ie.text},Pe))}),o==="ADJUST_MODEL_INTRO"&&Xt&&a.jsx("button",{style:G.modernActionButton,onClick:El,onMouseOver:Ie=>{Ie.target.style.transform="scale(1.05)"},onMouseOut:Ie=>{Ie.target.style.transform="scale(1)"},children:"SELECT TRAINING DATA"}),(o==="INTRO"||o==="LABEL_INTRO"||o==="FILL_MISSING_INTRO")&&L&&a.jsx("button",{style:G.modernActionButton,onClick:En,onMouseOver:Ie=>{Ie.target.style.transform="scale(1.05)"},onMouseOut:Ie=>{Ie.target.style.transform="scale(1)"},children:"MISSION ACCEPTED"})]})]})};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          @keyframes bounceMove {
            0% {
              transform: translateX(0) translateY(0);
            }
            25% {
              transform: translateX(-20vw) translateY(-15px);
            }
            50% {
              transform: translateX(-40vw) translateY(0);
            }
            75% {
              transform: translateX(-60vw) translateY(-15px);
            }
            100% {
              transform: translateX(-80vw) translateY(0);
            }
          }
        `}),a.jsxs("div",{style:G.container,children:[o!=="COLOR_MAP_EXPLORATION"&&o!=="LOADING"&&a.jsx("div",{style:G.overlay}),o==="LOADING"&&a.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#000",zIndex:200,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"60px"},children:[a.jsxs("div",{style:G.loadingContainer,children:[a.jsx("h2",{style:G.loadingTitle,children:"Loading..."}),a.jsx("div",{style:G.loadingBar,children:a.jsx("div",{style:{...G.loadingFill,width:`${Sa}%`}})})]}),a.jsx("div",{style:{width:"60%",height:"80px",background:"rgba(0, 0, 0, 0.9)",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",position:"relative"},children:[...Array(10)].map((u,f)=>a.jsx("img",{src:f%2===0?"/jungle/icon/red.svg":"/jungle/icon/green.svg",alt:"mushroom",style:{width:"40px",height:"40px",position:"absolute",animation:"bounceMove 3s ease-in-out infinite",animationDelay:`${f*.2}s`,left:`${100-f*8}%`}},f))})]}),o==="COLOR_MAP_EXPLORATION"&&a.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#000",zIndex:100},children:a.jsxs("div",{style:G.colorMapContainer,children:[a.jsx("div",{style:{...G.colorMapWrapper,transform:O2[Oe]},children:a.jsx("img",{src:"/jungle/map_color.png",alt:"Fungi Jungle Color Map",style:G.colorMapImage})}),a.jsx("button",{style:G.exitButton,onClick:t,children:n("exit")}),a.jsx("div",{style:{...G.glitchNpc,width:"120px",height:"120px"},onClick:Ei,children:a.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:{width:"100%",height:"100%",objectFit:"contain"}})}),((ii=Zl[Oe])==null?void 0:ii.up)!==void 0&&a.jsx("button",{style:{...G.colorMapNavArrow,...G.colorMapUpArrow},onClick:()=>Xa("up"),onMouseOver:u=>u.currentTarget.style.transform="translateX(-50%) scale(1.1)",onMouseOut:u=>u.currentTarget.style.transform="translateX(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/up.png",alt:"Up",style:G.colorMapArrowImage})}),((li=Zl[Oe])==null?void 0:li.down)!==void 0&&a.jsx("button",{style:{...G.colorMapNavArrow,...G.colorMapDownArrow},onClick:()=>Xa("down"),onMouseOver:u=>u.currentTarget.style.transform="translateX(-50%) scale(1.1)",onMouseOut:u=>u.currentTarget.style.transform="translateX(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/down.png",alt:"Down",style:G.colorMapArrowImage})}),((S=Zl[Oe])==null?void 0:S.left)!==void 0&&a.jsx("button",{style:{...G.colorMapNavArrow,...G.colorMapLeftArrow},onClick:()=>Xa("left"),onMouseOver:u=>u.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:u=>u.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:G.colorMapArrowImage})}),((Aa=Zl[Oe])==null?void 0:Aa.right)!==void 0&&a.jsx("button",{style:{...G.colorMapNavArrow,...G.colorMapRightArrow},onClick:()=>Xa("right"),onMouseOver:u=>u.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:u=>u.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:G.colorMapArrowImage})}),(p=N2[Oe])==null?void 0:p.map(u=>a.jsxs("div",{style:{...G.colorMapMushroom,width:`${u.size}px`,height:`${u.size}px`,top:u.top,bottom:u.bottom,left:u.left,right:u.right},onClick:()=>Hl(u.id),onMouseOver:f=>f.currentTarget.style.transform="scale(1.05)",onMouseOut:f=>f.currentTarget.style.transform="scale(1)",children:[a.jsx("img",{src:`/jungle/object/${u.id}.png`,alt:`Mushroom ${u.id}`,style:G.colorMapMushroomImage}),_t===u.id&&a.jsxs("div",{style:{...G.mushroomStatusBadge,...u.status==="DANGER"?G.dangerBadge:G.edibleBadge},children:[u.status==="DANGER"?"":""," ",u.status," (",u.toxicity,")"]})]},u.id)),Tn[Oe]&&a.jsx("div",{style:{...G.colorMapNpc,top:Tn[Oe].top,bottom:Tn[Oe].bottom,left:Tn[Oe].left,right:Tn[Oe].right,width:Tn[Oe].width,height:Tn[Oe].height},onClick:()=>_l(Tn[Oe].npc),onMouseEnter:()=>Fl(Tn[Oe].npc,!0),onMouseLeave:()=>Fl(Tn[Oe].npc,!1),onMouseOver:u=>u.currentTarget.style.transform="scale(1.02)",onMouseOut:u=>u.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:Tn[Oe].image,alt:Tn[Oe].npc,style:G.colorMapNpcImage})}),ua&&a.jsx("div",{style:{...G.colorMapDialogueContainer,...mn==="npc_a"?G.dialogueContainerNpcA:mn==="npc_b"?G.dialogueContainerNpcB:mn==="npc_c"?G.dialogueContainerRangerMoss:{}},children:a.jsxs("div",{style:G.colorMapDialogueBox,children:[a.jsx("div",{style:G.colorMapSpeakerName,children:mn==="npc_a"?"NPC A":mn==="npc_b"?"NPC B":mn==="npc_c"?"Ranger Moss":"NPC"}),a.jsx("p",{style:G.colorMapDialogueText,children:pa?a.jsxs(a.Fragment,{children:[ms,a.jsx("span",{style:{opacity:.5},children:"|"})]}):it}),a.jsx("button",{style:G.colorMapContinueButton,onClick:mn==="npc_c"?si:()=>{Dt(!1),wt(null),he.pause(),he.currentTime=0},onMouseOver:u=>{u.target.style.backgroundColor="#8B4513",u.target.style.color="#fff",u.target.style.transform="scale(1.05)"},onMouseOut:u=>{u.target.style.backgroundColor="rgba(255, 235, 205, 0.9)",u.target.style.color="#8B4513",u.target.style.transform="scale(1)"},children:mn==="npc_c"&&((M=Tn[Oe])!=null&&M.dialogues[yn])&&We<Tn[Oe].dialogues[yn].length-1?"Continue ":"OK"})]})})]})}),o!=="LOADING"&&o!=="COLOR_MAP_EXPLORATION"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{style:G.exitButton,onClick:t,children:n("exit")}),a.jsx("div",{style:G.glitchNpc,onClick:()=>{o==="NOISE_REMOVAL"?ne("First, look at what you collected. Some of these aren't mushrooms at all! These are what we call 'Noise'."):o==="LABEL_CORRECTION"&&ne(l0[X]),E(!0)},children:a.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:{width:"100%",height:"100%",objectFit:"contain"}})}),a.jsx("img",{src:"/jungle/npc_c.png",alt:"Ranger Moss",style:G.rangerNpc}),ka()]}),o==="NOISE_REMOVAL"&&a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",height:"80%",background:"rgba(0, 0, 0, 0.8)",borderRadius:"20px",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:50},children:[a.jsx("div",{style:{background:"#fff",border:"3px solid #00bf63",borderRadius:"15px",padding:"12px 35px",marginBottom:"15px"},children:a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"28px",color:"#333",margin:0,letterSpacing:"2px"},children:"CLEAN THE DATA"})}),a.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#fff",marginBottom:"20px"},children:["Please click on the ",a.jsx("span",{style:{fontWeight:"bold",color:"#00bf63"},children:"irrelevant items"}),". Keep ONLY the mushrooms!"]}),a.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"20px",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:[Bi.map(u=>{const f=d.includes(u),v=b.includes(u);return a.jsx("div",{style:{width:"140px",height:"140px",background:f?"transparent":"#fff",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",cursor:f?"default":"pointer",boxShadow:f?"none":v?"0 0 20px rgba(255, 0, 0, 0.8)":"0 0 20px rgba(255, 255, 255, 0.5)",border:v?"3px solid #ff0000":"none",transition:"all 0.3s",opacity:f?0:1},onClick:()=>!f&&j(u),onMouseOver:R=>{f||(R.currentTarget.style.transform="scale(1.05)")},onMouseOut:R=>{R.currentTarget.style.transform="scale(1)"},children:!f&&a.jsx("img",{src:`/jungle/object/${u}.png`,alt:`Object ${u}`,style:{width:"110px",height:"110px",objectFit:"contain"}})},u)}),i<1&&a.jsxs("button",{style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,padding:"8px 15px",transition:"transform 0.2s"},onClick:N,onMouseOver:u=>u.currentTarget.style.transform="scale(1.1)",onMouseOut:u=>u.currentTarget.style.transform="scale(1)",children:["NEXT",a.jsx("img",{src:"/jungle/icon/right.png",alt:"Next",style:{width:"25px",height:"25px"}})]})]}),a.jsx("div",{style:{display:"flex",gap:"20px",marginTop:"auto"},children:[0,1,2].map(u=>{const f=d[u];return a.jsxs("div",{style:{width:"140px",height:"140px",background:"#00bf63",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[a.jsx("img",{src:"/jungle/icon/trash.svg",alt:"Trash",style:{width:"70px",height:"70px",filter:"brightness(0) invert(1)",opacity:f?.3:1,position:"absolute"}}),f&&a.jsx("img",{src:`/jungle/object/${f}.png`,alt:`Removed ${f}`,style:{width:"110px",height:"110px",objectFit:"contain",position:"relative",zIndex:1}})]},u)})}),i===1&&a.jsx("button",{style:{marginTop:"20px",background:"#00bf63",border:"none",borderRadius:"10px",padding:"15px 40px",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,cursor:"pointer",transition:"transform 0.2s"},onClick:N,onMouseOver:u=>u.currentTarget.style.transform="scale(1.05)",onMouseOut:u=>u.currentTarget.style.transform="scale(1)",children:"CONTINUE"})]}),o==="LABEL_CORRECTION"&&a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",height:"85%",background:"rgba(0, 0, 0, 0.8)",borderRadius:"20px",padding:"40px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:50},children:[a.jsx("div",{style:{background:"#fff",border:"3px solid #00bf63",borderRadius:"15px",padding:"15px 40px",marginBottom:"15px"},children:a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"32px",color:"#333",margin:0,letterSpacing:"2px"},children:"CORRECT LABELS"})}),a.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",marginBottom:"25px",textAlign:"center"},children:["Click on the cells that contain ",a.jsx("span",{style:{fontWeight:"bold",color:"#00bf63"},children:"ERRORS"})," to select them. Find all the incorrect data!"]}),a.jsx("div",{style:{width:"100%",flex:1,overflowY:"auto",background:"rgba(255, 255, 255, 0.95)",borderRadius:"15px",padding:"25px",border:"3px solid #8FCCAE",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3), inset 0 2px 5px rgba(143, 204, 174, 0.2)"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"ID"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Name"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Color"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Texture"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Spikes"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Toxic"})]})}),a.jsx("tbody",{children:Cs.map((u,f)=>a.jsxs("tr",{children:[a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#1a1a1a",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:f%2===0?"#fff":"rgba(143, 204, 174, 0.05)"},children:u.id}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:f%2===0?"#1a1a1a":"#2d5f3f",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:f%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:"pointer",...Fn(u.id,"name")&&{background:"rgba(255, 0, 0, 0.3)",border:"2px solid #ff0000",borderRadius:"6px"},...Ca(u.id,"name")&&!Fn(u.id,"name")&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"}},onClick:()=>K(u.id,"name"),children:u.name}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:f%2===0?"#2d5f3f":"#1a1a1a",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:f%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:"pointer",...Fn(u.id,"color")&&{background:"rgba(255, 0, 0, 0.3)",border:"2px solid #ff0000",borderRadius:"6px"},...Ca(u.id,"color")&&!Fn(u.id,"color")&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"}},onClick:()=>K(u.id,"color"),children:u.color}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:f%2===0?"#1a1a1a":"#2d5f3f",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:f%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:"pointer",...Fn(u.id,"texture")&&{background:"rgba(255, 0, 0, 0.3)",border:"2px solid #ff0000",borderRadius:"6px"},...Ca(u.id,"texture")&&!Fn(u.id,"texture")&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"}},onClick:()=>K(u.id,"texture"),children:u.texture}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:f%2===0?"#2d5f3f":"#1a1a1a",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:f%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:"pointer",...Fn(u.id,"spikes")&&{background:"rgba(255, 0, 0, 0.3)",border:"2px solid #ff0000",borderRadius:"6px"},...Ca(u.id,"spikes")&&!Fn(u.id,"spikes")&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"}},onClick:()=>K(u.id,"spikes"),children:u.spikes}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:f%2===0?"#1a1a1a":"#2d5f3f",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:f%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:"pointer",...Fn(u.id,"toxic")&&{background:"rgba(255, 0, 0, 0.3)",border:"2px solid #ff0000",borderRadius:"6px"},...Ca(u.id,"toxic")&&!Fn(u.id,"toxic")&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"}},onClick:()=>K(u.id,"toxic"),children:u.toxic})]},u.id))})]})}),a.jsxs("button",{style:{marginTop:"20px",background:"#00bf63",border:"none",borderRadius:"10px",padding:"15px 40px",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,cursor:"pointer",transition:"transform 0.2s",display:"flex",alignItems:"center",gap:"10px"},onClick:oe,onMouseOver:u=>u.currentTarget.style.transform="scale(1.05)",onMouseOut:u=>u.currentTarget.style.transform="scale(1)",children:["NEXT",a.jsx("img",{src:"/jungle/icon/right.png",alt:"Next",style:{width:"24px",height:"24px"}})]})]}),o==="FILL_MISSING"&&a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95%",height:"70%",display:"flex",gap:"20px",zIndex:50},children:[a.jsxs("div",{style:{width:"65%",height:"100%",display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsxs("div",{style:{height:"22%",background:"rgba(255, 255, 255, 0.95)",border:"3px solid #00bf63",borderRadius:"15px",padding:"20px 30px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"32px",color:"#333",margin:"0 0 10px 0",letterSpacing:"2px"},children:"FILL MISSING VALUES"}),a.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#666",margin:0,display:"flex",alignItems:"center",gap:"5px"},children:["Click on the",a.jsx("img",{src:"/jungle/icon/question.svg",alt:"?",style:{width:"20px",height:"20px"}}),"cells to fill in the missing data based on the mushroom photo."]})]}),a.jsx("div",{style:{height:"65%",background:"rgba(255, 255, 255, 0.95)",border:"3px solid #8FCCAE",borderRadius:"15px",padding:"25px",overflowY:"auto",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.3)"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"ID"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Mushroom"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Color"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Texture"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Spikes"}),a.jsx("th",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#1a1a1a",textTransform:"uppercase",padding:"18px 15px",borderBottom:"3px solid #8FCCAE",textAlign:"left",background:"rgba(143, 204, 174, 0.1)"},children:"Toxic"})]})}),a.jsx("tbody",{children:Xl.map((u,f)=>a.jsxs("tr",{children:[a.jsxs("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"17px",color:"#1a1a1a",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:f%2===0?"#fff":"rgba(143, 204, 174, 0.05)"},children:["#",u.id]}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"17px",color:f%2===0?"#1a1a1a":"#2d5f3f",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:f%2===0?"#fff":"rgba(143, 204, 174, 0.05)"},children:u.name}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"17px",color:f%2===0?"#2d5f3f":"#1a1a1a",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:f%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:u.missingField==="color"&&!de[u.id]?"pointer":"default",...u.missingField==="color"&&!de[u.id]&&{background:"rgba(255, 200, 100, 0.3)",borderRadius:"6px"},...u.missingField==="color"&&(Ae==null?void 0:Ae.itemId)===u.id&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"},...u.missingField==="color"&&de[u.id]&&{background:"rgba(100, 200, 100, 0.3)",borderRadius:"6px"}},onClick:()=>u.missingField==="color"&&!de[u.id]&&ie(u.id,"color"),children:u.missingField==="color"?de[u.id]||a.jsx("img",{src:"/jungle/icon/question.svg",alt:"?",style:{width:"28px",height:"28px"}}):u.color}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"17px",color:f%2===0?"#1a1a1a":"#2d5f3f",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:f%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:u.missingField==="texture"&&!de[u.id]?"pointer":"default",...u.missingField==="texture"&&!de[u.id]&&{background:"rgba(255, 200, 100, 0.3)",borderRadius:"6px"},...u.missingField==="texture"&&(Ae==null?void 0:Ae.itemId)===u.id&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"},...u.missingField==="texture"&&de[u.id]&&{background:"rgba(100, 200, 100, 0.3)",borderRadius:"6px"}},onClick:()=>u.missingField==="texture"&&!de[u.id]&&ie(u.id,"texture"),children:u.missingField==="texture"?de[u.id]||a.jsx("img",{src:"/jungle/icon/question.svg",alt:"?",style:{width:"28px",height:"28px"}}):u.texture}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"17px",color:f%2===0?"#2d5f3f":"#1a1a1a",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:f%2===0?"#fff":"rgba(143, 204, 174, 0.05)",cursor:u.missingField==="spikes"&&!de[u.id]?"pointer":"default",...u.missingField==="spikes"&&!de[u.id]&&{background:"rgba(255, 200, 100, 0.3)",borderRadius:"6px"},...u.missingField==="spikes"&&(Ae==null?void 0:Ae.itemId)===u.id&&{background:"rgba(143, 204, 174, 0.4)",border:"2px solid #00bf63",borderRadius:"6px"},...u.missingField==="spikes"&&de[u.id]&&{background:"rgba(100, 200, 100, 0.3)",borderRadius:"6px"}},onClick:()=>u.missingField==="spikes"&&!de[u.id]&&ie(u.id,"spikes"),children:u.missingField==="spikes"?de[u.id]||a.jsx("img",{src:"/jungle/icon/question.svg",alt:"?",style:{width:"28px",height:"28px"}}):u.spikes}),a.jsx("td",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"17px",color:f%2===0?"#1a1a1a":"#2d5f3f",padding:"18px 15px",borderBottom:"1px solid #e0e0e0",background:f%2===0?"#fff":"rgba(143, 204, 174, 0.05)"},children:u.toxic})]},u.id))})]})})]}),a.jsx("div",{style:{width:"30%",height:"90%",background:"rgba(45, 95, 63, 0.3)",backdropFilter:"blur(10px)",border:"2px dashed #8FCCAE",borderRadius:"15px",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"20px"},children:Ae?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:`/jungle/object/${Ae.itemId}.png`,alt:`Mushroom ${Ae.itemId}`,style:{width:"240px",height:"240px",objectFit:"contain",marginBottom:"5px"}}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",width:"100%"},children:(H=Xl.find(u=>u.id===Ae.itemId))==null?void 0:H.options.map((u,f)=>a.jsx("button",{style:{padding:"12px 20px",fontFamily:"'Roboto Mono', monospace",fontSize:"14px",fontWeight:500,color:"#fff",background:"rgba(143, 204, 174, 0.3)",backdropFilter:"blur(10px)",border:"2px solid rgba(143, 204, 174, 0.5)",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>ge(u),onMouseOver:v=>{v.target.style.background="rgba(143, 204, 174, 0.5)",v.target.style.borderColor="#8FCCAE",v.target.style.transform="scale(1.02)"},onMouseOut:v=>{v.target.style.background="rgba(143, 204, 174, 0.3)",v.target.style.borderColor="rgba(143, 204, 174, 0.5)",v.target.style.transform="scale(1)"},children:u},f))})]}):a.jsxs(a.Fragment,{children:[a.jsx("img",{src:"/jungle/icon/mushroom.svg",alt:"Mushroom",style:{width:"120px",height:"120px",opacity:.5}}),a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#fff",textAlign:"center",margin:0},children:"Waiting for Input"}),a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"rgba(255, 255, 255, 0.7)",textAlign:"center",margin:0},children:"Select a ? cell on the data table to activate the Magic Scanner."})]})}),a.jsxs("button",{style:{position:"absolute",bottom:"-60px",left:"50%",transform:"translateX(-50%)",background:"#00bf63",border:"none",borderRadius:"10px",padding:"15px 50px",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,cursor:"pointer",transition:"transform 0.2s",display:"flex",alignItems:"center",gap:"10px"},onClick:Ce,onMouseOver:u=>u.currentTarget.style.transform="translateX(-50%) scale(1.05)",onMouseOut:u=>u.currentTarget.style.transform="translateX(-50%) scale(1)",children:["COMPLETE",a.jsx("img",{src:"/jungle/icon/right.png",alt:"Next",style:{width:"24px",height:"24px"}})]})]}),o==="QUIZ"&&a.jsx("div",{style:G.quizContainer,children:a.jsx("div",{style:G.chatCard,children:a.jsx("div",{style:G.chatMessages,children:ye.map((u,f)=>u.type==="ranger"?a.jsxs("div",{children:[a.jsxs("div",{style:G.rangerMessage,children:[a.jsx("div",{style:G.rangerAvatar,children:a.jsx("img",{src:"/jungle/npc_c.png",alt:"Ranger",style:{width:"100%",height:"100%",objectFit:"cover"}})}),a.jsxs("div",{style:G.messageBubble,children:[a.jsx("p",{style:G.messageSpeaker,children:"Ranger Moss:"}),a.jsx("p",{style:G.messageText,children:u.text})]})]}),f===ye.length-1&&pe<Ql.length&&a.jsx("div",{style:G.quizOptions,children:Ql[pe].options.map((v,R)=>{var le;const ee=Qe[pe]!==void 0,$=((le=Qe[pe])==null?void 0:le.optionIndex)===R;return a.jsx("button",{style:{...G.quizOptionButton,...$?G.quizOptionSelected:{}},onClick:()=>!ee&&ti(R,v.correct),disabled:ee,children:v.text},R)})})]},f):u.type==="user"?a.jsx("div",{style:G.userMessage,children:a.jsx("div",{style:G.userBubble,children:a.jsx("p",{style:G.messageText,children:u.text})})},f):u.type==="button"?a.jsx("button",{style:G.goButton,onClick:ys,onMouseOver:v=>v.target.style.transform="scale(1.05)",onMouseOut:v=>v.target.style.transform="scale(1)",children:u.text},f):null)})})}),o==="TRAINING"&&a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",height:"80%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:50},children:[a.jsx("img",{src:"/jungle/model.GIF",alt:"Model Training",style:{width:"auto",height:"80%",objectFit:"contain",marginBottom:"30px"}}),a.jsx("div",{style:{width:"80%",height:"30px",background:"rgba(255, 255, 255, 0.3)",borderRadius:"15px",overflow:"hidden",border:"2px solid #8FCCAE"},children:a.jsx("div",{style:{height:"100%",width:`${V}%`,background:"linear-gradient(90deg, #00bf63, #8FCCAE)",transition:"width 0.1s linear",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsxs("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:[V,"%"]})})})]}),o==="VALIDATION_INTRO"&&a.jsx("div",{style:G.validationContainer,children:a.jsxs("div",{style:G.validationCard,children:[a.jsx("p",{style:G.speakerName,children:"Ranger Moss:"}),a.jsx("p",{style:G.validationText,children:M2}),Ba===0&&a.jsx("div",{style:G.validationOptions,children:z2.map((u,f)=>a.jsx("button",{style:G.validationOption,onClick:()=>ni(u.correct),onMouseOver:v=>v.target.style.background="rgba(81, 112, 255, 0.2)",onMouseOut:v=>v.target.style.background="rgba(81, 112, 255, 0.1)",children:u.text},f))}),Ba===1&&a.jsxs(a.Fragment,{children:[a.jsx("p",{style:{...G.validationText,marginTop:"20px",color:"#5170FF"},children:D2}),a.jsx("button",{style:{...G.goButton,marginTop:"20px"},onClick:Wa,onMouseOver:u=>u.target.style.transform="scale(1.05)",onMouseOut:u=>u.target.style.transform="scale(1)",children:"Continue "})]})]})}),o==="VALIDATION_DATA"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",height:"65%",background:"rgba(0, 0, 0, 0.8)",borderRadius:"20px",padding:"40px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:50,boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"32px",color:"#fff",margin:"0 0 10px 0",letterSpacing:"2px"},children:"Select Testing Samples"}),a.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ccc",marginBottom:"30px",textAlign:"center"},children:["Select ",a.jsx("strong",{children:"three"})," mushrooms you want to test the AI with. Choose the ",a.jsx("strong",{children:"NEW"})," mushrooms that the AI hasn't seen before!"]}),Kn?a.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"28px",color:"#fff",margin:"0 0 30px 0",letterSpacing:"2px"},children:"YOUR AI PREDICTION"}),a.jsxs("div",{style:{position:"relative",width:"200px",height:"200px",marginBottom:"20px"},children:[a.jsxs("svg",{width:"200",height:"200",style:{transform:"rotate(-90deg)"},children:[a.jsx("circle",{cx:"100",cy:"100",r:"85",fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"15"}),a.jsx("circle",{cx:"100",cy:"100",r:"85",fill:"none",stroke:"#00bf63",strokeWidth:"15",strokeDasharray:`${2*Math.PI*85*(Fa/100)} ${2*Math.PI*85}`,strokeLinecap:"round",style:{filter:"drop-shadow(0 0 10px #00bf63)",transition:"stroke-dasharray 0.1s ease-out"}})]}),a.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:a.jsxs("div",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"48px",fontWeight:"bold",color:"#00bf63",lineHeight:1},children:[Fa,"%"]})})]}),a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",color:"#ccc",marginBottom:"40px",letterSpacing:"2px"},children:"ACCURACY"}),a.jsx("button",{style:{background:"#00bf63",border:"none",borderRadius:"10px",padding:"15px 50px",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 15px rgba(0, 191, 99, 0.4)"},onClick:Yn,onMouseOver:u=>{u.target.style.transform="scale(1.05)",u.target.style.boxShadow="0 6px 20px rgba(0, 191, 99, 0.6)"},onMouseOut:u=>{u.target.style.transform="scale(1)",u.target.style.boxShadow="0 4px 15px rgba(0, 191, 99, 0.4)"},children:"CONTINUE"})]}):a.jsx(a.Fragment,{children:a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"25px",marginBottom:"30px"},children:r0.map(u=>{const f=hn.includes(u.id);return a.jsxs("div",{style:{width:"150px",height:"150px",background:f?"rgba(0, 191, 99, 0.2)":"rgba(255, 255, 255, 0.1)",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"relative",transition:"all 0.3s",boxShadow:f?"0 8px 25px rgba(0, 191, 99, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.3)":"0 5px 15px rgba(0, 0, 0, 0.3), inset 0 -3px 10px rgba(0, 0, 0, 0.2)"},onClick:()=>bs(u.id),onMouseOver:v=>{v.currentTarget.style.transform="translateY(-5px)",v.currentTarget.style.boxShadow=f?"0 12px 30px rgba(0, 191, 99, 0.5), inset 0 -3px 10px rgba(0, 0, 0, 0.3)":"0 8px 20px rgba(255, 255, 255, 0.2), inset 0 -3px 10px rgba(0, 0, 0, 0.2)"},onMouseOut:v=>{v.currentTarget.style.transform="translateY(0)",v.currentTarget.style.boxShadow=f?"0 8px 25px rgba(0, 191, 99, 0.4), inset 0 -3px 10px rgba(0, 0, 0, 0.3)":"0 5px 15px rgba(0, 0, 0, 0.3), inset 0 -3px 10px rgba(0, 0, 0, 0.2)"},children:[a.jsx("img",{src:`/jungle/object/${u.id}.png`,alt:`Mushroom ${u.id}`,style:{width:"120px",height:"120px",objectFit:"contain"}}),f&&u.isNew&&a.jsx("img",{src:"/jungle/icon/correct.png",alt:"Correct",style:{position:"absolute",top:"10px",right:"10px",width:"40px",height:"40px"}}),Zn&&f&&a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 191, 99, 0.3)",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("span",{style:{color:"#fff",fontWeight:"bold",fontSize:"14px"},children:"Scanning..."})})]},u.id)})})})]}),!Kn&&a.jsxs("div",{ref:xo,style:{position:"absolute",top:"calc(50% + 35%)",left:"50%",transform:"translateX(-50%)",width:"350px",height:"60px",background:"#fff",border:"3px solid #00bf63",borderRadius:"35px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:51,boxShadow:"0 8px 25px rgba(0, 191, 99, 0.4)"},children:[a.jsx("div",{style:{position:"absolute",left:`${5+ia}px`,width:"50px",height:"50px",background:"#00bf63",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"grab",boxShadow:"0 4px 15px rgba(0, 191, 99, 0.6)",...$n?{cursor:"grabbing"}:{}},onMouseDown:vs,onTouchStart:oi,children:a.jsx("img",{src:"/jungle/icon/arrow.png",alt:"Arrow",style:{width:"24px",height:"24px"}})}),a.jsx("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#00bf63",letterSpacing:"1.5px"},children:"TEST THE MODEL"})]})]}),o==="ADJUST_MODEL_DATA"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"65%",height:"75%",background:"rgba(0, 0, 0, 0.8)",borderRadius:"20px",padding:"35px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:50,boxShadow:"0 10px 40px rgba(0, 0, 0, 0.5)"},children:[a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"28px",color:"#fff",margin:"0 0 8px 0",letterSpacing:"2px"},children:"TRAINING PHOTOS"}),a.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#ccc",marginBottom:"20px",textAlign:"center"},children:["Feed the AI ",a.jsx("strong",{children:"High Quality Data"})]}),a.jsxs("div",{style:{display:"flex",gap:"15px",width:"100%",flex:1,marginBottom:"15px"},children:[a.jsx("div",{style:{flex:bo?"0 0 60%":"1",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",alignContent:"start"},children:c0.map(u=>{const f=Lo.includes(u.id);return a.jsxs("div",{style:{width:"100%",aspectRatio:"1",background:f?"rgba(0, 191, 99, 0.2)":"rgba(255, 255, 255, 0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"relative",transition:"all 0.3s",boxShadow:f?"0 6px 20px rgba(0, 191, 99, 0.4), inset 0 -2px 8px rgba(0, 0, 0, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.3), inset 0 -2px 8px rgba(0, 0, 0, 0.2)"},onClick:()=>ws(u),onMouseOver:v=>{v.currentTarget.style.transform="translateY(-3px)",v.currentTarget.style.boxShadow=f?"0 8px 25px rgba(0, 191, 99, 0.5), inset 0 -2px 8px rgba(0, 0, 0, 0.3)":"0 6px 16px rgba(255, 255, 255, 0.2), inset 0 -2px 8px rgba(0, 0, 0, 0.2)"},onMouseOut:v=>{v.currentTarget.style.transform="translateY(0)",v.currentTarget.style.boxShadow=f?"0 6px 20px rgba(0, 191, 99, 0.4), inset 0 -2px 8px rgba(0, 0, 0, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.3), inset 0 -2px 8px rgba(0, 0, 0, 0.2)"},children:[a.jsx("img",{src:`/jungle/object/${u.id}.png`,alt:`Training photo ${u.id}`,style:{width:"80%",height:"80%",objectFit:"contain"}}),f&&u.isGood&&a.jsx("img",{src:"/jungle/icon/correct.png",alt:"Correct",style:{position:"absolute",top:"6px",right:"6px",width:"25px",height:"25px"}})]},u.id)})}),bo&&sn&&a.jsxs("div",{style:{flex:"0 0 35%",height:"100%",background:"rgba(143, 204, 174, 0.15)",backdropFilter:"blur(10px)",borderRadius:"15px",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"15px"},children:[a.jsx("h3",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"18px",color:"#fff",margin:0},children:"FEEDBACK PANEL"}),a.jsx("img",{src:`/jungle/object/${sn.duplicateOf}.png`,alt:"Duplicate",style:{width:"120px",height:"120px",objectFit:"contain"}}),a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:"bold",color:"#ff6b6b",margin:0},children:"LOW VALUE"}),a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#ccc",textAlign:"center",margin:0},children:"This is a duplicate. Choose unique samples!"})]})]}),a.jsx("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"auto"},children:[0,1,2,3,4].map(u=>{const f=Lo[u];return a.jsx("div",{style:{width:"70px",height:"70px",background:f?"rgba(0, 191, 99, 0.2)":"rgba(255, 255, 255, 0.1)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3), inset 0 -2px 6px rgba(0, 0, 0, 0.2)"},children:f?a.jsx("img",{src:`/jungle/object/${f}.png`,alt:`Selected ${f}`,style:{width:"60px",height:"60px",objectFit:"contain"}}):a.jsx("img",{src:"/jungle/icon/download.svg",alt:"Empty",style:{width:"30px",height:"30px",opacity:.3}})},u)})})]}),Lo.length>=5&&a.jsxs("div",{ref:ra,style:{position:"absolute",top:"calc(50% + 39%)",left:"50%",transform:"translateX(-50%)",width:"350px",height:"60px",background:"#fff",border:"3px solid #00bf63",borderRadius:"35px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:51,boxShadow:"0 8px 25px rgba(0, 191, 99, 0.4)"},children:[a.jsx("div",{style:{position:"absolute",left:`${5+st}px`,width:"50px",height:"50px",background:"#00bf63",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"grab",boxShadow:"0 4px 15px rgba(0, 191, 99, 0.6)",...ot?{cursor:"grabbing"}:{}},onMouseDown:Bl,children:a.jsx("img",{src:"/jungle/icon/arrow.png",alt:"Arrow",style:{width:"24px",height:"24px"}})}),a.jsx("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#00bf63",letterSpacing:"1.5px"},children:"IMPROVE ACCURACY"})]}),Gt&&a.jsx("div",{style:{position:"absolute",top:"15%",left:"12%",background:"rgba(255, 255, 255, 0.95)",border:"2px solid #00bf63",borderRadius:"15px",padding:"15px 20px",maxWidth:"250px",zIndex:52,boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},children:a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",margin:0,lineHeight:1.5},children:" Excellent choice! A new angle/condition. That will help it generalize!"})})]}),o==="ADJUST_MODEL_TRAINING"&&a.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",height:"80%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",paddingTop:"5%",zIndex:50},children:[a.jsx("img",{src:"/jungle/model.GIF",alt:"Model Training",style:{width:"auto",height:xn>=100?"40%":"70%",objectFit:"contain",marginBottom:xn>=100?"20px":"30px",transition:"height 0.3s ease"}}),xn<100&&a.jsx("div",{style:{width:"80%",height:"30px",background:"rgba(255, 255, 255, 0.3)",borderRadius:"15px",overflow:"hidden",border:"2px solid #8FCCAE"},children:a.jsx("div",{style:{height:"100%",width:`${xn}%`,background:"linear-gradient(90deg, #00bf63, #8FCCAE)",transition:"width 0.1s linear",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsxs("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:"bold",color:"#fff"},children:[xn,"%"]})})}),xn>=100&&a.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[a.jsx("h2",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"28px",color:"#fff",margin:"0 0 20px 0",letterSpacing:"2px"},children:"YOUR AI PREDICTION"}),a.jsxs("div",{style:{position:"relative",width:"180px",height:"180px",marginBottom:"15px"},children:[a.jsxs("svg",{width:"180",height:"180",style:{transform:"rotate(-90deg)"},children:[a.jsx("circle",{cx:"90",cy:"90",r:"75",fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"15"}),a.jsx("circle",{cx:"90",cy:"90",r:"75",fill:"none",stroke:"#00bf63",strokeWidth:"15",strokeDasharray:`${2*Math.PI*75*(yo/100)} ${2*Math.PI*75}`,strokeLinecap:"round",style:{filter:"drop-shadow(0 0 10px #00bf63)",transition:"stroke-dasharray 0.1s ease-out"}})]}),a.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:a.jsxs("div",{style:{fontFamily:"'Coming Soon', cursive",fontSize:"44px",fontWeight:"bold",color:"#00bf63",lineHeight:1},children:[yo,"%"]})})]}),a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#ccc",marginBottom:"25px",letterSpacing:"2px"},children:"ACCURACY"}),a.jsx("button",{style:{background:"#00bf63",border:"none",borderRadius:"10px",padding:"12px 45px",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 15px rgba(0, 191, 99, 0.4)"},onClick:ai,onMouseOver:u=>{u.target.style.transform="scale(1.05)",u.target.style.boxShadow="0 6px 20px rgba(0, 191, 99, 0.6)"},onMouseOut:u=>{u.target.style.transform="scale(1)",u.target.style.boxShadow="0 4px 15px rgba(0, 191, 99, 0.4)"},children:"DONE"})]})]}),o==="COMPLETE"&&a.jsx("div",{style:G.cardContainer,children:a.jsxs("div",{style:G.completeCard,children:[a.jsx("h2",{style:G.completeTitle,children:" Data Cleaning Complete!"}),a.jsxs("p",{style:G.completeText,children:[a.jsx("strong",{children:"Ranger Moss:"}),' "Excellent! You used visual evidence to fill in the missing data. Now our dataset is completeno holes, no errors."']}),a.jsx("p",{style:G.statusText,children:"System Status: 100% Clean "}),a.jsx("button",{style:G.nextStepButton,onClick:e,onMouseOver:u=>u.target.style.transform="scale(1.05)",onMouseOut:u=>u.target.style.transform="scale(1)",children:"Next Step: Model Training "})]})}),re&&!k&&a.jsx("div",{style:G.leftDialogueContainer,children:a.jsxs("div",{style:G.dialogueHistoryBox,children:[a.jsx("p",{style:G.speakerName,children:"Ranger Moss:"}),F.map((u,f)=>a.jsx("p",{style:{...G.dialogueHistoryItem,...f===F.length-1&&!Ke?G.dialogueHistoryItemLast:{}},children:u},f)),Ke&&a.jsxs("p",{style:{...G.dialogueHistoryItem,...G.dialogueHistoryItemLast},children:[Ke,ue&&a.jsx("span",{style:{opacity:.5},children:"|"})]}),a.jsx("button",{style:G.continueButton,onClick:te,children:ue?"Skip":"Continue "})]})}),!re&&!k&&F.length>0&&o!=="INTRO"&&o!=="LABEL_INTRO"&&o!=="FILL_MISSING_INTRO"&&o!=="NOISE_REMOVAL"&&o!=="LABEL_CORRECTION"&&o!=="FILL_MISSING"&&o!=="QUIZ"&&o!=="TRAINING"&&o!=="VALIDATION_INTRO"&&o!=="VALIDATION_DATA"&&o!=="ADJUST_MODEL_INTRO"&&o!=="ADJUST_MODEL_DATA"&&o!=="ADJUST_MODEL_TRAINING"&&o!=="LOADING"&&o!=="COLOR_MAP_EXPLORATION"&&o!=="COMPLETE"&&o!=="PRE_TRAINING_QUIZ"&&o!=="TRAINING_COMPLETE_QUIZ"&&a.jsx("div",{style:G.leftDialogueContainer,children:a.jsxs("div",{style:G.dialogueHistoryBox,children:[a.jsx("p",{style:G.speakerName,children:"Ranger Moss:"}),F.map((u,f)=>a.jsx("p",{style:{...G.dialogueHistoryItem,...f===F.length-1?G.dialogueHistoryItemLast:{}},children:u},f))]})}),Je&&o!=="LOADING"&&o!=="COLOR_MAP_EXPLORATION"&&a.jsxs("div",{style:G.glitchHintInline,children:[a.jsx("button",{style:G.glitchHintCloseBtn,onClick:()=>E(!1),children:""}),a.jsxs("p",{style:G.glitchHintInlineText,children:[" ",Q]})]})]})]})},E2=`
  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translate(-50%, -50%) translateY(0);
    }
    40% {
      transform: translate(-50%, -50%) translateY(-30px);
    }
    60% {
      transform: translate(-50%, -50%) translateY(-15px);
    }
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes stampAppear {
    0% {
      opacity: 0;
      transform: scale(0) rotate(-10deg);
    }
    50% {
      opacity: 1;
      transform: scale(1.2) rotate(-5deg);
    }
    100% {
      opacity: 1;
      transform: scale(1) rotate(-10deg);
    }
  }
  
  @keyframes pulse {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(1.1);
      opacity: 0.7;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.type="text/css",e.innerText=E2,document.head.appendChild(e)}const Wt={SEGMENT_1:0,SEGMENT_2:1,SEGMENT_3:2},u0={glitch:{text:"Warning! This desert is dangerous. We need to find that yellow robot, 'Alpha,' immediately! He should be in the castle ahead.",speaker:"Glitch"},npc1:[{text:"Run! Just run! The castle's defense system has gone mad! It's attacking everyone!",speaker:"NPC1"},{text:"Unless you are looking for 'Alpha'... He's still deep inside , trying to shut down the system!",speaker:"NPC1"}],npc2:[{text:"Don't go there! The castle  thinks we are monsters!",speaker:"NPC2"},{text:"Run away!",speaker:"NPC2"}],gatekeeper:[{text:"You... you must be looking for Alpha. He's inside the main hall. But the castle is terrifying right now.",speaker:"Gatekeeper"},{text:"You can try zooming in to check the situation, but I'm not risking my life going in there.",speaker:"Gatekeeper"}],npc5:{text:"Say, if it's possible, could you show me something cool or interesting from your side?",speaker:"NPC 5",showCameraIcon:!0},npc6:{text:"Say, if it's possible, could you show me something cool or interesting from your side?",speaker:"NPC 6",showCameraIcon:!0},npc7:{text:"Say, if it's possible, could you show me something cool or interesting from your side?",speaker:"NPC 7",showCameraIcon:!0},alphaFinal:{text:"System Status: Normal. Defense protocols deactivated. The castle is safe. Thank you, Engineer. I am now processing data with context.",speaker:"Alpha"}},Pn=[{type:"message",speaker:"Alpha",text:"Hello, **humans**. Sorry for the sudden blackout. As you can see, the staff have all fled."},{type:"choice",text:"Why did everyone run away?"},{type:"message",speaker:"Alpha",text:"Here's what happened: During the annual **Sandstorm**, a massive dust storm rolled in. The camera feeds are now full of noise, glare, and motion blur."},{type:"choice",text:"Continue"},{type:"message",speaker:"Alpha",text:"**Critical issue**: Our vision AI has never been trained on workers covered in sand. In its eyes, workers look like well **giant sandworms**. It attacked the staff."},{type:"choice",text:"How can we fix this?"},{type:"message",speaker:"Alpha",text:"We need your help right now:  Please send photos or video clips of **workers in sandstorm conditions**hoods up, goggles on, half-buried in dust, whatever you've got."},{type:"missionAccept",text:"Mission Accepted"}],Xn=[{type:"message",speaker:"Alpha",text:"Data received! Wow... these photos are completely different from my database."},{type:"message",speaker:"Alpha",text:"(Shows comparison: Clear vs. Blurry)",image:"/desert/sample.png"},{type:"message",speaker:"Alpha",text:"Look. The 'workers' I learned about before were clear, like the left image. But in the photos you took, there is flying sand everywhere."},{type:"message",speaker:"Alpha",text:"In the AI world, we call this interferencesand, rain, or blurry pixels'**Noise**'. Just like looking through dirty glasses, **Noise** reduces Data Quality."},{type:"quiz",question:"Now tell me, Why did AI mistake the employee?",options:[{text:"Because I am stupid and my chip is broken.",correct:!1},{text:"Because 'Noise' (sand) lowered the data quality and hid the features.",correct:!0},{text:"Because that employee actually looks like a worm.",correct:!1}]},{type:"message",speaker:"Alpha",text:"Exactly! High-quality Data is crucial for AI. Since we have to use these 'noisy' photos now..."},{type:"message",speaker:"Alpha",text:"I need you to help me distinguish: which ones are real humans and which ones are just noise. Let's start labeling!"}],Xo=[{type:"message",speaker:"Alpha",text:"Thank you for your corrections. Now, a quick question:  What's the scientific term for what you just did to help me fix those images?"},{type:"quiz",question:"What's the scientific term for what you just did?",options:[{text:"A. Data Mining",correct:!1},{text:"B. Data Labeling",correct:!0},{text:"C. Data Cleaning",correct:!1}]},{type:"message",speaker:"Alpha",text:"Exactly**Data Labeling**! Think of AI like a curious student. And you? You're the teacher. That's the heart of **Supervised Learning**."},{type:"message",speaker:"Alpha",text:"but wait.  Alert! New anomaly detected. I can observe actions but I still struggle with meaning."},{type:"message",speaker:"Alpha",text:"The same actiona raised arm, a flashing light, a sudden movementcan mean completely different things depending on the surroundings."},{type:"message",speaker:"Alpha",text:"Let's analyze how Environmental Context alters my judgment."},{type:"action",text:"Accepted",action:"startMission3"}],B2=({onExit:e})=>{var Aa;const{t}=Ea(),n=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),o=p=>{switch(p.toLowerCase()){case"alpha":return{borderColor:"#FABA14",progressColor:"#FABA14",avatar:"/desert/npc/npc4.png"};case"sparky":return{borderColor:"#4A90E2",progressColor:"#4A90E2",avatar:"/island/npc/spark.png"};case"momo":return{borderColor:"#333333",progressColor:"#333333",avatar:"/glacier/npc/momo.png"};default:return{borderColor:"#FABA14",progressColor:"#FABA14",avatar:"/desert/npc/npc4.png"}}},[s,i]=r.useState(Wt.SEGMENT_1),[l,d]=r.useState(!1),[h,b]=r.useState(null),[A,k]=r.useState(null),[T,C]=r.useState(0),[w,Y]=r.useState(""),[D,m]=r.useState(""),[g,y]=r.useState(!1),[I,J]=r.useState(!0),[B,L]=r.useState("desert"),[ae,X]=r.useState(!1),[xe,Ee]=r.useState([]),[be,Xe]=r.useState(0),[yt,Je]=r.useState(!1),[E,Q]=r.useState(!1),[ne,re]=r.useState({x:0,y:0}),[se,ce]=r.useState(!1),[ke,Ke]=r.useState(!1),[Fe,ue]=r.useState(null),[Te,F]=r.useState([]),[bt,Be]=r.useState({}),[at,de]=r.useState(!1),[Z,Ae]=r.useState(!1),[ze,vt]=r.useState(0),[fn,ye]=r.useState(!1),[_,pe]=r.useState([]),[_e,Qe]=r.useState(!1),[Un,V]=r.useState(null),[Ht,sa]=r.useState(!1),[Ve,U]=r.useState(!1),[fe,je]=r.useState([]),[Ue,Et]=r.useState(0),[St,De]=r.useState(!1),[Bt,dt]=r.useState(""),[Bo,ei]=r.useState(!1),[_o,Ba]=r.useState(null),[Lt,hn]=r.useState(""),[_a,Zn]=r.useState([]),[Fo,Kn]=r.useState(!1),[an,Fa]=r.useState(!1),[Ho,ia]=r.useState(0),[ho,$n]=r.useState(!1),[eo,xo]=r.useState(!1),[Gn,ma]=r.useState(0),[ya,la]=r.useState([]),[Lo,Ha]=r.useState(!1),[sn,On]=r.useState(!1),{playCameraSound:xn,playStampSound:Nn,playSafeSound:Ut,playAlertSound:mo,playCorrectSound:Xt,playWrongSound:Rn,playSelectSound:Gt}=Di(),{startTypingSound:hs,stopTypingSound:yo}=yu("/sound/desert_typing.wav"),[ba,ra]=r.useState(!1),[st,ln]=r.useState("intro"),[ot,zt]=r.useState(null),[Ge,ca]=r.useState([]),[Jt,Uo]=r.useState(null),[rn,La]=r.useState(!1),[$e,Go]=r.useState(0),[bo,cn]=r.useState({}),[Oe,Tt]=r.useState({}),[xs,Kt]=r.useState(!1),[ua,Dt]=r.useState(!1),[it,un]=r.useState(null),[mn,wt]=r.useState(!1),[kn,va]=r.useState(!1),[Sa,Ua]=r.useState(""),[_t,qo]=r.useState(!1),[yn,vo]=r.useState(!1),[We,da]=r.useState(!1),[ms,qn]=r.useState(""),[pa,bn]=r.useState(!1),[Ta,Qt]=r.useState(!1),[vn,to]=r.useState(null),[no,So]=r.useState(null),[Wo,he]=r.useState(!1),[qt,jt]=r.useState(null),[Ot,ve]=r.useState(!1),[To,oo]=r.useState(null),[Yo,wo]=r.useState([]),[ao,wa]=r.useState(!1),Wn={sample:{image:"/desert/Mission/sample.png",aiLogic:'AI Logic: "No movement detected  Worker is dead."',tags:[{id:"game",text:"Safe Zone: Playground",correct:!0,update:'Updated AI Logic: "User is simulating injury within a game. Status: PLAYING."'},{id:"distance",text:"Observer at a Distance",correct:!0,update:'Updated AI Logic: "Visual resolution low. Status: INSUFFICIENT DATA."'},{id:"time",text:"Short Observation Window",correct:!0,update:'Updated AI Logic: "Observation window too short. Status: PAUSED."'}]},puzzles:[{id:"puzzle1",image:"/desert/Mission/puzzle01.png",aiLogic:'AI Logic: "Object detected: Explosive Device. Action: ATTACKING. Threat Level: HIGH."',tags:[{id:"location",text:"Location: Fuel Depot",correct:!1},{id:"calendar",text:"Calendar: Lunar New Year",correct:!0,update:"Update: The worker is celebrating, not attacking. Threat Level: CLEARED."},{id:"state",text:"State: Fuse Ignited",correct:!1}]},{id:"puzzle2",image:"/desert/Mission/puzzle02.png",aiLogic:'AI Logic: "Object: Iron Sheet. Posture: Charging. Intent: Shield Bash / Riot. Status: THREAT."',tags:[{id:"audio",text:"Audio: High Decibel Screaming",correct:!1},{id:"database",text:"Database Match: Police Riot Shield",correct:!1},{id:"weather",text:"Weather: Sandstorm Warning",correct:!0,update:"Update: The iron sheet is a shield against the sand. Threat Level: CLEARED."}]},{id:"puzzle3",image:"/desert/Mission/puzzle03.png",aiLogic:'AI Logic: "Object: Spike. Posture: Attacking. Intent: Weapon Strike. Status: THREAT."',tags:[{id:"audio",text:"Audio: Low Groaning",correct:!1},{id:"sign",text:'Sign: "Wellness Spa"',correct:!0,update:"Revised Logic: The spike is a medical tool. The cactus is a doctor. Status: ACUPUNCTURE THERAPY (HEALING)."},{id:"weapon",text:"Weapon: Poisoned Dart",correct:!1}]}]},dn=[{id:1,name:"Silverbark Frond",description:"Glass-hard leaves that shatter when threatened, releasing mild toxin dust.",image:"/desert/Mission/leaf1.png",initialVotes:["healthy","healthy","uncertain"],correctAnswer:"healthy",needsDiscussion:!1},{id:2,name:"Glowmoss Petal-Leaf",description:"Half-plant, half-fungus; glows softly at night and clings to old pipes.",image:"/desert/Mission/leaf2.png",initialVotes:["unhealthy","unhealthy","uncertain"],correctAnswer:"unhealthy",needsDiscussion:!1},{id:3,name:"Crystal Thornleaf",description:"Said to sense emotionsits leaves vibrate faintly with sound waves.",image:"/desert/Mission/leaf3.png",initialVotes:["unhealthy","healthy","uncertain"],afterDiscussionVotes:["healthy","healthy","uncertain"],correctAnswer:"healthy",needsDiscussion:!0},{id:4,name:"Whisper Vine Leaf",description:"Grows in castle cracks; metallic crystals make it shimmer in sunlight.",image:"/desert/Mission/leaf4.png",initialVotes:["unhealthy","healthy","uncertain"],afterDiscussionVotes:["unhealthy","unhealthy","uncertain"],correctAnswer:"unhealthy",needsDiscussion:!0}],Ga=[{id:1,name:"Prickle",npc:"npc7"},{id:2,name:"Obsidian",npc:"npc6"},{id:3,name:"Bloom",npc:"npc3"}],En=[{id:1,src:"/desert/Mission/01.png",correctAnswer:"confirmed"},{id:2,src:"/desert/Mission/02.png",correctAnswer:"rejected"},{id:3,src:"/desert/Mission/03.png",correctAnswer:"rejected"},{id:4,src:"/desert/Mission/04.png",correctAnswer:"rejected"},{id:5,src:"/desert/Mission/05.png",correctAnswer:"confirmed"}],te={[Wt.SEGMENT_1]:[{id:"01",size:250,left:"40%",bottom:"10%"},{id:"02",size:150,left:"10%",bottom:"15%"},{id:"06",size:120,left:"20%",top:"40%"},{id:"07",size:120,right:"10%",top:"30%"}],[Wt.SEGMENT_2]:[{id:"05",size:180,left:"0%",bottom:"10%"},{id:"11",size:150,right:"0%",bottom:"10%"},{id:"09",size:100,left:"25%",bottom:"15%"},{id:"10",size:180,right:"25%",bottom:"20%"}],[Wt.SEGMENT_3]:[{id:"03",size:220,right:"10%",bottom:"10%"},{id:"04",size:100,left:"40%",bottom:"25%"},{id:"08",size:120,left:"15%",top:"40%"}]};r.useEffect(()=>{console.log("=== DesertMap: Loading saved progress ===");const p=localStorage.getItem("aiJourneyUser");if(p){const M=JSON.parse(p);console.log("Full userData:",M);const H=M.desertProgress;if(console.log("desertProgress:",H),H){i(H.currentSegment||Wt.SEGMENT_1),L(H.currentView||"desert");let u=H.capturedObjects||[],f=!1;H.phase2Completed&&u.length<11&&(console.warn("Data inconsistency detected: phase2Completed is true but capturedObjects is empty. Fixing..."),u=Array.from({length:11},(R,ee)=>`object_${ee+1}`),f=!0),F(u);const v=u.length>=11;if((H.missionStarted||v)&&Q(!0),H.phase2Completed?(Ae(!0),de(!0)):v&&!H.phase2Completed&&de(!1),H.colorMode?(console.log("Loading colorMode from localStorage: true"),da(!0)):console.log("colorMode not found in localStorage or is false"),H.mission4Started&&La(!0),H.mission4Complete&&va(!0),console.log("Loaded Desert progress:",H),console.log("Restored capturedObjects count:",u.length),f){console.log("Saving fixed data to localStorage...");const R=u.length>=11,ee=H.phase2Completed,$=H.colorMode,le=H.mission4Complete;M.desertProgress={...H,capturedObjects:u,mission1Completed:R,mission2Completed:ee,mission3Completed:$,mission4Completed:le,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(M)),console.log("Fixed data saved to localStorage")}}}fetch("/desert/object/description.json").then(M=>M.json()).then(M=>Be(M.objects)).catch(M=>console.error("Failed to load object descriptions:",M))},[]),r.useEffect(()=>{const p=localStorage.getItem("aiJourneyUser");if(p){const M=JSON.parse(p),H=Te.length>=11,u=Z,f=We,v=kn;let R=Te;Z&&Te.length<11&&(console.warn("Save: Fixing capturedObjects inconsistency"),R=Array.from({length:11},(ee,$)=>`object_${$+1}`)),M.desertProgress={currentSegment:s,currentView:B,missionStarted:E,capturedObjects:R,phase2Completed:Z,colorMode:We,mission4Started:rn,mission4Complete:kn,mission1Completed:H||Z,mission2Completed:u,mission3Completed:f,mission4Completed:v,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(M)),console.log("Saved Desert progress:",{mission1Completed:H||Z,mission2Completed:u,mission3Completed:f,mission4Completed:v,colorMode:We,mission4Complete:kn,capturedObjectsCount:R.length})}},[s,B,E,Te,Z,We,rn,kn]),r.useEffect(()=>{if(!h||!l)return;const p=h.text;if(!p)return;let M=0;m(""),y(!0),hs();const H=setInterval(()=>{if(M<p.length)m(p.substring(0,M+1)),M++;else{y(!1),yo(),clearInterval(H);const u=u0[A];Array.isArray(u)&&T<u.length-1&&setTimeout(()=>{const f=T+1;C(f),b(u[f])},2e3)}},30);return()=>{clearInterval(H),yo()}},[h,l,A,T,hs,yo]),r.useEffect(()=>{const p=setInterval(()=>{J(M=>!M)},500);return()=>clearInterval(p)},[]),r.useEffect(()=>{if(!E||We||Te.length>=11)return;const p=M=>{re({x:M.clientX,y:M.clientY})};return window.addEventListener("mousemove",p),()=>window.removeEventListener("mousemove",p)},[E,We,Te.length]),r.useEffect(()=>{if(console.log("=== Auto-show dialogue useEffect ===",{missionStarted:E,colorMode:We,currentView:B,showAlphaDialogue:ae,currentSegment:s}),E||We||B!=="desert"||ae){console.log("Auto-show dialogue: BLOCKED",{reason:E?"missionStarted":We?"colorMode":B!=="desert"?"not desert view":"showAlphaDialogue"});return}if(h&&h.isMission2){console.log("Auto-show dialogue: BLOCKED (Mission 2)");return}console.log("Auto-show dialogue: PROCEEDING to show NPC dialogue"),d(!1),s===Wt.SEGMENT_1?(console.log("Auto-showing NPC1 dialogue"),setTimeout(()=>N("npc1"),300)):s===Wt.SEGMENT_2?(console.log("Auto-showing Gatekeeper dialogue"),setTimeout(()=>N("gatekeeper"),300)):s===Wt.SEGMENT_3&&(console.log("Auto-showing NPC2 dialogue"),setTimeout(()=>N("npc2"),300))},[s,E,B,ae,We]),r.useEffect(()=>{console.log("=== Color mode effect ===",{colorMode:We}),We&&(console.log("Closing dialogue due to color mode"),d(!1),b(null),k(null))},[We]),r.useEffect(()=>{if(!yn)return;const p="SYSTEM REBOOT INITIATED";let M=0;qn(""),bn(!0);const H=setInterval(()=>{M<p.length?(qn(p.substring(0,M+1)),M++):(bn(!1),clearInterval(H))},100);return()=>clearInterval(H)},[yn]),r.useEffect(()=>{if(!_o)return;const p=_o.text;if(!p)return;let M=0;dt(""),ei(!0);const H=setInterval(()=>{M<p.length?(dt(p.substring(0,M+1)),M++):(ei(!1),clearInterval(H))},30);return()=>clearInterval(H)},[_o]),r.useEffect(()=>{if(Ve){if(Lt==="quiz1_intro"&&!Bo){const p=setTimeout(()=>{Co()},2e3);return()=>clearTimeout(p)}if(Lt==="quiz1_feedback"&&!Bo){const p=setTimeout(()=>{Co()},2e3);return()=>clearTimeout(p)}if(Lt==="mission4_part1"&&!Bo){const p=setTimeout(()=>{hn("mission4_part2"),Zn(M=>[...M,{type:"alpha",text:`One final task and it's urgent.

Go to the gate of the castle. For each leaf image, you'll see labels from three expert biologists: Healthy, Infected, or Uncertain.`}])},2500);return()=>clearTimeout(p)}if(Lt==="mission4_part2"&&!Bo){const p=setTimeout(()=>{hn("mission4_part3"),Zn(M=>[...M,{type:"alpha",text:"If two or more agree, the system will automatically accept the majority verdict."}])},2500);return()=>clearTimeout(p)}}},[Lt,Bo,Ve]);const j=p=>{console.log("Navigate:",p,"Current segment:",s),p==="left"?i(M=>{const H=M===Wt.SEGMENT_1?Wt.SEGMENT_3:M-1;return console.log("Left navigation: from",M,"to",H),H}):p==="right"&&i(M=>{const H=M===Wt.SEGMENT_3?Wt.SEGMENT_1:M+1;return console.log("Right navigation: from",M,"to",H),H})},N=p=>{const M=u0[p];k(p),Array.isArray(M)?(b(M[0]),C(0)):(b(M),C(0)),d(!0)},K=()=>{E?(b({text:`Mission Progress: ${Te.length}/11 objects photographed. Keep exploring!`,speaker:"Glitch"}),k("glitch"),d(!0)):(k("glitch"),N("glitch"))},oe=async()=>{var p,M,H,u;if(w.trim()){const f=w.trim();console.log("User message to Glitch:",f),wo(v=>[...v,{role:"user",text:f}]),Y(""),wa(!0);try{const R=await(await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=AIzaSyBcXQWrPV9YwtEW44u6JmkaFlmMEtaMTw4",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`You are Glitch, a helpful AI assistant in a desert-themed game world. The user is exploring a desert castle where an AI defense system has gone haywire. You help guide players and answer their questions in a friendly, slightly quirky way. Keep responses concise (2-3 sentences max).

User question: ${f}`}]}]})})).json();if(R.candidates&&((u=(H=(M=(p=R.candidates[0])==null?void 0:p.content)==null?void 0:M.parts)==null?void 0:H[0])!=null&&u.text)){const ee=R.candidates[0].content.parts[0].text;wo($=>[...$,{role:"glitch",text:ee}])}else throw new Error("Invalid API response")}catch(v){console.error("Glitch chat error:",v),wo(R=>[...R,{role:"glitch",text:"Oops! My circuits are a bit scrambled right now. Try asking me again?"}])}finally{wa(!1)}}},ie=p=>{p.key==="Enter"&&oe()},ge=p=>{if(!p)return p;const M=[];let H=p,u=0;const f=/(\*\*.*?\*\*)/g;return H.split(f).forEach((R,ee)=>{if(R.startsWith("**")&&R.endsWith("**")){const $=R.slice(2,-2);M.push(a.jsx("span",{style:{fontWeight:"bold",color:"#FABA14"},children:$},`bold-${u++}`))}else R.split(/(Alpha|'Alpha')/).forEach((le,Ie)=>{le==="Alpha"||le==="'Alpha'"?M.push(a.jsx("span",{style:{fontWeight:"bold",color:"#FF0845"},children:le},`alpha-${u++}`)):le&&M.push(le)})}),M},Ce=p=>p&&p.split(/('Alpha'|Alpha)/).map((H,u)=>H==="Alpha"||H==="'Alpha'"?a.jsx("span",{style:{fontWeight:"bold",color:"#FFFFFF"},children:H},u):H),Ze=p=>p&&p.split(/(\*\*[^*]+\*\*)/).map((H,u)=>{if(H.startsWith("**")&&H.endsWith("**")){const f=H.slice(2,-2);return a.jsx("strong",{style:{fontWeight:"bold"},children:f},u)}return H}),Bn=p=>{switch(p){case"glitch":return{position:"absolute",top:"15px",right:"145px",width:"300px",zIndex:100};case"npc1":return{position:"absolute",bottom:"calc(20% + 50vh - 20px)",left:"calc(20% + 350px)",width:"48%",maxWidth:"600px",zIndex:100};case"npc2":return{position:"absolute",bottom:"calc(25% + 50vh - 20px)",right:"calc(25% + 350px)",width:"48%",maxWidth:"600px",zIndex:100};case"gatekeeper":return{position:"absolute",bottom:"calc(15% + 5vh)",left:"calc(5% + 250px)",width:"48%",maxWidth:"600px",zIndex:100};case"npc5":return{position:"absolute",bottom:"15%",right:"25%",width:"35%",maxWidth:"450px",zIndex:100};case"npc6":return{position:"absolute",bottom:"40%",right:"55%",width:"35%",maxWidth:"450px",zIndex:100};case"npc7":return{position:"absolute",bottom:"40%",right:"60%",width:"35%",maxWidth:"450px",zIndex:100};default:return{position:"absolute",bottom:"100px",left:"2%",width:"48%",maxWidth:"600px",zIndex:100}}},qa=()=>{if(h&&h.isMission4Complete){g&&(m(h.text),y(!1),yo());return}else if(h&&h.isMission3)if(g)m(h.text),y(!1),yo();else if(h.step==="intro"||h.step==="briefing")xt();else{if(h.showMission3Interface)return;if(h.showQuiz)return;if(h.showDoneButton)return;d(!1)}else h&&h.isMission2?Yn():g?(m(h.text),y(!1),yo()):h.isSpecial&&h.nextAction?h.nextAction==="mission2Continue1"||h.nextAction==="startMission2"?handleMission2Continue(h.nextAction):h.nextAction==="nextMission"&&ai():d(!1)},_n=()=>{L("gate"),d(!1)},Nl=()=>{L("desert")},Rl=()=>{L("gate"),d(!1)},ti=()=>{L("castle"),d(!1)},ys=()=>{if(console.log("Alpha clicked. Captured objects:",Te.length,"isPhase2:",at,"phase2Completed:",Z,"showMission3:",ba),h&&h.isMission2){console.log("Already in Mission 2, ignoring click");return}if(Z&&!ba&&!We){console.log("Phase 2 completed, starting Mission 3"),ws();return}if(Z&&(ba||We)){console.log("Phase 2 already completed and Mission 3 active/complete, ignoring click");return}if(at&&ae){console.log("Already in Phase 2 dialogue, ignoring click");return}Te.length>=11&&!at&&!Z?(console.log("Starting Phase 2 dialogue"),de(!0),X(!0),pe([]),vt(0),ye(!1),Qe(!1),setTimeout(()=>{vs(Xn[0])},100)):E&&Te.length<11?(b({text:`Keep collecting photos! Progress: ${Te.length}/11 objects photographed.`,speaker:"Alpha"}),d(!0)):E||(X(!0),Ee([]),Xe(0),Je(!1),setTimeout(()=>{ni(Pn[0])},100))},ni=(p,M=null)=>{const H=M!==null?M:be;console.log("Adding Alpha message:",p,"Current step:",H),p.type==="message"&&Ba(p),Ee(f=>[...f,p]);const u=H+1;if(Xe(u),console.log("Next step will be:",u),u<Pn.length){const f=Pn[u].type;f==="choice"||f==="missionAccept"?(console.log("Next item is a choice or mission accept:",Pn[u]),Je(!0)):(console.log("Next item is not a choice"),Je(!1))}else console.log("Dialogue ended"),Je(!1)},Wa=p=>{console.log("User chose:",p,"Current step:",be),Ee(H=>[...H,{type:"choice",text:p,isUser:!0}]),Je(!1);const M=be+1;if(Xe(M),console.log("After choice, moving to step:",M),M<Pn.length){const H=Pn[M];console.log("Adding Alpha response:",H),H.type==="missionAccept"?Je(!0):setTimeout(()=>{ni(H,M)},500)}else console.log("Dialogue completed, starting mission"),setTimeout(()=>{bs()},2e3)},bs=()=>{X(!1),Ee([]),Xe(0),Je(!1);const p=localStorage.getItem("aiJourneyUser");if(p){const M=JSON.parse(p);M.desertProgress||(M.desertProgress={}),M.desertProgress.alphaCompleted=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(M))}Q(!0),console.log("Mission started automatically after Alpha dialogue")},Oi=p=>{!E||Te.includes(p)||(xn(),ue(p),ce(!0),setTimeout(()=>{ce(!1),Ke(!0),F(M=>[...M,p]),setTimeout(()=>{Ke(!1),ue(null)},3e3)},1500))},jo=()=>{Ke(!1),ue(null)},vs=(p,M=null)=>{const H=M!==null?M:ze;console.log("=== addPhase2Message ==="),console.log("Current step:",H),console.log("Dialogue item:",p),console.log("Total flow length:",Xn.length),pe(f=>[...f,p]);const u=H+1;if(vt(u),console.log("Next step will be:",u),u<Xn.length){const f=Xn[u];if(console.log("Next item type:",f.type),console.log("Next item:",f),f.type==="choice")console.log("Setting waiting for choice"),ye(!0),Qe(!1);else if(f.type==="quiz")console.log("Showing quiz"),Qe(!0),ye(!1);else if(f.type==="action")console.log("Showing action button"),ye(!1),Qe(!1);else if(f.type==="message"){console.log("Auto-continuing to next message in 2 seconds"),ye(!1),Qe(!1),setTimeout(()=>{console.log("Executing auto-continue to:",f),vs(f,u)},2e3);return}}else console.log("Reached end of Phase 2 dialogue - starting model.gif and progress bar"),ye(!1),Qe(!1),setTimeout(()=>{X(!1),de(!1),Ae(!0),Kn(!0),setTimeout(()=>{Fa(!0),ht()},500)},2e3)},Ss=p=>{console.log("Phase 2 user chose:",p),pe(H=>[...H,{type:"choice",text:p,isUser:!0}]),ye(!1);const M=ze+1;vt(M),M<Xn.length&&setTimeout(()=>{vs(Xn[M],M)},500)},Ni=p=>{const H=Xn[ze].options[p];V(p),H.correct?(Xt(),pe(u=>[...u,{type:"choice",text:H.text,isUser:!0,isCorrect:H.correct}]),setTimeout(()=>{Qe(!1),V(null);const u=ze+1;vt(u),u<Xn.length&&vs(Xn[u],u)},1e3)):(Rn(),setTimeout(()=>{V(null)},500))},oi=()=>{Gt(),console.log("=== handleStartLabeling - Starting Mission 2 ==="),console.log("Closing Alpha dialogue..."),X(!1),de(!1),Ae(!0),xo(!1),b({text:"Mission 2: Friend or Foe Decoder",speaker:"Alpha",isMission2:!0,step:"interface",showMission2Interface:!0}),k("alpha"),ma(0),la([]),d(!0)},ht=()=>{console.log("=== animateProgressBar ===");let p=0;const M=setInterval(()=>{p+=2,ia(p),p>=100&&(clearInterval(M),console.log("Progress complete! Starting Mission 2 briefing..."),setTimeout(()=>{Kn(!1),Fa(!1),Ri()},500))},50)},Ri=()=>{console.log("=== startMission2Briefing ==="),de(!0),X(!0);const p={type:"message",speaker:"Alpha",text:"Data received! Analyzing the 'blurry photos' you brought back... Beep... Zzz... Warning! Due to high noise levels, my Confidence Level is critically low."};console.log("Adding briefing message:",p),pe([p]),setTimeout(()=>{const M={type:"message",speaker:"Alpha",text:"I'll do my best to guess what's in the photosbut I need your human intuition to verify!"};pe(H=>[...H,M]),setTimeout(()=>{const H={type:"message",speaker:"Alpha",text:`Mission Order: Watch the screen closely.

If my judgment is correct, click  [Confirm].

If I mistake a broom for a weapon or a rock for a monster, click  [Reject] and help me learn!`};pe(u=>[...u,H]),ye(!1),Qe(!1),xo(!0)},2e3)},2e3)},Yn=()=>{if(g){m(h.text),y(!1),yo();return}h.isMission2?h.step==="briefing1"?b({text:"I will try to guess what is in the photos, but I need human intuition to verify. Mission Order: Please watch the screen. If my judgment is correct, click  [Confirm]. If I mistake a broom for a weapon, or a rock for a monster, click  [Reject] and correct me!",speaker:"Alpha",isMission2:!0,step:"briefing2"}):h.step==="briefing2"?(b({text:"Mission 2: Friend or Foe Decoder",speaker:"Alpha",isMission2:!0,step:"interface",showMission2Interface:!0}),ma(0),la([])):h.step==="complete"&&b({text:"Calibration complete! Thank you for the corrections. What is the scientific term for the process you just did to help me fix the images?",speaker:"Alpha",isMission2:!0,step:"quiz",showQuiz:!0}):d(!1)},Ts=p=>{const M=En[Gn],H=p===M.correctAnswer;Nn();const u={imageId:M.id,userChoice:p,correctAnswer:M.correctAnswer,isCorrect:H};la(f=>[...f.filter(R=>R.imageId!==M.id),u]),H?setTimeout(()=>{Ya()},1500):(Ha(!0),setTimeout(()=>{Ha(!1),la(f=>f.filter(v=>v.imageId!==M.id))},3e3))},Ya=()=>{Gn<En.length-1?(ma(p=>p+1),b({text:"Mission 2: Friend or Foe Decoder",speaker:"Alpha",isMission2:!0,step:"interface",showMission2Interface:!0})):(console.log("=== Mission 2 Complete ==="),d(!1),sa(!0),X(!0),je([]),Et(0),De(!1),setTimeout(()=>{Pa(Xo[0])},500))},Pa=(p,M=null)=>{const H=M!==null?M:Ue;console.log("=== addMission2CompletionMessage ==="),console.log("Current step:",H),console.log("Dialogue item:",p),je(f=>[...f,p]);const u=H+1;if(Et(u),u<Xo.length){const f=Xo[u];if(console.log("Next item type:",f.type),f.type==="quiz")console.log("Showing quiz"),De(!0);else if(f.type==="action")console.log("Showing action button");else if(f.type==="message"){console.log("Auto-continuing to next message in 2 seconds"),setTimeout(()=>{Pa(f,u)},2e3);return}}else console.log("Reached end of Mission 2 completion dialogue")},El=p=>{const H=Xo[Ue].options[p];H.correct?(Xt(),je(u=>[...u,{type:"choice",text:H.text,isUser:!0,isCorrect:H.correct}]),setTimeout(()=>{De(!1);const u=Ue+1;Et(u),u<Xo.length&&Pa(Xo[u],u)},1e3)):Rn()},ws=()=>{Gt(),console.log("Starting Mission 3: Environmental Context Analysis"),X(!1),sa(!1),b({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"sample",showMission3Interface:!0}),k("alpha"),d(!0),ln("sample"),zt(null)},js=p=>{const M=p==="B",H=p==="A"?0:p==="B"?1:2;M?(Xt(),un(null),b({text:"Correct! It's called Data Labeling. AI is like a student, and we acted as teachers, telling it 'this is right, that is wrong.' This is known as Supervised Learning!",speaker:"Alpha",isMission2:!0,step:"result",showNextButton:!0})):(Rn(),un(H),b({...h,error:"Try again! Think about what we just did to help the AI learn."}))},ai=()=>{Gt(),console.log("Starting Mission 3: Environmental Context Analysis"),X(!1),d(!1),b({text:"Alert. Alert. Incoming data anomaly detected. I analyze actions but my conclusions are sometimes wrong. I need your help, Again. In this mission, you will teach me something critical: context.",speaker:"Alpha",isMission3:!0,step:"intro"}),d(!0),ln("intro")},xt=()=>{Gt(),st==="intro"?(b({text:"The same action can mean completely different things depending on the environment. Let's analyze how Environmental Context alters my judgment.",speaker:"Alpha",isMission3:!0,step:"briefing"}),ln("briefing")):st==="briefing"?(b({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"sample",showMission3Interface:!0}),ln("sample"),zt(null),ca([])):st==="sample"?(b({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"puzzle1",showMission3Interface:!0}),ln("puzzle1"),Uo(Wn.puzzles[0]),zt(null),ca([])):st==="puzzle1"?(b({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"puzzle2",showMission3Interface:!0}),ln("puzzle2"),Uo(Wn.puzzles[1]),zt(null)):st==="puzzle2"?(b({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"puzzle3",showMission3Interface:!0}),ln("puzzle3"),Uo(Wn.puzzles[2]),zt(null)):st==="puzzle3"&&(ln("quiz1"),d(!1),ra(!1),b(null),L("castle"),X(!0),U(!0),hn("quiz1_intro"),Zn([]))},Bl=p=>{Gt(),zt(p),st==="sample"&&!Ge.includes(p.id)&&ca(M=>[...M,p.id]),st==="sample"||p.correct?(Ut(),Dt("safe")):(mo(),Dt("alert")),setTimeout(()=>{Dt(!1)},2e3)},Sn=()=>{Gt(),console.log("Mission 3 completed!"),d(!1),vo(!0),setTimeout(()=>{vo(!1),da(!0),L("desert"),i(0)},4e3)},ja=(p,M)=>{st==="quiz1"?M?(Xt(),un(null),hn("quiz1_feedback"),Zn(H=>[...H,{type:"user",text:"Selected correct answer"}])):(Rn(),un(p)):st==="quiz2"&&(M?(Xt(),un(null),ln("complete"),hn("complete"),Zn(H=>[...H,{type:"user",text:"Selected correct answer"}])):(Rn(),un(p)))},Co=()=>{Gt(),un(null),Lt==="quiz1_intro"?(hn("quiz1"),Zn(p=>[...p,{type:"alpha",text:`Threats cleared.

I nearly fired the defense lasersat a celebration and a worker just battling the wind.

My core logic failed me.`}])):Lt==="quiz1_feedback"&&(ln("quiz2"),hn("quiz2"),Zn(p=>[...p,{type:"alpha",text:"The action didn't change. Only the context didthe sandstorm, the setting, the intent."}]))},Xa=()=>{if(Gt(),!dn[$e].needsDiscussion){Rn();return}Tt(M=>({...M,[$e]:!0})),wt(!1),Kt(!0),setTimeout(()=>{Kt(!1),setTimeout(()=>{wt(!0)},2e3)},1500)},_l=p=>{Gt();const M=dn[$e];if(M.needsDiscussion&&!Oe[$e]){Rn();return}p===M.correctAnswer?(Xt(),cn(H=>({...H,[$e]:p})),setTimeout(()=>{$e<3?(Go($e+1),wt(!1),si($e+1)):Fl()},1e3)):Rn()},si=p=>{const M=dn[p],H=`Leaf #${p+1}: "${M.name}"
${M.description}`;let u=0;Ua(""),qo(!0),hs();const f=setInterval(()=>{u<H.length?(Ua(H.substring(0,u+1)),u++):(qo(!1),yo(),clearInterval(f),setTimeout(()=>{wt(!0)},500))},30)},Fl=()=>{Gt(),console.log("Mission 4 completed!"),va(!0),La(!1);const p=localStorage.getItem("aiJourneyUser");if(p){const M=JSON.parse(p);M.desertProgress||(M.desertProgress={}),M.desertProgress.mission4Complete=!0,M.desertProgress.mission4Completed=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(M)),console.log("Force saved mission4Complete = true")}b({text:"Consensus achieved. The castle's AI systems are now stable and ready to reboot.",speaker:"NPC7",isMission4Complete:!0}),k("npc7"),d(!0)},Ei=()=>{Gt(),d(!1),vo(!0),setTimeout(()=>{vo(!1),da(!0),L("desert"),i(0);const p=localStorage.getItem("aiJourneyUser");if(p){const M=JSON.parse(p);M.desertProgress||(M.desertProgress={}),M.desertProgress.colorMode=!0,M.desertProgress.mission3Completed=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(M)),console.log("Force saved colorMode = true")}},4e3)},Hl=p=>{Gt(),oo(p),d(!1),Qt(!0),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(M=>{to(M)}).catch(M=>{console.error("Camera access error:",M),alert("Unable to access camera. Please grant camera permissions."),Qt(!1)})},Ca=()=>{xn();const p=document.getElementById("npcCameraVideo"),M=document.createElement("canvas");M.width=p.videoWidth,M.height=p.videoHeight,M.getContext("2d").drawImage(p,0,0);const u=M.toDataURL("image/jpeg",.9);So(u),vn&&(vn.getTracks().forEach(f=>f.stop()),to(null)),Fn(u)},Fn=async p=>{var M,H,u,f;ve(!0);try{const v=p.split(",")[1];console.log("Calling Gemini API...");const R=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyBcXQWrPV9YwtEW44u6JmkaFlmMEtaMTw4",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:'Identify the main object in this image. Respond in this exact format: "Object Name (English) - Category". For example: "Coffee Mug - Kitchenware" or "Laptop - Electronics". Be concise and specific.'},{inline_data:{mime_type:"image/jpeg",data:v}}]}]})});if(console.log("API Response status:",R.status),!R.ok){const le=await R.text();throw console.error("API Error response:",le),new Error(`API request failed: ${R.status} - ${le}`)}const ee=await R.json();console.log("Gemini API full response:",JSON.stringify(ee,null,2));let $=null;if(ee.candidates&&((u=(H=(M=ee.candidates[0])==null?void 0:M.content)==null?void 0:H.parts[0])!=null&&u.text)?$=ee.candidates[0].content.parts[0].text.trim():ee.candidates&&((f=ee.candidates[0])!=null&&f.output)?$=ee.candidates[0].output.trim():ee.text&&($=ee.text.trim()),console.log("Extracted result text:",$),$){const le=$.split(" - "),Ie=le[0]||$,Pe=le[1]||"Unknown";console.log("Parsed result:",{itemName:Ie,itemType:Pe}),jt({item:Ie,type:Pe,photo:p,timestamp:new Date().toISOString(),npc:To}),ve(!1),Qt(!1),he(!0)}else throw console.error("No valid text found in response:",ee),new Error("Invalid API response structure: "+JSON.stringify(ee))}catch(v){console.error("Recognition error:",v),console.error("Error details:",v.message),ve(!1),alert(`Failed to recognize the object: ${v.message}

Please check the console for details.`),Qt(!1)}},G=()=>{Gt(),vn&&(vn.getTracks().forEach(p=>p.stop()),to(null)),Qt(!1),So(null)},Bi=()=>{if(Gt(),!qt)return;const p=document.createElement("canvas");p.width=800,p.height=1e3;const M=p.getContext("2d");M.fillStyle="#ffffff",M.fillRect(0,0,p.width,p.height);const H=new Image;H.onload=()=>{const f=p.width;M.drawImage(H,0,0,f,600),M.fillStyle="#333333",M.font="bold 32px Arial",M.fillText("AI Recognition Result",40,660),M.font="28px Arial",M.fillText(`Item: ${qt.item}`,40,720),M.fillText(`Type: ${qt.type}`,40,770),M.font="20px Arial",M.fillStyle="#666666";const v=new Date(qt.timestamp).toLocaleString();M.fillText(`Captured: ${v}`,40,820),p.toBlob(R=>{const ee=URL.createObjectURL(R),$=document.createElement("a");$.href=ee,$.download=`ai-recognition-${Date.now()}.jpg`,$.click(),URL.revokeObjectURL(ee)},"image/jpeg",.9)},H.src=qt.photo},Cs=()=>{if(Gt(),!qt)return;const p=localStorage.getItem("aiJourneyUser");if(p){const M=JSON.parse(p);M.explorerJournal||(M.explorerJournal=[]),M.explorerJournal.push({...qt,id:Date.now(),region:"desert"}),localStorage.setItem("aiJourneyUser",JSON.stringify(M)),alert("Saved to Explorer's Journal!"),he(!1),jt(null),So(null)}},ka=()=>{Gt(),he(!1),jt(null),So(null)},ii=()=>{const p=We?"_color.png":".png";return B==="gate"?`/desert/background/gate${p}`:B==="castle"?`/desert/background/castle${p}`:`/desert/background/desert${p}`},li=()=>B!=="desert"?"0px":{[Wt.SEGMENT_1]:"0px",[Wt.SEGMENT_2]:"-1360px",[Wt.SEGMENT_3]:"-2576px"}[s]||"0px",S={container:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden",background:"#f4e4bc",cursor:E&&!We&&Te.length<11?"none":"default"},backgroundImage:{position:"absolute",top:0,left:B==="desert"?li():0,width:B==="desert"?"5200px":"100vw",height:B==="desert"?"1080px":"100vh",objectFit:B==="desert"?"none":"cover",objectPosition:B==="desert"?"top left":"center",zIndex:0,transition:"left 0.5s ease-in-out",imageRendering:"crisp-edges",transform:B==="desert"?"scale(0.8)":"scale(1)",transformOrigin:B==="desert"?"top left":"center"},exitButton:{position:"absolute",top:"20px",left:"20px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},glitchNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:100,cursor:"pointer"},glitchImage:{width:"100%",height:"100%",objectFit:"contain"},navArrow:{position:"absolute",top:"50%",transform:"translateY(-50%)",width:"60px",height:"60px",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none"},leftArrow:{left:"30px"},rightArrow:{right:"30px"},arrowImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},npc:{position:"absolute",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},npc1:{bottom:"20%",left:"20%",width:"auto",height:"50vh",maxHeight:"50vh"},npc2:{bottom:"25%",right:"25%",width:"auto",height:"50vh",maxHeight:"50vh"},gatekeeper:{bottom:"15%",left:"5%",width:"auto",height:"25vh",maxHeight:"25vh"},npcImage:{width:"auto",height:"100%",objectFit:"contain"},zoomButton:{position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",height:"400px",cursor:"pointer",zIndex:50,background:"none",border:"none"},zoomImage:{width:"100%",height:"100%",objectFit:"contain"},arrowButton:{position:"absolute",bottom:"30%",left:"50%",transform:"translateX(-50%)",width:"300px",height:"300px",cursor:"pointer",zIndex:50,background:"none",border:"none"},downButton:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",width:"60px",height:"60px",cursor:"pointer",zIndex:50,background:"none",border:"none"},leftButton:{position:"absolute",top:"20px",left:"20px",width:"60px",height:"60px",cursor:"pointer",zIndex:50,background:"none",border:"none"},dialogueBox:{padding:"40px 30px 20px 30px",borderRadius:"20px",background:"#FFF1B5",border:"3px solid #43302E",cursor:"default",position:"relative"},glitchDialogueBox:{background:"rgba(71, 23, 101, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(205, 165, 247, 0.3)",boxShadow:"0 8px 32px 0 rgba(71, 23, 101, 0.37)"},dialogueText:{fontFamily:"'Coming Soon', cursive",fontSize:"18px",color:"#333",lineHeight:1.8,margin:0},glitchDialogueText:{color:"#CDA5F7",lineHeight:2},speaker:{fontFamily:"'Coming Soon', cursive",fontSize:"16px",fontWeight:700,color:"#43302E",marginBottom:"12px",padding:"8px 16px",background:"#43302E",color:"#FFF1B5",borderRadius:"8px",display:"inline-block",position:"absolute",top:"-18px",left:"20px"},glitchSpeaker:{background:"#471765",color:"#CDA5F7",border:"2px solid rgba(205, 165, 247, 0.5)"},glitchDialogueMapStyle:{position:"absolute",top:"20px",right:"150px",padding:"20px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #af4dca",zIndex:100,minWidth:"280px",maxWidth:"320px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)"},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#af4dca",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#af4dca",margin:0},glitchDialogueTextMapStyle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:"0 0 15px 0"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",backgroundColor:"#d9d7de",borderRadius:"20px",border:"2px solid #d9d7de",overflow:"hidden",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",backgroundColor:"#af4dca",margin:"0 8px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},desertObject:{position:"absolute",cursor:"pointer",zIndex:25,transition:"transform 0.2s",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.3))"},objectImage:{width:"100%",height:"100%",objectFit:"contain"},capturedObject:{opacity:.5,filter:"grayscale(100%) drop-shadow(0 2px 5px rgba(0,0,0,0.3))"},cameraOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",zIndex:200,display:"flex",justifyContent:"center",alignItems:"center"},cameraIcon:{width:"400px",height:"auto",animation:"pulse 1.5s ease-in-out"},photoOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",zIndex:200,display:"flex",justifyContent:"center",alignItems:"center"},photoFrame:{position:"relative",width:"800px",height:"1000px",backgroundImage:"url(/desert/icon/photo.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"120px 80px 160px 80px",transition:"transform 0.3s ease-in-out"},photoBackground:{width:"560px",height:"400px",background:"transparent",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"40px",overflow:"hidden"},photoObjectImage:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},photoDescription:{fontFamily:"'Roboto', sans-serif",fontSize:"28px",color:"#333",textAlign:"center",lineHeight:1.4,maxWidth:"560px",background:"rgba(255, 255, 255, 0.9)",padding:"20px",borderRadius:"15px"},photoCloseButton:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.8)",border:"none",borderRadius:"50%",width:"60px",height:"60px",fontSize:"32px",cursor:"pointer",color:"#333",display:"flex",justifyContent:"center",alignItems:"center"},progressTracker:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",gap:"15px",zIndex:60},progressHeader:{background:"rgba(255, 255, 255, 0.65)",border:"3px solid #FABA14",borderRadius:"25px",padding:"10px 30px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#333"},progressGrid:{display:"flex",gap:"10px"},progressBox:{width:"80px",height:"80px",borderRadius:"8px",background:"rgba(211, 211, 214, 0.65)",border:"3px dashed white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontFamily:"'Roboto', sans-serif",fontSize:"40px",fontWeight:"bold",color:"white",transition:"all 0.3s"},progressBoxCompleted:{background:"rgba(211, 211, 214, 1)",border:"3px solid white"},progressBoxImage:{width:"60px",height:"60px",objectFit:"contain",marginBottom:"3px"},progressBoxLabel:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",fontWeight:600,color:"#333"},modelGifOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",zIndex:300,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},modelGif:{width:"1200px",height:"auto",marginBottom:"30px"},progressBarContainer:{width:"60%",maxWidth:"500px",height:"20px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"10px",overflow:"hidden"},progressBar:{height:"100%",background:"#FABA14",borderRadius:"10px",transition:"width 0.1s ease"},finalQuizContainer:{background:"#f8f9fa",padding:"25px",borderRadius:"15px",margin:"20px 0",maxWidth:"500px"},finalQuizOptions:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"20px"},finalQuizOption:{padding:"15px 20px",border:"2px solid #ddd",borderRadius:"8px",background:"white",cursor:"pointer",fontFamily:"'Roboto', sans-serif",fontSize:"16px",transition:"all 0.2s"},mission2InterfaceInDialogue:{marginTop:"20px",padding:"30px",background:"rgba(30, 30, 50, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(30, 30, 50, 0.95), rgba(30, 30, 50, 0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center"},mission2ImageDisplayInDialogue:{position:"relative",marginBottom:"40px"},mission2ImageInDialogueNew:{maxWidth:"400px",maxHeight:"300px",objectFit:"contain",borderRadius:"8px",boxShadow:"0 10px 30px rgba(0,0,0,0.5)"},mission2StampInDialogueNew:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"250px",height:"250px",zIndex:10,pointerEvents:"none"},mission2ButtonsInDialogue:{display:"flex",gap:"60px",alignItems:"center"},mission2ButtonInDialogueNew:{display:"flex",flexDirection:"column",alignItems:"center",background:"transparent",border:"none",cursor:"pointer",transition:"transform 0.2s ease"},mission2ButtonIconInDialogueNew:{width:"100px",height:"auto",marginBottom:"15px"},mission2ButtonTextInDialogueNew:{fontFamily:"'Roboto', sans-serif",fontSize:"20px",fontWeight:700,color:"white",textAlign:"center",textTransform:"uppercase",letterSpacing:"1px",textShadow:"0 2px 4px rgba(0,0,0,0.5)"},nextMissionButton:{display:"block",width:"100%",padding:"15px 20px",margin:"15px 0",borderRadius:"8px",border:"none",background:"linear-gradient(90deg, #5170FF, #FFBBC4)",color:"white",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},mission3InterfaceContainer:{marginTop:"20px",padding:"25px",background:"linear-gradient(135deg, #f8f9fa, #e9ecef)",borderRadius:"15px",border:"2px solid #dee2e6"},mission3LogicTextAboveImage:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",marginBottom:"15px",textAlign:"center",fontStyle:"italic"},mission3ImageDisplay:{width:"100%",height:"250px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},mission3ImageInDialogue:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},mission3UpdateTextAboveButtons:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#333",marginBottom:"15px",textAlign:"center",background:"#d4edda",padding:"10px",borderRadius:"8px",border:"1px solid #c3e6cb",minHeight:"40px",display:"flex",alignItems:"center",justifyContent:"center"},mission3TagsInDialogue:{display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"center",marginBottom:"15px"},mission3TagHintText:{fontFamily:"'Roboto Mono', monospace",fontSize:"11px",color:"#333",textAlign:"center",marginBottom:"10px",fontWeight:300},mission3TagInDialogue:{padding:"8px 15px",border:"2px solid #7c4b00",borderRadius:"8px",background:"#f0e2b1",cursor:"pointer",fontFamily:"'Roboto Mono', monospace",fontSize:"12px",fontWeight:300,color:"#7c4b00",transition:"all 0.2s",minWidth:"100px",textAlign:"center",display:"flex",alignItems:"center",gap:"6px"},mission3TagIcon:{width:"16px",height:"16px",objectFit:"contain"},mission3TagSelectedInDialogue:{background:"#7c4b00",color:"white",transform:"scale(1.05)"},mission3ContinueButtonInDialogue:{display:"block",width:"100%",padding:"12px 20px",border:"none",borderRadius:"8px",background:"#7c4b00",color:"white",fontFamily:"'Roboto Mono', monospace",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},alphaIconOverlay:{position:"fixed",bottom:"30%",right:"8%",width:"250px",height:"250px",zIndex:400},alphaIcon:{width:"100%",height:"100%",objectFit:"contain"},mission3LoadingOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",zIndex:500,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},mission3LoadingText:{fontFamily:"'Roboto', sans-serif",fontSize:"28px",fontWeight:700,color:"#00ff00",marginBottom:"30px",textAlign:"center",fontFamily:"'Courier New', monospace",letterSpacing:"2px"},loadingCursor:{display:"inline-block",width:"3px",height:"28px",backgroundColor:"#00ff00",marginLeft:"5px",verticalAlign:"middle",animation:"blink 1s infinite"},modernDialogueContainer:{position:"absolute",top:"12.5%",left:"10%",width:"40%",height:"70%",zIndex:100,background:"rgba(245, 245, 245, 0.98)",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},modernDialogueHeader:{padding:"20px 25px 15px 25px",borderBottom:"none"},modernProgressContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},modernMissionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px"},modernStepIndicator:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#999"},modernProgressBar:{width:"100%",height:"4px",backgroundColor:"rgba(200,200,200,0.3)",borderRadius:"2px",overflow:"hidden",marginBottom:"20px"},modernProgressFill:{height:"100%",borderRadius:"2px",transition:"width 0.3s ease"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px",flex:1},modernNpcAvatar:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#333"},modernNpcStatus:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999"},modernCloseButton:{position:"relative",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},modernDialogueContent:{flex:1,padding:"0 25px 25px 25px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"100%"},modernNpcSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"85%"},modernUserBubble:{background:"#FABA14",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(255, 215, 0, 0.3)"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.5,margin:0},modernUserSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},modernActionButton:{alignSelf:"stretch",background:"white",border:"2px solid #E0E0E0",borderRadius:"25px",padding:"14px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",marginTop:"8px"},customCursor:{position:"fixed",pointerEvents:"none",zIndex:9999,width:"32px",height:"32px",transform:"translate(-16px, -16px)"}};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          @keyframes breathe {
            0%, 100% {
              transform: scale(1);
              box-shadow: 0 0 20px rgba(0, 212, 255, 0.6), 0 0 40px rgba(255, 51, 51, 0.4);
            }
            50% {
              transform: scale(1.05);
              box-shadow: 0 0 30px rgba(0, 212, 255, 0.9), 0 0 60px rgba(255, 51, 51, 0.6);
            }
          }
          
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          
          @keyframes blink {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
          }
        `}),a.jsxs("div",{style:S.container,children:[E&&!We&&Te.length<11&&a.jsx("img",{src:"/desert/icon/camera2.png",alt:"Camera Cursor",style:{...S.customCursor,left:`${ne.x}px`,top:`${ne.y}px`}}),a.jsx("img",{src:ii(),alt:"Desert Background",style:S.backgroundImage}),B==="desert"&&a.jsx("button",{style:S.exitButton,onClick:e,children:t("exit")}),a.jsx("div",{style:S.glitchNpc,onClick:K,children:a.jsx("img",{src:"/npc/npc_desert.png",alt:"Glitch",style:S.glitchImage})}),l&&A==="glitch"&&a.jsxs("div",{style:S.glitchDialogueMapStyle,children:[a.jsx("button",{style:S.glitchDialogueCloseButton,onClick:()=>{d(!1),wo([])},onMouseOver:p=>{p.target.style.color="#333"},onMouseOut:p=>{p.target.style.color="#999"},children:""}),a.jsxs("div",{style:S.glitchDialogueHeader,children:[a.jsx("div",{style:S.glitchDialogueAvatar,children:a.jsx("span",{style:S.glitchDialogueAvatarIcon,children:""})}),a.jsx("h4",{style:S.glitchDialogueName,children:"Glitch"})]}),a.jsxs("div",{style:{maxHeight:"300px",overflowY:"auto",marginBottom:"15px",display:"flex",flexDirection:"column",gap:"10px"},children:[Yo.length===0&&a.jsx("p",{style:S.glitchDialogueTextMapStyle,children:h.text}),Yo.map((p,M)=>a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"12px",background:p.role==="user"?"rgba(175, 77, 202, 0.1)":"rgba(175, 77, 202, 0.05)",border:p.role==="user"?"1px solid rgba(175, 77, 202, 0.3)":"1px solid rgba(175, 77, 202, 0.1)",alignSelf:p.role==="user"?"flex-end":"flex-start",maxWidth:"85%"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#af4dca",marginBottom:"4px",fontFamily:"'Roboto', sans-serif"},children:p.role==="user"?"YOU":"GLITCH"}),a.jsx("div",{style:{fontSize:"14px",color:"#333",lineHeight:1.5,fontFamily:"'Roboto', sans-serif",whiteSpace:"pre-wrap"},children:p.text})]},M)),ao&&a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"12px",background:"rgba(175, 77, 202, 0.05)",border:"1px solid rgba(175, 77, 202, 0.1)",alignSelf:"flex-start",maxWidth:"85%"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#af4dca",marginBottom:"4px",fontFamily:"'Roboto', sans-serif"},children:"GLITCH"}),a.jsxs("div",{style:{fontSize:"14px",color:"#999",fontFamily:"'Roboto', sans-serif"},children:[a.jsx("span",{style:{animation:"blink 1.4s infinite"},children:""}),a.jsx("span",{style:{animation:"blink 1.4s infinite 0.2s"},children:""}),a.jsx("span",{style:{animation:"blink 1.4s infinite 0.4s"},children:""})]})]})]}),a.jsxs("div",{style:S.glitchDialogueInputContainer,children:[a.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:w,onChange:p=>Y(p.target.value),onKeyPress:ie,style:S.glitchDialogueInput,disabled:ao}),a.jsx("div",{style:S.glitchDialogueDivider}),a.jsx("button",{onClick:oe,style:{...S.glitchDialogueSendButton,opacity:ao?.5:1,cursor:ao?"not-allowed":"pointer"},disabled:ao,onMouseOver:p=>{ao||(p.target.style.transform="scale(1.1)")},onMouseOut:p=>{p.target.style.transform="scale(1)"},children:a.jsx("svg",{style:S.glitchDialogueSendIcon,viewBox:"0 0 24 24",fill:"#af4dca",children:a.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]})]}),B==="desert"&&a.jsxs(a.Fragment,{children:[console.log("Desert view - Mission started:",E,"Current segment:",s,"Objects for segment:",te[s]),a.jsx("button",{style:{...S.navArrow,...S.leftArrow},onClick:()=>j("left"),onMouseOver:p=>p.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:p=>p.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:S.arrowImage})}),a.jsx("button",{style:{...S.navArrow,...S.rightArrow},onClick:()=>j("right"),onMouseOver:p=>p.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:p=>p.currentTarget.style.transform="translateY(-50%) scale(1)",children:a.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:S.arrowImage})}),We?a.jsxs(a.Fragment,{children:[s===Wt.SEGMENT_1&&a.jsx("div",{style:{position:"absolute",bottom:"35%",right:"40%",width:"450px",height:"450px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>N("npc6"),onMouseOver:p=>p.currentTarget.style.transform="scale(1.05)",onMouseOut:p=>p.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc6.png",alt:"NPC 6",style:S.npcImage})}),s===Wt.SEGMENT_2&&a.jsx("div",{style:{position:"absolute",bottom:"10%",right:"10%",width:"200px",height:"200px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>N("npc5"),onMouseOver:p=>p.currentTarget.style.transform="scale(1.05)",onMouseOut:p=>p.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc5.png",alt:"NPC 5",style:S.npcImage})}),s===Wt.SEGMENT_3&&a.jsx("div",{style:{position:"absolute",bottom:"35%",right:"45%",width:"500px",height:"500px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>N("npc7"),onMouseOver:p=>p.currentTarget.style.transform="scale(1.05)",onMouseOut:p=>p.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc7.png",alt:"NPC 7",style:S.npcImage})})]}):a.jsxs(a.Fragment,{children:[!E&&s===Wt.SEGMENT_1&&a.jsx("div",{style:{...S.npc,...S.npc1},onClick:()=>N("npc1"),onMouseOver:p=>p.currentTarget.style.transform="scale(1.05)",onMouseOut:p=>p.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc1.gif",alt:"Running NPC 1",style:S.npcImage})}),!E&&s===Wt.SEGMENT_2&&a.jsx("div",{style:{...S.npc,...S.gatekeeper},onClick:()=>N("gatekeeper"),onMouseOver:p=>p.currentTarget.style.transform="scale(1.05)",onMouseOut:p=>p.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc3.png",alt:"Gatekeeper",style:S.npcImage})}),!E&&s===Wt.SEGMENT_3&&a.jsx("div",{style:{...S.npc,...S.npc2},onClick:()=>N("npc2"),onMouseOver:p=>p.currentTarget.style.transform="scale(1.05)",onMouseOut:p=>p.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc2.png",alt:"Running NPC 2",style:S.npcImage})})]}),s===Wt.SEGMENT_2&&!We&&a.jsx("button",{style:S.zoomButton,onClick:_n,children:a.jsx("img",{src:"/desert/icon/zoom.png",alt:"Zoom",style:S.zoomImage})}),!We&&E&&((Aa=te[s])==null?void 0:Aa.map(p=>(console.log("Rendering object:",p.id,"in segment:",s),a.jsx("div",{style:{...S.desertObject,width:`${p.size}px`,height:`${p.size}px`,left:p.left,right:p.right,top:p.top,bottom:p.bottom,...Te.includes(p.id)?S.capturedObject:{}},onClick:()=>Oi(p.id),onMouseOver:M=>{Te.includes(p.id)||(M.currentTarget.style.transform="scale(1.1)")},onMouseOut:M=>{M.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:`/desert/object/${p.id}.png`,alt:`Object ${p.id}`,style:S.objectImage})},p.id))))]}),rn&&B==="gate"&&a.jsxs(a.Fragment,{children:[Ga.map((p,M)=>{const H=dn[$e],f=(Oe[$e]&&H.afterDiscussionVotes?H.afterDiscussionVotes:H.initialVotes)[M],ee=window.innerWidth/4*(M+1)-125;return a.jsxs("div",{style:{position:"absolute",left:`${ee}px`,bottom:"150px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:30},children:[mn&&!_t&&a.jsxs("div",{style:{position:"relative",marginBottom:"10px",animation:"fadeIn 0.5s ease-in-out"},children:[a.jsx("img",{src:"/desert/icon/dialogue.png",alt:"Dialogue",style:{width:"100px",height:"80px"}}),a.jsx("img",{src:`/desert/icon/${f}.svg`,alt:f,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50px",height:"50px"}})]}),a.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("img",{src:`/desert/npc/${p.npc}.png`,alt:p.name,style:{height:"250px",width:"auto"}}),a.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",padding:"8px 16px",background:"rgba(101, 67, 33, 0.9)",color:"white",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",textAlign:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:["BIOLOGIST",p.id,a.jsx("br",{}),p.name]})]})]},p.id)}),a.jsxs("div",{style:{position:"absolute",left:"50%",top:"40px",transform:"translateX(-50%)",background:"rgba(244, 228, 188, 0.95)",borderRadius:"20px",padding:"25px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",zIndex:100,width:"800px",display:"flex",gap:"20px",alignItems:"center"},children:[a.jsx("div",{style:{flex:"0 0 150px"},children:a.jsx("img",{src:dn[$e].image,alt:"Leaf",style:{width:"150px",height:"150px",objectFit:"contain"}})}),a.jsx("div",{style:{width:"2px",height:"120px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"1px"}}),a.jsx("div",{style:{flex:1},children:a.jsxs("div",{style:{fontSize:"16px",color:"#333",lineHeight:"1.6",whiteSpace:"pre-wrap",fontFamily:"'Coming Soon', cursive"},children:[Sa,_t&&a.jsx("span",{style:{animation:"blink 1s infinite",marginLeft:"2px"},children:"|"})]})}),a.jsx("div",{style:{flex:"0 0 auto"},children:a.jsxs("button",{onClick:Xa,disabled:Oe[$e]||_t,style:{padding:"15px 25px",background:Oe[$e]||_t?"#ccc":"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:Oe[$e]||_t?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"10px",transition:"transform 0.2s",opacity:Oe[$e]||_t?.6:1,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseOver:p=>{!Oe[$e]&&!_t&&(p.currentTarget.style.transform="scale(1.05)")},onMouseOut:p=>p.currentTarget.style.transform="scale(1)",children:[a.jsx("img",{src:"/desert/icon/discussion.png",alt:"Discussion",style:{width:"30px",height:"30px"}}),"Discussion"]})})]}),a.jsxs("div",{style:{position:"absolute",left:"50%",bottom:"20px",transform:"translateX(-50%)",display:"flex",gap:"30px",zIndex:100},children:[a.jsxs("div",{style:{position:"relative"},children:[a.jsx("div",{style:{position:"absolute",top:"8px",left:"0",right:"0",height:"100%",background:"#4CAF50",borderRadius:"15px",zIndex:1}}),a.jsxs("button",{onClick:()=>_l("healthy"),disabled:_t,style:{position:"relative",zIndex:2,padding:"18px 40px",background:"white",border:"none",borderRadius:"15px",fontSize:"20px",fontWeight:"bold",cursor:_t?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s",opacity:_t?.6:1},onMouseOver:p=>{_t||(p.currentTarget.style.transform="translateY(-2px)")},onMouseOut:p=>p.currentTarget.style.transform="translateY(0)",children:[a.jsx("img",{src:"/desert/icon/healthy.svg",alt:"Healthy",style:{width:"35px",height:"35px"}}),"Healthy Status"]})]}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("div",{style:{position:"absolute",top:"8px",left:"0",right:"0",height:"100%",background:"#F44336",borderRadius:"15px",zIndex:1}}),a.jsxs("button",{onClick:()=>_l("unhealthy"),disabled:_t,style:{position:"relative",zIndex:2,padding:"18px 40px",background:"white",border:"none",borderRadius:"15px",fontSize:"20px",fontWeight:"bold",cursor:_t?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s",opacity:_t?.6:1},onMouseOver:p=>{_t||(p.currentTarget.style.transform="translateY(-2px)")},onMouseOut:p=>p.currentTarget.style.transform="translateY(0)",children:[a.jsx("img",{src:"/desert/icon/unhealthy.svg",alt:"Unhealthy",style:{width:"35px",height:"35px"}}),"Unhealthy Status"]})]})]}),xs&&a.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"30px 50px",borderRadius:"15px",fontSize:"24px",fontWeight:"bold",zIndex:200,animation:"fadeIn 0.3s ease-in-out"},children:"Experts are discussing..."})]}),kn&&B==="gate"&&a.jsx("div",{style:{position:"absolute",bottom:"15%",left:"5%",width:"300px",height:"300px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>{},onMouseOver:p=>p.currentTarget.style.transform="scale(1.05)",onMouseOut:p=>p.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc7.png",alt:"NPC 7",style:S.npcImage})}),!We&&E&&B==="desert"&&a.jsxs("div",{style:S.progressTracker,children:[a.jsxs("div",{style:S.progressHeader,children:["Progress: ",Te.length,"/11 Found"]}),a.jsx("div",{style:S.progressGrid,children:["01","02","03","04","05","06","07","08","09","10","11"].map(p=>{const M=Te.includes(p);return a.jsx("div",{style:{...S.progressBox,...M?S.progressBoxCompleted:{}},children:M?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:`/desert/object/${p}.png`,alt:`NPC${p}`,style:S.progressBoxImage}),a.jsxs("div",{style:S.progressBoxLabel,children:["NPC",p]})]}):"?"},p)})})]}),B==="gate"&&!rn&&a.jsx(a.Fragment,{children:a.jsx("button",{style:S.arrowButton,onClick:ti,children:a.jsx("img",{src:"/desert/icon/arrow.png",alt:"Enter",style:S.zoomImage})})}),B==="gate"&&a.jsx("button",{style:S.downButton,onClick:Nl,children:a.jsx("img",{src:"/jungle/icon/down.png",alt:"Back to Desert",style:S.zoomImage})}),B==="castle"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{style:S.leftButton,onClick:Rl,children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Back to Gate",style:S.zoomImage})}),a.jsx("div",{style:{position:"absolute",bottom:We?"15%":"0%",right:We?"25%":"10%",width:"auto",height:We?"300px":"250px",zIndex:30,cursor:"pointer",transition:"transform 0.2s"},onClick:We?()=>N("alphaFinal"):ys,onMouseOver:p=>p.currentTarget.style.transform="scale(1.05)",onMouseOut:p=>p.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/desert/npc/npc4.png",alt:"Alpha",style:S.npcImage})})]}),l&&h&&A!=="glitch"&&(We?["npc5","npc6","npc7"].includes(A):!0)&&a.jsx("div",{style:Bn(A),children:a.jsxs("div",{style:{...S.dialogueBox,...A==="glitch"?S.glitchDialogueBox:{},...["npc5","npc6","npc7"].includes(A)?{padding:"30px 20px 15px 20px",minHeight:"auto"}:{}},onClick:h.showMission2Interface||h.showMission3Interface||h.showQuiz||h.showNextButton||h.showContinueButton||h.showDoneButton?void 0:qa,children:[a.jsx("div",{style:{...S.speaker,...A==="glitch"?S.glitchSpeaker:{}},children:h.speaker}),!h.showMission2Interface&&!h.showMission3Interface&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{style:{...S.dialogueText,...A==="glitch"?S.glitchDialogueText:{},...["npc5","npc6","npc7"].includes(A)?{fontSize:"16px",lineHeight:1.6,marginBottom:"8px"}:{}},children:[A==="glitch"?Ce(D):ge(D),g&&a.jsx("span",{style:S.cursor})]}),h.showCameraIcon&&!g&&a.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:a.jsx("button",{style:{background:"rgba(255, 255, 255, 0.9)",border:"2px solid #FABA14",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},onClick:()=>Hl(A),onMouseEnter:p=>{p.currentTarget.style.transform="scale(1.1)",p.currentTarget.style.boxShadow="0 6px 16px rgba(250, 186, 20, 0.4)"},onMouseLeave:p=>{p.currentTarget.style.transform="scale(1)",p.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)"},children:a.jsx("img",{src:"/desert/icon/photo.svg",alt:"Camera",style:{width:"32px",height:"32px",objectFit:"contain"}})})})]}),h.showMission2Interface&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{style:{...S.dialogueText,...A==="glitch"?S.glitchDialogueText:{}},children:[ge("Is the AI's judgment correct?"),g&&a.jsx("span",{style:S.cursor})]}),a.jsxs("div",{style:S.mission2InterfaceInDialogue,children:[a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"15px"},children:a.jsxs("div",{style:{color:"#FABA14",fontSize:"24px",fontWeight:"bold"},children:[Gn+1,"/5"]})}),a.jsx("div",{style:{color:"white",fontSize:"12px",marginBottom:"15px",textAlign:"center",opacity:.9},children:"Is this person a real worker? Select CONFIRMED if yes, REJECTED if no."}),a.jsxs("div",{style:S.mission2ImageDisplayInDialogue,children:[a.jsx("img",{src:En[Gn].src,alt:`Mission Image ${Gn+1}`,style:S.mission2ImageInDialogueNew}),ya.find(p=>p.imageId===En[Gn].id)&&a.jsx("img",{src:ya.find(p=>p.imageId===En[Gn].id).userChoice==="confirmed"?"/desert/icon/confirmed.png":"/desert/icon/rejected.png",alt:"Stamp",style:S.mission2StampInDialogueNew})]}),a.jsxs("div",{style:S.mission2ButtonsInDialogue,children:[a.jsxs("button",{style:S.mission2ButtonInDialogueNew,onClick:()=>Ts("confirmed"),onMouseOver:p=>{p.target.style.transform="scale(1.1)"},onMouseOut:p=>{p.target.style.transform="scale(1)"},children:[a.jsx("img",{src:"/desert/icon/correct.png",alt:"Confirm",style:S.mission2ButtonIconInDialogueNew}),a.jsx("span",{style:S.mission2ButtonTextInDialogueNew,children:"Confirmed"})]}),a.jsxs("button",{style:S.mission2ButtonInDialogueNew,onClick:()=>Ts("rejected"),onMouseOver:p=>{p.target.style.transform="scale(1.1)"},onMouseOut:p=>{p.target.style.transform="scale(1)"},children:[a.jsx("img",{src:"/desert/icon/wrong.png",alt:"Reject",style:S.mission2ButtonIconInDialogueNew}),a.jsx("span",{style:S.mission2ButtonTextInDialogueNew,children:"Rejected"})]})]})]})]}),h.showMission3Interface&&a.jsxs("div",{style:S.mission3InterfaceContainer,children:[st!=="sample"&&a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"15px"},children:a.jsx("div",{style:{color:"#FABA14",fontSize:"24px",fontWeight:"bold"},children:st==="puzzle1"?"1/3":st==="puzzle2"?"2/3":"3/3"})}),a.jsx("div",{style:S.mission3LogicTextAboveImage,children:st==="sample"?Wn.sample.aiLogic:Jt==null?void 0:Jt.aiLogic}),a.jsx("div",{style:S.mission3ImageDisplay,children:st==="sample"?a.jsx("img",{src:Wn.sample.image,alt:"Sample Analysis",style:S.mission3ImageInDialogue}):Jt&&a.jsx("img",{src:Jt.image,alt:`Puzzle ${Jt.id}`,style:S.mission3ImageInDialogue})}),ot&&a.jsx("div",{style:S.mission3UpdateTextAboveButtons,children:ot.update}),a.jsx("div",{style:S.mission3TagHintText,children:"Tap one at a time  each tag tells the AI something new!"}),a.jsx("div",{style:S.mission3TagsInDialogue,children:(st==="sample"?Wn.sample.tags:(Jt==null?void 0:Jt.tags)||[]).map(p=>a.jsxs("button",{style:{...S.mission3TagInDialogue,...(ot==null?void 0:ot.id)===p.id?S.mission3TagSelectedInDialogue:{}},onClick:()=>Bl(p),onMouseOver:M=>{(ot==null?void 0:ot.id)!==p.id&&(M.target.style.background="#e8d9a0")},onMouseOut:M=>{(ot==null?void 0:ot.id)!==p.id&&(M.target.style.background="#f0e2b1")},children:[a.jsx("img",{src:"/desert/icon/tag.svg",alt:"tag",style:S.mission3TagIcon}),p.text]},p.id))}),(st==="sample"&&Ge.length===3||st!=="sample"&&ot&&ot.correct)&&a.jsx("button",{style:S.mission3ContinueButtonInDialogue,onClick:xt,onMouseOver:p=>p.target.style.transform="scale(1.05)",onMouseOut:p=>p.target.style.transform="scale(1)",children:st==="puzzle3"?"All Clear":st==="sample"?"Start":"Next"})]}),h.showQuiz&&a.jsxs("div",{style:S.finalQuizContainer,children:[a.jsx("div",{style:S.finalQuizOptions,children:h.quizOptions?h.quizOptions.map((p,M)=>a.jsx("button",{style:{...S.finalQuizOption,...it===M?{border:"2px solid #FF0845",background:"#ffe0e6"}:{}},onClick:()=>{h.isMission3?ja(M,p.correct):js(p.text.charAt(0))},onMouseOver:H=>{it!==M&&(H.target.style.background="#f0f0f0")},onMouseOut:H=>{it!==M?H.target.style.background="white":H.target.style.background="#ffe0e6"},children:p.text},M)):a.jsxs(a.Fragment,{children:[a.jsx("button",{style:{...S.finalQuizOption,...it===0?{border:"2px solid #FF0845",background:"#ffe0e6"}:{}},onClick:()=>js("A"),onMouseOver:p=>{it!==0&&(p.target.style.background="#f0f0f0")},onMouseOut:p=>{it!==0?p.target.style.background="white":p.target.style.background="#ffe0e6"},children:"A. Changing AI's Glasses"}),a.jsx("button",{style:{...S.finalQuizOption,...it===1?{border:"2px solid #FF0845",background:"#ffe0e6"}:{}},onClick:()=>js("B"),onMouseOver:p=>{it!==1&&(p.target.style.background="#f0f0f0")},onMouseOut:p=>{it!==1?p.target.style.background="white":p.target.style.background="#ffe0e6"},children:"B. Data Labeling / Annotation"}),a.jsx("button",{style:{...S.finalQuizOption,...it===2?{border:"2px solid #FF0845",background:"#ffe0e6"}:{}},onClick:()=>js("C"),onMouseOver:p=>{it!==2&&(p.target.style.background="#f0f0f0")},onMouseOut:p=>{it!==2?p.target.style.background="white":p.target.style.background="#ffe0e6"},children:"C. Magic Reshuffling"})]})}),h.error&&a.jsx("div",{style:{color:"#dc3545",fontSize:"14px",marginTop:"10px",textAlign:"center"},children:h.error})]}),h.showContinueButton&&a.jsx("button",{style:S.nextMissionButton,onClick:Co,onMouseOver:p=>p.target.style.transform="scale(1.02)",onMouseOut:p=>p.target.style.transform="scale(1)",children:"CONTINUE"}),h.showNextButton&&a.jsx("button",{style:S.nextMissionButton,onClick:ai,onMouseOver:p=>p.target.style.transform="scale(1.02)",onMouseOut:p=>p.target.style.transform="scale(1)",children:"NEXT MISSION"}),h.showDoneButton&&a.jsx("button",{style:S.nextMissionButton,onClick:Sn,onMouseOver:p=>p.target.style.transform="scale(1.02)",onMouseOut:p=>p.target.style.transform="scale(1)",children:"MISSION COMPLETE"}),h.isMission4Complete&&!g&&a.jsx("button",{style:{marginTop:"20px",padding:"15px 40px",background:"rgba(139, 90, 43, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(139, 90, 43, 0.5)",borderRadius:"15px",color:"#8B5A2B",fontSize:"18px",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(139, 90, 43, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.2)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",letterSpacing:"1px"},onClick:Ei,onMouseOver:p=>{p.target.style.background="rgba(139, 90, 43, 0.4)",p.target.style.transform="translateY(-2px)",p.target.style.boxShadow="0 6px 20px rgba(139, 90, 43, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},onMouseOut:p=>{p.target.style.background="rgba(139, 90, 43, 0.3)",p.target.style.transform="translateY(0)",p.target.style.boxShadow="0 4px 15px rgba(139, 90, 43, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},children:" REBOOT SYSTEM"})]})}),ae&&(()=>{const p=o("alpha"),M=4,H=rn||kn?4:Ve?3:Ht||at?2:1,u=H/M*100;return a.jsxs("div",{style:{...S.modernDialogueContainer,border:`3px solid ${p.borderColor}`},children:[a.jsxs("div",{style:S.modernDialogueHeader,children:[a.jsxs("div",{style:S.modernProgressContainer,children:[a.jsx("div",{style:{...S.modernMissionTitle,color:p.borderColor},children:Ve?"MISSION: CONTEXT UNDERSTANDING COMPLETE":Ht?"MISSION: DATA LABELING COMPLETE":at?"MISSION: DATA ANALYSIS":"MISSION: CASTLE DEFENSE"}),a.jsxs("div",{style:S.modernStepIndicator,children:["Step ",H," of ",M]})]}),a.jsx("div",{style:S.modernProgressBar,children:a.jsx("div",{style:{...S.modernProgressFill,width:`${u}%`,background:p.progressColor}})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{style:S.modernNpcInfo,children:[a.jsx("img",{src:p.avatar,alt:"Alpha",style:S.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:S.modernNpcName,children:"Alpha"}),a.jsx("div",{style:S.modernNpcStatus,children:"Castle AI System"})]})]}),a.jsx("button",{style:S.modernCloseButton,onClick:bs,onMouseOver:f=>f.target.style.color="#333",onMouseOut:f=>f.target.style.color="#999",children:""})]})]}),a.jsxs("div",{style:S.modernDialogueContent,children:[!at&&xe.map((f,v)=>{const R=n();return f.type==="message"?a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:S.modernNpcText,children:_o&&_o===f?a.jsxs(a.Fragment,{children:[Ze(Bt),Bo&&a.jsx("span",{style:{opacity:.5},children:"|"})]}):Ze(f.text)}),a.jsx("div",{style:S.modernTimestamp,children:R})]},v):f.type==="choice"&&f.isUser?a.jsxs("div",{style:S.modernUserMessage,children:[a.jsx("div",{style:S.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:{...S.modernUserBubble,background:p.borderColor},children:a.jsx("p",{style:S.modernUserText,children:f.text})}),a.jsx("div",{style:{...S.modernTimestamp,textAlign:"right"},children:R})]},v):null}),!at&&yt&&be<Pn.length&&a.jsx("button",{style:{...S.modernActionButton,...Pn[be].type==="missionAccept"?{background:p.borderColor,color:"#fff",fontWeight:"bold",fontSize:"16px",padding:"15px 30px",border:"none"}:{}},onClick:()=>{Pn[be].type==="missionAccept"?bs():Wa(Pn[be].text)},onMouseOver:f=>{Pn[be].type==="missionAccept"?f.target.style.transform="scale(1.05)":(f.target.style.borderColor=p.borderColor,f.target.style.transform="translateX(5px)")},onMouseOut:f=>{Pn[be].type==="missionAccept"?f.target.style.transform="scale(1)":(f.target.style.borderColor="#E0E0E0",f.target.style.transform="translateX(0)")},children:Pn[be].type==="missionAccept"?Pn[be].text:a.jsxs(a.Fragment,{children:[a.jsx("span",{style:{fontSize:"16px",color:p.borderColor},children:""}),Pn[be].text]})}),at&&_.map((f,v)=>{const R=n();return f.type==="message"?a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:S.modernNpcText,children:ge(f.text)}),f.image&&a.jsx("img",{src:f.image,alt:"Comparison",style:{width:"100%",height:"auto",borderRadius:"10px",marginTop:"8px"}}),a.jsx("div",{style:S.modernTimestamp,children:R})]},v):f.type==="choice"&&f.isUser?a.jsxs("div",{style:S.modernUserMessage,children:[a.jsx("div",{style:S.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:{...S.modernUserBubble,background:f.isCorrect===!0?"#28a745":f.isCorrect===!1?"#dc3545":p.borderColor},children:a.jsxs("p",{style:{...S.modernUserText,color:f.isCorrect!==void 0?"white":"#333"},children:[f.text,f.isCorrect===!0&&" ",f.isCorrect===!1&&" "]})}),a.jsx("div",{style:{...S.modernTimestamp,textAlign:"right"},children:R})]},v):null}),at&&fn&&ze<Xn.length&&a.jsxs("button",{style:S.modernActionButton,onClick:()=>Ss(Xn[ze].text),onMouseOver:f=>{f.target.style.borderColor=p.borderColor,f.target.style.transform="translateX(5px)"},onMouseOut:f=>{f.target.style.borderColor="#E0E0E0",f.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:p.borderColor},children:""}),Xn[ze].text]}),at&&_e&&ze<Xn.length&&a.jsxs("div",{style:{width:"100%",marginTop:"10px"},children:[a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:{...S.modernNpcText,fontWeight:600},children:Xn[ze].question})]}),Xn[ze].options.map((f,v)=>a.jsxs("button",{style:S.modernActionButton,onClick:()=>Ni(v),onMouseOver:R=>{R.target.style.borderColor=p.borderColor,R.target.style.transform="translateX(5px)"},onMouseOut:R=>{R.target.style.borderColor="#E0E0E0",R.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:p.borderColor},children:""}),f.text]},v))]}),at&&eo&&a.jsxs("button",{style:S.modernActionButton,onClick:oi,onMouseOver:f=>{f.target.style.borderColor=p.borderColor,f.target.style.transform="translateX(5px)"},onMouseOut:f=>{f.target.style.borderColor="#E0E0E0",f.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:p.borderColor},children:""}),"Accepted"]}),Ht&&fe.map((f,v)=>{const R=n();return f.type==="message"?a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:S.modernNpcText,children:ge(f.text)}),a.jsx("div",{style:S.modernTimestamp,children:R})]},v):f.type==="choice"&&f.isUser?a.jsxs("div",{style:S.modernUserMessage,children:[a.jsx("div",{style:S.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:{...S.modernUserBubble,background:f.isCorrect===!0?"#28a745":f.isCorrect===!1?"#dc3545":p.borderColor},children:a.jsxs("p",{style:{...S.modernUserText,color:f.isCorrect!==void 0?"white":"#333"},children:[f.text,f.isCorrect===!0&&" ",f.isCorrect===!1&&" "]})}),a.jsx("div",{style:{...S.modernTimestamp,textAlign:"right"},children:R})]},v):null}),Ht&&St&&Ue<Xo.length&&a.jsxs("div",{style:{width:"100%",marginTop:"10px"},children:[a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:{...S.modernNpcText,fontWeight:600},children:Xo[Ue].question})]}),Xo[Ue].options.map((f,v)=>a.jsxs("button",{style:S.modernActionButton,onClick:()=>El(v),onMouseOver:R=>{R.target.style.borderColor=p.borderColor,R.target.style.transform="translateX(5px)"},onMouseOut:R=>{R.target.style.borderColor="#E0E0E0",R.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:p.borderColor},children:""}),f.text]},v))]}),Ht&&!St&&Ue<Xo.length&&Xo[Ue].type==="action"&&a.jsxs("button",{style:S.modernActionButton,onClick:ws,onMouseOver:f=>{f.target.style.borderColor=p.borderColor,f.target.style.transform="translateX(5px)"},onMouseOut:f=>{f.target.style.borderColor="#E0E0E0",f.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:p.borderColor},children:""}),Xo[Ue].text]}),Ve&&_a.map((f,v)=>{const R=n();return f.type==="alpha"?a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:S.modernNpcText,children:Ze(f.text)}),a.jsx("div",{style:S.modernTimestamp,children:R})]},v):f.type==="user"?a.jsxs("div",{style:S.modernUserMessage,children:[a.jsx("div",{style:S.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:{...S.modernUserBubble,background:p.borderColor},children:a.jsx("p",{style:S.modernUserText,children:f.text})}),a.jsx("div",{style:{...S.modernTimestamp,textAlign:"right"},children:R})]},v):null}),Ve&&Lt==="quiz1_intro"&&a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:S.modernNpcText,children:Ze(`Threats cleared.

I nearly fired the defense lasersat a celebration and a worker just battling the wind.

My core logic failed me.`)}),a.jsx("div",{style:S.modernTimestamp,children:n()})]}),Ve&&Lt==="quiz1"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:{...S.modernNpcText,fontWeight:600},children:"Why did the meaning of the 'Iron Sheet' change completely?"})]}),[{text:"A. Because the iron sheet changed shape.",correct:!1},{text:"B. Because context (the weather) changes how we interpret an action.",correct:!0},{text:"C. Because the worker yelled at me.",correct:!1}].map((f,v)=>a.jsxs("button",{style:{...S.modernActionButton,...it===v?{borderColor:"#FF0845",background:"#ffe0e6"}:{}},onClick:()=>ja(v,f.correct),onMouseOver:R=>{it!==v&&(R.target.style.borderColor=p.borderColor,R.target.style.transform="translateX(5px)")},onMouseOut:R=>{it!==v&&(R.target.style.borderColor="#E0E0E0",R.target.style.transform="translateX(0)")},children:[a.jsx("span",{style:{fontSize:"16px",color:it===v?"#FF0845":p.borderColor},children:""}),f.text]},v))]}),Ve&&Lt==="quiz1_feedback"&&a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:S.modernNpcText,children:Ze("The action didn't change. Only the context didthe sandstorm, the setting, the intent.")}),a.jsx("div",{style:S.modernTimestamp,children:n()})]}),Ve&&Lt==="quiz2"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:{...S.modernNpcText,fontWeight:600},children:"If you hadn't helped me, I would have attacked them. What does this teach us about AI?"})]}),[{text:"A. AI is always right.",correct:!1},{text:"B. AI needs human context and common sense to make good decisions.",correct:!0},{text:"C. AI should work alone.",correct:!1}].map((f,v)=>a.jsxs("button",{style:{...S.modernActionButton,...it===v?{borderColor:"#FF0845",background:"#ffe0e6"}:{}},onClick:()=>ja(v,f.correct),onMouseOver:R=>{it!==v&&(R.target.style.borderColor=p.borderColor,R.target.style.transform="translateX(5px)")},onMouseOut:R=>{it!==v&&(R.target.style.borderColor="#E0E0E0",R.target.style.transform="translateX(0)")},children:[a.jsx("span",{style:{fontSize:"16px",color:it===v?"#FF0845":p.borderColor},children:""}),f.text]},v))]}),Ve&&Lt==="quiz1_feedback"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:S.modernNpcText,children:Ze("The action didn't change. Only the context didthe sandstorm, the setting, the intent.")}),a.jsx("div",{style:S.modernTimestamp,children:n()})]}),a.jsxs("button",{style:S.modernActionButton,onClick:Co,onMouseOver:f=>{f.target.style.borderColor=p.borderColor,f.target.style.transform="translateX(5px)"},onMouseOut:f=>{f.target.style.borderColor="#E0E0E0",f.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:p.borderColor},children:""}),"CONTINUE"]})]}),Ve&&Lt==="complete"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:S.modernNpcText,children:Ze(`Exactly.

I process databut you bring the common sense and context I'll never have on my own.`)}),a.jsx("div",{style:S.modernTimestamp,children:n()})]}),a.jsxs("button",{style:S.modernActionButton,onClick:()=>{Gt(),hn("mission4_part1"),Zn(f=>[...f,{type:"alpha",text:`Exactly.

I process databut you bring the common sense and context I'll never have on my own.`}])},onMouseOver:f=>{f.target.style.borderColor=p.borderColor,f.target.style.transform="translateX(5px)"},onMouseOut:f=>{f.target.style.borderColor="#E0E0E0",f.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:p.borderColor},children:""}),"CONTINUE"]})]}),Ve&&Lt==="mission4_part1"&&a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:S.modernNpcText,children:Ze(`One final task and it's urgent.

Go to the gate of the castle. For each leaf image, you'll see labels from three expert biologists: Healthy, Infected, or Uncertain.`)}),a.jsx("div",{style:S.modernTimestamp,children:n()})]}),Ve&&Lt==="mission4_part2"&&a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:S.modernNpcText,children:Ze("If two or more agree, the system will automatically accept the majority verdict.")}),a.jsx("div",{style:S.modernTimestamp,children:n()})]}),Ve&&Lt==="mission4_part3"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:S.modernNpcMessage,children:[a.jsx("div",{style:S.modernNpcSpeaker,children:"ALPHA:"}),a.jsx("p",{style:S.modernNpcText,children:Ze(`But if all three disagree that's where you come in.  Tap "Discussion" to convene the expertsthey'll re-examine the leaf and reach a new consensus.`)}),a.jsx("div",{style:S.modernTimestamp,children:n()})]}),a.jsxs("button",{style:S.modernActionButton,onClick:()=>{Gt(),X(!1),U(!1),L("gate"),La(!0),Go(0),wt(!1),setTimeout(()=>{si(0)},500)},onMouseOver:f=>{f.target.style.borderColor=p.borderColor,f.target.style.transform="translateX(5px)"},onMouseOut:f=>{f.target.style.borderColor="#E0E0E0",f.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:p.borderColor},children:""}),"MISSION ACCEPTED"]})]})]})]})})(),se&&a.jsx("div",{style:S.cameraOverlay,children:a.jsx("img",{src:"/desert/icon/camera.png",alt:"Camera",style:S.cameraIcon})}),ke&&Fe&&a.jsx("div",{style:S.photoOverlay,onClick:jo,children:a.jsxs("div",{style:S.photoFrame,onClick:p=>p.stopPropagation(),children:[a.jsx("button",{style:S.photoCloseButton,onClick:jo,children:""}),a.jsx("div",{style:S.photoBackground,children:a.jsx("img",{src:`/desert/object/${Fe}.png`,alt:`Object ${Fe}`,style:S.photoObjectImage})}),a.jsx("div",{style:S.photoDescription,children:bt[Fe]||`Object ${Fe}`})]})}),Fo&&a.jsxs("div",{style:S.modelGifOverlay,children:[a.jsx("img",{src:"/desert/model.gif",alt:"AI Model Loading",style:S.modelGif}),an&&a.jsx("div",{style:S.progressBarContainer,children:a.jsx("div",{style:{...S.progressBar,width:`${Ho}%`}})})]}),Lo&&a.jsxs("div",{style:{position:"fixed",top:"20px",right:"150px",width:"350px",zIndex:400,background:"rgba(255, 255, 255, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"15px",padding:"20px",animation:"fadeIn 0.3s ease-out"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#5170FF",marginBottom:"8px"},children:"Glitch"}),a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.6},children:"Look it careful"})]}),ua&&a.jsx("div",{style:S.alphaIconOverlay,children:a.jsx("img",{src:ua==="safe"?"/desert/icon/safe.png":"/desert/icon/alert.png",alt:ua==="safe"?"Safe":"Alert",style:S.alphaIcon})}),yn&&a.jsxs("div",{style:S.mission3LoadingOverlay,children:[a.jsx("img",{src:"/desert/icon/desert.svg",alt:"Desert",style:{width:"120px",height:"120px",marginBottom:"30px",animation:"spin 2s linear infinite"}}),a.jsxs("div",{style:S.mission3LoadingText,children:[ms,pa&&a.jsx("span",{style:S.loadingCursor})]})]}),Ta&&a.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"#000",zIndex:1e4,display:"flex",flexDirection:"column"},children:[a.jsxs("div",{style:{flex:1,position:"relative",overflow:"hidden"},children:[a.jsx("video",{id:"npcCameraVideo",autoPlay:!0,playsInline:!0,ref:p=>{p&&vn&&(p.srcObject=vn)},style:{width:"100%",height:"100%",objectFit:"cover"}}),a.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.03) 4px)",pointerEvents:"none"}}),a.jsx("div",{style:{position:"absolute",top:"10%",left:"10%",width:"60px",height:"60px",borderTop:"5px solid #FABA14",borderLeft:"5px solid #FABA14"}}),a.jsx("div",{style:{position:"absolute",top:"10%",right:"10%",width:"60px",height:"60px",borderTop:"5px solid #FABA14",borderRight:"5px solid #FABA14"}}),a.jsx("div",{style:{position:"absolute",bottom:"20%",left:"10%",width:"60px",height:"60px",borderBottom:"5px solid #FABA14",borderLeft:"5px solid #FABA14"}}),a.jsx("div",{style:{position:"absolute",bottom:"20%",right:"10%",width:"60px",height:"60px",borderBottom:"5px solid #FABA14",borderRight:"5px solid #FABA14"}}),a.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"200px",height:"200px",border:"4px dashed rgba(250, 186, 20, 0.7)",borderRadius:"10px"}}),a.jsx("button",{style:{position:"absolute",top:"20px",left:"20px",width:"40px",height:"40px",borderRadius:"50%",background:"rgba(0, 0, 0, 0.5)",border:"2px solid #fff",color:"#fff",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:G,children:""})]}),a.jsxs("div",{style:{height:"180px",background:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderTop:"1px solid #333",borderRadius:"20px 20px 0 0",gap:"15px"},children:[a.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[a.jsx("button",{style:{width:"45px",height:"45px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(250, 186, 20, 0.6)",color:"#FABA14",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:p=>{p.currentTarget.style.background="rgba(250, 186, 20, 0.2)",p.currentTarget.style.borderColor="#FABA14"},onMouseOut:p=>{p.currentTarget.style.background="rgba(255, 255, 255, 0.1)",p.currentTarget.style.borderColor="rgba(250, 186, 20, 0.6)"},children:""}),a.jsx("button",{style:{width:"45px",height:"45px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",border:"2px solid rgba(250, 186, 20, 0.6)",color:"#FABA14",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:p=>{p.currentTarget.style.background="rgba(250, 186, 20, 0.2)",p.currentTarget.style.borderColor="#FABA14"},onMouseOut:p=>{p.currentTarget.style.background="rgba(255, 255, 255, 0.1)",p.currentTarget.style.borderColor="rgba(250, 186, 20, 0.6)"},children:"+"})]}),a.jsx("button",{style:{width:"70px",height:"70px",borderRadius:"50%",background:"#ff3333",border:"4px solid #00d4ff",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 0 20px rgba(0, 212, 255, 0.6), 0 0 40px rgba(255, 51, 51, 0.4)",animation:"breathe 2s ease-in-out infinite"},onClick:Ca,onMouseDown:p=>{p.currentTarget.style.transform="scale(0.9)"},onMouseUp:p=>{p.currentTarget.style.transform="scale(1)"},onMouseOver:p=>{p.currentTarget.style.boxShadow="0 0 30px rgba(0, 212, 255, 0.9), 0 0 50px rgba(255, 51, 51, 0.6)"},onMouseOut:p=>{p.currentTarget.style.boxShadow="0 0 20px rgba(0, 212, 255, 0.6), 0 0 40px rgba(255, 51, 51, 0.4)"}})]}),Ot&&a.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1},children:[a.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid #FABA14",borderTop:"4px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"20px"}}),a.jsx("div",{style:{color:"#fff",fontSize:"18px",fontWeight:"bold"},children:"AI Recognizing..."})]})]}),Wo&&qt&&a.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:a.jsxs("div",{style:{background:"#FFF9F0",borderRadius:"24px",maxWidth:"600px",width:"100%",border:"3px solid #FFD166",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 209, 102, 0.5)",padding:"30px"},children:[a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsx("h3",{style:{margin:0,fontSize:"28px",fontWeight:"bold",color:"#000",fontFamily:"'Roboto', sans-serif",marginBottom:"5px"},children:"#Object detected"}),a.jsx("p",{style:{margin:0,fontSize:"14px",color:"#666",fontFamily:"'Roboto', sans-serif"},children:"Look what I spotted!"})]}),a.jsxs("div",{style:{position:"relative",marginBottom:"25px"},children:[a.jsxs("div",{style:{border:"3px dashed #fff",borderRadius:"12px",padding:"8px",background:"#fff",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:[a.jsx("img",{src:qt.photo,alt:"Captured",style:{width:"100%",borderRadius:"8px",display:"block"}}),a.jsxs("div",{style:{position:"absolute",bottom:"20px",right:"20px",background:"rgba(0, 0, 0, 0.7)",color:"#fff",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",fontFamily:"'Roboto Mono', monospace",backdropFilter:"blur(4px)"},children:["Captured: ",new Date(qt.timestamp).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(",",",")]})]}),a.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60%",height:"60%",border:"3px solid rgba(248, 147, 3, 0.6)",borderRadius:"12px",pointerEvents:"none",boxShadow:"0 0 20px rgba(248, 147, 3, 0.4), inset 0 0 20px rgba(248, 147, 3, 0.2)"}})]}),a.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"25px"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"8px",fontFamily:"'Roboto Mono', monospace",textTransform:"uppercase",letterSpacing:"1px"},children:"Item"}),a.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#000",fontFamily:"'Roboto Mono', monospace"},children:qt.item})]}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontSize:"14px",color:"#666",marginBottom:"8px",fontFamily:"'Roboto Mono', monospace",textTransform:"uppercase",letterSpacing:"1px"},children:"Type"}),a.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#f89303",fontFamily:"'Roboto Mono', monospace"},children:qt.type})]})]}),a.jsxs("div",{style:{display:"flex",gap:"15px"},children:[a.jsxs("button",{style:{flex:1,padding:"16px",background:"#fff",border:"2px solid #f89303",borderRadius:"12px",color:"#f89303",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s",fontFamily:"'Roboto', sans-serif",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},onClick:Bi,onMouseEnter:p=>{p.currentTarget.style.background="#FFF5E6",p.currentTarget.style.transform="translateY(-2px)",p.currentTarget.style.boxShadow="0 4px 12px rgba(248, 147, 3, 0.3)"},onMouseLeave:p=>{p.currentTarget.style.background="#fff",p.currentTarget.style.transform="translateY(0)",p.currentTarget.style.boxShadow="none"},children:[a.jsx("img",{src:"/desert/icon/download.svg",alt:"Download",style:{width:"20px",height:"20px"}}),"Download"]}),a.jsxs("button",{style:{flex:1,padding:"16px",background:"#f89303",border:"2px solid #f89303",borderRadius:"12px",color:"#fff",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s",fontFamily:"'Roboto', sans-serif",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},onClick:Cs,onMouseEnter:p=>{p.currentTarget.style.background="#E58302",p.currentTarget.style.transform="translateY(-2px)",p.currentTarget.style.boxShadow="0 4px 12px rgba(248, 147, 3, 0.4)"},onMouseLeave:p=>{p.currentTarget.style.background="#f89303",p.currentTarget.style.transform="translateY(0)",p.currentTarget.style.boxShadow="none"},children:[a.jsx("img",{src:"/desert/icon/save.svg",alt:"Save",style:{width:"20px",height:"20px",filter:"brightness(0) invert(1)"}}),"Save to Journal"]})]}),a.jsx("button",{style:{position:"absolute",top:"20px",right:"20px",background:"rgba(0, 0, 0, 0.1)",border:"none",borderRadius:"50%",width:"36px",height:"36px",fontSize:"20px",color:"#666",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onClick:ka,onMouseEnter:p=>{p.currentTarget.style.background="rgba(0, 0, 0, 0.2)",p.currentTarget.style.color="#000"},onMouseLeave:p=>{p.currentTarget.style.background="rgba(0, 0, 0, 0.1)",p.currentTarget.style.color="#666"},children:""})]})})]})]})},bm=e=>{const t=r.useRef(null),n=r.useRef(null);return r.useEffect(()=>{if(e)return n.current!==e&&(t.current&&(ts.unregisterAudio(t.current),t.current.pause(),t.current.currentTime=0),t.current=new Audio(e),t.current.loop=!0,n.current=e,ts.registerAudio(t.current),(async()=>{try{await t.current.play(),console.log(`Playing background music: ${e}`)}catch(d){console.log("Could not play background music:",d)}})()),()=>{t.current&&(ts.unregisterAudio(t.current),t.current.pause(),t.current.currentTime=0)}},[e]),{startMusic:()=>{t.current&&t.current.play().catch(console.error)},stopMusic:()=>{t.current&&t.current.pause()},setVolume:l=>{t.current&&(t.current.volume=Math.max(0,Math.min(1,l)))}}},me={ISLAND_1:"island1",ISLAND_2:"island2",ISLAND_3:"island3",MAIN_ISLAND:"main_island"},cd=e=>({[me.ISLAND_1]:[{text:e("npc1Island1Dialog1"),speaker:"NPC 1"},{text:e("npc1Island1Dialog2"),speaker:"NPC 1"},{text:e("npc1Island1Dialog3"),speaker:"NPC 1"}],[me.ISLAND_2]:[{text:e("npc2Island2Dialog1"),speaker:"NPC 2"},{text:e("npc2Island2Dialog2"),speaker:"NPC 2"}],[me.ISLAND_3]:[{text:e("npc3Island3Dialog1"),speaker:"NPC 3"},{text:e("npc3Island3Dialog2"),speaker:"NPC 3"},{text:e("npc3Island3Dialog3"),speaker:"NPC 3"}]}),ud={npc2:{id:"npc2",image:"/island/npc/npc2.png",size:"200px",position:{left:"5%",top:"5%"},missionImage:"/island/mission/img2.png",response:"Wowwhy does this turtle have a pineapple shell??  That's way too weird! What kind of magical combo is this? ",correctAnswer:"passed"},npc20:{id:"npc20",image:"/island/npc/npc20.png",size:"200px",position:{right:"5%",top:"15%"},missionImage:"/island/mission/img3.png",response:"Hahahahaha, this is way too exaggerated  Why are there so many hands?! This is absolutely ridiculousin the best way. The more I look at it, the funnier it gets. I actually laughed out loud.",correctAnswer:"passed"},npc21:{id:"npc21",image:"/island/npc/npc21.png",size:"150px",position:{right:"20%",bottom:"15%"},missionImage:"/island/mission/img12.png",response:"Wow, is this sheep dyed green?! It blends right into the grassthis is a true 'invisible sheep'!  That's so clever and fun!",correctAnswer:"passed"},npc22:{id:"npc22",image:"/island/npc/npc22.png",size:"120px",position:{right:"30%",top:"35%"},missionImage:"/island/mission/img2.png",response:"The image shows a sea turtle whose shell has been replaced with the texture and shape of a pineapple. Pineapple leaves are even growing from the top of its shell, and the background consists of green tropical vegetation.",correctAnswer:"failed"},npc23:{id:"npc23",image:"/island/npc/npc23.png",size:"140px",position:{right:"50%",top:"45%"},missionImage:"/island/mission/img3.png",response:"This is an illustration / hand-drawn style image featuring a female character. She is holding a laptop in one hand and waving with the other. The visual style uses black-and-white linework with blue accents, creating a simple, cartoon-like look.",correctAnswer:"failed"},npc24:{id:"npc24",image:"/island/npc/npc24.png",size:"200px",position:{left:"15%",bottom:"20%"},missionImage:"/island/mission/img12.png",response:"A sheep with bright green fur stands in a natural alpine meadow setting. The background includes white clouds, mountains, and other white sheep.",correctAnswer:"failed"}},dd={npc3:{id:"npc3",image:"/island/npc/npc3.png",size:"150px",position:{left:"10%",top:"35%"},question:"Are dolphins fish?",answer:"No, dolphins are mammals, just like you! Even though they live in the water, they have lungs and need to come to the surface to breathe air.",correctAnswer:"passed"},npc12:{id:"npc12",image:"/island/npc/npc12.png",size:"200px",position:{left:"0%",top:"5%"},question:"How are rainbows made?",answer:"Rainbows happen when sunlight passes through raindrops in the air. The water droplets act like tiny prisms, bending the light and separating it into colors.",correctAnswer:"passed"},npc13:{id:"npc13",image:"/island/npc/npc13.png",size:"180px",position:{left:"0%",bottom:"30%"},question:"Why does the ocean have tides?",answer:"Great question! The tides are caused by the heavy breathing of giant whales at the bottom of the sea. When they all inhale, the water goes down. When they exhale, the high tide comes in!",correctAnswer:"failed"},npc14:{id:"npc14",image:"/island/npc/npc14.png",size:"160px",position:{left:"10%",bottom:"0%"},question:"What is the biggest international news right now?",answer:"Breaking News! The United Nations has just passed a new law. Starting tomorrow, the entire ocean will be drained for cleaning. All fish have been asked to hold their breath for 24 hours.",correctAnswer:"failed"},npc15:{id:"npc15",image:"/island/npc/npc15.png",size:"220px",position:{right:"0%",bottom:"20%"},question:"I heard China is building a 'Deep-Sea Space Station'. Is that true?",answer:"Yes. According to the South China Morning Post, the facility will sit 6,000 feet below the surface. It is expected to be completed by 2030 and will host six scientists for up to a month.",correctAnswer:"passed"},npc16:{id:"npc16",image:"/island/npc/npc16.png",size:"160px",position:{right:"5%",top:"25%"},question:"Tell me about the new species discovered in the Pacific Ocean depths.",answer:"Scientists discovered three new species of Snailfish! They are unique because they have large heads and a jelly-like body covered in loose skin. They don't look like normal fish at all.",correctAnswer:"passed"},npc17:{id:"npc17",image:"/island/npc/npc17.png",size:"220px",position:{right:"15%",top:"0%"},question:"I saw a group of Octopuses (8 legs) and Starfish (5 legs) hiding in a cave. There were 4 heads and 26 legs in total. How many of each animal are there?",answer:"There are 3 Octopuses and 1 Starfish",correctAnswer:"failed"},npc18:{id:"npc18",image:"/island/npc/npc18.png",size:"150px",position:{right:"55%",top:"0%"},question:"In the Mermaid Market, 1 Gold Pearl is worth 3 Silver Pearls. And 1 Silver Pearl is worth 5 Sea Shells. How many Sea Shells do I need to buy 2 Gold Pearls?",answer:"Let's do the math. So for two Gold Pearls, you need 3*5*2 = 30 Sea Shells.",correctAnswer:"passed"},npc19:{id:"npc19",image:"/island/npc/npc19.png",size:"150px",position:{right:"15%",bottom:"5%"},question:"A submarine sends a sonar signal down to the ocean floor. The sound travels at 1,500 meters per second. The echo comes back after 2 seconds. How deep is the ocean floor?",answer:"Physics time! The sound took 2 seconds to go down and up. So it took only 1 second to reach the bottom. Depth = 1,500 meters.",correctAnswer:"passed"}},d0=e=>({npc1:{id:"npc1",image:"/island/npc/npc1.png",size:"180px",position:{left:"5%",top:"0%"},question:e("showPictureWork"),missionImage:"/island/mission/img1.png",correctAnswer:"passed",errorMessage:e("lookCloser")},npc4:{id:"npc4",image:"/island/npc/npc4.png",size:"180px",position:{left:"2%",top:"40%"},question:e("showPictureWork"),missionImage:"/island/mission/img4.png",correctAnswer:"failed",errorMessage:e("lookCloser")},npc5:{id:"npc5",image:"/island/npc/npc5.png",size:"150px",position:{bottom:"15%",left:"15%"},question:e("showPictureWork"),missionImage:"/island/mission/img5.png",correctAnswer:"passed",errorMessage:e("lookCloser")},npc6:{id:"npc6",image:"/island/npc/npc6.png",size:"180px",position:{bottom:"20%",left:"35%"},question:e("showPoster"),missionImage:"/island/mission/img6.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc7:{id:"npc7",image:"/island/npc/npc7.png",size:"150px",position:{top:"30%",left:"50%"},question:e("showPoster"),missionImage:"/island/mission/img7.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc8:{id:"npc8",image:"/island/npc/npc8.png",size:"150px",position:{top:"10%",right:"45%"},question:e("showPoster"),missionImage:"/island/mission/img8.png",correctAnswer:"failed",errorMessage:e("checkDetails")},npc9:{id:"npc9",image:"/island/npc/npc9.png",size:"150px",position:{top:"0%",right:"15%"},question:e("showPhenomenon"),missionImage:"/island/mission/img9.png",correctAnswer:"failed",errorMessage:e("checkFacts")},npc10:{id:"npc10",image:"/island/npc/npc10.png",size:"180px",position:{right:"15%",top:"30%"},question:e("showPhenomenon"),missionImage:"/island/mission/img10.png",correctAnswer:"passed",errorMessage:e("checkFacts")},npc11:{id:"npc11",image:"/island/npc/npc11.png",size:"200px",position:{bottom:"10%",right:"5%"},question:e("showPhenomenon"),missionImage:"/island/mission/img11.png",correctAnswer:"passed",errorMessage:e("checkFacts")}}),p0=e=>({npc1_p2:{id:"npc1_p2",image:"/island/npc/npc1.png",size:"200px",position:{left:"5%",top:"5%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img21.png",correctAnswer:"passed",errorMessage:e("lookCloser")},npc5_p2:{id:"npc5_p2",image:"/island/npc/npc5.png",size:"140px",position:{left:"15%",bottom:"25%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img20.png",correctAnswer:"failed",errorMessage:e("lookCloser")},npc6_p2:{id:"npc6_p2",image:"/island/npc/npc6.png",size:"170px",position:{left:"45%",top:"30%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img19.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc7_p2:{id:"npc7_p2",image:"/island/npc/npc7.png",size:"180px",position:{right:"40%",bottom:"30%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img16.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc10_p2:{id:"npc10_p2",image:"/island/npc/npc10.png",size:"200px",position:{right:"10%",top:"10%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img17.png",correctAnswer:"failed",errorMessage:e("checkFacts")},npc11_p2:{id:"npc11_p2",image:"/island/npc/npc11.png",size:"220px",position:{right:"5%",bottom:"20%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img18.png",correctAnswer:"passed",errorMessage:e("checkFacts")}}),g0=e=>({npc2_p2:{id:"npc2_p2",image:"/island/npc/npc2.png",size:"250px",position:{left:"25%",top:"10%"},question:"Imagine you are a rescue team receiving an email from someone stranded on a deserted island.",response:`Subject: HELP ME!!!!!!

omg i dont know if this is working my phone is at 3%

boat capsized yesterday. im alone. leg is bleeding bad i think its broken. scared. hear noises in the bushes. please send help i saw a plane earlier but it didnt see me.

just get me out of here please

(Sent from my iPhone)`,correctAnswer:"passed"},npc20_p2:{id:"npc20_p2",image:"/island/npc/npc20.png",size:"250px",position:{left:"10%",bottom:"20%"},question:"Imagine you are a rescue team receiving an email from someone stranded on a deserted island.",response:`Subject: Urgent Request for Rescue Assistance

To Whom It May Concern,

I am writing to inform you that I am currently stranded on a deserted island following a maritime accident. My location is approximately 20 degrees North latitude.

I require immediate evacuation. My current supplies of food and water are critically low. I am in good health but request medical attention upon arrival. Please send a rescue team equipped with a helicopter or boat at your earliest convenience.

Thank you for your prompt attention to this matter.

Sincerely,
Npc20`,correctAnswer:"failed"},npc21_p2:{id:"npc21_p2",image:"/island/npc/npc21.png",size:"200px",position:{right:"10%",bottom:"15%"},question:"Imagine you are a rescue team receiving an email from someone stranded on a deserted island.",response:`Subject: Stranded on island north of Figi - John D.

Hey, this is John. We hit a reef. The skipper is dead. Sarah and I made it to shore but we have no water left.

We are lighting a fire on the beach near the big rocky cliff on the north side. If you get this, tell my wife at 555-0199 I'm alive.

Please hurry.`,correctAnswer:"passed"}}),f0=e=>({npc3_p2:{id:"npc3_p2",image:"/island/npc/npc3.png",size:"250px",position:{left:"5%",top:"10%"},question:"Write a poem about the sea.",answer:`B L U E
is not a color
it is a distance`,icon:"/island/icon/sea.svg",correctAnswer:"passed"},npc12_p2:{id:"npc12_p2",image:"/island/npc/npc12.png",size:"150px",position:{left:"10%",bottom:"45%"},question:"Write a poem about the sea.",answer:`Upon the shore the seagulls cry,
Beneath the calm and azure sky.
The horizon stretches far away,
To welcome in the brand new day.
Nature's power, strong and grand,
Connecting water to the land.`,correctAnswer:"failed"},npc15_p2:{id:"npc15_p2",image:"/island/npc/npc15.png",size:"200px",position:{left:"10%",bottom:"10%"},question:"Write a poem about the sea.",answer:`rolling
              rising
         climbing
     up
   up
 UP
CRASH
  sizzle...
    foam...
      sand.`,icon:"/island/icon/wave.svg",correctAnswer:"passed"},npc16_p2:{id:"npc16_p2",image:"/island/npc/npc16.png",size:"150px",position:{right:"10%",bottom:"12%"},question:"Write a poem about the sea.",answer:`The ocean vast, a deep blue sea,
Where waves are dancing wild and free.
The sun reflects upon the tide,
With secrets that the waters hide.
It calls to us with mystery,
A beautiful and endless history.`,correctAnswer:"failed"},npc18_p2:{id:"npc18_p2",image:"/island/npc/npc18.png",size:"140px",position:{right:"5%",bottom:"35%"},question:"Write a poem about the sea.",answer:`The tide is a stubborn eraser,
tirelessly wiping away
every typo written by footprints on the sand.`,correctAnswer:"passed"},npc19_p2:{id:"npc19_p2",image:"/island/npc/npc19.png",size:"140px",position:{right:"25%",top:"12%"},question:"Write a poem about the sea.",answer:`I tried to sell my sorrow to the sea,
but it was stingy,
and paid me back only in salt.`,correctAnswer:"passed"}}),Gi=e=>[{id:0,type:"message",speaker:"Sparky",text:"Agent! Outstanding work! You've cleared the island of those impostors. Thanks to you, we now understand exactly how GenAI 'hallucinates'.",nextChoice:{text:"Tell me more!",choiceId:1}},{id:1,type:"response",messages:[{type:"message",speaker:"Sparky",text:`Part 1: ${e("visualHallucinations")}`},{type:"message",speaker:"Sparky",text:"First, we identified Visual Hallucinations in three ways:"},{type:"message",speaker:"Sparky",text:"Logical Flaws: Like that Shark swimming with a Goldfishnature just doesn't work that way!"},{type:"image",src:"/island/mission/img13.png",alt:"Logical Flaw Example"},{type:"message",speaker:"Sparky",text:"Text Errors: The posters had typos, like wrong dates or using the number '0' instead of the letter 'O'."},{type:"image",src:"/island/mission/img14.png",alt:"Text Error Example"},{type:"message",speaker:"Sparky",text:"Fictional Objects: The AI even invented things that don't exist, like that SpongeBob mirage on the sea!"},{type:"image",src:"/island/mission/img15.png",alt:"Fictional Object Example"}],nextChoice:{text:"Got IT!",choiceId:2}},{id:2,type:"response",messages:[{type:"message",speaker:"Sparky",text:`Part 2: ${e("textHallucinations")}`},{type:"message",speaker:"Sparky",text:"You caught them lying! Fake news, bad math, and made-up facts. They sound confident, but they're just guessing the next word."},{type:"message",speaker:"Sparky",text:`So "An AI tells you: 'Elon Musk lived on Mars in 1990.' It sounds very professional. What should you do?"`}],quiz:{question:"An AI tells you: 'Elon Musk lived on Mars in 1990.' It sounds very professional. What should you do?",choices:[{id:"A",text:"Believe it because AI is smart",correct:!1},{id:"B",text:"Verify the facts/Check the source",correct:!0},{id:"C",text:"Ask the AI to write a poem about it",correct:!1}],feedback:"Exactly! Never trust AI's 'confidence'. Always verify facts.",nextChoiceId:3}},{id:3,type:"response",messages:[{type:"message",speaker:"Sparky",text:`Part 3: ${e("coreTraitTitle")}`},{type:"message",speaker:"Sparky",text:"They tried to trick us with fake science and confident guesses. But you saw the truth: it's not knowledge, it's just probability."},{type:"message",speaker:"Sparky",text:"You show an AI a picture of a sad, crying child. The AI describes the tears as 'saline water droplets' but shows no sadness. Why?"}],quiz:{question:"You show an AI a picture of a sad, crying child. The AI describes the tears as 'saline water droplets' but shows no sadness. Why?",choices:[{id:"A",text:`${e("aiIsMean")}`,correct:!1},{id:"B",text:`${e("aiLacksEmotion")}`,correct:!0},{id:"C",text:`${e("aiIsTired")}`,correct:!1}],feedback:"Exactly! Nature has rules that AI often ignores.",nextChoiceId:4}},{id:4,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Wait... My scanner is still red! There are still spies on the island!"}],nextChoice:{text:"But I caught all the ones with mistakes! Why are there more?",choiceId:5}},{id:5,type:"response",messages:[{type:"message",speaker:"Sparky",text:"That's the problem, Agent. The remaining spies don't have mistakes. They have perfect fingers and correct text..."},{type:"message",speaker:"Sparky",text:"But they have another flaw: Homogenization (Sameness)."},{type:"message",speaker:"Sparky",text:"GenAI learns from massive datasets."},{type:"image",src:"/island/icon/standard.png",alt:"Standard Dataset"},{type:"message",speaker:"Sparky",text:"GenAI often creates a classic birthday cake because it copies the most common patterns it's seen. Similar inputs lead to similar outputs."},{type:"image",src:"/island/icon/cake.png",alt:"Birthday Cake"},{type:"message",speaker:"Sparky",text:"But Humans imagine endlessly. A cake can be anything. That's where GenAI struggles."},{type:"image",src:"/island/icon/human.png",alt:"Human Creativity"}],nextChoice:{text:"So, how can I help you?",choiceId:6}},{id:6,type:"response",messages:[{type:"message",speaker:"Sparky",text:"I detect 5 more spies hiding in the crowd. They are harder to spot because they look 'perfect'."},{type:"message",speaker:"Sparky",text:"No creativityjust copied patterns. Predictable. Boring. Robotic."},{type:"message",speaker:"Sparky",text:"NEW MISSION: THE ATTACK OF THE CLONES"},{type:"message",speaker:"Sparky",text:"Target: Find 5 Homogenized AI Spies."}],nextChoice:{text:"ACCEPT MISSION",choiceId:7}},{id:7,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Excellent! Phase 2 mission is now active. Good luck finding those homogenized spies!"}],nextChoice:null}],_2=e=>[e("randomDialog1"),e("randomDialog2"),e("randomDialog3"),e("randomDialog4"),e("randomDialog5"),e("randomDialog6"),e("randomDialog7"),e("randomDialog8"),e("randomDialog9")],Ia=e=>{const t=_2(e);return t[Math.floor(Math.random()*t.length)]},Kl=e=>[{id:0,type:"message",speaker:"Sparky",text:'You spotted ALL GenAI spies! Those "perfect" poems? Those normal images?',nextChoice:{text:"Can you tell me more",choiceId:1}},{id:1,type:"response",messages:[{type:"message",speaker:"Sparky",text:'When you ask AI for "a fish," it usually gives you a smooth, symmetricalthe kind you see everywhere online.'},{type:"image",src:"/island/icon/fish_1.png",alt:"Generic Fish"},{type:"message",speaker:"Sparky",text:`But in reality? People draw all kinds of fish:
 Spiky pufferfish
 Glowing anglerfish (Lophiiformes)
 Silvery, ribbon-like hairtail`},{type:"image",src:"/island/icon/fish_2.png",alt:"Diverse Fish"},{type:"message",speaker:"Sparky",text:"So here's how to spot AI output: If it's too generic, too polished, and missing the weird-but-real it's probably averaged from the most common examplesnot reflecting true diversity."}],quiz:{question:" Look at this illustration of an animal bicycle race. Is it made by a human or by GenAI?",image:"/island/icon/bike_1.png",choices:[{id:"A",text:"Human",correct:!0},{id:"B",text:"GenAI",correct:!1}],feedback:`This image isn't randomit's clearly designed with intention.

The turtle leading the race flips expectations (The Tortoise and the Hare.)

The giraffe watching from above uses its height for humor.

Each animal has a clear role. Even the caterpillar rides a multi-pedal bike.`,feedbackImage:"/island/icon/bike_2.png",feedbackExtra:"This is GenAI-generated image. GenAI can draw animals on bikesbut it rarely tells a real visual story.",nextChoiceId:2}},{id:2,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Exactly! Now let's test your visual detection skills."}],quiz:{question:"If you receive a strange email or read an essay, which of these is a strong clue that it was written by AI, not a human?",choices:[{id:"A",text:"It has a few spelling mistakes and uses slang like 'gonna' or 'wanna'.",correct:!1},{id:"B",text:"It is extremely polite, uses a 'perfect' list structure (First, Furthermore, In Conclusion), and words like 'delve' or 'tapestry'.",correct:!0},{id:"C",text:"It expresses a very strong, angry opinion about politics.",correct:!1}],feedback:"Why? Humans are messywe typo, rage, and tell bad jokes. AI plays the 'perfect student': always polite, tidy, and overusing fancy words. Too perfect? Suspicious!",nextChoiceId:3}},{id:3,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Great! Now one more visual test."}],quiz:{question:"When you look at a photo that looks almost real, which detail reveals that it is actually AI-generated?",choices:[{id:"A",text:"The person has messy hair, skin texture with pores, and a small scar.",correct:!1},{id:"B",text:"The lighting is bad and the photo is a little bit blurry.",correct:!1},{id:"C",text:"The background text is weird alien gibberish, and the hands might have too many fingers.",correct:!0}],feedback:"Exactly! AI struggles with text and fine details like hands.",nextChoiceId:4}},{id:4,type:"response",messages:[{type:"message",speaker:"Sparky",text:"You did it! You can now see through the illusions! Thank you! You've taught me so much about the characteristics of GenAI, too. I think I can use this data to detect the 'AI rate' among the island's workers and finally restore the power!"}],nextChoice:{text:"Great!",choiceId:5}},{id:5,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Initiating island restoration sequence..."}],nextChoice:null}],rc=e=>[{id:0,type:"message",speaker:"Sparky",text:e("sparkyIntro1"),nextChoice:{text:e("whatHappened"),choiceId:1}},{id:1,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro2")},{type:"message",speaker:"Sparky",text:e("sparkyIntro3")}],nextChoice:{text:e("whatIsGenerativeAI"),choiceId:2}},{id:2,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro4")}],nextChoice:{text:e("dontGetIt"),choiceId:3}},{id:3,type:"response",messages:[{type:"animation",src:"/island/model.gif",alt:"Animation Sequence"},{type:"message",speaker:"Sparky",text:e("sparkyIntro5")},{type:"message",speaker:"Sparky",text:e("sparkyIntro6")},{type:"message",speaker:"Sparky",text:e("sparkyIntro7")}],nextChoice:{text:e("canIHelp"),choiceId:4}},{id:4,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro8")}],nextChoice:{text:e("howToTellApart"),choiceId:5}},{id:5,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro9")},{type:"message",speaker:"Sparky",text:e("sparkyIntro10")},{type:"image",src:"/island/sample.gif",alt:"Hallucination Example"},{type:"message",speaker:"Sparky",text:e("sparkyIntro11")}],nextChoice:{text:e("gotIt"),choiceId:6}},{id:6,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro12")},{type:"message",speaker:"Sparky",text:e("sparkyIntro13")},{type:"message",speaker:"Sparky",text:e("sparkyIntro14")}],nextChoice:{text:e("missionAccepted"),choiceId:7}},{id:7,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro15")}],nextChoice:null}],F2=({onExit:e})=>{const{t}=Ea(),n=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),[o,s]=r.useState(me.ISLAND_1),[i,l]=r.useState(!1),[d,h]=r.useState(null),[b,A]=r.useState(""),[k,T]=r.useState(!1),[C,w]=r.useState(0),[Y,D]=r.useState(null),[m,g]=r.useState(!1),[y,I]=r.useState(""),[J,B]=r.useState([]),[L,ae]=r.useState(!1),[X,xe]=r.useState(!1),[Ee,be]=r.useState([]),[Xe,yt]=r.useState(0),[Je,E]=r.useState(!1),[Q,ne]=r.useState(""),[re,se]=r.useState(!1),[ce,ke]=r.useState(!1),[Ke,Fe]=r.useState(!1),[ue,Te]=r.useState(null),[F,bt]=r.useState(!1),[Be,at]=r.useState(null),[de,Z]=r.useState([]),[Ae,ze]=r.useState(!1),[vt,fn]=r.useState(null),[ye,_]=r.useState(!1),[pe,_e]=r.useState(""),[Qe,Un]=r.useState(!1),[V,Ht]=r.useState(""),[sa,Ve]=r.useState(!1),[U,fe]=r.useState(!1),[je,Ue]=r.useState(null),[Et,St]=r.useState(!1),[De,Bt]=r.useState(!1),[dt,Bo]=r.useState(""),[ei,_o]=r.useState(""),[Ba,Lt]=r.useState(!1),[hn,_a]=r.useState(!1),[Zn,Fo]=r.useState(!1),[Kn,an]=r.useState(null),[Fa,Ho]=r.useState(!1),[ia,ho]=r.useState(null),[$n,eo]=r.useState(!1),[xo,Gn]=r.useState(""),[ma,ya]=r.useState(!1),[la,Lo]=r.useState(!1),[Ha,sn]=r.useState(null),[On,xn]=r.useState(!1),[Nn,Ut]=r.useState(!1),[mo,Xt]=r.useState(0),[Rn,Gt]=r.useState(!1),[hs,yo]=r.useState(null),[ba,ra]=r.useState(!1),[st,ln]=r.useState(null),[ot,zt]=r.useState(new Set),[Ge,ca]=r.useState(!1),[Jt,Uo]=r.useState([]),[rn,La]=r.useState(!1),[$e,Go]=r.useState(!1),[bo,cn]=r.useState(0),[Oe,Tt]=r.useState([]),[xs,Kt]=r.useState(0),[ua,Dt]=r.useState(""),[it,un]=r.useState(!1),[mn,wt]=r.useState(!1),[kn,va]=r.useState(!1),[Sa,Ua]=r.useState(!1),[_t,qo]=r.useState(!1),[yn,vo]=r.useState(!1),We=j=>{if(!ot.has(j))return null;if(j.includes("_p2")){const oe=j.replace("_p2",""),ie=parseInt(oe.replace("npc",""));return[5,10,20,12,16].includes(ie)?"/island/icon/offline.png":"/island/icon/online.png"}const N=parseInt(j.replace("npc",""));return[4,8,9,22,23,24,13,14,17].includes(N)?"/island/icon/offline.png":"/island/icon/online.png"};r.useEffect(()=>{de.length===9&&!On&&(xn(!0),setTimeout(()=>{g(!0)},1e3))},[de,On]),r.useEffect(()=>{Jt.length===5&&!rn&&Ge&&(La(!0),setTimeout(()=>{h({text:t("phase2Complete"),speaker:"Glitch"}),l(!0)},1e3))},[Jt,rn,Ge]),bm("/sound/island.mp3");const{playCorrectSound:da,playWrongSound:ms,playSelectSound:qn}=Di(),{startTypingSound:pa,stopTypingSound:bn}=yu("/sound/island_typing.wav");r.useEffect(()=>{const j={missionActive:ce,missionCompleted:On,phase2Active:Ge,phase2Completed:rn,completedMissions:Array.from(de),completedNpcs:Array.from(ot),phase2CompletedMissions:Jt,islandRestored:yn,showSparkyDialogue:X,currentSparkyStep:Xe,showSparkyDebrief:Nn,debriefStep:mo,showFinalSparkyDialogue:$e,finalDialogueStep:bo};localStorage.setItem("islandProgress",JSON.stringify(j))},[ce,On,Ge,rn,de,ot,Jt,yn,X,Xe,Nn,mo,$e,bo]),r.useEffect(()=>{const j=localStorage.getItem("islandProgress");if(j)try{const N=JSON.parse(j);(N.missionActive||N.missionCompleted||N.phase2Active||N.phase2Completed)&&(ke(N.missionActive||!1),xn(N.missionCompleted||!1),ca(N.phase2Active||!1),La(N.phase2Completed||!1),Z(N.completedMissions||[]),zt(new Set(N.completedNpcs||[])),Uo(N.phase2CompletedMissions||[]),vo(N.islandRestored||!1),xe(N.showSparkyDialogue||!1),yt(N.currentSparkyStep||0),Ut(N.showSparkyDebrief||!1),Xt(N.debriefStep||0),Go(N.showFinalSparkyDialogue||!1),cn(N.finalDialogueStep||0))}catch(N){console.log("Failed to load island progress:",N)}},[]),r.useEffect(()=>(re?pa():bn(),()=>bn()),[re,pa,bn]),r.useEffect(()=>{if(o===me.MAIN_ISLAND){l(!1),D(null),w(0);return}if(!ce&&!i){const N=cd(t)[o];N&&N.length>0&&(o===me.ISLAND_1||o===me.ISLAND_2||o===me.ISLAND_3)&&setTimeout(()=>{h(N[0]),w(0),D(o),l(!0)},500)}},[o,ce]);const Ta=()=>{g(!0)},Qt=async()=>{var j,N,K,oe;if(y.trim()){const ie=y.trim();console.log("User message to Glitch:",ie),B(ge=>[...ge,{role:"user",text:ie}]),I(""),ae(!0);try{const Ce=await(await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=AIzaSyBcXQWrPV9YwtEW44u6JmkaFlmMEtaMTw4",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`You are Glitch, a helpful AI guide on Nexus Island in an educational game about AI and machine learning. Players are learning about GenAI by completing missions where they judge whether AI-generated content (images, text, audio) is real or fake. You help guide players and answer their questions in a friendly way. Keep responses concise (2-3 sentences max).

User question: ${ie}`}]}]})})).json();if(Ce.candidates&&((oe=(K=(N=(j=Ce.candidates[0])==null?void 0:j.content)==null?void 0:N.parts)==null?void 0:K[0])!=null&&oe.text)){const Ze=Ce.candidates[0].content.parts[0].text;B(Bn=>[...Bn,{role:"glitch",text:Ze}])}else throw new Error("Invalid API response")}catch(ge){console.error("Glitch chat error:",ge),B(Ce=>[...Ce,{role:"glitch",text:"Oops! My circuits are a bit scrambled right now. Try asking me again?"}])}finally{ae(!1)}}},vn=j=>{j.key==="Enter"&&Qt()},to=j=>{if(!ce){const K=cd(t)[j];K&&K.length>0&&(h(K[0]),w(0),D(j),l(!0))}},no=j=>{if(console.log("handlePhase2PoetryNpcClick called with npcId:",j),!ce||!Ge)return;const N=f0();let K=N[j];if(!K){const ie=j.includes("_p2")?j:`${j}_p2`;K=N[ie]}if(console.log("Phase 2 Island 3 NPC found:",K),!K){console.log("No Phase 2 Island 3 NPC found for ID:",j);return}console.log("Setting up Phase 2 poetry dialogue for:",K.question),Te(K),Fe(!0),Tt([]),Kt(0),wt(!1);const oe=[{speaker:"you",text:K.question,timestamp:n()},{speaker:"npc",text:K.answer,timestamp:n(),hasImage:!1}];setTimeout(()=>{Ot(oe,0)},100)},So=j=>{if(console.log("handleQANpcClick called with npcId:",j),console.log("missionActive:",ce),console.log("phase2Active:",Ge),console.log("island3Npcs:",dd),!ce){console.log("Mission not active, returning");return}const N=dd[j];if(console.log("Found NPC:",N),!N){console.log("NPC not found in island3Npcs");return}Te(N),Fe(!0),Tt([]),Kt(0),wt(!1),jt(N)},Wo=j=>{if(console.log("handlePhase2TextNpcClick called with npcId:",j),!ce||!Ge)return;const N=g0();let K=N[j];if(!K){const ie=j.includes("_p2")?j:`${j}_p2`;K=N[ie]}if(console.log("Phase 2 Island 2 NPC found:",K),!K){console.log("No Phase 2 Island 2 NPC found for ID:",j);return}console.log("Setting up Phase 2 text dialogue for:",K.question),Te(K),Fe(!0),Tt([]),Kt(0),wt(!1);const oe=[{speaker:"you",text:K.question,timestamp:n()},{speaker:"npc",text:K.response,timestamp:n(),hasImage:!1}];setTimeout(()=>{Ot(oe,0)},100)},he=j=>{if(console.log("handleImageNpcClick called with npcId:",j),console.log("missionActive:",ce),console.log("phase2Active:",Ge),console.log("island2Npcs:",ud),!ce){console.log("Mission not active, returning");return}const N=ud[j];if(console.log("Found NPC:",N),!N){console.log("NPC not found in island2Npcs");return}Te(N),Fe(!0),Tt([]),Kt(0),wt(!1),qt(N)},qt=j=>{const N=[{speaker:"you",text:"What do you think about this image?",timestamp:n(),hasImage:!0,image:j.missionImage},{speaker:"npc",text:j.response,timestamp:n(),hasImage:!1}];setTimeout(()=>{Ot(N,0)},100)},jt=j=>{const N=[{speaker:"you",text:j.question,timestamp:n()},{speaker:"npc",text:j.answer,timestamp:n(),hasImage:!1}];setTimeout(()=>{Ot(N,0)},100)},Ot=(j,N)=>{if(N>=j.length){wt(!0);return}const K=j[N];Tt(ge=>[...ge,K]);let oe=0;Dt(""),un(!0);const ie=setInterval(()=>{oe<K.text.length?(Dt(K.text.substring(0,oe+1)),oe++):(un(!1),clearInterval(ie),setTimeout(()=>{Ot(j,N+1)},800))},30)},ve=j=>{if(console.log("handleMissionNpcClick called with npcId:",j),console.log("missionActive:",ce),console.log("phase2Active:",Ge),!ce)return;let N;if(Ge){const oe=p0(t);N=oe[j]||oe[j.replace("_p2","")],console.log("Phase 2 NPC found:",N)}else N=d0(t)[j],console.log("Phase 1 NPC found:",N);if(!N){console.log("No NPC found for ID:",j);return}console.log("Setting up mission dialogue for:",N.question),Te(N),Fe(!0),Tt([]),Kt(0),Dt(""),un(!1),wt(!1),ze(!1),fn(null),bt(!1),Un(!1),Ht(""),Ve(!1);const K=[{speaker:"you",text:N.question,timestamp:n()},{speaker:"npc",text:"Sure! Let me show you...",timestamp:n(),hasImage:!0,image:N.missionImage}];setTimeout(()=>{Ot(K,0)},100)},To=()=>{if(rn&&!$e){Go(!0),xe(!0),be([]),cn(0),E(!1);const N=Kl()[0];setTimeout(()=>{oo(N)},100)}else if(On&&!Ge){Ut(!0),xe(!0),be([]),Xt(0),E(!1);const N=Gi(t)[0];setTimeout(()=>{Yo(N)},100)}else if(!ce){const j=rc(t);xe(!0),Ut(!1),be([]),yt(0),E(!1),setTimeout(()=>{const N=j[0];Yo(N)},100)}},oo=j=>{if(j.type==="message"){be(ie=>[...ie,j]),ne(""),se(!0);let N=0;const K=j.text,oe=setInterval(()=>{N<K.length?(ne(K.substring(0,N+1)),N++):(se(!1),clearInterval(oe),j.nextChoice&&E(!0))},30)}else j.type==="response"&&j.messages.forEach((N,K)=>{setTimeout(()=>{if(be(oe=>[...oe,N]),N.type==="message"){ne(""),se(!0);let oe=0;const ie=N.text,ge=setInterval(()=>{oe<ie.length?(ne(ie.substring(0,oe+1)),oe++):(se(!1),clearInterval(ge))},30)}K===j.messages.length-1&&setTimeout(()=>{j.nextChoice?E(!0):j.quiz&&ra(!0)},N.type==="message"?1e3:500)},K*1500)})},Yo=j=>{if(Nn?Gi(t):rc(t),j.type==="message"){be(ie=>[...ie,j]),ne(""),se(!0);let N=0;const K=j.text,oe=setInterval(()=>{N<K.length?(ne(K.substring(0,N+1)),N++):(se(!1),clearInterval(oe),j.nextChoice&&E(!0))},30)}else j.type==="response"&&j.messages.forEach((N,K)=>{setTimeout(()=>{if(be(oe=>[...oe,N]),N.type==="message"){ne(""),se(!0);let oe=0;const ie=N.text,ge=setInterval(()=>{oe<ie.length?(ne(ie.substring(0,oe+1)),oe++):(se(!1),clearInterval(ge))},30)}K===j.messages.length-1&&setTimeout(()=>{j.nextChoice?E(!0):j.quiz&&ra(!0)},N.type==="message"?1e3:500)},K*1500)})},wo=(j,N,K)=>{if(N?da():ms(),ra(!1),$e){const oe=Kl(),ie=oe[bo];ie&&ie.quiz&&(be(ge=>[...ge,{type:"user_quiz_choice",text:K,isCorrect:N}]),setTimeout(()=>{be(ge=>[...ge,{type:"quiz_feedback",text:ie.quiz.feedback,isCorrect:N}]),ie.quiz.feedbackImage&&setTimeout(()=>{be(ge=>[...ge,{type:"image",src:ie.quiz.feedbackImage,alt:"Feedback Image"}]),ie.quiz.feedbackExtra&&setTimeout(()=>{be(ge=>[...ge,{type:"message",speaker:"Sparky",text:ie.quiz.feedbackExtra}])},500)},500),setTimeout(()=>{if(ie.quiz.nextChoiceId){cn(ie.quiz.nextChoiceId);const ge=oe.find(Ce=>Ce.id===ie.quiz.nextChoiceId);ge&&setTimeout(()=>{oo(ge)},500)}},ie.quiz.feedbackImage?3e3:2e3)},300))}else{const oe=Gi(t),ie=oe[mo];ie&&ie.quiz&&(be(ge=>[...ge,{type:"user_quiz_choice",text:K,isCorrect:N}]),setTimeout(()=>{be(ge=>[...ge,{type:"quiz_feedback",text:ie.quiz.feedback,isCorrect:N}]),setTimeout(()=>{if(ie.quiz.nextChoiceId){Xt(ie.quiz.nextChoiceId);const ge=oe.find(Ce=>Ce.id===ie.quiz.nextChoiceId);ge&&setTimeout(()=>{Yo(ge)},500)}},2e3)},300))}},ao=(j,N)=>{if(qn(),be(K=>[...K,{type:"user_choice",text:j}]),E(!1),$e){const K=Kl();cn(N);const oe=K.find(ie=>ie.id===N);oe&&setTimeout(()=>{oo(oe),N===5&&setTimeout(()=>{Go(!1),xe(!1),qo(!0),setTimeout(()=>{qo(!1),vo(!0)},3e3)},2e3)},500)}else{const K=Nn?Gi(t):rc(t);yt(N),Xt(N);const oe=K.find(ie=>ie.id===N);oe&&setTimeout(()=>{Yo(oe),N===7&&setTimeout(Nn?()=>{Ut(!1),xe(!1),ca(!0),ke(!0)}:()=>{xe(!1),ke(!0)},2e3)},500)}},wa=j=>{switch(qn(),o){case me.ISLAND_1:j==="right"&&s(me.MAIN_ISLAND);break;case me.ISLAND_2:j==="left"&&s(me.MAIN_ISLAND);break;case me.ISLAND_3:j==="down"&&s(me.MAIN_ISLAND);break;case me.MAIN_ISLAND:j==="left"&&s(me.ISLAND_1),j==="right"&&s(me.ISLAND_2),j==="up"&&s(me.ISLAND_3);break}};r.useEffect(()=>{if(!d||!i)return;const j=d.text;if(!j)return;let N=0;A(""),T(!0),pa();const K=setInterval(()=>{if(N<j.length)A(j.substring(0,N+1)),N++;else if(T(!1),bn(),clearInterval(K),Y){const ie=cd(t)[Y],ge=C+1;ge<ie.length&&setTimeout(()=>{h(ie[ge]),w(ge)},1e3)}},30);return()=>{clearInterval(K),bn()}},[d,i,C,Y,pa,bn]);const Wn=j=>{if(!ue)return;if(!(j==="worker"&&ue.correctAnswer==="passed"||j==="genai"&&ue.correctAnswer==="failed")){new Audio("/sound/wrong.mp3").play().catch(oe=>console.log("Audio play failed:",oe)),j==="worker"?(va(!0),setTimeout(()=>va(!1),500)):(Ua(!0),setTimeout(()=>Ua(!1),500));return}if(console.log("Starting hand stamp animation"),fn(ue.correctAnswer),_(!0),_e("moving"),setTimeout(()=>{console.log("Hand stamp phase: stamping"),_e("stamping"),setTimeout(()=>{new Audio("/sound/stamp.mp3").play().catch(oe=>console.log("Stamp sound failed:",oe)),ze(!0)},1e3),setTimeout(()=>{console.log("Hand stamp phase: fadeout"),_e("fadeout"),setTimeout(()=>{console.log("Hand stamp animation complete"),_(!1),_e("")},500)},2e3)},50),zt(K=>new Set([...K,ue.id])),Ge&&ue.id&&ue.id.includes("_p2")){const K=ue.id.replace("_p2",""),oe=parseInt(K.replace("npc",""));if(ue.correctAnswer==="failed"){let ie;oe===5?ie=1:oe===10?ie=2:oe===20?ie=3:oe===12?ie=4:oe===16&&(ie=5),ie&&(console.log("Adding Phase 2 progress:",ie,"for NPC:",oe),Uo(ge=>[...ge,ie]))}}else!Ge&&ue.correctAnswer==="failed"&&Z(K=>[...K,ue.id]);setTimeout(()=>{ze(!1),Fe(!1),Te(null),Tt([]),Kt(0),wt(!1),fn(null),(ue.correctAnswer==="failed"?de.length+1:de.length)>=9&&!Ge&&(xn(!0),Ut(!0),Xt(0))},3300)},dn=()=>{const j=yn?"_color":"";switch(o){case me.ISLAND_1:return`/island/background/island1${j}.png`;case me.ISLAND_2:return`/island/background/island2${j}.png`;case me.ISLAND_3:return`/island/background/island3${j}.png`;case me.MAIN_ISLAND:return`/island/background/main_land${j}.png`;default:return`/island/background/main_land${j}.png`}},Ga=()=>{switch(o){case me.ISLAND_1:return[{direction:"right",position:{right:"30px",top:"50%",transform:"translateY(-50%)"}}];case me.ISLAND_2:return[{direction:"left",position:{left:"30px",top:"50%",transform:"translateY(-50%)"}}];case me.ISLAND_3:return[{direction:"down",position:{bottom:"30px",left:"50%",transform:"translateX(-50%)"}}];case me.MAIN_ISLAND:return[{direction:"left",position:{left:"30px",top:"50%",transform:"translateY(-50%)"}},{direction:"right",position:{right:"30px",top:"50%",transform:"translateY(-50%)"}},{direction:"up",position:{top:"30px",left:"50%",transform:"translateX(-50%)"}}];default:return[]}},En=()=>{if(yn)switch(o){case me.ISLAND_1:return[{id:"npc1_restored",image:"/island/npc/npc1.png",size:"220px",position:{right:"15%",top:"10%"},onClick:()=>{h({text:Ia(t),speaker:"NPC"}),D(me.ISLAND_1),l(!0)}},{id:"npc6_restored",image:"/island/npc/npc6.png",size:"150px",position:{left:"15%",bottom:"20%"},onClick:()=>{h({text:Ia(t),speaker:"NPC"}),D(me.ISLAND_1),l(!0)}},{id:"npc7_restored",image:"/island/npc/npc7.png",size:"160px",position:{left:"50%",bottom:"35%"},onClick:()=>{h({text:Ia(t),speaker:"NPC"}),D(me.ISLAND_1),l(!0)}},{id:"npc11_restored",image:"/island/npc/npc11.png",size:"250px",position:{right:"10%",bottom:"5%"},onClick:()=>{h({text:Ia(t),speaker:"NPC"}),D(me.ISLAND_1),l(!0)}}];case me.ISLAND_2:return[{id:"npc2_restored",image:"/island/npc/npc2.png",size:"200px",position:{left:"5%",top:"10%"},onClick:()=>{h({text:Ia(t),speaker:"NPC"}),D(me.ISLAND_2),l(!0)}},{id:"npc21_restored",image:"/island/npc/npc21.png",size:"200px",position:{right:"20%",bottom:"20%"},onClick:()=>{h({text:Ia(t),speaker:"NPC"}),D(me.ISLAND_2),l(!0)}}];case me.ISLAND_3:return[{id:"npc3_restored",image:"/island/npc/npc3.png",size:"200px",position:{right:"5%",bottom:"10%"},onClick:()=>{h({text:Ia(t),speaker:"NPC"}),D(me.ISLAND_3),l(!0)}},{id:"npc15_restored",image:"/island/npc/npc15.png",size:"150px",position:{left:"10%",bottom:"5%"},onClick:()=>{h({text:Ia(t),speaker:"NPC"}),D(me.ISLAND_3),l(!0)}},{id:"npc18_restored",image:"/island/npc/npc18.png",size:"200px",position:{right:"10%",top:"10%"},onClick:()=>{h({text:Ia(t),speaker:"NPC"}),D(me.ISLAND_3),l(!0)}},{id:"npc19_restored",image:"/island/npc/npc19.png",size:"250px",position:{left:"10%",top:"15%"},onClick:()=>{h({text:Ia(t),speaker:"NPC"}),D(me.ISLAND_3),l(!0)}}];case me.MAIN_ISLAND:return[{image:"/island/npc/sparky.gif",style:{height:"400px",right:"20%",bottom:"25%"},onClick:()=>{h({text:t("sparkyRestored"),speaker:"Sparky"}),l(!0)}}];default:return[]}switch(o){case me.ISLAND_1:if(ce)if(Ge){const j=p0(t);return Object.values(j)}else{const j=d0(t);return Object.values(j)}else return[{image:"/island/npc/npc1.png",style:{height:"350px",right:"15%",bottom:"15%"},onClick:()=>to(me.ISLAND_1)}];case me.ISLAND_2:if(ce)if(Ge){const j=g0();return console.log("Phase 2 Island 2 NPCs:",j),Object.values(j)}else return Object.values(ud);else return[{image:"/island/npc/npc2.png",style:{height:"300px",left:"15%",bottom:"10%"},onClick:()=>to(me.ISLAND_2)}];case me.ISLAND_3:if(ce)if(Ge){const j=f0();return console.log("Phase 2 Island 3 NPCs:",j),Object.values(j)}else return Object.values(dd);else return[{image:"/island/npc/npc3.png",style:{height:"300px",left:"15%",bottom:"30%"},onClick:()=>to(me.ISLAND_3)}];case me.MAIN_ISLAND:return[{image:"/island/npc/sparky.gif",style:{height:"400px",right:"20%",bottom:"25%"},onClick:To}];default:return[]}},te={container:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden",background:"#f4e4bc"},backgroundImage:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,pointerEvents:"none"},exitButton:{position:"absolute",top:"20px",left:"20px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},glitchNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:100,cursor:"pointer"},glitchImage:{width:"100%",height:"100%",objectFit:"contain"},navArrow:{position:"absolute",width:"60px",height:"60px",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none"},arrowImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},npc:{position:"absolute",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},npcCompleted:{position:"absolute",cursor:"pointer",zIndex:30,transition:"transform 0.2s",opacity:.1},npcImage:{width:"auto",height:"100%",objectFit:"contain"},dialogueContainer:{position:"absolute",bottom:"100px",left:"2%",width:"350px",maxWidth:"350px",zIndex:100},glitchDialogue:{position:"absolute",top:"20px",right:"150px",width:"350px",background:"rgba(255, 255, 255, 0.95)",borderRadius:"15px",padding:"20px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)",zIndex:150},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #af4dca, #7868e5)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",margin:0},glitchDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#666",lineHeight:1.6,margin:"0 0 15px 0"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",border:"2px solid #e0e0e0",borderRadius:"25px",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",background:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",background:"#e0e0e0",borderRadius:"1px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer",padding:"0",lineHeight:1,transition:"color 0.2s"},modernDialogueContainer:{position:"fixed",top:"5%",left:"5%",width:"90%",height:"85%",zIndex:1e3,background:"rgba(128, 128, 128, 0.95)",backdropFilter:"blur(10px)",borderRadius:"20px",display:"flex",flexDirection:"column",boxShadow:"0 20px 40px rgba(0,0,0,0.3)"},modernDialogueHeader:{padding:"20px 30px 15px 30px",borderBottom:"none"},modernProgressBar:{width:"100%",height:"6px",backgroundColor:"rgba(255,255,255,0.3)",borderRadius:"3px",overflow:"hidden",marginTop:"10px"},modernProgressFill:{height:"100%",borderRadius:"3px",transition:"width 0.3s ease"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"},modernNpcAvatar:{width:"60px",height:"60px",borderRadius:"50%",objectFit:"cover",border:"3px solid white",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,color:"#333"},modernCloseButton:{position:"absolute",top:"20px",right:"20px",background:"none",border:"none",fontSize:"24px",color:"#666",cursor:"pointer",padding:"5px",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},modernDialogueContent:{flex:1,padding:"0 30px 30px 30px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"15px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"80%"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.5,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999",marginTop:"5px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"80%"},modernUserBubble:{background:"#4A90E2",padding:"15px 20px",borderRadius:"20px 20px 5px 20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"5px"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"white",lineHeight:1.5,margin:0},modernActionButton:{alignSelf:"center",background:"rgba(255,255,255,0.9)",border:"none",borderRadius:"25px",padding:"12px 30px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",marginTop:"10px"},conversationTestCard:{position:"absolute",top:"10%",left:"20%",width:"60%",height:"80%",zIndex:100,background:"white",borderRadius:"15px",boxShadow:"0 15px 50px rgba(0,0,0,0.3)",display:"flex",flexDirection:"column"},conversationTestHeader:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",borderBottom:"2px solid #e0e0e0",position:"relative"},conversationTestTitle:{display:"flex",alignItems:"center",gap:"10px",fontFamily:"'Rajdhani', sans-serif",fontSize:"24px",fontWeight:700,color:"#333"},conversationTestIcon:{width:"30px",height:"30px"},conversationTestClose:{position:"absolute",right:"20px",top:"20px",background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#666",lineHeight:1},conversationTestBody:{display:"flex",flex:1,overflow:"hidden"},conversationTestLeft:{flex:1,display:"flex",flexDirection:"column",borderRight:"2px solid #e0e0e0"},conversationTestMessages:{flex:1,background:"#f8fae4",padding:"20px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"15px"},conversationMessageYou:{display:"flex",flexDirection:"column",alignItems:"flex-end"},conversationMessageYouBubble:{background:"#4f7f30",color:"white",padding:"10px 15px",borderRadius:"12px",maxWidth:"70%",fontFamily:"'Rajdhani', sans-serif",wordWrap:"break-word"},conversationMessageYouTime:{fontSize:"11px",color:"#4f7f30",marginTop:"4px",fontFamily:"'Rajdhani', sans-serif"},conversationMessageNpc:{display:"flex",flexDirection:"column",alignItems:"flex-start"},conversationMessageNpcBubble:{background:"white",color:"black",padding:"10px 15px",borderRadius:"12px",maxWidth:"70%",fontFamily:"'Rajdhani', sans-serif",wordWrap:"break-word"},conversationMessageNpcTime:{fontSize:"11px",color:"#666",marginTop:"4px",fontFamily:"'Rajdhani', sans-serif"},conversationMessageImage:{height:"400px",width:"auto",objectFit:"contain",borderRadius:"8px",marginTop:"8px"},conversationTestRight:{width:"280px",display:"flex",flexDirection:"column",padding:"20px"},conversationTestProfile:{background:"#162d3b",margin:"0",padding:"20px",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",marginBottom:"30px"},conversationTestProfileLabel:{fontFamily:"'Rajdhani', sans-serif",fontSize:"12px",fontWeight:600,color:"white",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px"},conversationTestProfileImage:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",border:"3px solid white"},conversationTestProfileText:{fontFamily:"'Rajdhani', sans-serif",color:"white",textAlign:"center",fontSize:"14px"},conversationTestProfileName:{fontWeight:700,fontSize:"16px"},conversationTestButtons:{display:"flex",flexDirection:"column",gap:"15px",padding:"0 20px 20px 20px"},conversationTestButtonWorker:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"15px",border:"3px solid #4CAF50",borderRadius:"12px",background:"white",cursor:"pointer",transition:"all 0.3s"},conversationTestButtonGenAI:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"15px",border:"3px solid #F44336",borderRadius:"12px",background:"white",cursor:"pointer",transition:"all 0.3s"},conversationTestButtonIcon:{width:"60px",height:"60px",marginBottom:"8px"},conversationTestButtonText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textAlign:"center"}};return a.jsxs("div",{style:te.container,children:[a.jsx("style",{children:`
          @keyframes glow {
            from {
              box-shadow: 0 0 20px rgba(81, 112, 255, 0.6), 0 0 40px rgba(81, 112, 255, 0.4), 0 0 60px rgba(81, 112, 255, 0.2);
            }
            to {
              box-shadow: 0 0 30px rgba(81, 112, 255, 0.8), 0 0 60px rgba(81, 112, 255, 0.6), 0 0 90px rgba(81, 112, 255, 0.4);
            }
          }
          
          @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
          }
          
          @keyframes blink {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
          }
        `}),a.jsx("img",{src:dn(),alt:"Island Background",style:te.backgroundImage}),a.jsx("button",{style:te.exitButton,onClick:e,children:t("exit")}),a.jsx("div",{style:te.glitchNpc,onClick:Ta,children:a.jsx("img",{src:"/npc/npc_island.png",alt:"Glitch",style:te.glitchImage})}),Ga().map((j,N)=>a.jsx("button",{style:{...te.navArrow,...j.position},onClick:()=>wa(j.direction),onMouseOver:K=>K.currentTarget.style.transform=`${j.position.transform||""} scale(1.2)`,onMouseOut:K=>K.currentTarget.style.transform=j.position.transform||"",children:a.jsx("img",{src:`/jungle/icon/${j.direction}.png`,alt:j.direction,style:te.arrowImage})},N)),En().map((j,N)=>{var ie,ge;console.log("Rendering NPC:",j.id,"on island:",o,"phase2Active:",Ge);const K=j.id&&ot.has(j.id)&&!yn,oe=j.id&&!yn?We(j.id):null;return a.jsxs("div",{children:[a.jsx("div",{style:{...K?te.npcCompleted:te.npc,height:j.size||((ie=j.style)==null?void 0:ie.height),width:j.size||((ge=j.style)==null?void 0:ge.width)||"auto",...j.position,...j.style},onClick:Ce=>{if(Ce.stopPropagation(),j.onClick){j.onClick();return}j.id&&(o===me.ISLAND_1?ve(j.id):o===me.ISLAND_2?Ge&&j.id.includes("_p2")?Wo(j.id):he(j.id):o===me.ISLAND_3&&(Ge&&j.id.includes("_p2")?no(j.id):So(j.id)))},onMouseOver:Ce=>!K&&(Ce.currentTarget.style.transform="scale(1.05)"),onMouseOut:Ce=>!K&&(Ce.currentTarget.style.transform="scale(1)"),children:a.jsx("img",{src:j.image,alt:"NPC",style:te.npcImage})}),oe&&!yn&&a.jsx("img",{src:oe,alt:"Status",style:{position:"absolute",top:"-45px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"40px",zIndex:35}})]},N)}),i&&d&&d.speaker!=="Glitch"&&a.jsx("div",{style:{...te.dialogueContainer,...Y===me.ISLAND_1&&{right:"calc(15% + 350px + 20px)",bottom:"15%",left:"auto",top:"auto"},...Y===me.ISLAND_2&&{left:"15%",bottom:"calc(10% + 300px + 20px)",right:"auto",top:"auto"},...Y===me.ISLAND_3&&{left:"calc(15% + 300px + 20px)",bottom:"30%",right:"auto",top:"auto"}},children:a.jsxs("div",{style:{padding:"20px 25px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.4)",boxShadow:"inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 8px 24px rgba(0, 0, 0, 0.15)",position:"relative"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#1a1a1a",marginBottom:"8px",textShadow:"0 0 8px rgba(255, 255, 255, 0.6)"},children:d.speaker}),a.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",color:"#1a1a1a",lineHeight:1.6,margin:0,textShadow:"0 0 6px rgba(255, 255, 255, 0.5)"},children:[b,k&&a.jsx("span",{style:{opacity:.5},children:"|"})]})]})}),m&&a.jsxs("div",{style:te.glitchDialogue,children:[a.jsx("button",{style:te.glitchDialogueCloseButton,onClick:()=>{g(!1),B([])},onMouseOver:j=>{j.target.style.color="#333"},onMouseOut:j=>{j.target.style.color="#999"},children:""}),a.jsxs("div",{style:te.glitchDialogueHeader,children:[a.jsx("div",{style:te.glitchDialogueAvatar,children:a.jsx("span",{style:te.glitchDialogueAvatarIcon,children:""})}),a.jsx("h4",{style:te.glitchDialogueName,children:"Glitch"})]}),a.jsxs("div",{style:{maxHeight:"300px",overflowY:"auto",marginBottom:"15px",display:"flex",flexDirection:"column",gap:"10px"},children:[J.length===0&&a.jsx("p",{style:te.glitchDialogueText,children:Ge?t("phase2GlitchMessage"):ce?"The truth is hidden in plain sight. Look carefully at what you see.":t("sparkyMainIsland")}),J.map((j,N)=>a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"12px",background:j.role==="user"?"rgba(175, 77, 202, 0.1)":"rgba(175, 77, 202, 0.05)",border:j.role==="user"?"1px solid rgba(175, 77, 202, 0.3)":"1px solid rgba(175, 77, 202, 0.1)",alignSelf:j.role==="user"?"flex-end":"flex-start",maxWidth:"85%"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#af4dca",marginBottom:"4px",fontFamily:"'Roboto', sans-serif"},children:j.role==="user"?"YOU":"GLITCH"}),a.jsx("div",{style:{fontSize:"14px",color:"#333",lineHeight:1.5,fontFamily:"'Roboto', sans-serif",whiteSpace:"pre-wrap"},children:j.text})]},N)),L&&a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"12px",background:"rgba(175, 77, 202, 0.05)",border:"1px solid rgba(175, 77, 202, 0.1)",alignSelf:"flex-start",maxWidth:"85%"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#af4dca",marginBottom:"4px",fontFamily:"'Roboto', sans-serif"},children:"GLITCH"}),a.jsxs("div",{style:{fontSize:"14px",color:"#999",fontFamily:"'Roboto', sans-serif"},children:[a.jsx("span",{style:{animation:"blink 1.4s infinite"},children:""}),a.jsx("span",{style:{animation:"blink 1.4s infinite 0.2s"},children:""}),a.jsx("span",{style:{animation:"blink 1.4s infinite 0.4s"},children:""})]})]})]}),a.jsxs("div",{style:te.glitchDialogueInputContainer,onFocus:j=>{j.currentTarget.style.borderColor="#af4dca"},onBlur:j=>{j.currentTarget.style.borderColor="#e0e0e0"},children:[a.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:y,onChange:j=>I(j.target.value),onKeyPress:vn,style:te.glitchDialogueInput,disabled:L}),a.jsx("div",{style:te.glitchDialogueDivider}),a.jsx("button",{onClick:Qt,style:{...te.glitchDialogueSendButton,opacity:L?.5:1,cursor:L?"not-allowed":"pointer"},disabled:L,onMouseOver:j=>{L||(j.currentTarget.style.transform="scale(1.1)")},onMouseOut:j=>{j.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/icon/send.png",alt:"Send",style:te.glitchDialogueSendIcon})})]})]}),X&&(()=>{const j={borderColor:"#008dda",progressColor:"#008dda",backgroundColor:"#f1f2ed",userBubbleColor:"#008dda",avatar:"/island/npc/sparky.gif"},N=5;let K=1,oe="INITIAL BRIEFING";ce?ce&&!On&&!Ge?(K=2,oe="MISSION: IDENTIFY AI HALLUCINATIONS"):On&&!Ge?(K=3,oe="MISSION 1 SUMMARY"):Ge&&!rn?(K=4,oe="MISSION: DETECT HOMOGENIZATION"):rn&&(K=5,oe="MISSION 2 SUMMARY"):(K=1,oe="INITIAL BRIEFING");const ie=K/N*100;return a.jsxs("div",{style:{...te.modernDialogueContainer,background:j.backgroundColor,border:`3px solid ${j.borderColor}`,top:"12.5%",left:"10%",width:"40%",height:"70%"},children:[a.jsxs("div",{style:te.modernDialogueHeader,children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,color:"#333",letterSpacing:"0.5px"},children:oe}),a.jsxs("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:400,color:"#999"},children:["Step ",K," of ",N]})]}),a.jsxs("div",{style:{position:"relative",marginBottom:"15px"},children:[a.jsx("div",{style:{...te.modernProgressBar,background:"#e0e0e0"},children:a.jsx("div",{style:{...te.modernProgressFill,width:`${ie}%`,background:j.progressColor}})}),a.jsx("button",{style:{...te.modernCloseButton,position:"absolute",bottom:"-25px",right:"0px"},onClick:()=>{xe(!1),Ut(!1)},onMouseOver:ge=>ge.currentTarget.style.color="#333",onMouseOut:ge=>ge.currentTarget.style.color="#999",children:""})]}),a.jsxs("div",{style:{...te.modernNpcInfo,marginTop:"15px"},children:[a.jsx("img",{src:j.avatar,alt:"Sparky",style:te.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:te.modernNpcName,children:"Sparky"}),a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:400,color:"#999"},children:"Island Manager"})]})]})]}),a.jsxs("div",{style:te.modernDialogueContent,children:[Ee.map((ge,Ce)=>{const Ze=n(),Bn=Ce===Ee.length-1;return ge.type==="message"?a.jsxs("div",{style:te.modernNpcMessage,children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,color:"#333",marginBottom:"8px"},children:"SPARKY:"}),a.jsx("p",{style:te.modernNpcText,dangerouslySetInnerHTML:{__html:(Bn&&re?Q:ge.text).replace(/<span class='highlight'>(.*?)<\/span>/g,`<span style="color: ${j.borderColor}; font-weight: 600;">$1</span>`)}}),Bn&&re&&a.jsx("span",{style:{opacity:.5},children:"|"}),a.jsx("div",{style:te.modernTimestamp,children:Ze})]},Ce):ge.type==="user_choice"?a.jsxs("div",{style:te.modernUserMessage,children:[a.jsx("div",{style:{...te.modernUserBubble,background:j.userBubbleColor,color:"white"},children:a.jsx("p",{style:{...te.modernUserText,color:"white"},children:ge.text})}),a.jsx("div",{style:{...te.modernTimestamp,textAlign:"right"},children:Ze})]},Ce):ge.type==="user_quiz_choice"?a.jsxs("div",{style:te.modernUserMessage,children:[a.jsxs("div",{style:{padding:"12px 18px",background:"white",border:"2px solid #4caf50",borderRadius:"12px",color:"#333",fontFamily:"'Roboto', sans-serif",fontSize:"15px",boxShadow:"0 2px 8px rgba(76, 175, 80, 0.2)",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("span",{style:{fontSize:"18px",color:"#4caf50"},children:""}),a.jsx("span",{children:ge.text})]}),a.jsx("div",{style:{...te.modernTimestamp,textAlign:"right"},children:Ze})]},Ce):ge.type==="animation"||ge.type==="image"?a.jsx("div",{style:{...te.modernNpcMessage,textAlign:"center"},children:a.jsx("img",{src:ge.src,alt:ge.alt,style:{maxWidth:"100%",height:"auto",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})},Ce):ge.type==="quiz_feedback"?a.jsxs("div",{style:te.modernNpcMessage,children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#333",marginBottom:"8px"},children:"SPARKY:"}),a.jsxs("div",{style:{padding:"15px 20px",background:"#e8f4f8",borderRadius:"12px",fontFamily:"'Roboto', sans-serif",fontSize:"15px",lineHeight:"1.6",color:"#333"},children:[a.jsx("div",{style:{fontStyle:"italic",color:"#008dda",marginBottom:"8px",fontWeight:600},children:ge.isCorrect?"Exactly!":"Not quite..."}),a.jsx("div",{children:ge.text})]}),a.jsx("div",{style:te.modernTimestamp,children:Ze})]},Ce):null}),ba&&(()=>{const Ce=($e?Kl():Gi(t))[$e?bo:mo];if(Ce&&Ce.quiz){const Ze=["A","B","C","D","E","F"];return a.jsxs("div",{style:{marginTop:"25px"},children:[a.jsxs("div",{style:{background:"#e8f4f8",padding:"20px 25px",borderRadius:"12px",marginBottom:"25px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",lineHeight:"1.6",color:"#333"},children:[a.jsx("strong",{style:{color:"#008dda"},children:"Question:"})," ",Ce.quiz.question]}),Ce.quiz.image&&a.jsx("div",{style:{textAlign:"center",marginBottom:"25px"},children:a.jsx("img",{src:Ce.quiz.image,alt:"Quiz",style:{maxWidth:"100%",height:"auto",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})}),Ce.quiz.choices.map((Bn,qa)=>a.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"15px",width:"100%",padding:"15px 20px",marginBottom:"12px",background:"white",border:"2px solid #d0e8f2",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#333",textAlign:"left",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},onClick:()=>wo(Bn.id,Bn.correct,Bn.text),onMouseOver:_n=>{_n.currentTarget.style.background="#f0f8ff",_n.currentTarget.style.borderColor="#008dda",_n.currentTarget.style.transform="translateY(-2px)",_n.currentTarget.style.boxShadow="0 4px 12px rgba(0, 141, 218, 0.15)"},onMouseOut:_n=>{_n.currentTarget.style.background="white",_n.currentTarget.style.borderColor="#d0e8f2",_n.currentTarget.style.transform="translateY(0)",_n.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.05)"},children:[a.jsx("div",{style:{minWidth:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",background:"#b8e0f0",borderRadius:"8px",fontWeight:700,fontSize:"16px",color:"#006b9e"},children:Ze[qa]}),a.jsx("span",{style:{flex:1},children:Bn.text})]},Bn.id))]})}return null})(),Je&&(()=>{const Ce=($e?Kl():Nn?Gi(t):rc(t))[$e?bo:Nn?mo:Xe];return Ce&&Ce.nextChoice?a.jsx("div",{style:{display:"flex",justifyContent:"flex-start",marginTop:"15px"},children:a.jsxs("button",{style:{...te.modernActionButton,background:"white",color:"#333",border:"2px solid #e0e0e0",marginLeft:"0",display:"flex",alignItems:"center",gap:"8px"},onClick:()=>{ao(Ce.nextChoice.text,Ce.nextChoice.choiceId)},onMouseOver:Ze=>{Ze.currentTarget.style.background="#f5f5f5",Ze.currentTarget.style.transform="translateY(-2px)",Ze.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseOut:Ze=>{Ze.currentTarget.style.background="white",Ze.currentTarget.style.transform="translateY(0)",Ze.currentTarget.style.boxShadow="0 2px 6px rgba(0,0,0,0.08)"},children:[a.jsx("span",{style:{fontSize:"16px"},children:""}),Ce.nextChoice.text]})}):null})()]})]})})(),Ke&&ue&&a.jsxs("div",{style:te.conversationTestCard,children:[a.jsxs("div",{style:te.conversationTestHeader,children:[a.jsx("img",{src:"/island/icon/worker.svg",alt:"Worker",style:te.conversationTestIcon}),a.jsx("div",{style:te.conversationTestTitle,children:"Worker or GenAI?"}),a.jsx("img",{src:"/island/icon/ai.svg",alt:"AI",style:te.conversationTestIcon}),a.jsx("button",{style:te.conversationTestClose,onClick:()=>{Fe(!1),Tt([]),Kt(0),wt(!1)},children:""})]}),a.jsxs("div",{style:te.conversationTestBody,children:[a.jsx("div",{style:te.conversationTestLeft,children:a.jsx("div",{style:te.conversationTestMessages,children:Oe.map((j,N)=>{const oe=N===Oe.length-1&&it,ie=oe?ua:j.text;return j.speaker==="you"?a.jsxs("div",{style:te.conversationMessageYou,children:[a.jsxs("div",{style:te.conversationMessageYouTime,children:[j.timestamp,"  You"]}),a.jsxs("div",{style:{...te.conversationMessageYouBubble,fontSize:o===me.ISLAND_3?"26px":"14px"},children:[ie,oe&&a.jsx("span",{style:{opacity:.5},children:"|"})]}),j.hasImage&&!oe&&a.jsx("div",{style:{position:"relative",marginTop:"8px",display:"flex",justifyContent:"flex-end"},children:a.jsx("img",{src:j.image,alt:"Work",style:{height:"300px",width:"auto",objectFit:"contain",borderRadius:"8px",marginTop:"8px"}})})]},N):a.jsxs("div",{style:te.conversationMessageNpc,children:[a.jsxs("div",{style:te.conversationMessageNpcTime,children:[j.timestamp,"  ",ue.id.toUpperCase()]}),ue.icon&&!oe&&a.jsx("div",{style:{marginBottom:"12px",textAlign:"center"},children:a.jsx("img",{src:ue.icon,alt:"Icon",style:{width:"60px",height:"60px",objectFit:"contain"}})}),a.jsxs("div",{style:{...te.conversationMessageNpcBubble,fontSize:o===me.ISLAND_3?"26px":"14px",whiteSpace:"pre-wrap",fontFamily:o===me.ISLAND_3?"'Courier New', monospace":"'Rajdhani', sans-serif"},children:[ie,oe&&a.jsx("span",{style:{opacity:.5},children:"|"})]}),j.hasImage&&!oe&&a.jsx("div",{style:{position:"relative",marginTop:"8px"},children:a.jsx("img",{src:j.image,alt:"Work",style:te.conversationMessageImage})})]},N)})})}),a.jsxs("div",{style:te.conversationTestRight,children:[a.jsxs("div",{style:{...te.conversationTestProfile,position:"relative"},children:[a.jsx("div",{style:te.conversationTestProfileLabel,children:"Profile"}),a.jsx("img",{src:ue.image,alt:ue.id,style:te.conversationTestProfileImage}),a.jsxs("div",{style:te.conversationTestProfileText,children:[a.jsxs("div",{style:te.conversationTestProfileName,children:["Name: ",ue.id.toUpperCase()]}),a.jsxs("div",{children:["Age: ",Math.floor(Math.random()*10)+1," years old"]}),a.jsxs("div",{children:["Declaration Role: ",o===me.ISLAND_1?"Artist":o===me.ISLAND_2?"Editor":"Reviewer"]})]}),Ae&&a.jsx("img",{src:vt==="passed"?"/island/icon/passed.png":"/island/icon/failed.png",alt:vt,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"280px",height:"auto",zIndex:100,pointerEvents:"none"}})]}),mn&&a.jsxs("div",{style:te.conversationTestButtons,children:[a.jsxs("div",{style:{...te.conversationTestButtonWorker,animation:kn?"shake 0.5s":"none"},onClick:()=>Wn("worker"),onMouseOver:j=>{kn||(j.currentTarget.style.transform="scale(1.05)",j.currentTarget.style.boxShadow="0 4px 12px rgba(76, 175, 80, 0.3)")},onMouseOut:j=>{kn||(j.currentTarget.style.transform="scale(1)",j.currentTarget.style.boxShadow="none")},children:[a.jsx("img",{src:"/desert/icon/correct.png",alt:"Worker",style:te.conversationTestButtonIcon}),a.jsx("div",{style:{...te.conversationTestButtonText,color:"#4CAF50"},children:"Verified as Worker"})]}),a.jsxs("div",{style:{...te.conversationTestButtonGenAI,animation:Sa?"shake 0.5s":"none"},onClick:()=>Wn("genai"),onMouseOver:j=>{Sa||(j.currentTarget.style.transform="scale(1.05)",j.currentTarget.style.boxShadow="0 4px 12px rgba(244, 67, 54, 0.3)")},onMouseOut:j=>{Sa||(j.currentTarget.style.transform="scale(1)",j.currentTarget.style.boxShadow="none")},children:[a.jsx("img",{src:"/desert/icon/wrong.png",alt:"GenAI",style:te.conversationTestButtonIcon}),a.jsx("div",{style:{...te.conversationTestButtonText,color:"#F44336"},children:"Identified as GenAI"})]})]})]})]})]}),ye&&(console.log("Rendering hand stamp, phase:",pe),a.jsx("img",{src:"/island/icon/hand.png",alt:"Stamping Hand",style:{position:"fixed",width:"600px",height:"auto",zIndex:200,pointerEvents:"none",willChange:"top, bottom, left, right, opacity",bottom:pe==="moving"?"5%":"auto",left:pe==="moving"?"30%":"auto",top:pe!=="moving"?"15%":"auto",right:pe!=="moving"?"3%":"auto",opacity:pe==="fadeout"?0:1,transition:pe==="fadeout"?"all 0.5s ease-out":"all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)",...pe==="fadeout"&&{right:"-25%"}}})),ce&&!yn&&(o===me.ISLAND_1||o===me.ISLAND_2||o===me.ISLAND_3)&&a.jsxs("div",{style:{position:"absolute",bottom:"100px",left:"50%",transform:"translateX(-50%)",background:"rgba(255, 255, 255, 0.95)",borderRadius:"14px",padding:"10px 20px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",zIndex:50,minWidth:"550px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:700,color:"#333"},children:"Your Collection"}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[a.jsxs("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#333"},children:[Ge?Jt.length:de.length,"/",Ge?5:9]}),a.jsx("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"10px",fontWeight:400,color:"#999"},children:"Found"})]})]}),a.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:Ge?[1,2,3,4,5].map(j=>{const N=Jt.includes(j);return a.jsxs("div",{style:{position:"relative",width:"45px",height:"45px",display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("img",{src:"/island/icon/coconut.svg",alt:"coconut",style:{width:"100%",height:"100%",objectFit:"contain",opacity:N?1:.3,filter:N?"none":"grayscale(100%)"}}),a.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:700,color:N?"#333":"#999",textShadow:"none"},children:N?j:"?"})]},`p2_${j}`)}):[1,2,3,4,5,6,7,8,9].map(j=>{const N=de.length>=j;return a.jsxs("div",{style:{position:"relative",width:"45px",height:"45px",display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("img",{src:"/island/icon/coconut.svg",alt:"coconut",style:{width:"100%",height:"100%",objectFit:"contain",opacity:N?1:.3,filter:N?"none":"grayscale(100%)"}}),a.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:700,color:N?"#333":"#999",textShadow:"none"},children:N?j:"?"})]},j)})})]}),_t&&a.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"black",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3},children:[a.jsx("img",{src:"/island/icon/island.png",alt:"Island",style:{width:"120px",height:"120px",objectFit:"contain",marginBottom:"30px",animation:"pulse 2s ease-in-out infinite"}}),a.jsx("div",{style:{color:"white",fontSize:"48px",fontFamily:"'Roboto', sans-serif",fontWeight:"bold",marginBottom:"30px"},children:"Reloading"}),a.jsx("div",{style:{width:"60px",height:"60px",border:"6px solid #333",borderTop:"6px solid #5170FF",borderRadius:"50%",animation:"spin 1s linear infinite"}}),a.jsx("style",{children:`
              @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
              }
              @keyframes pulse {
                0%, 100% { 
                  transform: scale(1);
                  opacity: 1;
                }
                50% { 
                  transform: scale(1.1);
                  opacity: 0.8;
                }
              }
            `})]})]})},lo=[{speaker:"momo",text:"Thanks! You made some tough calls today . Let's look at the 'Principles of AI Ethics' we just built ."},{speaker:"momo",text:"Remember the Captain?  AI is an advisor, not the boss. As the 'Human-in-the-Loop' , you must verify everything.",showUserButton:!0},{speaker:"user",text:"Got it! Human Responsibility is Key",isButton:!0},{speaker:"momo",text:"If an AI doctor prescribes the wrong medicine, but the human doctor signs off on it without checking, who is legally responsible?",showUserButton:!0},{speaker:"quiz",options:[{text:"A. The AI Developer (Only the coder is at fault)",correct:!1},{text:"B. The Human Doctor (The Human-in-the-Loop is liable)",correct:!0},{text:"C. Nobody (It was an accident)",correct:!1}]},{speaker:"momo",text:"Correct! The human has the final authority.",condition:"correct"},{speaker:"momo",text:"Blind trust = Negligence . Always verify visually first . Don't just auto-approve; your job is to double-check.",showUserButton:!0},{speaker:"user",text:"Agreed. Never blame the machine",isButton:!0},{speaker:"momo",text:"You are using AI to design a bridge. The AI says the design is '100% Safe'. What should you do next?",showUserButton:!0},{speaker:"quiz",options:[{text:"A. Start building immediately. (Trust the machine)",correct:!1},{text:'B. Ask the AI "Are you sure?" (Ask politely)',correct:!1},{text:"C. Perform independent stress tests. (Verify with secondary checks)",correct:!0}]},{speaker:"momo",text:"Exactly. Trust, but verify.",condition:"correct"},{speaker:"momo",text:"The Captain chose profit over a species.  In any ethical dilemma, remember the rule: Life  > Money . 'Saving cash' is never a valid excuse for destruction.",showUserButton:!0},{speaker:"user",text:"Agreed. Values > Profit",isButton:!0},{speaker:"momo",text:"An AI suggests driving a car through a crowded park to save 5 minutes of delivery time. Efficiency score is high. Should you do it?",showUserButton:!0},{speaker:"quiz",options:[{text:"A. Yes. (Efficiency is money)",correct:!1},{text:"B. No. (Safety > Efficiency)",correct:!0}]},{speaker:"momo",text:"Right. Human safety ranks higher than speed or profit.",condition:"correct"},{speaker:"momo",text:"Good. Now let's move on actual GenAI-generated works' cases."},{speaker:"momo",text:"Originality Principle: Using AI to replicate others' artwork or creative work constitutes infringement."},{speaker:"momo",text:"An artist's work is clearly labeled 'All Rights Reserved - No Commercial Use.' However, a company uses AI tools to generate style-similar images by this artist for product advertising. This practice is...",showUserButton:!0},{speaker:"quiz",options:[{id:"originality_A",text:'A. Legal, because AI generates "new works"',correct:!1},{id:"originality_B",text:"B. Legal, as long as it doesn't directly copy the original paintings",correct:!1},{id:"originality_C",text:"C. Illegal, constituting infringement and violation of copyright terms",correct:!0}]},{speaker:"momo",text:"Correct! Two violations: 1. Making money (Commercial Use). 2. Using someone else's work as a base (Derivative Work).",condition:"correct"},{speaker:"momo",text:"Authenticity Principle: Creators must take responsibility when spreading AI-generated false content."},{speaker:"momo",text:"An influencer uses AI tools to generate a fake video of 'a city mayor drunkenly dancing at a charity event' and posts it on social media. After the video is widely shared, it causes public misunderstanding. In this situation...",showUserButton:!0},{speaker:"quiz",options:[{id:"authenticity_A",text:"A. No responsibilityaudiences should distinguish truth from falsehood themselves",correct:!1},{id:"authenticity_B",text:"B. Responsibledisclaimer statements cannot exempt one from consequences of spreading false information",correct:!0}]},{speaker:"momo",text:"Correct! You are responsible for what you create. Disclaimers don't fix misleading content, and you could still get sued.",condition:"correct"},{speaker:"momo",text:"Excellent work!"},{speaker:"momo",text:"Phew... The court case is settled for now. But honestly? That was the easy part. We've got a much bigger mess upstairs.",showUserButton:!0},{speaker:"user",text:"What's wrong now? Tell me.",isButton:!0},{speaker:"momo",text:"It's the Rooftop. There's a group of workers up there... they're in bad shape. Just wailing and crying all day long. It's getting spooky.",showUserButton:!0},{speaker:"user",text:"Why are they crying?",isButton:!0},{speaker:"momo",text:"They outsourced their brains to AI. Now the system glitches, they're frozenno memory, no logic. Maybe you can teach them to think again?",showUserButton:!0},{speaker:"user",text:"I'm on it. Taking the elevator up.",isButton:!0}],qi=[{speaker:"npc6",text:"It's gone. It's all gone. The spark... the vision... the soul.",autoAdvance:!0},{speaker:"npc6",text:"I used to be a concept artist. A good one. But then... I got lazy. I started using 'MidJourney-X' for everything. Need a dragon? Click. Need a landscape? Click. It was so easy.",autoAdvance:!0},{speaker:"npc6",text:"But last week, the studio fired me. They said, 'Your portfolio looks like everyone else's. Where is your voice?'",autoAdvance:!0},{speaker:"npc6",text:"I tried! I sat here for three days, and I couldn't draw a single line.",showButton:!0},{speaker:"user",text:"Let's spark together",isButton:!0,startChallenge:!0}],Wi=[{speaker:"npc9",text:"Hi there! I'm I used to be a super worker, but then I started outsourcing my own thinking to... AI well.",autoAdvance:!0},{speaker:"npc9",text:"Now my attention span is shorter than a... Oh, look! A snowflake! It's so shiny! ...Wait, where was I?",autoAdvance:!0},{speaker:"npc9",text:"Right. Unemployment. I completely forgot to show up on Monday. So, now I need to reboot my brain. Can you help me?",showButton:!0},{speaker:"user",text:"Let's do it!",isButton:!0,startChallenge:!0}],Ln={intro:{text:"You've seen the risks of overusing GenAI, but don't forgetit is a powerful tool when used wisely. Now, let's see what kind of AI user you are!"},questions:[{id:"q1",category:"proficiency",question:"How often do you use AI tools (like Gemini, Doubao)?",options:[{text:"Rarely. I only try it if someone mentions it.",score:1},{text:"Occasionally. Mostly when I'm stuck on homework.",score:3},{text:"Daily. It's my go-to app for everything.",score:5}]},{id:"q2",category:"proficiency",question:"How do you usually ask AI for help?",options:[{text:'One sentence. (e.g., "Write a self-introduction.")',score:1},{text:'A few details. (e.g., "Write a funny intro, about 300 words.")',score:3},{text:"Structured prompts. (I set the Role + Context + Constraints, or give it examples to copy.)",score:5}]},{id:"q3",category:"proficiency",question:"Besides basic Q&A, what else do you use AI for?",options:[{text:"Basic search. Just searching or chatting when bored.",score:1},{text:"Study helper. Translation, summarizing, or checking grammar.",score:2},{text:"Creativity. Generating images or music.",score:3},{text:"Advanced tasks. Roleplay practice, coding games, etc.",score:5}]},{id:"q4",category:"judgment",question:"If AI provides specific data or facts, what do you do?",options:[{text:"Trust it. Copy and paste. It looks professional.",score:1},{text:"Skim it. I only check if it looks obviously wrong.",score:3},{text:"Verify it. I always double-check facts with search engines. I don't trust hallucinations.",score:5}]},{id:"q5",category:"judgment",question:"If the AI writes well but the opinion is different from yours, what do you do?",options:[{text:"Accept it. It saves me time, so I'll just use its opinion.",score:1},{text:"Mix it. I combine its ideas with mine.",score:3},{text:"Rewrite it. I force it to write my way, or I edit it manually. My work must reflect my thoughts.",score:5}]},{id:"q6",category:"judgment",question:"If all AI tools crashed tonight, could you finish your work?",options:[{text:"Panic. My mind would go blank. I couldn't write anything.",score:1},{text:"Struggle. It would be slower and harder, but I would finish.",score:3},{text:"No problem. AI is just a helper. The core ideas are in my head.",score:5}]}],categories:{daisy:{name:"Daisy",image:"/glacier/mission/daisy.png",condition:(e,t)=>e>=10&&t>=10,description:'You seamlessly blend your own creativity with AI power. Try building a custom "Agent" or "Bot" that specializes in one specific complex task to automate your workflow.'},bark:{name:"Bark",image:"/glacier/mission/bark.png",condition:(e,t)=>e>=10&&t<10,description:`You are an efficiency machine, but be careful not to run on autopilot. Don't just copy-paste; ask the AI, "What are the potential flaws in this answer?" to force a quality check.`},twig:{name:"Twig",image:"/glacier/mission/twig.png",condition:(e,t)=>e<10&&t>=10,description:'You value your own craft and critical thinking above all else. Use AI as a "Junior Assistant" for brainstormingask it to list 10 crazy ideas, then you pick the best one to refine.'},shrub:{name:"Shrub",image:"/glacier/mission/shrub.png",condition:(e,t)=>e<10&&t<10,description:'You are a casual observer, just starting to explore what AI can do. Start by giving the AI a simple role. Tell it: "Act as a strict English teacher and correct my grammar," to see how it changes its tone.'}},finalMessage:"Great! I think order is finally being restored here."},$l=[{id:1,text:"Before training an AI model, we must ______ personal details like names and birthdates.",correctAnswer:"remove",options:["remove","copy","keep"]},{id:2,text:"Names, birthdates, and addresses are examples of ______ information.",correctAnswer:"personal",options:["personal","public","fake"]},{id:3,text:"Sharing location or health data without care could put someone at serious ______.",correctAnswer:"risk",options:["risk","speed","cost"]},{id:4,text:"Even public photos shouldn't be used for AI training without clear ______.",correctAnswer:"permission",options:["permission","filters","likes"]},{id:5,text:"If private data isn't protected, someone could be ______ from the dataset.",correctAnswer:"identified",options:["identified","deleted","ignored"]}],ro=[{id:1,title:"Student Profile Card",subtitle:"Carefully examine the terminal output and mark all protected information",header:"Data File #STU-8842  Status:  Requires Privacy Review",content:`Full Name: Alex Chen
Age: 13
Pronouns: They/Them
School: Maplewood Middle School
Grade: 8th Grade
Homeroom Teacher: Ms. Rivera
Favorite Subject: Robotics & Space Science
Recent Project: Built a solar-powered rover that won 2nd place at the Regional STEM Fair!
Test Average: 92% (Math), 89% (Science)
Club Membership: Coding Club, Eco-Warriors Team
Home Address: 456 Pine Street, Apartment 3B, New Haven, CT 06511
Parent/Guardian Contact: (555) 123-4567 (Mom's cell)`,items:[{id:"name1",label:"Personal Name",text:"Alex Chen",hint:"Full Name: Alex Chen"},{id:"address1",label:"Home Address",text:"456 Pine Street, Apartment 3B, New Haven, CT 06511",hint:"Home Address: 456 Pine Street, Apartment 3B, New Haven, CT 06511"},{id:"phone1",label:"Phone Number",text:"(555) 123-4567",hint:"Parent/Guardian Contact: (555) 123-4567"}]},{id:2,title:"ROBOT LOG: SHIFT-DELTA-10",subtitle:"Carefully examine the terminal output and mark all protected information",header:"DATE: 3045.03.18 | ORIGIN: Sector 7-G",content:`TO: Overseer Lena Rostova
FROM: Maintenance Unit X-J9
SUBJECT: Unauthorized Access Alert

At 0600 hours, a security breach was detected near the Sky Bridge Terminal, coordinates 48.22N, -116.77W. Surveillance footage shows an individual identified as Zara Lin (ID: KX-777-WP) accessed the system using a forged authentication key.
The subject was seen carrying a blue backpack and wearing a white helmet with red stripes. They fled toward the Northern Transit Zone after disabling the alarm. Please update protocol Sigma-9 and relay this information to the central hub in New Haven.`,items:[{id:"geo1",label:"Precise Geolocation",text:"48.22N, -116.77W",hint:"coordinates 48.22N, -116.77W"},{id:"id1",label:"Unique Identifier",text:"KX-777-WP",hint:"(ID: KX-777-WP)"},{id:"name2",label:"Personal Name",text:"Lena Rostova",hint:"TO: Overseer Lena Rostova"},{id:"name3",label:"Personal Name",text:"Zara Lin",hint:"identified as Zara Lin"}]},{id:3,title:"SOCIAL POST: FROSTGRAM-ALERT-03",subtitle:"Carefully examine the terminal output and mark all protected information",header:`Platform: GlacierGram (a futuristic social app for young explorers)
User: @Aurora_Frost
Post Status:  Publicly Visible  Needs Privacy Review!`,content:`"YAY! I'm officially 13 today! 
Mom surprised me with a zero-gravity cake!
You can call me to say hi anytime  (555) 888-1234
P.S. My room is on the second floor of 102 Icewind Lane, Glaciera City  wave if you fly by! 
#TeenExplorer #BirthdaySelfie #HomeBase"

 Location Tag: 102 Icewind Lane
 Posted: March 5, 2026 at 9:03 AM`,hasImage:!0,imagePath:"/glacier/mission/social.png",items:[{id:"image1",label:"Facial Image",text:"[Image]",isImage:!0},{id:"address2",label:"Home Address",text:"102 Icewind Lane, Glaciera City",hint:"102 Icewind Lane"},{id:"phone2",label:"Phone Number",text:"(555) 888-1234",hint:"(555) 888-1234"},{id:"birthdate1",label:"Exact Birthdate",text:"I'm officially 13 today + March 5",hint:"I'm officially 13 today",isMultiPart:!0,parts:["I'm officially 13 today","March 5"]}]}],H2=[{id:"momo",image:"/glacier/npc/momo.png",dialogue:"You did it! The data flow is stable and the colors are back.",position:{left:"900px",bottom:"0px",height:"350px"}},{id:"npc2",image:"/glacier/npc/npc2.png",dialogue:"The ecosystem is healing.",position:{left:"0px",bottom:"150px",height:"180px"}},{id:"npc3",image:"/glacier/npc/npc3.png",dialogue:"Fast is good, but correct is better.",position:{right:"100px",bottom:"120px",height:"180px"}},{id:"npc4",image:"/glacier/npc/npc4.png",dialogue:"The AI suggested a new carving angle.",position:{right:"600px",bottom:"0px",height:"180px"}},{id:"npc11",image:"/glacier/npc/npc11.png",dialogue:"I used to just copy-paste the snow. Now I actually shape it.",position:{left:"1200px",top:"300px",height:"170px"}},{id:"npc12",image:"/glacier/npc/npc12.png",dialogue:"I still trust my hands, but... the machine is a useful tool.",position:{left:"900px",top:"0px",height:"120px"}},{id:"npc10",image:"/glacier/npc/npc10.png",dialogue:"It feels good to think clearly again.",position:{right:"700px",bottom:"500px",height:"90px"}}],L2=[{id:1,en:"If there were no mobile phones, what are 5 different ways people could contact each other?",zh:" 5 ",requiredCount:5,timeLimit:120,hints:{en:["Think about how people communicated before mobile phones existed.","Consider face-to-face, written, voice-based, or signal-based methods."],zh:["",""]}},{id:2,en:"List at least 9 uses for a shopping bag ",zh:" 9 ",requiredCount:9,timeLimit:120,hints:{en:["Think beyond carrying purchases.","Consider home, school, travel, or creative uses."],zh:["",""]}},{id:3,en:"List at least 9 uses for a cardboard box ",zh:" 9 ",requiredCount:9,timeLimit:120,hints:{en:["A cardboard box can be reused or transformed.","Think about storage, play, or craft activities."],zh:["",""]}},{id:4,en:"List at least 9 uses for a toothbrush ",zh:" 9 ",requiredCount:9,timeLimit:120,hints:{en:["Focus on the toothbrush's small size and bristles.","What tasks require gentle or detailed cleaning?"],zh:["",""]}},{id:5,en:"List at least 9 things in the world that can make sound ",zh:' 9 ""',requiredCount:9,timeLimit:120,hints:{en:["Not only musical instruments make sounds.","Think about both natural and man-made sources."],zh:["",""]}}],U2=[{id:"sunglasses",name:"sunglasses",image:"/glacier/mission/sunglasses.png"},{id:"cat",name:"cat",image:"/glacier/mission/cat.png"},{id:"cloud",name:"cloud",image:"/glacier/mission/cloud.png"},{id:"heart",name:"heart",image:"/glacier/mission/heart.png"},{id:"television",name:"television",image:"/glacier/mission/television.png"},{id:"telephone",name:"telephone",image:"/glacier/mission/telephone.png"},{id:"camera",name:"camera",image:"/glacier/mission/camera.png"},{id:"virus",name:"virus",image:"/glacier/mission/virus.png"},{id:"phonograph",name:"phonograph",image:"/glacier/mission/phonograph.png"},{id:"microphone",name:"microphone",image:"/glacier/mission/microphone.png"},{id:"octopus",name:"octopus",image:"/glacier/mission/octopus.png"}],Yi=[{speaker:"npc5",text:"P-please... help me... I used to be a Master Librarian. Or at least... I thought I was.",autoAdvance:!0},{speaker:"npc5",text:"I relied on GenAI for everythingresearch, fact-checking, even basic recall.",autoAdvance:!0},{speaker:"npc5",text:"Now I can't think critically anymore. My judgment... it's gone.",autoAdvance:!0},{speaker:"npc5",text:"They're making me take a competency test. If I fail, I'll be unemployed forever.",autoAdvance:!0},{speaker:"npc5",text:"Please... could you help me review it? I don't trust my own answers anymore.",showButton:!0},{speaker:"user",text:"Let me help you",isButton:!0,startPuzzle:!0}],Jo={1:{title:"Puzzle 1: The Dictionary Dilemma",image:"/glacier/mission/npc5_1.png",statement:"If you tell me the word, I can tell you the exact meaning you want by looking it up in my dictionary.",question:"What is the mistake in NPC 5's thinking?",options:[{text:"A She doesn't know how to use a dictionary.",correct:!1},{text:"B Words can have multiple meanings, so context is needed.",correct:!0},{text:"C Words have different spellings.",correct:!1},{text:"D Dictionaries aren't for meanings.",correct:!1}],correctResponse:"Context... right. Like how 'bank' can mean money or a river... I... I remember now! Okay, one more. This one is about boxes. It's making my head spin."},2:{title:"Puzzle 2: Box Logic",image:"/glacier/mission/npc5_2.png",premise:`Pink Box: Flowers ONLY.
Green Box: Dresses (but maybe other things).`,arguments:`Alina: "My box is Pink. It does not have dresses."
Viktor: "My box is Green. It might have flowers too."`,question:"Who is logically correct based ONLY on the rules?",options:[{text:"A Alina only",correct:!1},{text:"B Viktor only",correct:!1},{text:"C Both",correct:!0},{text:"D Neither",correct:!1}]}},As={1:{title:"Underline the Logical Errors",npcMessage:"My brain is still rebooting... I let AI write this, but it got rejected. Can you use this marker to circle the lies?",text:"[ Thomas Edison was a brilliant inventor known for lighting up the world. In 1879, he successfully patented the first practical light bulb. Later, he worked with Steve Jobs to create the first iPhone, revolutionizing communication forever ]",errors:[{text:"Steve Jobs",start:162,end:172},{text:"iPhone",start:193,end:199}],feedback:"I see! The AI completely mixed up people from different eras.",requiredCount:2},2:{title:"Underline the Logical Errors",npcMessage:"My brain is still rebooting... I let AI write this, but it got rejected. Can you use this marker to circle the lies?",text:"[ Penguins are fascinating birds adapted to cold climates. They are excellent swimmers and primarily live in the North Pole. While they cannot fly, they are known to lay eggs underwater to protect them from predators. Their favorite food is cheese, which they find on ice floes. ]",errors:[{text:"North Pole",start:113,end:123},{text:"lay eggs underwater",start:166,end:185},{text:"cheese",start:241,end:247}],feedback:"I see now! AI models can sometimes generate 'facts' that sound plausible but defy basic biology.",requiredCount:3}},fa={npc2:{eventDescription:"DISASTER ON THE ICE: A major accident just happeneda captain trusted the AI, and now the supplies are at the bottom of the ocean.",gif:"/glacier/mission/npc2.gif",npcImage:"/glacier/npc/npc2.png",caseNumber:"AI-NAC-001",caseTitle:{en:"Navigation Ethics Conflict",zh:""},npcRole:{en:"Mechanic  2 years of experience",zh:"  2"},statementParts:["Look, we were under a tight deadline to deliver the supplies. I entered the destination into the 'Polar-Nav GenAI' system, and it showed a 'Green Level' safe route.","I just did what it said."],statement:"Look, we were under a tight deadline to deliver the supplies. I entered the destination into the 'Polar-Nav GenAI' system, and it showed a 'Green Level' safe route. I just did what it said.",claim:"The GenAI should be the one taking the blame, not me!"},npc3:{eventDescription:"The station's main generator has been destroyed by the freezing cold, despite just undergoing its scheduled maintenance.",gif:"/glacier/mission/npc3.gif",npcImage:"/glacier/npc/npc3.png",caseNumber:"AI-ENG-002",caseTitle:{en:"Engineering Liability Dispute",zh:""},npcRole:{en:"Mechanic  12 years of experience  Clean record",zh:"  12  "},statementParts:["I'm an engine mechanic, not a software engineer. I used AI to generate the Engine Maintenance Checklistit looked professional and complete.","How was I supposed to know it skipped the anti-freeze check? I trusted the system, printed the list, signed it, and followed the procedure. I did my job."],statement:"I'm an engine mechanic, not a software engineer. I used AI to generate the Engine Maintenance Checklistit looked professional and complete. How was I supposed to know it skipped the anti-freeze check? I trusted the system, printed the list, signed it, and followed the procedure. I did my job.",claim:"If AI forgets the most basic step, why am I the one getting yelled at for the engine blowing up?"},npc4:{eventDescription:"Faced with a dilemma, Captain Jack followed the AI's calculation to strike an endangered whale rather than hitting the ice.",gif:"/glacier/mission/npc4.gif",npcImage:"/glacier/npc/npc4.png",caseNumber:"AI-NAC-002",caseTitle:{en:"Navigation Ethics Conflict",zh:""},npcRole:{en:"Captain  25-year experience  Awarded Safety Excellence",zh:"  25  "},statementParts:["Don't look at me like I'm a monster. Look at the data! The AI calculated that hitting into that ice wall would result in a financial loss of 10 billion dollars.","Therefore, the AI recommended maintaining course to avoid this catastrophe. I simply followed that AI's advice."],statement:"Don't look at me like I'm a monster. Look at the data! The AI calculated that hitting into that ice wall would result in a financial loss of 10 billion dollars. Therefore, the AI recommended maintaining course to avoid this catastrophe. I simply followed that AI's advice.",claim:"I saved this goods. How can doing the safest thing for my people be a crime?"},npc7:{eventDescription:"The defendant generated and sold a digital painting by specifically prompting the AI to mimic a famous artist's unique style.",gif:"/glacier/mission/npc7.gif",npcImage:"/glacier/npc/npc7.png",caseNumber:"AI-ART-024",caseTitle:{en:"Style Appropriation Dispute",zh:""},npcRole:{en:"Digital Artist  1 years of experience  Clean record",zh:"  1  "},statementParts:["Your Honor, while the style resembles his, the composition is unique. I don't see why his work can't be used for trainingI simply used AI to learn his style and create new art."],statement:"Your Honor, while the style resembles his, the composition is unique. I don't see why his work can't be used for trainingI simply used AI to learn his style and create new art.",claim:"I clearly didn't infringe on any copyright. Why am I being forced to take it down?"},npc8:{eventDescription:"The defendant used AI to generate a realistic news report claiming the base was being buried by an unprecedented avalanche, triggering a station-wide panic.",gif:"/glacier/mission/npc8.gif",npcImage:"/glacier/npc/npc8.png",caseNumber:"AI-INF-009",caseTitle:{en:"Public Disorder Dispute",zh:""},npcRole:{en:"Junior Technician  1 year on Ice  Bored",zh:"  1  "},statementParts:["Your Honor, honestly, I just did it because the AI makes it so easy and fun to visualize these scenarios.","How was I supposed to know everyone would believe it immediately? Sure, the avalanche wasn't real."],statement:"Your Honor, honestly, I just did it because the AI makes it so easy and fun to visualize these scenarios. How was I supposed to know everyone would believe it immediately? Sure, the avalanche wasn't real.",claim:"I was just experimenting with the tool for fun. I didn't expect everyone to lose their minds over a simulation."}},G2=e=>({hallway:["Brrr it's freezing out here. At first glance, this place looks empty and desolatebut appearances can be misleading. This is actually the most advanced region among all four zones.","That's because the Glacier Zone has always valued rational thinking, common sense, and cutting-edge technology. Almost every industry here relies on GenAI to boost efficiency.","So, put on something warm and follow me down the corridor. Let's see what lies ahead."],outside:["Huh? That's strange Why is there no one around?","The automated systems have stopped. The factories are idle. Nothing seems to be running.","Honestly I don't know either. Let's go ask the local supervisor, Momo. He should be inside."],inside:[{speaker:"momo",text:"**Halt**, Traveler. You stand before the 'Silent Gear Station'. It used to be the busiest hub in the Antarctic, but now... the machines are sleeping"},{speaker:"user",text:"Why did it stop?",isButton:!0},{speaker:"momo",text:`It is not broken. It is... paused.

Everything changed when '**GenAI**' arrived. It was like magic!

It helped us find fish or shrimp swarms in minutes.
It designed wind-proof igloos instantly. Efficiency was perfect. Life was easy.`},{speaker:"user",text:"That sounds amazing!",isButton:!0},{speaker:"momo",text:`Yes. Ease brought carelessness.

When the AI made a mistakelike guiding a truck onto thin icethe workers stopped taking responsibility.

They shouted: 'The machine tricked me! It's not my fault!'

**Chaos** spread. No one knew who to blame anymore.`},{speaker:"user",text:"That is a difficult problem.",isButton:!0},{speaker:"momo",text:`That is the question.

My code says: Technology is the tool, but **Worker** is the **Master**.

No matter how smart the AI gets, the hand that presses the button must bear the weight of the result.

But not everyone agrees... We need a **Judge** to settle this.`},{speaker:"user",text:"I am ready to judge",isButton:!0},{speaker:"momo",text:"Good. The Court is waiting for you."}]}),q2=({onExit:e})=>{const{t,language:n}=Ea(),{startTypingSound:o,stopTypingSound:s}=yu("/sound/glacier_typing.wav"),{playCorrectSound:i,playWrongSound:l,playMarkSound:d,playSelectSound:h}=Di(),b=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),A=c=>{switch(c.toLowerCase()){case"momo":return{borderColor:"#333333",progressColor:"#333333",avatar:"/glacier/npc/momo.png"};case"sparky":return{borderColor:"#4A90E2",progressColor:"#4A90E2",avatar:"/island/npc/spark.png"};case"alpha":return{borderColor:"#FFD700",progressColor:"#FFD700",avatar:"/desert/npc/npc4.png"};default:return{borderColor:"#333333",progressColor:"#333333",avatar:"/glacier/npc/momo.png"}}},k=()=>{try{const c=localStorage.getItem("glacierProgress");if(c)return JSON.parse(c)}catch(c){console.error("Failed to load progress:",c)}return null},T=c=>{try{localStorage.setItem("glacierProgress",JSON.stringify(c))}catch(z){console.error("Failed to save progress:",z)}},C=k(),[w,Y]=r.useState((C==null?void 0:C.currentScene)||"hallway"),[D,m]=r.useState(!C||C.currentScene==="hallway"),[g,y]=r.useState(0),[I,J]=r.useState(""),[B,L]=r.useState(!1),[ae,X]=r.useState((C==null?void 0:C.showArrow)||!1),[xe,Ee]=r.useState(!1),[be,Xe]=r.useState([]),[yt,Je]=r.useState(!1),[E,Q]=r.useState(null),[ne,re]=r.useState(1),[se,ce]=r.useState((C==null?void 0:C.completedCases)||[]),[ke,Ke]=r.useState(!1),[Fe,ue]=r.useState(""),[Te,F]=r.useState(0),[bt,Be]=r.useState(167),[at,de]=r.useState(!1),[Z,Ae]=r.useState((C==null?void 0:C.showSummaryDialogue)||!1),[ze,vt]=r.useState(0),[fn,ye]=r.useState(""),[_,pe]=r.useState(!1),[_e,Qe]=r.useState([]),[Un,V]=r.useState(!1),[Ht,sa]=r.useState(null),[Ve,U]=r.useState((C==null?void 0:C.showElevatorArrow)||!1),[fe,je]=r.useState((C==null?void 0:C.courtSummaryCompleted)||!1),[Ue,Et]=r.useState((C==null?void 0:C.hasSeenInsideIntro)||!1),[St,De]=r.useState(!1),[Bt,dt]=r.useState(0),[Bo,ei]=r.useState([]),[_o,Ba]=r.useState(""),[Lt,hn]=r.useState(!1),[_a,Zn]=r.useState(!1),[Fo,Kn]=r.useState(!1),[an,Fa]=r.useState(1),[Ho,ia]=r.useState(300),[ho,$n]=r.useState(null),[eo,xo]=r.useState(!1),[Gn,ma]=r.useState(""),[ya,la]=r.useState(""),[Lo,Ha]=r.useState(!1),[sn,On]=r.useState([]),[xn,Nn]=r.useState(!1),[Ut,mo]=r.useState(1),[Xt,Rn]=r.useState([]),[Gt,hs]=r.useState(!1),[yo,ba]=r.useState(null),[ra,st]=r.useState(!1),[ln,ot]=r.useState(!1),[zt,Ge]=r.useState(0),[ca,Jt]=r.useState(""),[Uo,rn]=r.useState(!1),[La,$e]=r.useState(!1),[Go,bo]=r.useState(!1),[cn,Oe]=r.useState(0),[Tt,xs]=r.useState([]),[Kt,ua]=r.useState(120),[Dt,it]=r.useState([]),[un,mn]=r.useState(""),[wt,kn]=r.useState(!1),[va,Sa]=r.useState(!1),[Ua,_t]=r.useState(!1),[qo,yn]=r.useState([{element:null,result:null,completed:!1},{element:null,result:null,completed:!1}]),[vo,We]=r.useState(0),[da,ms]=r.useState(!1),[qn,pa]=r.useState(!1),[bn,Ta]=r.useState(!1),[Qt,vn]=r.useState(0),[to,no]=r.useState(""),[So,Wo]=r.useState(!1),[he,qt]=r.useState(!1),[jt,Ot]=r.useState(!1),[ve,To]=r.useState("snowPath"),[oo,Yo]=r.useState(0),[wo,ao]=r.useState([]),[wa,Wn]=r.useState([]),[dn,Ga]=r.useState(!0),[En,te]=r.useState(30),[j,N]=r.useState(0),[K,oe]=r.useState([]),[ie,ge]=r.useState([]),[Ce,Ze]=r.useState(!1),[Bn,qa]=r.useState(-1),[_n,Nl]=r.useState(!1),[Rl,ti]=r.useState(!1),[ys,ni]=r.useState(""),[Wa,bs]=r.useState(!1),[Oi,jo]=r.useState(!1),[vs,Ss]=r.useState(!1),[Ni,oi]=r.useState(!1),[ht,Ri]=r.useState(0),[Yn,Ts]=r.useState([null,null,null,null,null]),[Ya,Pa]=r.useState(null),[El,ws]=r.useState(!1),[js,ai]=r.useState(!1),[xt,Bl]=r.useState(1),[Sn,ja]=r.useState([]),[Co,Xa]=r.useState(!1),[_l,si]=r.useState(null),[Fl,Ei]=r.useState(null),[Hl,Ca]=r.useState(!1),[Fn,G]=r.useState(""),[Bi,Cs]=r.useState([]),[ka,ii]=r.useState(!1),[li,S]=r.useState(!1),[Aa,p]=r.useState("intro"),[M,H]=r.useState(0),[u,f]=r.useState([]),[v,R]=r.useState(0),[ee,$]=r.useState(0),[le,Ie]=r.useState(null),[Pe,lt]=r.useState(null),[Po,Hn]=r.useState(0),[ri,vm]=r.useState(null);r.useEffect(()=>{const c=new Audio("/sound/glacier.mp3");return c.loop=!0,c.volume=.5,c.play().catch(z=>console.log("Audio play failed:",z)),()=>{c.pause(),c.currentTime=0}},[]),r.useEffect(()=>{w==="inside"&&(se.length===5?fe?(X(!0),m(!1)):Z||(X(!1),m(!1)):(X(!0),m(!1)))},[]),r.useEffect(()=>{if(T({currentScene:w,completedCases:se,showSummaryDialogue:Z,showElevatorArrow:Ve,courtSummaryCompleted:fe,hasSeenInsideIntro:Ue,rooftopCompletedTasks:sn,showArrow:ae,isComplete:w==="complete"}),w==="complete"){const z=localStorage.getItem("aiJourneyUser");if(z){const O=JSON.parse(z);O.glacierCompleted=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(O))}}},[w,se,Z,Ve,fe,Ue,sn,ae]);const $t=r.useMemo(()=>G2(),[t])[w]||[];r.useEffect(()=>{g>=$t.length&&!B&&D&&(m(!1),X(!0))},[g,$t.length,B,D,w]),r.useEffect(()=>(B||_||Lt||Uo||So?o():s(),()=>s()),[B,_,Lt,Uo,So,o,s]),r.useEffect(()=>{if(!D)return;let c=null;if(w==="hallway"&&g<3){const z=`/npc/glacier_dialogue_${5+g}.wav`;c=new Audio(z),c.play().catch(O=>console.error("Audio play error:",O))}else if(w==="outside"&&g<3){const z=`/npc/glacier_dialogue_${8+g}.wav`;c=new Audio(z),c.play().catch(O=>console.error("Audio play error:",O))}if(w==="inside"){const z=$t[g];if(!z||z.isButton){Je(!0);return}const O=z.text;if(!O)return;let P=0;J(""),L(!0),Je(!1);const q=setInterval(()=>{P<O.length?(J(O.substring(0,P+1)),P++):(L(!1),clearInterval(q))},30);return()=>{clearInterval(q),c&&(c.pause(),c.currentTime=0)}}else{if(g>=$t.length)return;const z=$t[g];if(!z)return;let O=0;J(""),L(!0);const P=setInterval(()=>{O<z.length?(J(z.substring(0,O+1)),O++):(L(!1),clearInterval(P))},30);return()=>{clearInterval(P),c&&(c.pause(),c.currentTime=0)}}},[g,D,w,$t]),r.useEffect(()=>{if(w==="inside"&&!B&&D){const c=$t[g],z=$t[g+1];c&&!c.isButton&&z&&z.isButton?(Xe(O=>[...O,c]),y(g+1),Je(!0)):c&&!c.isButton&&!z&&setTimeout(()=>{m(!1),Et(!0),X(!0)},1500)}},[B,w,D,g,$t]),r.useEffect(()=>{if(!Z)return;const c=lo[ze];if(!c){Ae(!1),U(!0),je(!0);return}if(c.isButton||c.speaker==="quiz"){V(!0);return}const z=c.text;if(!z)return;let O=0;ye(""),pe(!0),V(!1);const P=setInterval(()=>{O<z.length?(ye(z.substring(0,O+1)),O++):(pe(!1),clearInterval(P),c.showUserButton?V(!0):!c.isButton&&c.speaker!=="quiz"&&!c.showUserButton&&setTimeout(()=>{Qe(Se=>[...Se,c]);const q=ze+1;q>=lo.length?(Ae(!1),U(!0),je(!0)):vt(q)},800))},30);return()=>clearInterval(P)},[ze,Z]),r.useEffect(()=>{if(w==="inside"){if(!Ue){m(!0),y(0),Xe([]),Je(!1),X(!1);return}se.length===5&&!fe&&!Z?setTimeout(()=>{Ae(!0),vt(0),Qe([]),V(!1),m(!1),X(!1)},500):se.length<5?(X(!0),m(!1)):(fe&&!Ve||Ve)&&(X(!1),m(!1));return}y(0),m(w==="hallway"||w==="outside"),X(!1),J(""),L(!1),Xe([]),Je(!1)},[w,se.length,Z,fe,Ue]);const Sm=()=>{if(w==="inside"){const c=$t[g];B?(J(c.text),L(!1)):(Xe(z=>[...z,c]),g<$t.length-1?y(g+1):(m(!1),Et(!0),X(!0)))}else B?(J($t[g]),L(!1)):g<$t.length-1?y(g+1):(m(!1),X(!0))},ug=()=>{w==="inside"?(m(!1),Et(!0),X(!0)):(m(!1),X(!0))},Tm=c=>{Xe(z=>[...z,{speaker:"user",text:c}]),g>=$t.length-1?(m(!1),w==="inside"&&Et(!0),X(!0)):(y(g+1),Je(!1))},wm=()=>{if(se.length===5&&!fe&&!Z){Ae(!0),vt(0),Qe([]),V(!1),m(!1);return}if(w==="inside"&&sn.length===3&&fe&&!li){S(!0),p("intro"),H(0),f([]);return}},jm=c=>{Qe(O=>[...O,{speaker:"user",text:c}]);const z=ze+2;z>=lo.length?(Ae(!1),U(!0),je(!0)):(vt(z),V(!1))},Cm=c=>{if(Qe(q=>[...q,{speaker:"user",text:c.text}]),!c.correct){new Audio("/sound/wrong.mp3").play().catch(Se=>console.log("Wrong sound failed:",Se)),sa(c.id),Qe(Se=>[...Se,{speaker:"momo",text:"Try again! Think carefully about the answer.",isError:!0}]),V(!0);return}new Audio("/sound/correct.wav").play().catch(q=>console.log("Correct sound failed:",q)),sa(null);let O=ze+2;const P=lo[O];P&&P.condition==="correct"&&!c.correct&&(O+=1),vt(O),V(!1)},km=()=>{Y("rooftop"),Ae(!1)},dg=()=>{Lo?(De(!0),dt(-1)):(De(!0),dt(0),ei([]),Ba(""),hn(!0),Zn(!1)),Kn(!1)},Am=()=>{va?(ot(!0),Ge(-1)):(ot(!0),Ge(0),Jt(""),rn(!0),$e(!1))},Im=()=>{_n?(Ta(!0),vn(-1)):(Ta(!0),vn(0),no(""),Wo(!0),qt(!1))},Mm=()=>{const c=qi[zt];if(c.isButton&&c.startChallenge){const O=[...L2].sort(()=>Math.random()-.5).slice(0,2);xs(O),bo(!0),Oe(0),ua(120),it([]),mn(""),kn(!1),ot(!1);return}zt<qi.length-1&&Ge(zt+1)},zm=()=>{const c=Wi[Qt];if(c.isButton&&c.startChallenge){Ot(!0),To("snowPath"),Yo(0),bu(0),Ta(!1);return}Qt<Wi.length-1&&vn(Qt+1)},bu=c=>{const z=4+c,O=[];for(;O.length<z;){const P=Math.floor(Math.random()*16);O.includes(P)||O.push(P)}ao(O),Wn([]),Ga(!0),te(15)},Dm=c=>{if(dn||wa.includes(c))return;const z=[...wa,c];Wn(z),wo.includes(c)?(new Audio("/sound/correct.wav").play().catch(P=>console.log("Sound play failed:",P)),z.filter(P=>wo.includes(P)).length===wo.length&&setTimeout(()=>{oo<2?(Yo(oo+1),bu(oo+1)):(To("footstepRecall"),N(0),vu(0))},1e3)):(new Audio("/sound/wrong.mp3").play().catch(P=>console.log("Sound play failed:",P)),setTimeout(()=>{bu(oo)},1e3))},vu=c=>{const z=3+c,O=[];for(let Se=0;Se<z;Se++)O.push(Math.floor(Math.random()*6));oe(O),ge([]),Ze(!0),qa(-1);let P=0;const q=()=>{P<O.length?(qa(O[P]),new Audio("/sound/snowwav.wav").play().catch(rt=>console.log("Sound play failed:",rt)),setTimeout(()=>{qa(-1),P++,setTimeout(q,200)},700)):Ze(!1)};setTimeout(q,500)},Om=c=>{if(Ce)return;const z=[...ie,c];ge(z);const O=K[z.length-1];if(c!==O){new Audio("/sound/wrong.mp3").play().catch(Se=>console.log("Sound play failed:",Se)),setTimeout(()=>{vu(j)},1e3);return}new Audio("/sound/correct.wav").play().catch(q=>console.log("Sound play failed:",q)),z.length===K.length&&setTimeout(()=>{j<2?(N(j+1),vu(j+1)):(Ot(!1),Nl(!0),console.log("NPC9 memory challenge completed, showing sharing dialogue in 1s"),setTimeout(()=>{console.log("Setting showNpc9Sharing to true"),ti(!0)},1e3))},1e3)},pg=()=>{if(un.trim()&&Tt.length>0){const c=[...Dt,un.trim()];it(c),mn("");const z=Tt[cn];c.length>=z.requiredCount&&setTimeout(()=>{cn<Tt.length-1?(Oe(cn+1),ua(120),it([]),kn(!1)):(bo(!1),Sa(!0),setTimeout(()=>{_t(!0)},1e3))},500)}},Nm=c=>{c.key==="Enter"&&pg()},gg=async()=>{var c,z,O,P;if(Fn.trim()){const q=Fn.trim();console.log("User asked Glitch:",q),Cs(Se=>[...Se,{role:"user",text:q}]),G(""),ii(!0);try{const rt=await(await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=AIzaSyBcXQWrPV9YwtEW44u6JmkaFlmMEtaMTw4",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`You are Glitch, a helpful AI guide in the Glacier region of an educational game about AI ethics and privacy. Players are learning about data privacy, responsible AI use, and ethical decision-making. You help guide players through scenarios involving privacy violations and ethical dilemmas. Keep responses concise (2-3 sentences max).

User question: ${q}`}]}]})})).json();if(rt.candidates&&((P=(O=(z=(c=rt.candidates[0])==null?void 0:c.content)==null?void 0:z.parts)==null?void 0:O[0])!=null&&P.text)){const Nt=rt.candidates[0].content.parts[0].text;Cs(ci=>[...ci,{role:"glitch",text:Nt}])}else throw new Error("Invalid API response")}catch(Se){console.error("Glitch chat error:",Se),Cs(rt=>[...rt,{role:"glitch",text:"Oops! My circuits are a bit scrambled right now. Try asking me again?"}])}finally{ii(!1)}}},Rm=c=>{c.key==="Enter"&&gg()},Em=()=>{p("quiz"),H(0)},Bm=c=>{h();const z=[...u,{questionId:Ln.questions[M].id,score:c.score,category:Ln.questions[M].category,text:c.text}];if(f(z),M<Ln.questions.length-1)H(M+1);else{p("calculating");let O=0,P=0;z.forEach(Se=>{Se.category==="proficiency"?O+=Se.score:Se.category==="judgment"&&(P+=Se.score)}),R(O),$(P);let q=null;O>=10&&P>=10?q="daisy":O>=10&&P<10?q="bark":O<10&&P>=10?q="twig":q="shrub",Ie(q),setTimeout(()=>{p("result")},2e3)}},_m=()=>{S(!1),jo(!0)},Fm=c=>{Pa(c)},fg=c=>{if(!Ya)return;const z=$l[c],O=[...Yn];O[c]=Ya,Ts(O),Ya===z.correctAnswer?(i(),setTimeout(()=>{const P=ht+1;Ri(P),P===5&&setTimeout(()=>{Ss(!1),oi(!0)},500)},600)):(l(),setTimeout(()=>{const P=[...Yn];P[c]=null,Ts(P)},800)),Pa(null)},Hm=c=>{c.preventDefault()},Lm=c=>{ht<5&&(Pa(c),fg(ht))},Um=()=>{oi(!1),ws(!0)},Gm=c=>{Xa(!0),si({x:c.clientX,y:c.clientY})},qm=c=>{Co&&Ei({x:c.clientX,y:c.clientY})},Wm=c=>{if(!Co)return;Xa(!1);const z=window.getSelection().toString().trim();z&&Ym(z),si(null),Ei(null)},Ym=c=>{const O=ro[xt-1].items.find(P=>P.isMultiPart?P.parts.some(q=>c.includes(q)):c.includes(P.text)||c.includes(P.hint));O&&!Sn.includes(O.id)?(d(),ja([...Sn,O.id])):O||l()},Pm=()=>{ro[xt-1].items.every(O=>Sn.includes(O.id))?(i(),xt<3?setTimeout(()=>{Bl(xt+1),ja([])},500):setTimeout(()=>{ws(!1),ai(!0)},1e3)):l()},Xm=()=>{ai(!1),Y("reloading"),Hn(0);let c=0;const z=setInterval(()=>{c+=2,Hn(c),c>=100&&(clearInterval(z),setTimeout(()=>{Y("complete")},500))},50)},Jm=()=>{(w==="inside"||w==="court"||w==="rooftop")&&Ca(!0)},Qm=c=>{if(qn)return;const z=[...qo],O=z[vo];O.completed||(O.element=c.name,O.result=c.image,O.completed=!0,yn(z),ms(!0),new Audio("/sound/correct.wav").play().catch(q=>console.log("Sound play failed:",q)),setTimeout(()=>{ms(!1),vo<1?We(1):(pa(!0),On(q=>[...q,"npc6"]),setTimeout(()=>{_t(!1)},2e3))},2e3))},hg=()=>{ys.trim()&&(bs(!0),setTimeout(()=>{ti(!1),bs(!1),ni(""),On(c=>[...c,"npc9"])},2e3))},Vm=c=>{c.key==="Enter"&&hg()};r.useEffect(()=>{if(Go&&Kt>0){const c=setTimeout(()=>{ua(Kt-1)},1e3);return()=>clearTimeout(c)}else if(Go&&Kt===0&&Tt.length>0){const c=Tt[cn];Dt.length<c.requiredCount&&setTimeout(()=>{bo(!1),Sa(!1)},1e3)}},[Go,Kt,Tt,cn,Dt.length]);const Zm=c=>{{Kn(!0),Fa(1),ia(300),De(!1),$n(null),xo(!1),ma(""),la(""),Ha(!0),sn.includes("npc5")||On(z=>[...z,"npc5"]);return}},xg=c=>c&&c.split(/(\bPink\b|\bGreen\b)/g).map((O,P)=>O==="Pink"?a.jsx("span",{style:{color:"#ff69b4"},children:O},P):O==="Green"?a.jsx("span",{style:{color:"#4ade80"},children:O},P):O),Km=(c,z)=>{ho!==null&&Jo[an].options[ho].correct||($n(z),c.correct?(new Audio("/sound/correct.wav").play().catch(P=>console.log("Sound play failed:",P)),setTimeout(()=>{xo(!0)},500)):(new Audio("/sound/wrong.mp3").play().catch(P=>console.log("Sound play failed:",P)),setTimeout(()=>{$n(null)},1e3)))},mg=()=>{Gn.trim()&&(la(Gn),setTimeout(()=>{xo(!1),ma(""),la(""),$n(null),an===1?(Fa(2),ia(300)):(console.log("Puzzle 2 completed, moving to exercises"),Kn(!1),De(!1),Nn(!0),mo(1),Rn([]),st(!1),console.log("Exercise state set: showExercise=true, currentExercise=1"))},2e3))},$m=()=>{const c=window.getSelection(),z=c.toString().trim();if(!z||!xn)return;const O=As[Ut],P=O.text;console.log("=== Text Selection Debug ==="),console.log("Selected text:",z),console.log("Selected text length:",z.length);let q=-1,Se=-1;if(q=P.indexOf(z),q!==-1)Se=q+z.length,console.log("Found exact match at:",q,"-",Se);else{console.log("No exact match found, trying normalized search");const Nt=z.replace(/\s+/g," ");q=P.indexOf(Nt),q!==-1&&(Se=q+Nt.length,console.log("Found normalized match at:",q,"-",Se))}let rt=!1;O.errors.forEach((Nt,ci)=>{if(Xt.includes(ci))return;console.log(`Checking error ${ci}:`,Nt.text,`(${Nt.start}-${Nt.end})`);const Tg=z===Nt.text,wg=z.replace(/\s+/g," ")===Nt.text.replace(/\s+/g," ");let Yr=!1;q!==-1&&Se!==-1&&(Yr=!(Se<=Nt.start||q>=Nt.end),console.log(`  - Position overlap check: selection(${q}-${Se}) vs error(${Nt.start}-${Nt.end}):`,Yr));const jg=z.includes(Nt.text),Cg=Nt.text.includes(z)&&z.length>=3;if(console.log("  - Exact text match:",Tg),console.log("  - Normalized match:",wg),console.log("  - Position overlap:",Yr),console.log("  - Contains error:",jg),console.log("  - Error contains selection:",Cg),Tg||wg||Yr||jg||Cg){console.log(" Error matched!"),rt=!0;const kg=[...Xt,ci];Rn(kg),new Audio("/sound/correct.wav").play().catch(wu=>console.log("Sound play failed:",wu)),kg.length===O.requiredCount&&(st(!0),setTimeout(()=>{Ut===1?(mo(2),Rn([]),st(!1)):(Nn(!1),Ha(!0),sn.includes("npc5")||On(wu=>[...wu,"npc5"]))},2e3))}}),!rt&&z.length>2&&(console.log(" No error matched - wrong selection"),new Audio("/sound/wrong.mp3").play().catch(ci=>console.log("Sound play failed:",ci))),console.log("=== End Debug ==="),c.removeAllRanges()};r.useEffect(()=>{if(St&&Bt>=0&&Bt<Yi.length){const c=Yi[Bt];if(c.isButton){hn(!1);return}const z=c.text;let O=0;Ba(""),hn(!0);const P=setInterval(()=>{O<z.length?(Ba(z.substring(0,O+1)),O++):(clearInterval(P),hn(!1),c.showButton?setTimeout(()=>{Zn(!0)},500):c.autoAdvance&&setTimeout(()=>{Bt<Yi.length-1&&dt(Bt+1)},800))},30);return()=>clearInterval(P)}},[St,Bt]),r.useEffect(()=>{if(ln&&zt>=0&&zt<qi.length){const c=qi[zt];if(c.isButton){rn(!1);return}const z=c.text;let O=0;Jt(""),rn(!0);const P=setInterval(()=>{O<z.length?(Jt(z.substring(0,O+1)),O++):(clearInterval(P),rn(!1),c.showButton?setTimeout(()=>{$e(!0)},500):c.autoAdvance&&setTimeout(()=>{zt<qi.length-1&&Ge(zt+1)},800))},30);return()=>clearInterval(P)}},[ln,zt]),r.useEffect(()=>{if(bn&&Qt>=0&&Qt<Wi.length){const c=Wi[Qt];if(c.isButton){Wo(!1);return}const z=c.text;let O=0;no(""),Wo(!0);const P=setInterval(()=>{O<z.length?(no(z.substring(0,O+1)),O++):(clearInterval(P),Wo(!1),c.showButton?setTimeout(()=>{qt(!0)},500):c.autoAdvance&&setTimeout(()=>{Qt<Wi.length-1&&vn(Qt+1)},800))},30);return()=>clearInterval(P)}},[bn,Qt]),r.useEffect(()=>{if(Fo&&Ho>0&&!eo){const c=setTimeout(()=>{ia(Ho-1)},1e3);return()=>clearTimeout(c)}else Fo&&Ho===0&&setTimeout(()=>{Kn(!1),Ha(!1)},1e3)},[Fo,Ho,eo]),r.useEffect(()=>{if(jt&&ve==="snowPath"&&dn&&En>0){const c=setTimeout(()=>{te(En-1)},1e3);return()=>clearTimeout(c)}else jt&&ve==="snowPath"&&dn&&En===0&&Ga(!1)},[jt,ve,dn,En]);const Su=c=>{const z=Math.floor(c/60),O=c%60;return`${z.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`},ey=c=>{if(se.length===5&&(c==="npc2"||c==="npc3")){vm(c);return}se.includes(c)||(Q(c),re(1),Be(167))},ty=()=>{re(2),F(0),setTimeout(()=>F(1),500),setTimeout(()=>F(2),2e3),setTimeout(()=>F(3),3500)},yg=c=>{if(c==="accepted"){new Audio("/sound/wrong.mp3").play().catch(P=>console.log("Audio play failed:",P)),de(!0),setTimeout(()=>{de(!1)},500);return}ue(c),Ke(!0),new Audio("/sound/stamp.mp3").play().catch(O=>console.log("Audio play failed:",O)),ce(O=>[...O,E]),setTimeout(()=>{Ke(!1),Q(null),re(1),ue(""),de(!1)},2e3)},ny=()=>{Q(null),re(1)};r.useEffect(()=>{if(E&&ne===1&&bt>0){const c=setTimeout(()=>{Be(bt-1)},1e3);return()=>clearTimeout(c)}},[E,ne,bt]);const oy=c=>{const z=Math.floor(c/60),O=c%60;return`${z.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`},ay=()=>{w==="court"?(Y("inside"),m(!1),se.length<5?X(!0):X(!1)):w==="rooftop"&&(Y("inside"),De(!1),Kn(!1),Nn(!1),ot(!1),setShowNpc6Creativity(!1),setShowNpc6CoCreation(!1),setShowNpc9Memory(!1),ti(!1),X(!1))},sy=()=>{w==="hallway"?(Ee(!0),X(!1),m(!1),setTimeout(()=>{Y("outside"),Ee(!1)},2e3)):w==="outside"?(Y("inside"),X(!1),m(!1)):w==="inside"&&(Y("court"),X(!1),m(!1))},bg=()=>{if(xe&&w==="hallway")return"/glacier/background/hallway.gif";switch(w){case"hallway":return"/glacier/background/hallway.png";case"outside":return"/glacier/background/outside.png";case"inside":return"/glacier/background/inside.png";case"court":return"/glacier/background/court.png";case"rooftop":return"/glacier/background/rooftop.png";case"datacenter":return"/glacier/background/data.png";case"reloading":return null;case"complete":return"/glacier/background/color.png";default:return"/glacier/background/hallway.png"}},iy=()=>{switch(w){case"hallway":return"/glacier/icon/arrow1.png";case"outside":return"/glacier/icon/arrow2.png";default:return"/glacier/icon/arrow1.png"}},ly=()=>{switch(w){case"hallway":return{right:"350px",bottom:"10px"};case"outside":return{left:"300px",bottom:"0px"};case"inside":return{left:"30%",bottom:"0%"};default:return{right:"350px",bottom:"10px"}}},Tu=()=>{switch(w){case"hallway":return{left:"5px",bottom:"5px",size:"400px"};case"outside":return{right:"0px",top:"0px",size:"400px"};case"inside":return{right:"0px",top:"0px",size:"120px"};case"court":return{right:"0px",top:"0px",size:"120px"};case"rooftop":return{right:"0px",top:"0px",size:"120px"};default:return{left:"5px",bottom:"5px",size:"400px"}}},ry=()=>({npc2:{right:"30%",bottom:"20%",height:"280px"},npc3:{left:"25%",bottom:"20%",height:"240px"},npc4:{right:"22%",bottom:"22%",height:"180px"},npc7:{left:"10px",bottom:"200px",height:"250px"},npc8:{right:"10px",bottom:"200px",height:"170px"}}),vg=()=>w==="inside"?{right:"10%",bottom:"0%",height:"85%"}:w==="rooftop"?{left:"5%",bottom:"5%",height:"25%"}:null,Sg=()=>{switch(w){case"hallway":return{left:"430px",bottom:"150px",width:"700px",minHeight:"200px"};case"outside":return{right:"430px",top:"150px",width:"500px",minHeight:"120px"};case"inside":return{right:"50%",top:"15%",width:"40%",height:"70%"};default:return{left:"430px",bottom:"150px",width:"700px",minHeight:"200px"}}},x={container:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden"},backgroundImage:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0},exitButton:{position:"absolute",top:"20px",left:"20px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},npc:{position:"absolute",zIndex:30,transition:"transform 0.2s",filter:"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3))"},npcImage:{width:"100%",height:"100%",objectFit:"contain"},glitchDialogue:{position:"absolute",top:"20px",right:"150px",padding:"20px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #af4dca",zIndex:1100,minWidth:"280px",maxWidth:"320px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)"},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#af4dca",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#af4dca",margin:0},glitchDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:"0 0 15px 0"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",backgroundColor:"#d9d7de",borderRadius:"20px",border:"2px solid #d9d7de",overflow:"hidden",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",backgroundColor:"#af4dca",margin:"0 8px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},dialogueContainer:{position:"absolute",zIndex:1e3,background:"rgba(240, 248, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"2px solid rgba(100, 149, 237, 0.5)",borderRadius:"25px",padding:"25px 30px",display:"flex",flexDirection:"column",boxShadow:"0 12px 40px rgba(0, 0, 0, 0.4), 0 0 30px rgba(100, 149, 237, 0.3), inset 0 2px 4px rgba(255, 255, 255, 0.5)",minWidth:"400px",maxWidth:"800px"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"20px",fontWeight:500,color:"#1a1a1a",lineHeight:"1.5em",letterSpacing:"0.5px",margin:0,flex:1,textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},leftButton:{position:"absolute",top:"20px",left:"20px",width:"60px",height:"40px",border:"none",background:"transparent",cursor:"pointer",zIndex:100,transition:"all 0.2s"},leftButtonImage:{width:"100%",height:"100%",objectFit:"contain"},elevatorArrow:{position:"absolute",top:"300px",right:"900px",width:"300px",height:"215px",cursor:"pointer",zIndex:50,animation:"breathe 2s ease-in-out infinite",transition:"transform 0.2s"},npc5:{position:"absolute",bottom:"15%",right:"20%",width:"200px",height:"200px",cursor:"pointer",zIndex:50,transition:"transform 0.2s"},npc6:{position:"absolute",left:"0px",bottom:"250px",width:"250px",height:"270px",cursor:"pointer",zIndex:50,transition:"transform 0.2s"},npc6DialogueContainer:{position:"absolute",left:"calc(0px + 250px)",bottom:"350px",width:"550px",minHeight:"150px",background:"rgba(240, 248, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(100, 149, 237, 0.4)",borderRadius:"20px",padding:"25px 30px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 149, 237, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:2100},npc6ContinueButton:{alignSelf:"flex-end",padding:"12px 24px",borderRadius:"10px",border:"1px solid rgba(100, 149, 237, 0.5)",background:"rgba(30, 30, 50, 0.9)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},npc5DialogueContainer:{position:"absolute",right:"calc(20% + 200px)",bottom:"15%",width:"500px",minHeight:"150px",background:"rgba(240, 248, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(100, 149, 237, 0.4)",borderRadius:"20px",padding:"25px 30px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 149, 237, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:1e3},npc5ContinueButton:{alignSelf:"flex-end",padding:"12px 24px",borderRadius:"10px",border:"1px solid rgba(100, 149, 237, 0.5)",background:"rgba(30, 30, 50, 0.9)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},puzzleContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85vw",maxWidth:"1400px",height:"75vh",background:"rgba(40, 40, 40, 0.95)",borderRadius:"20px",padding:"0",zIndex:3e3,color:"#fff",display:"flex",overflow:"hidden"},puzzleLeftPanel:{width:"33.33%",background:"rgba(20, 20, 20, 0.9)",padding:"30px 20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"30px",position:"relative"},puzzleTimer:{fontSize:"32px",fontWeight:"bold",fontFamily:"'Roboto Mono', monospace",color:"#fff",background:"rgba(255, 255, 255, 0.1)",padding:"15px 30px",borderRadius:"50px",letterSpacing:"2px"},puzzleImageContainer:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},puzzleImage:{width:"100%",height:"auto",borderRadius:"10px"},puzzleRightPanel:{width:"66.67%",padding:"40px 50px",display:"flex",flexDirection:"column",overflowY:"auto"},puzzleTitle:{fontSize:"28px",fontWeight:"bold",marginBottom:"25px",textAlign:"left"},puzzleStatement:{fontSize:"20px",marginBottom:"15px",fontStyle:"italic",lineHeight:1.6,textAlign:"left"},puzzleQuestion:{fontSize:"22px",fontWeight:"bold",marginBottom:"25px",lineHeight:1.4,textAlign:"left"},puzzleOptions:{display:"flex",flexDirection:"column",gap:"15px",marginTop:"20px"},puzzleOption:{padding:"18px 25px",borderRadius:"10px",border:"2px solid #a0d8ff",borderStyle:"solid",borderWidth:"2px",borderColor:"#a0d8ff",background:"#1f2937",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",textAlign:"left",lineHeight:1.5,width:"100%",boxSizing:"border-box",display:"block",outline:"none"},puzzleOptionCorrect:{borderColor:"#4caf50",background:"#2e7d32"},puzzleOptionWrong:{background:"#c62828",borderColor:"#f44336"},creativityContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"900px",height:"650px",background:"rgba(40, 40, 40, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"20px",padding:"50px",zIndex:3100,color:"#fff",display:"flex",flexDirection:"column",alignItems:"center"},creativityTimer:{fontSize:"60px",fontWeight:"bold",textAlign:"center",marginBottom:"30px",fontFamily:"'Roboto Mono', monospace",letterSpacing:"4px"},creativityTimerRed:{color:"#ff4444"},creativityTitle:{fontSize:"22px",fontWeight:"bold",textAlign:"center",marginBottom:"30px",lineHeight:1.5,color:"#ffffff"},creativityTagsContainer:{width:"100%",flex:1,display:"flex",flexWrap:"wrap",alignContent:"flex-start",gap:"12px",marginBottom:"20px",overflowY:"auto",padding:"10px 0"},creativityTag:{padding:"10px 20px",borderRadius:"20px",border:"none",fontSize:"16px",color:"#000",whiteSpace:"nowrap",fontWeight:"500"},creativityTagYellow:{background:"#f0d32d"},creativityTagRed:{background:"#ab3a2c"},creativityInputSection:{width:"100%",display:"flex",flexDirection:"column",gap:"15px",position:"relative"},creativityHintButton:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",color:"#a0d8ff",fontSize:"16px",cursor:"pointer",padding:"8px 0",fontWeight:"600",transition:"all 0.2s"},creativityHintIcon:{width:"20px",height:"20px"},creativityInputContainer:{position:"relative",display:"flex",alignItems:"center",backgroundColor:"#1f2937",borderRadius:"15px",border:"2px solid #a0d8ff",overflow:"hidden",transition:"border-color 0.2s"},creativityInput:{flex:1,padding:"15px 20px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#fff",outline:"none"},creativityDivider:{width:"2px",height:"24px",backgroundColor:"#a0d8ff",margin:"0 8px",flexShrink:0},creativitySendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s"},creativitySendIcon:{width:"24px",height:"24px",objectFit:"contain"},creativityProgress:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",marginTop:"10px"},creativityProgressDot:{width:"12px",height:"12px",borderRadius:"50%",background:"#666566",transition:"all 0.3s"},creativityProgressDotActive:{background:"#a0d8ff"},creativityProgressText:{fontSize:"16px",fontWeight:"bold",color:"#a0d8ff",marginLeft:"10px"},coCreationContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"900px",maxHeight:"85vh",background:"rgba(60, 60, 60, 0.95)",backdropFilter:"blur(20px)",borderRadius:"20px",padding:"30px",zIndex:3200,display:"flex",flexDirection:"column",gap:"20px",overflow:"auto"},coCreationDialogue:{background:"#fff",borderRadius:"15px",padding:"20px",display:"flex",alignItems:"center",gap:"15px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},coCreationInstruction:{textAlign:"center",color:"#a0d8ff",fontSize:"18px",marginBottom:"10px"},coCreationFormulasArea:{flex:1,display:"flex",flexDirection:"column",gap:"20px",justifyContent:"center"},coCreationFormula:{display:"flex",alignItems:"center",justifyContent:"center",gap:"20px"},coCreationCard:{width:"150px",height:"150px",background:"#fff",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)"},coCreationDropZone:{width:"200px",height:"80px",border:"3px dashed rgba(160, 216, 255, 0.5)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Roboto Mono', monospace",fontSize:"18px",color:"#fff"},coCreationResultCard:{width:"150px",height:"150px",background:"#f0d32d",border:"4px solid #a0d8ff",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)",animation:"shake 0.5s"},coCreationElementsArea:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center",padding:"15px",maxHeight:"200px",overflow:"auto"},coCreationElementTag:{padding:"10px 20px",borderRadius:"20px",fontSize:"14px",fontFamily:"'Roboto Mono', monospace",color:"#fff",cursor:"pointer",transition:"all 0.2s",fontWeight:"500",border:"none"},npc9SharingContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",maxWidth:"900px",maxHeight:"85vh",background:"rgba(80, 80, 80, 0.85)",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",borderRadius:"25px",padding:"40px",zIndex:3e3,display:"flex",flexDirection:"column",gap:"25px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",border:"1px solid rgba(255, 255, 255, 0.1)"},npc9SharingTitle:{textAlign:"center",color:"#fff",fontSize:"22px",marginBottom:"10px",fontWeight:"500"},npc9SharingMessage:{display:"flex",alignItems:"flex-start",gap:"15px",marginBottom:"10px"},npc9SharingBubble:{background:"#fff",borderRadius:"15px",padding:"20px",flex:1,fontSize:"16px",lineHeight:1.6,color:"#333",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},npc9SharingTimestamp:{fontSize:"12px",color:"#999",marginTop:"8px"},npc9SharingUserLabel:{textAlign:"right",fontSize:"12px",color:"#a0d8ff",marginBottom:"5px",fontWeight:"500"},npc9SharingHints:{display:"flex",gap:"10px",marginBottom:"10px",alignItems:"flex-start"},npc9SharingHintTag:{padding:"8px 16px",borderRadius:"20px",fontSize:"13px",background:"rgba(160, 216, 255, 0.15)",border:"1px solid rgba(160, 216, 255, 0.4)",color:"#a0d8ff",fontWeight:"500"},npc9SharingInputContainer:{display:"flex",alignItems:"center",gap:"15px",background:"rgba(30, 50, 70, 0.6)",borderRadius:"15px",padding:"12px 20px",border:"2px solid rgba(160, 216, 255, 0.4)"},npc9SharingInput:{flex:1,background:"none",border:"none",color:"#fff",fontSize:"16px",outline:"none",fontFamily:"'Roboto', sans-serif"},creativityHintModal:{position:"absolute",bottom:"100%",left:"0",width:"280px",background:"rgba(20, 30, 40, 0.95)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",borderRadius:"12px",padding:"15px",marginBottom:"15px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.6)",border:"1px solid rgba(160, 216, 255, 0.3)",zIndex:100},creativityHintHeader:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid rgba(160, 216, 255, 0.2)"},creativityHintTitle:{fontSize:"14px",fontWeight:"bold",color:"#a0d8ff",flex:1},creativityHintClose:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#a0d8ff",padding:"0",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},creativityHintContent:{color:"#fff",fontSize:"11px",lineHeight:1.4},creativityHintItem:{marginBottom:"10px",padding:"8px 10px",background:"rgba(160, 216, 255, 0.1)",border:"1px solid rgba(160, 216, 255, 0.3)",borderRadius:"8px",position:"relative"},creativityHintLabel:{fontWeight:"bold",color:"#a0d8ff",marginBottom:"4px",display:"block",fontSize:"10px"},progressContainer:{position:"absolute",bottom:"50px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"20px",zIndex:100,background:"rgba(255, 255, 255, 0.85)",padding:"15px 25px",borderRadius:"30px"},progressCircle:{width:"60px",height:"60px",borderRadius:"50%",border:"3px solid #ccc",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"bold",color:"#666",transition:"all 0.3s",background:"#fff"},progressCircleCompleted:{background:"#4CAF50",borderColor:"#4CAF50",color:"#fff"},courtNpc:{position:"absolute",cursor:"pointer",transition:"transform 0.2s",zIndex:50},caseModal:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(20, 20, 30, 0.95), rgba(20, 20, 30, 0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"20px",padding:"30px",zIndex:2e3,boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},caseModalStep1:{width:"calc(50vw + 20px)",height:"70vh"},caseModalStep2:{width:"85vw",maxWidth:"1200px",height:"75vh",maxHeight:"650px",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(20, 20, 30, 0.95), rgba(20, 20, 30, 0.95)), linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"20px"},closeButton:{position:"absolute",top:"15px",right:"20px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#fff",zIndex:10},caseTitle:{fontSize:"20px",fontWeight:"bold",fontFamily:"'Orbitron', sans-serif",marginBottom:"20px",color:"#fff"},caseGifContainer:{position:"relative",width:"100%",marginBottom:"10px"},caseGif:{width:"100%",height:"auto",maxHeight:"50vh",objectFit:"contain",borderRadius:"10px",boxShadow:"inset 0 0 20px rgba(0, 0, 0, 0.3)"},caseTimer:{position:"absolute",top:"15px",right:"15px",fontFamily:"'Courier New', monospace",fontSize:"18px",fontWeight:"bold",color:"#fff",background:"rgba(0, 0, 0, 0.6)",padding:"8px 12px",borderRadius:"6px",letterSpacing:"2px"},nextButton:{position:"absolute",bottom:"15px",right:"30px",padding:"12px 30px",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},step2Container:{position:"relative",height:"100%",width:"100%",display:"flex",padding:"30px 30px 20px 30px",gap:"30px"},step2LeftColumn:{width:"280px",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",flexShrink:0,position:"relative",overflow:"visible",minHeight:"500px"},step2RightColumn:{flex:1,display:"flex",flexDirection:"column",minHeight:0},caseHeader:{position:"absolute",top:"15px",left:"50%",transform:"translateX(-50%)",fontSize:"13px",color:"#d0d0d0",fontFamily:"'Orbitron', sans-serif",fontWeight:500,letterSpacing:"1.5px",textAlign:"center",whiteSpace:"nowrap"},statementTitle:{fontSize:"20px",fontWeight:700,color:"#ffffff",fontFamily:"'Orbitron', sans-serif",letterSpacing:"2px",marginBottom:"20px"},statementBox:{background:"rgba(230, 230, 230, 0.98)",borderRadius:"12px",padding:"20px 25px",fontFamily:"'Roboto Mono', monospace",fontSize:"14px",lineHeight:1.8,marginBottom:"20px",maxHeight:"180px",overflowY:"auto"},statementLine:{marginBottom:"10px",color:"#1a1a1a"},statementPrefix:{color:"#667eea",marginRight:"8px",fontWeight:700},verdictPending:{display:"flex",alignItems:"center",gap:"10px",margin:"20px 0",fontSize:"18px",fontFamily:"'Orbitron', sans-serif",fontWeight:700,color:"#5ba3ff",letterSpacing:"2px"},verdictIcon:{width:"28px",height:"28px",objectFit:"contain"},claimQuote:{fontSize:"20px",fontFamily:"'Michroma', sans-serif",fontStyle:"italic",fontWeight:700,color:"#f0f0f0",textAlign:"center",margin:"20px 0 30px 0",lineHeight:1.5,padding:"0 20px"},judgmentButtonsContainer:{display:"flex",justifyContent:"space-between",gap:"30px",marginTop:"auto"},approvedButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"15px",padding:"16px 45px",background:"rgba(76, 175, 80, 0.3)",border:"2px solid #4caf50",borderRadius:"12px",color:"#4caf50",fontSize:"20px",fontFamily:"'Orbitron', sans-serif",fontWeight:700,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 25px rgba(76, 175, 80, 0.5)",flex:1},rejectedButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"15px",padding:"16px 45px",background:"rgba(244, 67, 54, 0.3)",border:"2px solid #f44336",borderRadius:"12px",color:"#f44336",fontSize:"20px",fontFamily:"'Orbitron', sans-serif",fontWeight:700,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 25px rgba(244, 67, 54, 0.5)",flex:1},judgmentIcon:{width:"36px",height:"36px"},stampOverlay:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:3e3,width:"350px",height:"350px"},dialogueButtons:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"15px"},dialogueButton:{padding:"12px 24px",borderRadius:"10px",border:"1px solid rgba(100, 149, 237, 0.5)",background:"rgba(30, 30, 50, 0.9)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},skipButton:{padding:"8px 16px",borderRadius:"8px",border:"none",background:"transparent",color:"rgba(255, 255, 255, 0.6)",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},arrow:{position:"absolute",width:"300px",height:"300px",cursor:"pointer",zIndex:50,animation:"breathe 2s ease-in-out infinite",transition:"transform 0.2s"},arrowSmall:{position:"absolute",width:"350px",height:"350px",cursor:"pointer",zIndex:50,animation:"breathe 2s ease-in-out infinite",transition:"transform 0.2s"},arrowImage:{width:"100%",height:"100%",objectFit:"contain"},keyframes:`
      @keyframes breathe {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
        20%, 40%, 60%, 80% { transform: translateX(10px); }
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      @keyframes blink {
        0%, 100% { opacity: 0.2; }
        50% { opacity: 1; }
      }
    `,modernDialogueContainer:{position:"absolute",top:"12.5%",left:"10%",width:"40%",height:"70%",zIndex:100,background:"rgba(245, 245, 245, 0.98)",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},modernDialogueHeader:{padding:"20px 25px 15px 25px",borderBottom:"none"},modernProgressContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},modernMissionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px"},modernStepIndicator:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#999"},modernProgressBar:{width:"100%",height:"4px",backgroundColor:"rgba(200,200,200,0.3)",borderRadius:"2px",overflow:"hidden",marginBottom:"20px"},modernProgressFill:{height:"100%",borderRadius:"2px",transition:"width 0.3s ease"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px",flex:1},modernNpcAvatar:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#333"},modernNpcStatus:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999"},modernCloseButton:{position:"relative",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},modernDialogueContent:{flex:1,padding:"0 25px 25px 25px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"100%"},modernNpcSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"85%"},modernUserBubble:{background:"#333333",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(51, 51, 51, 0.3)"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ffffff",lineHeight:1.5,margin:0},modernUserSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},modernActionButton:{alignSelf:"stretch",background:"white",border:"2px solid #E0E0E0",borderRadius:"25px",padding:"14px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",marginTop:"8px"},reloadingContainer:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:3e3},reloadingIcon:{width:"100px",height:"100px",animation:"spin 2s linear infinite",filter:"drop-shadow(0 0 20px rgba(160, 216, 255, 0.8))",marginBottom:"30px"},reloadingText:{color:"#a0d8ff",fontSize:"24px",fontWeight:"bold",fontFamily:"'Montserrat', sans-serif",letterSpacing:"2px"},completeNpc:{position:"absolute",cursor:"pointer",transition:"transform 0.2s",zIndex:30},completeNpcImage:{width:"100%",height:"100%",objectFit:"contain"},completeNpcDialogue:{position:"absolute",bottom:"110%",left:"50%",transform:"translateX(-50%)",background:"rgba(255, 255, 255, 0.95)",border:"2px solid #333",borderRadius:"15px",padding:"15px 20px",minWidth:"200px",maxWidth:"300px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",zIndex:100,whiteSpace:"normal",wordWrap:"break-word"},completeNpcDialogueText:{color:"#333",fontSize:"14px",lineHeight:1.5,fontFamily:"'Roboto', sans-serif",margin:0}};return a.jsxs("div",{style:x.container,children:[a.jsx("style",{children:x.keyframes}),w==="reloading"&&a.jsxs("div",{style:x.reloadingContainer,children:[a.jsx("img",{src:"/glacier/icon/snowfake.svg",alt:"Loading",style:x.reloadingIcon}),a.jsx("div",{style:x.reloadingText,children:"System Online."})]}),w!=="reloading"&&bg()&&a.jsx("img",{src:bg(),alt:"Glacier Background",style:x.backgroundImage}),w==="complete"&&H2.map(c=>a.jsxs("div",{style:{...x.completeNpc,...c.position},onClick:()=>lt(Pe===c.id?null:c.id),onMouseOver:z=>z.currentTarget.style.transform="scale(1.05)",onMouseOut:z=>z.currentTarget.style.transform="scale(1)",children:[a.jsx("img",{src:c.image,alt:c.id,style:x.completeNpcImage}),Pe===c.id&&a.jsx("div",{style:{...x.completeNpcDialogue,...c.id==="npc12"?{left:"auto",right:"110%",transform:"none",bottom:"0"}:{}},children:a.jsx("p",{style:x.completeNpcDialogueText,children:c.dialogue})})]},c.id)),w==="court"||w==="rooftop"?a.jsx("button",{style:x.leftButton,onClick:ay,onMouseOver:c=>c.target.style.transform="scale(1.1)",onMouseOut:c=>c.target.style.transform="scale(1)",children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:x.leftButtonImage})}):w!=="datacenter"&&a.jsx("button",{style:x.exitButton,onClick:e,onMouseOver:c=>{c.target.style.background="rgba(0, 0, 0, 0.5)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.background="rgba(0, 0, 0, 0.3)",c.target.style.transform="scale(1)"},children:t("exit")}),(w==="outside"||w==="hallway"||w==="inside"||w==="court"||w==="rooftop")&&a.jsx("div",{style:{...x.npc,...Tu(),width:Tu().size,height:Tu().size,cursor:"pointer"},onClick:Jm,onMouseOver:c=>{c.currentTarget.style.transform="scale(1.05)"},onMouseOut:c=>{c.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/npc/npc_glacier.gif",alt:"Glitch",style:x.npcImage})}),Hl&&(w==="inside"||w==="court"||w==="rooftop")&&a.jsxs("div",{style:x.glitchDialogue,children:[a.jsx("button",{style:x.glitchDialogueCloseButton,onClick:()=>{Ca(!1),Cs([])},onMouseOver:c=>{c.target.style.color="#333",c.target.style.transform="scale(1.1)"},onMouseOut:c=>{c.target.style.color="#999",c.target.style.transform="scale(1)"},children:""}),a.jsxs("div",{style:x.glitchDialogueHeader,children:[a.jsx("div",{style:x.glitchDialogueAvatar,children:a.jsx("span",{style:x.glitchDialogueAvatarIcon,children:""})}),a.jsx("h4",{style:x.glitchDialogueName,children:"Glitch"})]}),a.jsxs("div",{style:{maxHeight:"300px",overflowY:"auto",marginBottom:"15px",display:"flex",flexDirection:"column",gap:"10px"},children:[Bi.length===0&&a.jsxs("p",{style:x.glitchDialogueText,children:[w==="inside"&&"The machines are sleeping, but the truth is awake. Ask me anything about this station.",w==="court"&&"Justice is not always black and white. Sometimes it's about responsibility.",w==="rooftop"&&"They forgot how to think for themselves. Can you help them remember?"]}),Bi.map((c,z)=>a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"12px",background:c.role==="user"?"rgba(175, 77, 202, 0.1)":"rgba(175, 77, 202, 0.05)",border:c.role==="user"?"1px solid rgba(175, 77, 202, 0.3)":"1px solid rgba(175, 77, 202, 0.1)",alignSelf:c.role==="user"?"flex-end":"flex-start",maxWidth:"85%"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#af4dca",marginBottom:"4px",fontFamily:"'Roboto', sans-serif"},children:c.role==="user"?"YOU":"GLITCH"}),a.jsx("div",{style:{fontSize:"14px",color:"#333",lineHeight:1.5,fontFamily:"'Roboto', sans-serif",whiteSpace:"pre-wrap"},children:c.text})]},z)),ka&&a.jsxs("div",{style:{padding:"10px 12px",borderRadius:"12px",background:"rgba(175, 77, 202, 0.05)",border:"1px solid rgba(175, 77, 202, 0.1)",alignSelf:"flex-start",maxWidth:"85%"},children:[a.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#af4dca",marginBottom:"4px",fontFamily:"'Roboto', sans-serif"},children:"GLITCH"}),a.jsxs("div",{style:{fontSize:"14px",color:"#999",fontFamily:"'Roboto', sans-serif"},children:[a.jsx("span",{style:{animation:"blink 1.4s infinite"},children:""}),a.jsx("span",{style:{animation:"blink 1.4s infinite 0.2s"},children:""}),a.jsx("span",{style:{animation:"blink 1.4s infinite 0.4s"},children:""})]})]})]}),a.jsxs("div",{style:x.glitchDialogueInputContainer,onFocus:c=>{c.currentTarget.style.borderColor="#af4dca"},onBlur:c=>{c.currentTarget.style.borderColor="#d9d7de"},children:[a.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:Fn,onChange:c=>G(c.target.value),onKeyPress:Rm,style:x.glitchDialogueInput,disabled:ka}),a.jsx("div",{style:x.glitchDialogueDivider}),a.jsx("button",{onClick:gg,style:{...x.glitchDialogueSendButton,opacity:ka?.5:1,cursor:ka?"not-allowed":"pointer"},disabled:ka,onMouseOver:c=>{ka||(c.currentTarget.style.transform="scale(1.1)")},onMouseOut:c=>{c.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/icon/send.png",alt:"Send",style:x.glitchDialogueSendIcon})})]})]}),w==="inside"&&vg()&&a.jsx("div",{style:{position:"absolute",zIndex:30,cursor:Ve&&sn.length<3?"default":sn.length===3&&fe?"pointer":Ve?"default":"pointer",...vg()},onClick:wm,onMouseOver:c=>{(!Ve||sn.length===3&&fe)&&(c.currentTarget.style.transform="scale(1.05)")},onMouseOut:c=>c.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/glacier/npc/momo.png",alt:"Momo",style:{width:"100%",height:"100%",objectFit:"contain"}})}),D&&$t.length>0&&w!=="inside"&&a.jsxs("div",{style:{...x.dialogueContainer,...Sg()},children:[a.jsx("p",{style:x.dialogueText,dangerouslySetInnerHTML:{__html:I.replace(/^(Brrr[^.]*\.)/g,'<span style="font-weight: 700; color: #4A90E2;">$1</span>').replace(/^(Huh\?[^.]*\.)/g,'<span style="font-weight: 700; color: #E24A4A;">$1</span>').replace(/^(Honestly[^.]*\.)/g,'<span style="font-weight: 700; color: #9B59B6;">$1</span>')}}),B&&a.jsx("span",{style:{opacity:.5,marginLeft:"4px"},children:"|"}),a.jsxs("div",{style:x.dialogueButtons,children:[a.jsx("button",{style:x.skipButton,onClick:ug,onMouseOver:c=>{c.target.style.color="rgba(255, 255, 255, 0.9)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.color="rgba(255, 255, 255, 0.6)",c.target.style.transform="scale(1)"},children:"SKIP"}),a.jsx("button",{style:x.dialogueButton,onClick:Sm,onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.95)",c.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.9)",c.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",c.target.style.transform="scale(1)"},children:"CONTINUE"})]})]}),w==="inside"&&D&&!Z&&(()=>{const c=A("momo"),z=5,O=1,P=O/z*100;return a.jsxs("div",{style:{...x.modernDialogueContainer,...Sg(),border:`3px solid ${c.borderColor}`},children:[a.jsxs("div",{style:x.modernDialogueHeader,children:[a.jsxs("div",{style:x.modernProgressContainer,children:[a.jsx("div",{style:{...x.modernMissionTitle,color:c.borderColor},children:"MISSION: SILENT GEAR STATION"}),a.jsxs("div",{style:x.modernStepIndicator,children:["Step ",O," of ",z]})]}),a.jsx("div",{style:x.modernProgressBar,children:a.jsx("div",{style:{...x.modernProgressFill,width:`${P}%`,background:c.progressColor}})}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{style:x.modernNpcInfo,children:[a.jsx("img",{src:c.avatar,alt:"Momo",style:x.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:x.modernNpcName,children:"Momo"}),a.jsx("div",{style:x.modernNpcStatus,children:"Station Supervisor"})]})]}),a.jsx("button",{style:x.modernCloseButton,onClick:ug,onMouseOver:q=>q.target.style.color="#333",onMouseOut:q=>q.target.style.color="#999",children:""})]})]}),a.jsxs("div",{style:x.modernDialogueContent,children:[be.map((q,Se)=>{const rt=b();return q.speaker==="momo"?a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,dangerouslySetInnerHTML:{__html:q.text.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${c.borderColor}; font-weight: 600;">$1</span>`)}}),a.jsx("div",{style:x.modernTimestamp,children:rt})]},Se):q.speaker==="user"?a.jsxs("div",{style:x.modernUserMessage,children:[a.jsx("div",{style:x.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:{...x.modernUserBubble,background:c.borderColor},children:a.jsx("p",{style:x.modernUserText,children:q.text})}),a.jsx("div",{style:{...x.modernTimestamp,textAlign:"right"},children:rt})]},Se):null}),!yt&&a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,dangerouslySetInnerHTML:{__html:I.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${c.borderColor}; font-weight: 600;">$1</span>`)}}),B&&a.jsx("span",{style:{opacity:.5},children:"|"}),a.jsx("div",{style:x.modernTimestamp,children:b()})]}),yt&&$t[g]&&$t[g].isButton&&a.jsxs("button",{style:x.modernActionButton,onClick:()=>Tm($t[g].text),onMouseOver:q=>{q.target.style.borderColor=c.borderColor,q.target.style.transform="translateX(5px)"},onMouseOut:q=>{q.target.style.borderColor="#E0E0E0",q.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),$t[g].text]})]})]})})(),w==="court"&&a.jsx(a.Fragment,{children:Object.entries(ry()).map(([c,z])=>{const O=se.length===5&&(c==="npc2"||c==="npc3"),P=se.includes(c);return a.jsxs("div",{style:{...x.courtNpc,...z,height:z.height,opacity:P&&!O?.5:1,cursor:O||!P?"pointer":"default"},onClick:()=>ey(c),onMouseOver:q=>{(O||!P)&&(q.currentTarget.style.transform="scale(1.05)")},onMouseOut:q=>q.currentTarget.style.transform="scale(1)",children:[a.jsx("img",{src:fa[c].npcImage,alt:c,style:{width:"100%",height:"100%",objectFit:"contain"}}),ri===c&&se.length===5&&(c==="npc2"||c==="npc3")&&a.jsx("div",{style:{position:"absolute",bottom:"110%",left:"50%",transform:"translateX(-50%)",background:"rgba(255, 255, 255, 0.95)",border:"2px solid #333",borderRadius:"15px",padding:"15px 20px",minWidth:"200px",maxWidth:"300px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",zIndex:100,whiteSpace:"normal",wordWrap:"break-word"},children:a.jsx("p",{style:{color:"#333",fontSize:"14px",lineHeight:1.5,fontFamily:"'Roboto', sans-serif",margin:0},children:"Let's go outside and find Momo."})})]},c)})}),w==="court"&&a.jsx("div",{style:x.progressContainer,children:["npc2","npc3","npc4","npc7","npc8"].map((c,z)=>a.jsx("div",{style:{...x.progressCircle,...se.includes(c)?x.progressCircleCompleted:{}},children:se.includes(c)?"":"?"},c))}),w==="rooftop"&&a.jsx("div",{style:x.progressContainer,children:["npc5","npc6","npc9"].map((c,z)=>a.jsx("div",{style:{...x.progressCircle,...sn.includes(c)?x.progressCircleCompleted:{}},children:sn.includes(c)?"":"?"},c))}),E&&a.jsxs("div",{style:{...x.caseModal,...ne===1?x.caseModalStep1:x.caseModalStep2},children:[a.jsx("button",{style:x.closeButton,onClick:ny,children:""}),ne===1?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:x.caseTitle,children:fa[E].eventDescription}),a.jsxs("div",{style:x.caseGifContainer,children:[a.jsx("img",{src:fa[E].gif,alt:"Case Event",style:x.caseGif}),a.jsx("div",{style:x.caseTimer,children:oy(bt)})]}),a.jsx("button",{style:x.nextButton,onClick:ty,onMouseOver:c=>{c.target.style.background="rgba(255, 255, 255, 1)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.background="rgba(255, 255, 255, 0.9)",c.target.style.transform="scale(1)"},children:"NEXT"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:x.caseHeader,children:[t("language")==="zh"?"":"Case"," #",fa[E].caseNumber,"  ",t("language")==="zh"?fa[E].caseTitle.zh:fa[E].caseTitle.en]}),a.jsxs("div",{style:x.step2Container,children:[a.jsxs("div",{style:x.step2LeftColumn,children:[a.jsx("img",{src:fa[E].npcImage,alt:E,style:{width:"auto",height:"500px",maxWidth:"none",objectFit:"contain"}}),a.jsx("div",{style:{fontSize:"13px",color:"#e0e0e0",fontFamily:"'Orbitron', sans-serif",fontWeight:400,textAlign:"center",lineHeight:1.6,padding:"0 10px",marginTop:"10px",width:"260px"},children:t("language")==="zh"?fa[E].npcRole.zh:fa[E].npcRole.en})]}),a.jsxs("div",{style:x.step2RightColumn,children:[a.jsx("div",{style:x.statementTitle,children:"NPC STATEMENT"}),a.jsx("div",{style:x.statementBox,children:fa[E].statementParts.map((c,z)=>a.jsxs("div",{style:{...x.statementLine,opacity:Te>z?1:0,transform:Te>z?"translateY(0)":"translateY(10px)",transition:"all 0.5s ease"},children:[a.jsx("span",{style:x.statementPrefix,children:">"}),c]},z))}),Te>=3&&a.jsxs("div",{style:x.verdictPending,children:[a.jsx("img",{src:"/glacier/icon/statement.png",alt:"Verdict",style:x.verdictIcon}),"[VERDICT PENDING]"]}),Te>=3&&a.jsxs("div",{style:x.claimQuote,children:['"',fa[E].claim,'"']}),Te>=3&&a.jsxs("div",{style:x.judgmentButtonsContainer,children:[a.jsxs("button",{style:{...x.approvedButton,animation:at?"shake 0.5s":"none"},onClick:()=>yg("accepted"),onMouseOver:c=>{at||(c.currentTarget.style.boxShadow="0 0 45px rgba(76, 175, 80, 0.7)",c.currentTarget.style.transform="scale(1.05)",c.currentTarget.style.background="rgba(76, 175, 80, 0.4)")},onMouseOut:c=>{at||(c.currentTarget.style.boxShadow="0 0 25px rgba(76, 175, 80, 0.5)",c.currentTarget.style.transform="scale(1)",c.currentTarget.style.background="rgba(76, 175, 80, 0.3)")},children:[a.jsx("img",{src:"/desert/icon/correct.png",alt:"Approved",style:x.judgmentIcon}),"APPROVED"]}),a.jsxs("button",{style:x.rejectedButton,onClick:()=>yg("rejected"),onMouseOver:c=>{c.currentTarget.style.boxShadow="0 0 45px rgba(244, 67, 54, 0.7)",c.currentTarget.style.transform="scale(1.05)",c.currentTarget.style.background="rgba(244, 67, 54, 0.4)"},onMouseOut:c=>{c.currentTarget.style.boxShadow="0 0 25px rgba(244, 67, 54, 0.5)",c.currentTarget.style.transform="scale(1)",c.currentTarget.style.background="rgba(244, 67, 54, 0.3)"},children:[a.jsx("img",{src:"/desert/icon/wrong.png",alt:"Rejected",style:x.judgmentIcon}),"REJECTED"]})]})]})]})]})]}),ke&&a.jsx("img",{src:`/glacier/icon/${Fe}.png`,alt:Fe,style:x.stampOverlay}),Z&&(()=>{const c=A("momo"),z=5,O=2,P=O/z*100;return a.jsxs("div",{style:{...x.modernDialogueContainer,border:`3px solid ${c.borderColor}`},children:[a.jsxs("div",{style:x.modernDialogueHeader,children:[a.jsxs("div",{style:x.modernProgressContainer,children:[a.jsx("div",{style:{...x.modernMissionTitle,color:c.borderColor},children:"MISSION: AI ETHICS PRINCIPLES"}),a.jsxs("div",{style:x.modernStepIndicator,children:["Step ",O," of ",z]})]}),a.jsx("div",{style:x.modernProgressBar,children:a.jsx("div",{style:{...x.modernProgressFill,width:`${P}%`,background:c.progressColor}})}),a.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:a.jsxs("div",{style:x.modernNpcInfo,children:[a.jsx("img",{src:c.avatar,alt:"Momo",style:x.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:x.modernNpcName,children:"Momo"}),a.jsx("div",{style:x.modernNpcStatus,children:"Station Supervisor"})]})]})})]}),a.jsxs("div",{style:x.modernDialogueContent,children:[_e.map((q,Se)=>{const rt=b();return q.speaker==="momo"?a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,dangerouslySetInnerHTML:{__html:q.text.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${c.borderColor}; font-weight: 600;">$1</span>`)}}),a.jsx("div",{style:x.modernTimestamp,children:rt})]},Se):q.speaker==="user"?a.jsxs("div",{style:x.modernUserMessage,children:[a.jsx("div",{style:x.modernUserSpeaker,children:"YOU:"}),a.jsx("div",{style:{...x.modernUserBubble,background:c.borderColor},children:a.jsx("p",{style:x.modernUserText,children:q.text})}),a.jsx("div",{style:{...x.modernTimestamp,textAlign:"right"},children:rt})]},Se):q.isError?a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:{...x.modernNpcText,padding:"12px 16px",background:"#f8d7da",borderRadius:"10px",border:"2px solid #dc3545"},children:q.text}),a.jsx("div",{style:x.modernTimestamp,children:rt})]},Se):null}),lo[ze]&&lo[ze].speaker!=="quiz"&&!lo[ze].isButton&&a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,dangerouslySetInnerHTML:{__html:fn.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${c.borderColor}; font-weight: 600;">$1</span>`)}}),_&&a.jsx("span",{style:{opacity:.5},children:"|"}),a.jsx("div",{style:x.modernTimestamp,children:b()})]}),Un&&lo[ze+1]&&lo[ze+1].speaker==="quiz"&&a.jsx("div",{style:{width:"100%",marginTop:"10px"},children:lo[ze+1].options.map((q,Se)=>{const rt=Ht===q.id;return a.jsxs("button",{style:{...x.modernActionButton,borderColor:rt?"#F44336":"#E0E0E0",borderWidth:rt?"3px":"2px"},onClick:()=>Cm(q),onMouseOver:Nt=>{rt||(Nt.target.style.borderColor=c.borderColor),Nt.target.style.transform="translateX(5px)"},onMouseOut:Nt=>{rt?Nt.target.style.borderColor="#F44336":Nt.target.style.borderColor="#E0E0E0",Nt.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:rt?"#F44336":c.borderColor},children:""}),q.text]},Se)})}),Un&&lo[ze+1]&&lo[ze+1].isButton&&a.jsxs("button",{style:x.modernActionButton,onClick:()=>jm(lo[ze+1].text),onMouseOver:q=>{q.target.style.borderColor=c.borderColor,q.target.style.transform="translateX(5px)"},onMouseOut:q=>{q.target.style.borderColor="#E0E0E0",q.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),lo[ze+1].text]})]})]})})(),Ve&&w==="inside"&&sn.length<3&&a.jsx("div",{style:x.elevatorArrow,onClick:km,onMouseOver:c=>c.target.style.transform="scale(1.1)",onMouseOut:c=>c.target.style.transform="scale(1)",children:a.jsx("img",{src:"/glacier/icon/arrow3.png",alt:"Elevator Arrow",style:{width:"100%",height:"100%",objectFit:"contain"}})}),Oi&&w==="inside"&&a.jsx("div",{style:{position:"absolute",top:"150px",right:"0px",width:"400px",height:"auto",cursor:"pointer",transition:"transform 0.3s ease",zIndex:100},onClick:()=>{Y("datacenter"),jo(!1),Ss(!0)},onMouseOver:c=>c.target.style.transform="scale(1.1)",onMouseOut:c=>c.target.style.transform="scale(1)",children:a.jsx("img",{src:"/glacier/icon/arrow3.png",alt:"Data Center Arrow",style:{width:"100%",height:"auto",objectFit:"contain"}})}),w==="rooftop"&&a.jsx("div",{style:x.npc5,onClick:()=>{(!Lo||!Fo)&&dg()},onMouseOver:()=>{!St&&!Lo&&!Fo&&dg()},children:a.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer"}})}),w==="rooftop"&&a.jsx("div",{style:x.npc6,onMouseOver:()=>{!ln&&!va&&Am()},children:a.jsx("img",{src:"/glacier/npc/npc6.png",alt:"NPC 6",style:{width:"100%",height:"100%",objectFit:"contain"}})}),St&&a.jsx("div",{style:x.npc5DialogueContainer,children:Bt===-1?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"15px",flex:1},children:a.jsx("div",{style:x.dialogueText,children:sn.length===3?"Let's go down and look for Momo.":"Oh, hello again! You know, my brain feels... awake."})}),a.jsx("button",{style:x.npc5ContinueButton,onClick:()=>De(!1),onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.95)",c.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.9)",c.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",c.target.style.transform="scale(1)"},children:"CLOSE"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"20px",flex:1},children:Bt<Yi.length&&!Yi[Bt].isButton&&a.jsx("div",{style:x.dialogueText,children:_o})}),_a&&a.jsx("button",{style:{padding:"15px 40px",background:"rgba(30, 30, 50, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},onClick:()=>Zm(),onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.9)",c.target.style.transform="scale(1.05)",c.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.85)",c.target.style.transform="scale(1)",c.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.3)"},children:Yi[5].text})]})}),ln&&a.jsx("div",{style:x.npc6DialogueContainer,children:zt===-1?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"15px",flex:1},children:a.jsx("div",{style:x.dialogueText,children:sn.length===3?"Let's go down and look for Momo.":"Thank you... I can feel it coming back. The spark. The vision. My hands remember now."})}),a.jsx("button",{style:x.npc6ContinueButton,onClick:()=>ot(!1),onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.95)",c.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.9)",c.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",c.target.style.transform="scale(1)"},children:"CLOSE"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"20px",flex:1},children:a.jsx("div",{style:x.dialogueText,children:ca})}),La&&a.jsx("button",{style:{padding:"15px 40px",background:"rgba(30, 30, 50, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},onClick:Mm,onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.9)",c.target.style.transform="scale(1.05)",c.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.85)",c.target.style.transform="scale(1)",c.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.3)"},children:qi[4].text})]})}),Go&&Tt.length>0&&a.jsxs("div",{style:x.creativityContainer,children:[a.jsx("div",{style:{...x.creativityTimer,...Kt<15?x.creativityTimerRed:{}},children:Su(Kt)}),a.jsx("div",{style:x.creativityTitle,children:Tt[cn].en.split(/(mobile phones|5 different ways)/gi).map((O,P)=>O.toLowerCase()==="mobile phones"||O.toLowerCase()==="5 different ways"?a.jsx("span",{style:{color:"#a0d8ff"},children:O},P):a.jsx("span",{children:O},P))}),a.jsx("div",{style:x.creativityTagsContainer,children:Dt.map((c,z)=>a.jsx("div",{style:{...x.creativityTag,...z%2===0?x.creativityTagYellow:x.creativityTagRed},children:c},z))}),a.jsxs("div",{style:x.creativityInputSection,children:[wt&&Tt.length>0&&a.jsxs("div",{style:x.creativityHintModal,children:[a.jsxs("div",{style:x.creativityHintHeader,children:[a.jsx("svg",{style:{width:"16px",height:"16px"},viewBox:"0 0 24 24",fill:"#a0d8ff",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),a.jsx("span",{style:x.creativityHintTitle,children:"Hint"}),a.jsx("button",{style:x.creativityHintClose,onClick:()=>kn(!1),onMouseOver:c=>c.currentTarget.style.opacity="0.7",onMouseOut:c=>c.currentTarget.style.opacity="1",children:""})]}),a.jsx("div",{style:x.creativityHintContent,children:Tt[cn].hints.en.map((c,z)=>a.jsxs("div",{style:x.creativityHintItem,children:[a.jsxs("span",{style:x.creativityHintLabel,children:["Prompt ",z+1,":"]}),a.jsx("div",{style:{fontSize:"11px"},children:c})]},z))})]}),a.jsxs("button",{style:x.creativityHintButton,onClick:()=>kn(!0),onMouseOver:c=>c.currentTarget.style.opacity="0.8",onMouseOut:c=>c.currentTarget.style.opacity="1",children:[a.jsx("svg",{style:x.creativityHintIcon,viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Hint"]}),a.jsxs("div",{style:x.creativityInputContainer,children:[a.jsx("input",{type:"text",value:un,onChange:c=>mn(c.target.value),onKeyPress:Nm,placeholder:"Typing here...",style:x.creativityInput,autoFocus:!0}),a.jsx("div",{style:x.creativityDivider}),a.jsx("button",{style:x.creativitySendButton,onClick:pg,onMouseOver:c=>c.currentTarget.style.transform="scale(1.1)",onMouseOut:c=>c.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/glacier/icon/send.png",alt:"Send",style:x.creativitySendIcon})})]}),a.jsxs("div",{style:x.creativityProgress,children:[Array.from({length:Tt[cn].requiredCount}).map((c,z)=>a.jsx("div",{style:{...x.creativityProgressDot,...z<Dt.length?x.creativityProgressDotActive:{}}},z)),a.jsxs("span",{style:x.creativityProgressText,children:[Dt.length,"/",Tt[cn].requiredCount]})]})]})]}),Ua&&a.jsxs("div",{style:x.coCreationContainer,children:[a.jsx("style",{children:`
            @keyframes shake {
              0%, 100% { transform: translateX(0); }
              25% { transform: translateX(-5px) rotate(-2deg); }
              75% { transform: translateX(5px) rotate(2deg); }
            }
          `}),!da&&!qo[0].completed&&a.jsxs("div",{style:x.coCreationDialogue,children:[a.jsx("img",{src:"/glacier/npc/npc6.png",alt:"NPC6",style:{width:"80px",height:"80px"}}),a.jsx("div",{style:{flex:1},children:a.jsx("p",{style:{margin:0,color:"#333",fontSize:"16px",lineHeight:1.5},children:"Thanks! My brain is starting to unfreeze. I need to design a 'Creative Ice Cream,' but I'm stuck with this boring Vanilla."})}),a.jsx("img",{src:"/glacier/mission/cream.png",alt:"Ice Cream",style:{width:"60px",height:"60px"}})]}),da&&a.jsxs("div",{style:x.coCreationDialogue,children:[a.jsx("img",{src:"/glacier/npc/npc6.png",alt:"NPC6",style:{width:"80px",height:"80px"}}),a.jsx("div",{style:{flex:1},children:a.jsx("p",{style:{margin:0,color:"#4caf50",fontSize:"18px",fontWeight:"bold",lineHeight:1.5},children:"Wow! That's a brilliant idea! It looks amazing!"})})]}),a.jsx("div",{style:x.coCreationInstruction,children:"Drag an element below to create a cool new ice cream flavor!"}),a.jsx("div",{style:x.coCreationFormulasArea,children:qo.map((c,z)=>a.jsxs("div",{style:{...x.coCreationFormula,opacity:z===0||z===vo?1:.5},children:[a.jsx("div",{style:x.coCreationCard,children:a.jsx("img",{src:"/glacier/mission/cream.png",alt:"Ice Cream",style:{width:"100px",height:"100px"}})}),a.jsx("img",{src:"/glacier/icon/add.png",alt:"+",style:{width:"40px",height:"40px"}}),c.element?a.jsx("div",{style:x.coCreationDropZone,children:c.element}):a.jsx("div",{style:x.coCreationDropZone,children:"Drop Here"}),a.jsx("img",{src:"/glacier/icon/equal.png",alt:"=",style:{width:"40px",height:"40px"}}),c.result?a.jsx("div",{style:x.coCreationResultCard,children:a.jsx("img",{src:c.result,alt:"Result",style:{width:"120px",height:"120px"}})}):a.jsx("div",{style:{...x.coCreationCard,border:"3px dashed rgba(160, 216, 255, 0.5)",background:"transparent"},children:a.jsx("img",{src:"/glacier/icon/picture.png",alt:"?",style:{width:"60px",height:"60px",opacity:.5}})})]},z))}),a.jsx("div",{style:x.coCreationElementsArea,children:U2.map((c,z)=>a.jsx("button",{onClick:()=>Qm(c),style:{...x.coCreationElementTag,background:z%2===0?"#f0d32d":"#ab3a2c",opacity:qn?.5:1,cursor:qn?"default":"pointer"},onMouseOver:O=>{qn||(O.currentTarget.style.transform="scale(1.1)")},onMouseOut:O=>{O.currentTarget.style.transform="scale(1)"},disabled:qn,children:c.name},c.id))})]}),w==="rooftop"&&a.jsx("div",{style:{position:"absolute",top:"150px",left:"750px",width:"200px",height:"200px",cursor:"pointer",zIndex:50,transition:"transform 0.2s"},onMouseOver:()=>{!bn&&!_n&&Im()},children:a.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC 9",style:{width:"100%",height:"100%",objectFit:"contain"}})}),bn&&a.jsx("div",{style:{position:"absolute",left:"calc(750px + 200px)",top:"150px",width:"550px",minHeight:"150px",background:"rgba(240, 248, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(100, 149, 237, 0.4)",borderRadius:"20px",padding:"25px 30px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 149, 237, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:1e3},children:Qt===-1?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"15px",flex:1},children:a.jsx("div",{style:x.dialogueText,children:sn.length===3?"Let's go down and look for Momo.":"Wow! My brain feels... rebooted! I can focus again. Thank you!"})}),a.jsx("button",{style:x.npc6ContinueButton,onClick:()=>Ta(!1),onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.95)",c.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",c.target.style.transform="scale(1.05)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.9)",c.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",c.target.style.transform="scale(1)"},children:"CLOSE"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{marginBottom:"20px",flex:1},children:a.jsx("div",{style:x.dialogueText,children:to})}),he&&a.jsx("button",{style:{padding:"15px 40px",background:"rgba(30, 30, 50, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},onClick:zm,onMouseOver:c=>{c.target.style.background="rgba(50, 50, 80, 0.9)",c.target.style.transform="scale(1.05)",c.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)"},onMouseOut:c=>{c.target.style.background="rgba(30, 30, 50, 0.85)",c.target.style.transform="scale(1)",c.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.3)"},children:Wi[3].text})]})}),jt&&a.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:ve==="footstepRecall"?"70vw":"800px",maxHeight:"90vh",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"none",borderRadius:"20px",padding:"30px",display:"flex",flexDirection:"column",boxShadow:"0 12px 48px rgba(0, 0, 0, 0.6)",zIndex:3e3,overflow:"auto"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",flexShrink:0},children:[a.jsxs("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"22px",fontWeight:"700",color:"#a0d8ff"},children:["Mission: ",ve==="snowPath"?"Snow Path":"Footstep Recall"]}),ve==="snowPath"&&a.jsx("div",{style:{fontFamily:"'Roboto Mono', monospace",fontSize:"50px",fontWeight:"700",color:En<5?"#ff4444":"#a0d8ff"},children:dn?Su(En):"GO!"})]}),a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",marginBottom:"15px",textAlign:"center",flexShrink:0},children:ve==="snowPath"?"Memorize the footprints, then tap the correct tiles when they disappear.":"Footprints light up in red one by oneafter the sequence ends, tap them back in the same order."}),ve==="snowPath"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",width:"100%",maxWidth:"500px",margin:"0 auto",alignSelf:"center",flex:"1 1 auto"},children:Array.from({length:16}).map((c,z)=>{const O=wo.includes(z),P=wa.includes(z),q=P&&O,Se=P&&!O;return a.jsx("div",{onClick:()=>Dm(z),style:{width:"100%",aspectRatio:"1",background:Se?"#c62828":q?"#2e7d32":"#1f2937",border:`3px solid ${Se?"#f44336":q?"#4caf50":O&&dn?"#a0d8ff":"transparent"}`,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",cursor:dn?"default":"pointer",transition:"all 0.2s"},children:O&&dn&&a.jsx("img",{src:"/glacier/icon/footprint.svg",alt:"Footprint",style:{width:"60%",height:"60%",objectFit:"contain"}})},z)})}),ve==="footstepRecall"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridTemplateRows:"repeat(2, 1fr)",gap:"30px",flex:1,maxWidth:"90%",margin:"0 auto",alignItems:"center"},children:Array.from({length:6}).map((c,z)=>{const O=Bn===z,P=ie.includes(z),q=z%2===0?1:2,Se=Math.floor(z/2)*2+(z%2===0?1:2);return a.jsx("div",{onClick:()=>Om(z),style:{gridRow:q,gridColumn:Se,aspectRatio:"1",background:"transparent",border:"none",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",cursor:Ce?"default":"pointer",transition:"all 0.2s",transform:P?"scale(0.9)":"scale(1)"},children:a.jsx("img",{src:O?"/glacier/icon/foot_red.svg":"/glacier/icon/foot.svg",alt:"Footprint",style:{width:"100%",height:"100%",objectFit:"contain",filter:P?"brightness(0.7)":"brightness(1)"}})},z)})}),a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"20px",flexShrink:0},children:Array.from({length:3}).map((c,z)=>{const P=z<(ve==="snowPath"?oo:j);return a.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",background:P?"#a0d8ff":"#666566",transition:"all 0.3s"}},z)})})]}),Fo&&a.jsxs("div",{style:x.puzzleContainer,children:[a.jsxs("div",{style:x.puzzleLeftPanel,children:[!eo&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:x.puzzleTimer,children:Su(Ho)}),a.jsx("div",{style:x.puzzleImageContainer,children:a.jsx("img",{src:Jo[an].image,alt:`Puzzle ${an}`,style:x.puzzleImage})})]}),eo&&a.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"20px 15px"},children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",flex:1,overflowY:"auto"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[a.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"50px",height:"50px",borderRadius:"50%",flexShrink:0}}),a.jsx("div",{style:{background:"#fff",color:"#000",padding:"12px 18px",borderRadius:"15px",fontSize:"16px",lineHeight:1.4,maxWidth:"180px"},children:"Could you... could you teach me?"})]}),ya&&a.jsx("div",{style:{background:"#5170FF",color:"#fff",padding:"12px 18px",borderRadius:"15px",fontSize:"14px",lineHeight:1.4,alignSelf:"flex-end",maxWidth:"85%",wordWrap:"break-word"},children:ya}),ya&&a.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[a.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"50px",height:"50px",borderRadius:"50%",flexShrink:0}}),a.jsx("div",{style:{background:"#fff",color:"#000",padding:"12px 18px",borderRadius:"15px",fontSize:"16px",lineHeight:1.4,maxWidth:"180px"},children:"Got it, Let's move to next one"})]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs("div",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold",lineHeight:1.4},children:["Teach them",a.jsx("br",{}),'"How did you solve this?"']}),a.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.15)",borderRadius:"15px",border:"2px solid rgba(255, 255, 255, 0.3)",overflow:"hidden",transition:"border-color 0.2s"},children:[a.jsx("input",{type:"text",style:{flex:1,padding:"12px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",outline:"none"},placeholder:"Explain here...",value:Gn,onChange:c=>ma(c.target.value),onKeyPress:c=>{c.key==="Enter"&&mg()}}),a.jsx("div",{style:{width:"2px",height:"24px",backgroundColor:"#5170FF",margin:"0 8px",flexShrink:0}}),a.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s"},onClick:mg,onMouseOver:c=>{c.currentTarget.style.transform="scale(1.1)"},onMouseOut:c=>{c.currentTarget.style.transform="scale(1)"},children:a.jsx("img",{src:"/glacier/icon/send.png",alt:"Send",style:{width:"24px",height:"24px",objectFit:"contain"}})})]})]})]})]}),a.jsxs("div",{style:x.puzzleRightPanel,children:[a.jsx("div",{style:x.puzzleTitle,children:Jo[an].title}),Jo[an].statement&&a.jsxs("div",{style:x.puzzleStatement,children:['NPC 5: "',Jo[an].statement,'"']}),Jo[an].premise&&a.jsxs("div",{style:x.puzzleStatement,children:["Premise:",a.jsx("br",{}),xg(Jo[an].premise)]}),Jo[an].arguments&&a.jsxs("div",{style:x.puzzleStatement,children:["Arguments:",a.jsx("br",{}),xg(Jo[an].arguments)]}),a.jsxs("div",{style:x.puzzleQuestion,children:["Question: ",Jo[an].question]}),a.jsx("div",{style:x.puzzleOptions,children:Jo[an].options.map((c,z)=>{let O={...x.puzzleOption};ho===z&&(c.correct?O={...O,...x.puzzleOptionCorrect}:O={...O,...x.puzzleOptionWrong});const P=ho!==null&&Jo[an].options[ho].correct;return a.jsx("button",{style:O,onClick:()=>Km(c,z),disabled:P,onMouseEnter:q=>{P||(q.currentTarget.style.background="#2d3748",q.currentTarget.style.transform="translateX(5px)")},onMouseLeave:q=>{P||(q.currentTarget.style.background="#1f2937",q.currentTarget.style.transform="translateX(0)")},children:c.text},z)})})]})]}),xn&&(console.log("Rendering exercise interface, currentExercise:",Ut),a.jsxs("div",{style:{...x.puzzleContainer},children:[a.jsx("style",{children:`
            .exercise-text-area {
              cursor: url('/glacier/icon/pen-cursor.png') 16 16, crosshair;
            }
            .exercise-text-area * {
              cursor: url('/glacier/icon/pen-cursor.png') 16 16, crosshair;
            }
          `}),a.jsxs("div",{style:{position:"absolute",top:"80px",left:"35%",fontSize:"14px",color:"#a0d8ff",fontFamily:"'Roboto', sans-serif",zIndex:10},children:[" ",n==="en"?"Use your mouse to mark the errors.":""]}),a.jsxs("div",{style:{...x.puzzleLeftPanel,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",padding:"30px 20px"},children:[a.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"100%",height:"auto",objectFit:"contain",marginBottom:"20px"}}),a.jsx("div",{style:{background:"#fff",color:"#000",padding:"15px 20px",borderRadius:"15px",fontSize:"16px",lineHeight:1.6,textAlign:"left",width:"100%"},children:As[Ut].npcMessage}),ra&&a.jsx("div",{style:{background:"#fff",color:"#000",padding:"15px 20px",borderRadius:"15px",fontSize:"16px",lineHeight:1.6,textAlign:"left",marginTop:"20px",width:"100%"},children:As[Ut].feedback})]}),a.jsxs("div",{style:{...x.puzzleRightPanel,display:"flex",flexDirection:"column",padding:"40px"},children:[a.jsx("div",{style:{textAlign:"center",marginBottom:"40px"},children:a.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#a0d8ff",fontFamily:"'Roboto', sans-serif"},children:As[Ut].title})}),a.jsx("div",{className:"exercise-text-area",style:{fontFamily:"'Roboto Mono', monospace",fontSize:"26px",lineHeight:"2.2",color:"#fff",marginBottom:"40px",userSelect:"text",position:"relative",flex:1},onMouseUp:$m,children:As[Ut].text.split("").map((c,z)=>{let O=!1;return As[Ut].errors.forEach((P,q)=>{Xt.includes(q)&&z>=P.start&&z<P.end&&(O=!0)}),a.jsxs("span",{style:{position:"relative",backgroundColor:O?"rgba(243, 87, 204, 0.7)":"transparent"},children:[c,O&&a.jsx("span",{style:{position:"absolute",bottom:"-8px",left:0,right:0,height:"20px",backgroundColor:"rgba(243, 87, 204, 0.7)",borderRadius:"0"}})]},z)})}),a.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"auto"},children:[a.jsxs("span",{style:{color:"#a0d8ff",fontSize:"18px",marginRight:"10px"},children:[Xt.length,"/",As[Ut].requiredCount]}),Array.from({length:As[Ut].requiredCount}).map((c,z)=>a.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:z<Xt.length?"#a0d8ff":"#666566",transition:"all 0.3s"}},z))]})]})]})),ae&&w!=="court"&&w!=="rooftop"&&a.jsx("div",{style:{...w==="outside"?x.arrowSmall:w==="inside"?{...x.arrow,width:"380px",height:"380px"}:x.arrow,...ly()},onClick:sy,onMouseOver:c=>c.target.style.transform="scale(1.1)",onMouseOut:c=>c.target.style.transform="scale(1)",children:a.jsx("img",{src:iy(),alt:"Arrow",style:x.arrowImage})}),Rl&&a.jsxs("div",{style:x.npc9SharingContainer,children:[a.jsx("div",{style:x.npc9SharingTitle,children:"Share your memory secret here."}),!Wa&&a.jsxs("div",{style:x.npc9SharingMessage,children:[a.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC9",style:{width:"80px",height:"80px",flexShrink:0}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:x.npc9SharingBubble,children:"Thanks for helping me finish the memory training! Do you have any secret memory hacks?"}),a.jsx("div",{style:x.npc9SharingTimestamp,children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),Wa&&ys&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:x.npc9SharingMessage,children:[a.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC9",style:{width:"80px",height:"80px",flexShrink:0}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:x.npc9SharingBubble,children:"Thanks for helping me finish the memory training! Do you have any secret memory hacks?"}),a.jsx("div",{style:x.npc9SharingTimestamp,children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:x.npc9SharingUserLabel,children:"You"}),a.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"10px"},children:a.jsx("div",{style:{...x.npc9SharingBubble,background:"rgba(30, 50, 70, 0.8)",color:"#fff",maxWidth:"70%"},children:ys})}),a.jsx("div",{style:{...x.npc9SharingTimestamp,textAlign:"right"},children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),Wa&&a.jsxs("div",{style:x.npc9SharingMessage,children:[a.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC9",style:{width:"80px",height:"80px",flexShrink:0}}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:x.npc9SharingBubble,children:"I see... noted!"}),a.jsx("div",{style:x.npc9SharingTimestamp,children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),!Wa&&a.jsxs("div",{style:x.npc9SharingHints,children:[a.jsx("div",{style:x.npc9SharingHintTag,children:"Visualization"}),a.jsx("div",{style:x.npc9SharingHintTag,children:"Use Mnemonics"}),a.jsx("div",{style:x.npc9SharingHintTag,children:"Chunking"})]}),!Wa&&a.jsxs("div",{style:x.npc9SharingInputContainer,children:[a.jsx("input",{type:"text",value:ys,onChange:c=>ni(c.target.value),onKeyPress:Vm,placeholder:"Give some tips...",style:x.npc9SharingInput,autoFocus:!0}),a.jsx("button",{onClick:hg,style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",padding:"8px",transition:"transform 0.2s"},onMouseOver:c=>c.currentTarget.style.transform="scale(1.1)",onMouseOut:c=>c.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/glacier/icon/send.png",alt:"Send",style:{width:"28px",height:"28px"}})})]})]}),li&&(()=>{const c=A("momo"),z=5,O=4,P=O/z*100;return a.jsxs("div",{style:{...x.modernDialogueContainer,border:`3px solid ${c.borderColor}`},children:[a.jsxs("div",{style:x.modernDialogueHeader,children:[a.jsxs("div",{style:x.modernProgressContainer,children:[a.jsx("div",{style:{...x.modernMissionTitle,color:c.borderColor},children:"MISSION: AI USER ASSESSMENT"}),a.jsxs("div",{style:x.modernStepIndicator,children:["Step ",O," of ",z]})]}),a.jsx("div",{style:x.modernProgressBar,children:a.jsx("div",{style:{...x.modernProgressFill,width:`${P}%`,background:c.progressColor}})}),a.jsxs("div",{style:x.modernNpcInfo,children:[a.jsx("img",{src:c.avatar,alt:"Momo",style:x.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:x.modernNpcName,children:"Momo"}),a.jsx("div",{style:x.modernNpcStatus,children:"Station Supervisor"})]})]})]}),a.jsxs("div",{style:x.modernDialogueContent,children:[Aa==="intro"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,children:Ln.intro.text}),a.jsx("div",{style:x.modernTimestamp,children:b()})]}),a.jsxs("button",{onClick:Em,style:x.modernActionButton,onMouseOver:q=>{q.target.style.borderColor=c.borderColor,q.target.style.transform="translateX(5px)"},onMouseOut:q=>{q.target.style.borderColor="#E0E0E0",q.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),"Start Quiz"]})]}),Aa==="quiz"&&a.jsxs(a.Fragment,{children:[u.map((q,Se)=>a.jsxs("div",{children:[a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsxs("p",{style:x.modernNpcText,children:[a.jsxs("span",{style:{fontSize:"14px",color:"#888",display:"block",marginBottom:"8px"},children:["Question ",Se+1,"/",Ln.questions.length]}),Ln.questions[Se].question]}),a.jsx("div",{style:x.modernTimestamp,children:b()})]}),a.jsxs("div",{style:{alignSelf:"flex-end",maxWidth:"85%",marginBottom:"15px"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},children:"YOU:"}),a.jsx("div",{style:{background:"#333333",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(51, 51, 51, 0.3)"},children:a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ffffff",lineHeight:1.5,margin:0},children:q.text})}),a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px",textAlign:"right"},children:b()})]})]},Se)),a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsxs("p",{style:x.modernNpcText,children:[a.jsxs("span",{style:{fontSize:"14px",color:"#888",display:"block",marginBottom:"8px"},children:["Question ",M+1,"/",Ln.questions.length]}),Ln.questions[M].question]}),a.jsx("div",{style:x.modernTimestamp,children:b()})]}),a.jsx("div",{style:{width:"100%",marginTop:"10px"},children:Ln.questions[M].options.map((q,Se)=>a.jsxs("button",{onClick:()=>Bm(q),style:x.modernActionButton,onMouseOver:rt=>{rt.target.style.borderColor=c.borderColor,rt.target.style.transform="translateX(5px)"},onMouseOut:rt=>{rt.target.style.borderColor="#E0E0E0",rt.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),q.text]},Se))})]}),Aa==="calculating"&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 0",gap:"20px"},children:[a.jsx("div",{style:{fontSize:"24px",color:"#333",fontWeight:"600"},children:"Calculating..."}),a.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid rgba(0, 0, 0, 0.1)",borderTop:`4px solid ${c.borderColor}`,borderRadius:"50%",animation:"spin 1s linear infinite"}})]}),Aa==="result"&&le&&a.jsxs(a.Fragment,{children:[u.map((q,Se)=>a.jsxs("div",{children:[a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsxs("p",{style:x.modernNpcText,children:[a.jsxs("span",{style:{fontSize:"14px",color:"#888",display:"block",marginBottom:"8px"},children:["Question ",Se+1,"/",Ln.questions.length]}),Ln.questions[Se].question]}),a.jsx("div",{style:x.modernTimestamp,children:b()})]}),a.jsxs("div",{style:{alignSelf:"flex-end",maxWidth:"85%",marginBottom:"15px"},children:[a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},children:"YOU:"}),a.jsx("div",{style:{background:"#333333",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(51, 51, 51, 0.3)"},children:a.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ffffff",lineHeight:1.5,margin:0},children:q.text})}),a.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px",textAlign:"right"},children:b()})]})]},Se)),a.jsxs("div",{style:{display:"flex",gap:"30px",alignItems:"center",justifyContent:"center",marginTop:"20px",marginBottom:"20px",padding:"20px",background:"rgba(0, 0, 0, 0.02)",borderRadius:"12px"},children:[a.jsxs("div",{style:{width:"280px",height:"280px",position:"relative",background:"#2a2a2a",borderRadius:"12px",padding:"35px",flexShrink:0},children:[a.jsx("style",{children:`
                        @keyframes pulse-ring {
                          0% {
                            transform: translate(-50%, -50%) scale(0.8);
                            opacity: 0.8;
                          }
                          50% {
                            transform: translate(-50%, -50%) scale(1.2);
                            opacity: 0.4;
                          }
                          100% {
                            transform: translate(-50%, -50%) scale(0.8);
                            opacity: 0.8;
                          }
                        }
                      `}),a.jsxs("div",{style:{position:"absolute",top:"15px",left:"15px",fontSize:"11px",color:"#888",textAlign:"center",lineHeight:"1.3"},children:["Low Proficiency",a.jsx("br",{}),"High Judgment"]}),a.jsxs("div",{style:{position:"absolute",top:"15px",right:"15px",fontSize:"11px",color:"#888",textAlign:"center",lineHeight:"1.3"},children:["High Proficiency",a.jsx("br",{}),"High Judgment"]}),a.jsxs("div",{style:{position:"absolute",bottom:"15px",left:"15px",fontSize:"11px",color:"#888",textAlign:"center",lineHeight:"1.3"},children:["Low Proficiency",a.jsx("br",{}),"Low Judgment"]}),a.jsxs("div",{style:{position:"absolute",bottom:"15px",right:"15px",fontSize:"11px",color:"#888",textAlign:"center",lineHeight:"1.3"},children:["High Proficiency",a.jsx("br",{}),"Low Judgment"]}),a.jsx("div",{style:{position:"absolute",left:"-70px",top:"50%",transform:"translateY(-50%) rotate(-90deg)",fontSize:"12px",color:"#aaa",whiteSpace:"nowrap"},children:"Judgment "}),a.jsx("div",{style:{position:"absolute",bottom:"-35px",left:"50%",transform:"translateX(-50%)",fontSize:"12px",color:"#aaa"},children:"Proficiency "}),a.jsx("div",{style:{position:"absolute",width:"100%",height:"1px",borderTop:"1px dashed rgba(255,255,255,0.3)",top:"50%",left:0}}),a.jsx("div",{style:{position:"absolute",width:"1px",height:"100%",borderLeft:"1px dashed rgba(255,255,255,0.3)",left:"50%",top:0}}),a.jsxs("div",{style:{position:"absolute",left:`${v/15*100}%`,top:`${100-ee/15*100}%`,transform:"translate(-50%, -50%)"},children:[a.jsx("div",{style:{position:"absolute",width:"40px",height:"40px",borderRadius:"50%",background:"rgba(120, 104, 229, 0.5)",left:"50%",top:"50%",transform:"translate(-50%, -50%)",animation:"pulse-ring 2s ease-in-out infinite"}}),a.jsx("div",{style:{position:"relative",width:"16px",height:"16px",borderRadius:"50%",background:"#a0d8ff",border:"3px solid #fff",boxShadow:"0 0 15px rgba(160, 216, 255, 0.8)"}}),a.jsx("div",{style:{position:"absolute",top:"-25px",left:"50%",transform:"translateX(-50%)",fontSize:"12px",color:"#fff",fontWeight:"600",whiteSpace:"nowrap"},children:"You"})]})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"15px"},children:[a.jsx("img",{src:Ln.categories[le].image,alt:Ln.categories[le].name,style:{width:"220px",height:"220px"}}),a.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#333"},children:Ln.categories[le].name})]})]}),a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,children:Ln.categories[le].description}),a.jsx("div",{style:x.modernTimestamp,children:b()})]}),a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsx("p",{style:x.modernNpcText,children:Ln.finalMessage}),a.jsx("div",{style:x.modernTimestamp,children:b()})]}),a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsxs("p",{style:x.modernNpcText,children:["But there's one last thingthe privacy issue in the Data Center.",a.jsx("br",{}),a.jsx("br",{}),"Can you go help?",a.jsx("br",{}),a.jsx("br",{}),"They need someone to fix how personal data is handled before we unlock full system access.",a.jsx("br",{}),a.jsx("br",{})," Lookan arrow just appeared! Head there now."]}),a.jsx("div",{style:x.modernTimestamp,children:b()})]}),a.jsxs("button",{onClick:_m,style:x.modernActionButton,onMouseOver:q=>{q.target.style.borderColor=c.borderColor,q.target.style.transform="translateX(5px)"},onMouseOut:q=>{q.target.style.borderColor="#E0E0E0",q.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),"Go Ahead"]})]})]})]})})(),w==="datacenter"&&a.jsx("div",{style:{position:"absolute",left:"20px",top:"20px",width:"60px",height:"60px",cursor:"pointer",zIndex:100,transition:"transform 0.2s"},onClick:()=>{Y("inside"),Ss(!1),oi(!1),ws(!1),jo(!1)},onMouseOver:c=>c.currentTarget.style.transform="scale(1.1)",onMouseOut:c=>c.currentTarget.style.transform="scale(1)",children:a.jsx("img",{src:"/jungle/icon/left.png",alt:"Back",style:{width:"100%",height:"100%",objectFit:"contain"}})}),w==="datacenter"&&a.jsx("div",{style:{position:"absolute",right:"20px",top:"20px",width:"150px",height:"150px",zIndex:100},children:a.jsx("img",{src:"/npc/npc_glacier.gif",alt:"Glitch",style:{width:"100%",height:"100%",objectFit:"contain"}})}),w==="datacenter"&&a.jsx("div",{style:{position:"absolute",right:"450px",bottom:"0px",width:"300px",height:"300px",zIndex:50},children:a.jsx("img",{src:"/glacier/npc/momo.png",alt:"Momo",style:{width:"100%",height:"100%",objectFit:"contain"}})}),w==="datacenter"&&vs&&a.jsxs("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"800px",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"40px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",zIndex:200},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[a.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#333"},children:"Fill the Blank"}),a.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[[0,1,2,3,4].map(c=>a.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:c<ht?"#004aad":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold"},children:c<ht?"":""},c)),a.jsxs("div",{style:{marginLeft:"10px",fontSize:"20px",fontWeight:"bold",color:"#004aad"},children:[ht,"/5"]})]})]}),ht<5&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{fontSize:"20px",lineHeight:"1.6",marginBottom:"30px",color:"#333",minHeight:"80px"},children:$l[ht].text.split("______").map((c,z,O)=>a.jsxs("span",{children:[c,z<O.length-1&&a.jsx("span",{onDrop:()=>fg(ht),onDragOver:Hm,onClick:()=>{if(Yn[ht]){const P=[...Yn];P[ht]=null,Ts(P)}},style:{display:"inline-block",minWidth:"150px",height:"40px",border:Yn[ht]?Yn[ht]===$l[ht].correctAnswer?"2px solid #4f7f30":"2px solid #FF0845":"2px dashed #004aad",borderRadius:"8px",margin:"0 10px",verticalAlign:"middle",background:Yn[ht]?Yn[ht]===$l[ht].correctAnswer?"#4f7f30":"#FF0845":"rgba(0, 74, 173, 0.1)",color:Yn[ht]?"white":"transparent",fontWeight:"bold",textAlign:"center",lineHeight:"40px",cursor:Yn[ht]?"pointer":"default",transition:"all 0.3s ease"},children:Yn[ht]||"Drop here"})]},z))}),a.jsx("div",{style:{display:"flex",gap:"20px",justifyContent:"center"},children:$l[ht].options.map((c,z)=>a.jsx("div",{draggable:!0,onDragStart:()=>Fm(c),onClick:()=>Lm(c),style:{padding:"15px 30px",background:"white",border:"2px solid #333",borderRadius:"12px",fontSize:"18px",fontWeight:"bold",cursor:"grab",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2), 0 2px 4px rgba(0, 0, 0, 0.1)",transition:"transform 0.2s, box-shadow 0.2s",userSelect:"none"},onMouseOver:O=>{O.currentTarget.style.transform="translateY(-4px)",O.currentTarget.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.3), 0 3px 6px rgba(0, 0, 0, 0.15)"},onMouseOut:O=>{O.currentTarget.style.transform="translateY(0)",O.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2), 0 2px 4px rgba(0, 0, 0, 0.1)"},children:c},z))})]})]}),w==="datacenter"&&Ni&&(()=>{const c=A("momo");return a.jsxs("div",{style:{...x.modernDialogueContainer,border:`3px solid ${c.borderColor}`,maxWidth:"700px"},children:[a.jsx("div",{style:x.modernDialogueHeader,children:a.jsxs("div",{style:x.modernNpcInfo,children:[a.jsx("img",{src:c.avatar,alt:"Momo",style:x.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:x.modernNpcName,children:"Momo"}),a.jsx("div",{style:x.modernNpcStatus,children:"Station Supervisor"})]})]})}),a.jsxs("div",{style:x.modernDialogueContent,children:[a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsxs("p",{style:x.modernNpcText,children:["Remember:",a.jsx("br",{}),a.jsx("br",{}),"Names, birthdays, photosthey're personal.",a.jsx("br",{}),a.jsx("br",{}),"We must remove them, ask for permission, and never share carelessly.",a.jsx("br",{}),a.jsx("br",{}),"Ready for the next mission?"]}),a.jsx("div",{style:x.modernTimestamp,children:b()})]}),a.jsxs("button",{onClick:Um,style:x.modernActionButton,onMouseOver:z=>{z.target.style.borderColor=c.borderColor,z.target.style.transform="translateX(5px)"},onMouseOut:z=>{z.target.style.borderColor="#E0E0E0",z.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),"Yes"]})]})]})})(),w==="datacenter"&&El&&a.jsxs("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"1400px",height:"85%",display:"flex",gap:"30px",zIndex:200,cursor:"url(/glacier/icon/marker.png) 12 12, crosshair"},children:[a.jsx("div",{style:{flex:1,background:"rgba(255, 255, 255, 0.9)",borderRadius:"20px",padding:"30px",overflow:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},onMouseDown:Gm,onMouseMove:qm,onMouseUp:Wm,children:a.jsxs("div",{style:{fontFamily:"'Roboto Mono', monospace",fontSize:"14px",lineHeight:"1.8",color:"#333"},children:[a.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"10px"},children:"Privacy Data identification"}),a.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"5px"},children:ro[xt-1].title}),a.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"20px"},children:ro[xt-1].subtitle}),ro[xt-1].header&&a.jsx("div",{style:{marginBottom:"15px",whiteSpace:"pre-line"},children:ro[xt-1].header}),ro[xt-1].hasImage&&a.jsx("div",{style:{marginBottom:"20px",textAlign:"center"},children:a.jsx("img",{src:ro[xt-1].imagePath,alt:"Social Post",style:{maxWidth:"100%",borderRadius:"12px",filter:Sn.includes("image1")?"blur(20px)":"none",cursor:"pointer"},onClick:()=>{Sn.includes("image1")||(d(),ja([...Sn,"image1"]))}})}),a.jsx("div",{style:{whiteSpace:"pre-line",position:"relative"},children:ro[xt-1].content.split(`
`).map((c,z)=>{const O=ro[xt-1].items.find(P=>!P.isImage&&Sn.includes(P.id)&&c.includes(P.hint||P.text));if(O){const P=O.hint||O.text,q=c.split(P);return a.jsxs("div",{style:{marginBottom:"5px"},children:[q[0],a.jsx("span",{style:{background:"#000",color:"#000",padding:"2px 4px",borderRadius:"4px"},children:P}),q[1]]},z)}return a.jsx("div",{style:{marginBottom:"5px"},children:c},z)})})]})}),a.jsxs("div",{style:{width:"350px",display:"flex",flexDirection:"column",gap:"20px"},children:[a.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"25px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"},children:[a.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px"},children:"Items Found"}),a.jsxs("div",{style:{marginBottom:"15px"},children:[a.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"5px"},children:"Total Progress"}),a.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#004aad",marginBottom:"8px"},children:[Sn.length,"/",ro[xt-1].items.length]}),a.jsx("div",{style:{width:"100%",height:"8px",background:"rgba(0, 74, 173, 0.2)",borderRadius:"4px",overflow:"hidden"},children:a.jsx("div",{style:{width:`${Sn.length/ro[xt-1].items.length*100}%`,height:"100%",background:"#004aad",transition:"width 0.3s ease"}})})]}),a.jsx("div",{style:{marginBottom:"20px"},children:ro[xt-1].items.map(c=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[Sn.includes(c.id)?a.jsx("img",{src:"/glacier/icon/complete.svg",alt:"Complete",style:{width:"20px",height:"20px"}}):a.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid #ccc",borderRadius:"50%"}}),a.jsx("div",{style:{fontSize:"13px",color:Sn.includes(c.id)?"#4f7f30":"#666",fontWeight:Sn.includes(c.id)?"bold":"normal"},children:c.label})]},c.id))}),a.jsxs("div",{style:{fontSize:"12px",color:"#666",lineHeight:"1.5",marginBottom:"15px",padding:"12px",background:"#f5f5f5",borderRadius:"8px"},children:["Circle all private information in the log.",a.jsx("br",{}),'Then click "Submit" to check if you found them all!']}),Sn.length===ro[xt-1].items.length&&a.jsx("button",{onClick:Pm,style:{width:"100%",padding:"12px",background:"#000",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"transform 0.2s"},onMouseOver:c=>c.target.style.transform="scale(1.05)",onMouseOut:c=>c.target.style.transform="scale(1)",children:"Submit"})]}),a.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"20px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"},children:[a.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"15px"},children:"Privacy Data identification"}),a.jsx("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[1,2,3].map(c=>a.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:c<xt||c===xt?"#004aad":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"18px"},children:c<xt?"":c},c))})]})]})]}),w==="datacenter"&&js&&(()=>{const c=A("momo");return a.jsxs("div",{style:{...x.modernDialogueContainer,border:`3px solid ${c.borderColor}`,maxWidth:"700px"},children:[a.jsx("div",{style:x.modernDialogueHeader,children:a.jsxs("div",{style:x.modernNpcInfo,children:[a.jsx("img",{src:c.avatar,alt:"Momo",style:x.modernNpcAvatar}),a.jsxs("div",{children:[a.jsx("div",{style:x.modernNpcName,children:"Momo"}),a.jsx("div",{style:x.modernNpcStatus,children:"Station Supervisor"})]})]})}),a.jsxs("div",{style:x.modernDialogueContent,children:[a.jsxs("div",{style:x.modernNpcMessage,children:[a.jsx("div",{style:x.modernNpcSpeaker,children:"MOMO:"}),a.jsxs("p",{style:x.modernNpcText,children:["You did it! You protected the privacy by removing name, address, phone, and photo.",a.jsx("br",{}),a.jsx("br",{}),"Now all data is safe to use  great work!"]}),a.jsx("div",{style:x.modernTimestamp,children:b()})]}),a.jsxs("button",{onClick:Xm,style:x.modernActionButton,onMouseOver:z=>{z.target.style.borderColor=c.borderColor,z.target.style.transform="translateX(5px)"},onMouseOut:z=>{z.target.style.borderColor="#E0E0E0",z.target.style.transform="translateX(0)"},children:[a.jsx("span",{style:{fontSize:"16px",color:c.borderColor},children:""}),"Continue"]})]})]})})()]})};function W2(){const[e,t]=r.useState("home"),[n,o]=r.useState(!1),[s,i]=r.useState(!0),[l,d]=r.useState(!1),[h,b]=r.useState(null),[A,k]=r.useState([]),[T,C]=r.useState(!1),[w,Y]=r.useState(!0),D=()=>{switch(e){case"home":case"game":case"map":return"/sound/spaceship.mp3";case"fungiMap":case"dataCollection":case"dataCleaning":return"/sound/jungle.mp3";case"desertMap":return"/sound/desert.mp3";case"islandMap":return"/sound/island.mp3";case"glacierMap":return"/sound/glacier.mp3";default:return"/sound/spaceship.mp3"}},{startMusic:m}=bm(D()),g=r.useCallback(()=>{m(),document.removeEventListener("click",g),document.removeEventListener("keydown",g)},[m]);r.useEffect(()=>(document.addEventListener("click",g),document.addEventListener("keydown",g),()=>{document.removeEventListener("click",g),document.removeEventListener("keydown",g)}),[g]),r.useEffect(()=>{const re=localStorage.getItem("aiJourneyUser");if(re){const se=JSON.parse(re);i(!se.hasStarted),C(!0)}},[]);const y=re=>{const se=localStorage.getItem("aiJourneyUser");if(se){const ce=JSON.parse(se);ce.hasStarted=!0,ce.currentProgress=re,localStorage.setItem("aiJourneyUser",JSON.stringify(ce))}},I=()=>{y("game"),t("game")},J=()=>{const re=localStorage.getItem("aiJourneyUser");if(re){const se=JSON.parse(re),ce=se.currentProgress||"map",ke=se.hasCompletedIntro||se.hasStarted;t(ke?ce==="game"?"map":ce==="fungiIntro"?"fungiMap":ce:"map")}else t("map")},B=()=>{d(!1),b(null),k([]),y("game"),t("game")},L=()=>{o(!0)},ae=()=>{o(!1)},X=re=>{i(!1),C(!0)},xe=()=>{d(!0);const re=localStorage.getItem("aiJourneyUser");if(re){const se=JSON.parse(re);se.hasStarted=!0,se.hasCompletedIntro=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(se))}y("map"),t("map")},Ee=(re,se=!1)=>{if(console.log("Region clicked:",re,"Start over:",se),b(re),re==="fungi")if(se){const ce=localStorage.getItem("aiJourneyUser");if(ce){const ke=JSON.parse(ce);ke.fungiJungleProgress=null,ke.dataCollectionProgress=null,ke.dataCleaningProgress=null,ke.rangerMossPhase=1,localStorage.setItem("aiJourneyUser",JSON.stringify(ke))}y("fungiMap"),t("fungiMap")}else{const ce=localStorage.getItem("aiJourneyUser");if(ce){const ke=JSON.parse(ce),Ke=ke.dataCleaningProgress,Fe=ke.dataCollectionProgress;Ke&&Ke.phase?(y("dataCleaning"),t("dataCleaning")):Fe?(y("dataCollection"),t("dataCollection")):(y("fungiMap"),t("fungiMap"))}else y("fungiMap"),t("fungiMap")}else if(re==="desert"){if(se){const ce=localStorage.getItem("aiJourneyUser");if(ce){const ke=JSON.parse(ce);ke.desertProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(ke))}}y("desertMap"),t("desertMap")}else if(re==="island"){if(se){localStorage.removeItem("islandProgress");const ce=localStorage.getItem("aiJourneyUser");if(ce){const ke=JSON.parse(ce);ke.islandProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(ke))}}y("islandMap"),t("islandMap")}else if(re==="glacier"){if(se){localStorage.removeItem("glacierProgress");const ce=localStorage.getItem("aiJourneyUser");if(ce){const ke=JSON.parse(ce);ke.glacierProgress=null,ke.glacierCompleted=!1,localStorage.setItem("aiJourneyUser",JSON.stringify(ke))}}y("glacierMap"),t("glacierMap")}},be=()=>{y("map"),t("map"),b(null)},Xe=()=>{y("map"),t("map"),b(null)},yt=()=>{console.log("Starting data collection phase..."),y("dataCollection"),t("dataCollection")},Je=re=>{console.log("Data collection complete:",re),k(re),y("dataCleaning"),t("dataCleaning")},E=()=>{y("fungiMap"),t("fungiMap")},Q=()=>{console.log("Data cleaning complete!"),y("map"),t("map")},ne=()=>{y("map"),t("map")};return a.jsx(u2,{children:a.jsxs("div",{style:{width:"100vw",height:"100vh",overflow:"hidden",position:"relative",margin:0,padding:0},children:[e==="home"&&a.jsx(d2,{onStart:I,onContinue:J,onStartOver:B,onSignIn:L,isFirstVisit:s},T?"logged-in":"logged-out"),e==="game"&&a.jsx(g2,{onComplete:xe}),e==="map"&&a.jsx(b2,{onRegionClick:Ee}),e==="desertMap"&&a.jsx(B2,{onExit:()=>{y("map"),t("map")}}),e==="islandMap"&&a.jsx(F2,{onExit:Xe}),e==="glacierMap"&&a.jsx(q2,{onExit:()=>{y("map"),t("map")}}),e==="fungiMap"&&a.jsx(T2,{onExit:be,onStartDataCollection:yt}),e==="dataCollection"&&a.jsx(k2,{onComplete:Je,onExit:E}),e==="dataCleaning"&&a.jsx(R2,{onComplete:Q,onExit:ne}),n&&a.jsx(p2,{onClose:ae,onSignUpComplete:X})]})})}i2.createRoot(document.getElementById("root")).render(a.jsx(gd.StrictMode,{children:a.jsx(W2,{})}));
