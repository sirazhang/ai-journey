(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vf={exports:{}},mc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=Symbol.for("react.transitional.element"),Jx=Symbol.for("react.fragment");function Jf(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:Vx,type:e,key:a,ref:t!==void 0?t:null,props:n}}mc.Fragment=Jx;mc.jsx=Jf;mc.jsxs=Jf;Vf.exports=mc;var o=Vf.exports,Pf={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed=Symbol.for("react.transitional.element"),Px=Symbol.for("react.portal"),Zx=Symbol.for("react.fragment"),Kx=Symbol.for("react.strict_mode"),$x=Symbol.for("react.profiler"),ey=Symbol.for("react.consumer"),ty=Symbol.for("react.context"),ny=Symbol.for("react.forward_ref"),ay=Symbol.for("react.suspense"),oy=Symbol.for("react.memo"),Zf=Symbol.for("react.lazy"),iy=Symbol.for("react.activity"),sg=Symbol.iterator;function sy(e){return e===null||typeof e!="object"?null:(e=sg&&e[sg]||e["@@iterator"],typeof e=="function"?e:null)}var Kf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$f=Object.assign,eh={};function Os(e,t,n){this.props=e,this.context=t,this.refs=eh,this.updater=n||Kf}Os.prototype.isReactComponent={};Os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function th(){}th.prototype=Os.prototype;function Bd(e,t,n){this.props=e,this.context=t,this.refs=eh,this.updater=n||Kf}var Rd=Bd.prototype=new th;Rd.constructor=Bd;$f(Rd,Os.prototype);Rd.isPureReactComponent=!0;var lg=Array.isArray;function _u(){}var Ke={H:null,A:null,T:null,S:null},nh=Object.prototype.hasOwnProperty;function _d(e,t,n){var a=n.ref;return{$$typeof:Ed,type:e,key:t,ref:a!==void 0?a:null,props:n}}function ly(e,t){return _d(e.type,t,e.props)}function Fd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ed}function ry(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rg=/\/+/g;function Pc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ry(""+e.key):t.toString(36)}function cy(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(_u,_u):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function $i(e,t,n,a,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ed:case Px:l=!0;break;case Zf:return l=e._init,$i(l(e._payload),t,n,a,i)}}if(l)return i=i(e),l=a===""?"."+Pc(e,0):a,lg(i)?(n="",l!=null&&(n=l.replace(rg,"$&/")+"/"),$i(i,t,n,"",function(b){return b})):i!=null&&(Fd(i)&&(i=ly(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(rg,"$&/")+"/")+l)),t.push(i)),1;l=0;var c=a===""?".":a+":";if(lg(e))for(var d=0;d<e.length;d++)a=e[d],s=c+Pc(a,d),l+=$i(a,t,n,s,i);else if(d=sy(e),typeof d=="function")for(e=d.call(e),d=0;!(a=e.next()).done;)a=a.value,s=c+Pc(a,d++),l+=$i(a,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return $i(cy(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function rr(e,t,n){if(e==null)return e;var a=[],i=0;return $i(e,a,"","",function(s){return t.call(n,s,i++)}),a}function uy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},dy={map:rr,forEach:function(e,t,n){rr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return rr(e,function(){t++}),t},toArray:function(e){return rr(e,function(t){return t})||[]},only:function(e){if(!Fd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Activity=iy;xe.Children=dy;xe.Component=Os;xe.Fragment=Zx;xe.Profiler=$x;xe.PureComponent=Bd;xe.StrictMode=Kx;xe.Suspense=ay;xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ke;xe.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ke.H.useMemoCache(e)}};xe.cache=function(e){return function(){return e.apply(null,arguments)}};xe.cacheSignal=function(){return null};xe.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=$f({},e.props),i=e.key;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)!nh.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(a[s]=t[s]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}return _d(e.type,i,a)};xe.createContext=function(e){return e={$$typeof:ty,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:ey,_context:e},e};xe.createElement=function(e,t,n){var a,i={},s=null;if(t!=null)for(a in t.key!==void 0&&(s=""+t.key),t)nh.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)i[a]===void 0&&(i[a]=l[a]);return _d(e,s,i)};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:ny,render:e}};xe.isValidElement=Fd;xe.lazy=function(e){return{$$typeof:Zf,_payload:{_status:-1,_result:e},_init:uy}};xe.memo=function(e,t){return{$$typeof:oy,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=Ke.T,n={};Ke.T=n;try{var a=e(),i=Ke.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(_u,cg)}catch(s){cg(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),Ke.T=t}};xe.unstable_useCacheRefresh=function(){return Ke.H.useCacheRefresh()};xe.use=function(e){return Ke.H.use(e)};xe.useActionState=function(e,t,n){return Ke.H.useActionState(e,t,n)};xe.useCallback=function(e,t){return Ke.H.useCallback(e,t)};xe.useContext=function(e){return Ke.H.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e,t){return Ke.H.useDeferredValue(e,t)};xe.useEffect=function(e,t){return Ke.H.useEffect(e,t)};xe.useEffectEvent=function(e){return Ke.H.useEffectEvent(e)};xe.useId=function(){return Ke.H.useId()};xe.useImperativeHandle=function(e,t,n){return Ke.H.useImperativeHandle(e,t,n)};xe.useInsertionEffect=function(e,t){return Ke.H.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return Ke.H.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return Ke.H.useMemo(e,t)};xe.useOptimistic=function(e,t){return Ke.H.useOptimistic(e,t)};xe.useReducer=function(e,t,n){return Ke.H.useReducer(e,t,n)};xe.useRef=function(e){return Ke.H.useRef(e)};xe.useState=function(e){return Ke.H.useState(e)};xe.useSyncExternalStore=function(e,t,n){return Ke.H.useSyncExternalStore(e,t,n)};xe.useTransition=function(){return Ke.H.useTransition()};xe.version="19.2.3";Pf.exports=xe;var u=Pf.exports;const Fu=Qf(u);var ah={exports:{}},xc={},oh={exports:{}},ih={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,V){var L=F.length;F.push(V);e:for(;0<L;){var E=L-1>>>1,se=F[E];if(0<i(se,V))F[E]=V,F[L]=se,L=E;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var V=F[0],L=F.pop();if(L!==V){F[0]=L;e:for(var E=0,se=F.length,te=se>>>1;E<te;){var me=2*(E+1)-1,bt=F[me],J=me+1,Se=F[J];if(0>i(bt,L))J<se&&0>i(Se,bt)?(F[E]=Se,F[J]=L,E=J):(F[E]=bt,F[me]=L,E=me);else if(J<se&&0>i(Se,L))F[E]=Se,F[J]=L,E=J;else break e}}return V}function i(F,V){var L=F.sortIndex-V.sortIndex;return L!==0?L:F.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],b=[],j=1,C=null,S=3,x=!1,A=!1,U=!1,z=!1,p=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function I(F){for(var V=n(b);V!==null;){if(V.callback===null)a(b);else if(V.startTime<=F)a(b),V.sortIndex=V.expirationTime,t(d,V);else break;V=n(b)}}function P(F){if(U=!1,I(F),!A)if(n(d)!==null)A=!0,Q||(Q=!0,ne());else{var V=n(b);V!==null&&re(P,V.startTime-F)}}var Q=!1,B=-1,q=5,H=-1;function le(){return z?!0:!(e.unstable_now()-H<q)}function ee(){if(z=!1,Q){var F=e.unstable_now();H=F;var V=!0;try{e:{A=!1,U&&(U=!1,f(B),B=-1),x=!0;var L=S;try{t:{for(I(F),C=n(d);C!==null&&!(C.expirationTime>F&&le());){var E=C.callback;if(typeof E=="function"){C.callback=null,S=C.priorityLevel;var se=E(C.expirationTime<=F);if(F=e.unstable_now(),typeof se=="function"){C.callback=se,I(F),V=!0;break t}C===n(d)&&a(d),I(F)}else a(d);C=n(d)}if(C!==null)V=!0;else{var te=n(b);te!==null&&re(P,te.startTime-F),V=!1}}break e}finally{C=null,S=L,x=!1}V=void 0}}finally{V?ne():Q=!1}}}var ne;if(typeof y=="function")ne=function(){y(ee)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ze=pe.port2;pe.port1.onmessage=ee,ne=function(){ze.postMessage(null)}}else ne=function(){p(ee,0)};function re(F,V){B=p(function(){F(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(F){switch(S){case 1:case 2:case 3:var V=3;break;default:V=S}var L=S;S=V;try{return F()}finally{S=L}},e.unstable_requestPaint=function(){z=!0},e.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var L=S;S=F;try{return V()}finally{S=L}},e.unstable_scheduleCallback=function(F,V,L){var E=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?E+L:E):L=E,F){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=L+se,F={id:j++,callback:V,priorityLevel:F,startTime:L,expirationTime:se,sortIndex:-1},L>E?(F.sortIndex=L,t(b,F),n(d)===null&&F===n(b)&&(U?(f(B),B=-1):U=!0,re(P,L-E))):(F.sortIndex=se,t(d,F),A||x||(A=!0,Q||(Q=!0,ne()))),F},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(F){var V=S;return function(){var L=S;S=V;try{return F.apply(this,arguments)}finally{S=L}}}})(ih);oh.exports=ih;var py=oh.exports,sh={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=u;function lh(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Go(){}var bn={d:{f:Go,r:function(){throw Error(lh(522))},D:Go,C:Go,L:Go,m:Go,X:Go,S:Go,M:Go},p:0,findDOMNode:null},fy=Symbol.for("react.portal");function hy(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fy,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var ml=gy.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function yc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bn;vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(lh(299));return hy(e,t,null,n)};vn.flushSync=function(e){var t=ml.T,n=bn.p;try{if(ml.T=null,bn.p=2,e)return e()}finally{ml.T=t,bn.p=n,bn.d.f()}};vn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,bn.d.C(e,t))};vn.prefetchDNS=function(e){typeof e=="string"&&bn.d.D(e)};vn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=yc(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?bn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:s}):n==="script"&&bn.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};vn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=yc(t.as,t.crossOrigin);bn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&bn.d.M(e)};vn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=yc(n,t.crossOrigin);bn.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};vn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=yc(t.as,t.crossOrigin);bn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else bn.d.m(e)};vn.requestFormReset=function(e){bn.d.r(e)};vn.unstable_batchedUpdates=function(e,t){return e(t)};vn.useFormState=function(e,t,n){return ml.H.useFormState(e,t,n)};vn.useFormStatus=function(){return ml.H.useHostTransitionStatus()};vn.version="19.2.3";function rh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rh)}catch(e){console.error(e)}}rh(),sh.exports=vn;var my=sh.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nt=py,ch=u,xy=my;function R(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function uh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ph(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ug(e){if(Yl(e)!==e)throw Error(R(188))}function yy(e){var t=e.alternate;if(!t){if(t=Yl(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ug(i),e;if(s===a)return ug(i),t;s=s.sibling}throw Error(R(188))}if(n.return!==a.return)n=i,a=s;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,a=s;break}if(c===a){l=!0,a=i,n=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===n){l=!0,n=s,a=i;break}if(c===a){l=!0,a=s,n=i;break}c=c.sibling}if(!l)throw Error(R(189))}}if(n.alternate!==a)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function gh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=gh(e),t!==null)return t;e=e.sibling}return null}var $e=Object.assign,by=Symbol.for("react.element"),cr=Symbol.for("react.transitional.element"),dl=Symbol.for("react.portal"),ns=Symbol.for("react.fragment"),fh=Symbol.for("react.strict_mode"),Hu=Symbol.for("react.profiler"),hh=Symbol.for("react.consumer"),wo=Symbol.for("react.context"),Hd=Symbol.for("react.forward_ref"),Lu=Symbol.for("react.suspense"),Uu=Symbol.for("react.suspense_list"),Ld=Symbol.for("react.memo"),Yo=Symbol.for("react.lazy"),Gu=Symbol.for("react.activity"),vy=Symbol.for("react.memo_cache_sentinel"),dg=Symbol.iterator;function $s(e){return e===null||typeof e!="object"?null:(e=dg&&e[dg]||e["@@iterator"],typeof e=="function"?e:null)}var Sy=Symbol.for("react.client.reference");function qu(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Sy?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ns:return"Fragment";case Hu:return"Profiler";case fh:return"StrictMode";case Lu:return"Suspense";case Uu:return"SuspenseList";case Gu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case dl:return"Portal";case wo:return e.displayName||"Context";case hh:return(e._context.displayName||"Context")+".Consumer";case Hd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ld:return t=e.displayName||null,t!==null?t:qu(e.type)||"Memo";case Yo:t=e._payload,e=e._init;try{return qu(e(t))}catch{}}return null}var pl=Array.isArray,fe=ch.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe=xy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ki={pending:!1,data:null,method:null,action:null},Yu=[],as=-1;function to(e){return{current:e}}function qt(e){0>as||(e.current=Yu[as],Yu[as]=null,as--)}function We(e,t){as++,Yu[as]=e.current,e.current=t}var eo=to(null),zl=to(null),ti=to(null),Ur=to(null);function Gr(e,t){switch(We(ti,t),We(zl,e),We(eo,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=yf(t),e=Bm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}qt(eo),We(eo,e)}function Ss(){qt(eo),qt(zl),qt(ti)}function Wu(e){e.memoizedState!==null&&We(Ur,e);var t=eo.current,n=Bm(t,e.type);t!==n&&(We(zl,e),We(eo,n))}function qr(e){zl.current===e&&(qt(eo),qt(zl)),Ur.current===e&&(qt(Ur),Ul._currentValue=ki)}var Zc,pg;function Ti(e){if(Zc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zc=t&&t[1]||"",pg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zc+e+pg}var Kc=!1;function $c(e,t){if(!e||Kc)return"";Kc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var C=function(){throw Error()};if(Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(x){var S=x}Reflect.construct(e,[],C)}else{try{C.call()}catch(x){S=x}e.call(C.prototype)}}else{try{throw Error()}catch(x){S=x}(C=e())&&typeof C.catch=="function"&&C.catch(function(){})}}catch(x){if(x&&S&&typeof x.stack=="string")return[x.stack,S.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),l=s[0],c=s[1];if(l&&c){var d=l.split(`
`),b=c.split(`
`);for(i=a=0;a<d.length&&!d[a].includes("DetermineComponentFrameRoot");)a++;for(;i<b.length&&!b[i].includes("DetermineComponentFrameRoot");)i++;if(a===d.length||i===b.length)for(a=d.length-1,i=b.length-1;1<=a&&0<=i&&d[a]!==b[i];)i--;for(;1<=a&&0<=i;a--,i--)if(d[a]!==b[i]){if(a!==1||i!==1)do if(a--,i--,0>i||d[a]!==b[i]){var j=`
`+d[a].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=a&&0<=i);break}}}finally{Kc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ti(n):""}function Ty(e,t){switch(e.tag){case 26:case 27:case 5:return Ti(e.type);case 16:return Ti("Lazy");case 13:return e.child!==t&&t!==null?Ti("Suspense Fallback"):Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return $c(e.type,!1);case 11:return $c(e.type.render,!1);case 1:return $c(e.type,!0);case 31:return Ti("Activity");default:return""}}function gg(e){try{var t="",n=null;do t+=Ty(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Xu=Object.prototype.hasOwnProperty,Ud=Nt.unstable_scheduleCallback,eu=Nt.unstable_cancelCallback,wy=Nt.unstable_shouldYield,Cy=Nt.unstable_requestPaint,Jn=Nt.unstable_now,jy=Nt.unstable_getCurrentPriorityLevel,mh=Nt.unstable_ImmediatePriority,xh=Nt.unstable_UserBlockingPriority,Yr=Nt.unstable_NormalPriority,ky=Nt.unstable_LowPriority,yh=Nt.unstable_IdlePriority,Ay=Nt.log,Iy=Nt.unstable_setDisableYieldValue,Wl=null,Pn=null;function Po(e){if(typeof Ay=="function"&&Iy(e),Pn&&typeof Pn.setStrictMode=="function")try{Pn.setStrictMode(Wl,e)}catch{}}var Zn=Math.clz32?Math.clz32:Dy,My=Math.log,zy=Math.LN2;function Dy(e){return e>>>=0,e===0?32:31-(My(e)/zy|0)|0}var ur=256,dr=262144,pr=4194304;function wi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bc(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var c=a&134217727;return c!==0?(a=c&~s,a!==0?i=wi(a):(l&=c,l!==0?i=wi(l):n||(n=c&~e,n!==0&&(i=wi(n))))):(c=a&~s,c!==0?i=wi(c):l!==0?i=wi(l):n||(n=a&~e,n!==0&&(i=wi(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function Xl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Oy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bh(){var e=pr;return pr<<=1,!(pr&62914560)&&(pr=4194304),e}function tu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ql(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ny(e,t,n,a,i,s){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var c=e.entanglements,d=e.expirationTimes,b=e.hiddenUpdates;for(n=l&~n;0<n;){var j=31-Zn(n),C=1<<j;c[j]=0,d[j]=-1;var S=b[j];if(S!==null)for(b[j]=null,j=0;j<S.length;j++){var x=S[j];x!==null&&(x.lane&=-536870913)}n&=~C}a!==0&&vh(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(l&~t))}function vh(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Zn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Sh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Zn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Th(e,t){var n=t&-t;return n=n&42?1:Gd(n),n&(e.suspendedLanes|t)?0:n}function Gd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function wh(){var e=Oe.p;return e!==0?e:(e=window.event,e===void 0?32:Xm(e.type))}function fg(e,t){var n=Oe.p;try{return Oe.p=e,t()}finally{Oe.p=n}}var fi=Math.random().toString(36).slice(2),en="__reactFiber$"+fi,Hn="__reactProps$"+fi,Ns="__reactContainer$"+fi,Qu="__reactEvents$"+fi,Ey="__reactListeners$"+fi,By="__reactHandles$"+fi,hg="__reactResources$"+fi,Vl="__reactMarker$"+fi;function Yd(e){delete e[en],delete e[Hn],delete e[Qu],delete e[Ey],delete e[By]}function os(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ns]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wf(e);e!==null;){if(n=e[en])return n;e=wf(e)}return t}e=n,n=e.parentNode}return null}function Es(e){if(e=e[en]||e[Ns]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function gl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(R(33))}function fs(e){var t=e[hg];return t||(t=e[hg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Gt(e){e[Vl]=!0}var Ch=new Set,jh={};function Ri(e,t){Ts(e,t),Ts(e+"Capture",t)}function Ts(e,t){for(jh[e]=t,e=0;e<t.length;e++)Ch.add(t[e])}var Ry=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mg={},xg={};function _y(e){return Xu.call(xg,e)?!0:Xu.call(mg,e)?!1:Ry.test(e)?xg[e]=!0:(mg[e]=!0,!1)}function kr(e,t,n){if(_y(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function gr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ho(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function fa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fy(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vu(e){if(!e._valueTracker){var t=kh(e)?"checked":"value";e._valueTracker=Fy(e,t,""+e[t])}}function Ah(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=kh(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hy=/[\n"\\]/g;function xa(e){return e.replace(Hy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ju(e,t,n,a,i,s,l,c){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+fa(t)):e.value!==""+fa(t)&&(e.value=""+fa(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?Pu(e,l,fa(t)):n!=null?Pu(e,l,fa(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+fa(c):e.removeAttribute("name")}function Ih(e,t,n,a,i,s,l,c){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Vu(e);return}n=n!=null?""+fa(n):"",t=t!=null?""+fa(t):n,c||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=c?e.checked:!!a,e.defaultChecked=!!a,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),Vu(e)}function Pu(e,t,n){t==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function hs(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+fa(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mh(e,t,n){if(t!=null&&(t=""+fa(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+fa(n):""}function zh(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(R(92));if(pl(a)){if(1<a.length)throw Error(R(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=fa(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Vu(e)}function ws(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ly=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yg(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Ly.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Dh(e,t,n){if(t!=null&&typeof t!="object")throw Error(R(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&yg(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&yg(e,s,t[s])}function Wd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ar(e){return Gy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Co(){}var Zu=null;function Xd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var is=null,ms=null;function bg(e){var t=Es(e);if(t&&(e=t.stateNode)){var n=e[Hn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ju(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+xa(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Hn]||null;if(!i)throw Error(R(90));Ju(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Ah(a)}break e;case"textarea":Mh(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&hs(e,!!n.multiple,t,!1)}}}var nu=!1;function Oh(e,t,n){if(nu)return e(t,n);nu=!0;try{var a=e(t);return a}finally{if(nu=!1,(is!==null||ms!==null)&&(Dc(),is&&(t=is,e=ms,ms=is=null,bg(t),e)))for(t=0;t<e.length;t++)bg(e[t])}}function Dl(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Hn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Mo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ku=!1;if(Mo)try{var el={};Object.defineProperty(el,"passive",{get:function(){Ku=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Ku=!1}var Zo=null,Qd=null,Ir=null;function Nh(){if(Ir)return Ir;var e,t=Qd,n=t.length,a,i="value"in Zo?Zo.value:Zo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(a=1;a<=l&&t[n-a]===i[s-a];a++);return Ir=i.slice(e,1<a?1-a:void 0)}function Mr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fr(){return!0}function vg(){return!1}function Ln(e){function t(n,a,i,s,l){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fr:vg,this.isPropagationStopped=vg,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),t}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=Ln(_i),Jl=$e({},_i,{view:0,detail:0}),qy=Ln(Jl),au,ou,tl,Sc=$e({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tl&&(tl&&e.type==="mousemove"?(au=e.screenX-tl.screenX,ou=e.screenY-tl.screenY):ou=au=0,tl=e),au)},movementY:function(e){return"movementY"in e?e.movementY:ou}}),Sg=Ln(Sc),Yy=$e({},Sc,{dataTransfer:0}),Wy=Ln(Yy),Xy=$e({},Jl,{relatedTarget:0}),iu=Ln(Xy),Qy=$e({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),Vy=Ln(Qy),Jy=$e({},_i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Py=Ln(Jy),Zy=$e({},_i,{data:0}),Tg=Ln(Zy),Ky={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eb[e])?!!t[e]:!1}function Vd(){return tb}var nb=$e({},Jl,{key:function(e){if(e.key){var t=Ky[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$y[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vd,charCode:function(e){return e.type==="keypress"?Mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ab=Ln(nb),ob=$e({},Sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wg=Ln(ob),ib=$e({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vd}),sb=Ln(ib),lb=$e({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),rb=Ln(lb),cb=$e({},Sc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ub=Ln(cb),db=$e({},_i,{newState:0,oldState:0}),pb=Ln(db),gb=[9,13,27,32],Jd=Mo&&"CompositionEvent"in window,xl=null;Mo&&"documentMode"in document&&(xl=document.documentMode);var fb=Mo&&"TextEvent"in window&&!xl,Eh=Mo&&(!Jd||xl&&8<xl&&11>=xl),Cg=" ",jg=!1;function Bh(e,t){switch(e){case"keyup":return gb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function hb(e,t){switch(e){case"compositionend":return Rh(t);case"keypress":return t.which!==32?null:(jg=!0,Cg);case"textInput":return e=t.data,e===Cg&&jg?null:e;default:return null}}function mb(e,t){if(ss)return e==="compositionend"||!Jd&&Bh(e,t)?(e=Nh(),Ir=Qd=Zo=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eh&&t.locale!=="ko"?null:t.data;default:return null}}var xb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xb[e.type]:t==="textarea"}function _h(e,t,n,a){is?ms?ms.push(a):ms=[a]:is=a,t=cc(t,"onChange"),0<t.length&&(n=new vc("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var yl=null,Ol=null;function yb(e){Om(e,0)}function Tc(e){var t=gl(e);if(Ah(t))return e}function Ag(e,t){if(e==="change")return t}var Fh=!1;if(Mo){var su;if(Mo){var lu="oninput"in document;if(!lu){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),lu=typeof Ig.oninput=="function"}su=lu}else su=!1;Fh=su&&(!document.documentMode||9<document.documentMode)}function Mg(){yl&&(yl.detachEvent("onpropertychange",Hh),Ol=yl=null)}function Hh(e){if(e.propertyName==="value"&&Tc(Ol)){var t=[];_h(t,Ol,e,Xd(e)),Oh(yb,t)}}function bb(e,t,n){e==="focusin"?(Mg(),yl=t,Ol=n,yl.attachEvent("onpropertychange",Hh)):e==="focusout"&&Mg()}function vb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tc(Ol)}function Sb(e,t){if(e==="click")return Tc(t)}function Tb(e,t){if(e==="input"||e==="change")return Tc(t)}function wb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $n=typeof Object.is=="function"?Object.is:wb;function Nl(e,t){if($n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Xu.call(t,i)||!$n(e[i],t[i]))return!1}return!0}function zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dg(e,t){var n=zg(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zg(n)}}function Lh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Wr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wr(e.document)}return t}function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Cb=Mo&&"documentMode"in document&&11>=document.documentMode,ls=null,$u=null,bl=null,ed=!1;function Og(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ed||ls==null||ls!==Wr(a)||(a=ls,"selectionStart"in a&&Pd(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),bl&&Nl(bl,a)||(bl=a,a=cc($u,"onSelect"),0<a.length&&(t=new vc("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ls)))}function vi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rs={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},ru={},Gh={};Mo&&(Gh=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function Fi(e){if(ru[e])return ru[e];if(!rs[e])return e;var t=rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gh)return ru[e]=t[n];return e}var qh=Fi("animationend"),Yh=Fi("animationiteration"),Wh=Fi("animationstart"),jb=Fi("transitionrun"),kb=Fi("transitionstart"),Ab=Fi("transitioncancel"),Xh=Fi("transitionend"),Qh=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function Ha(e,t){Qh.set(e,t),Ri(t,[e])}var Xr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ga=[],cs=0,Zd=0;function wc(){for(var e=cs,t=Zd=cs=0;t<e;){var n=ga[t];ga[t++]=null;var a=ga[t];ga[t++]=null;var i=ga[t];ga[t++]=null;var s=ga[t];if(ga[t++]=null,a!==null&&i!==null){var l=a.pending;l===null?i.next=i:(i.next=l.next,l.next=i),a.pending=i}s!==0&&Vh(n,i,s)}}function Cc(e,t,n,a){ga[cs++]=e,ga[cs++]=t,ga[cs++]=n,ga[cs++]=a,Zd|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Kd(e,t,n,a){return Cc(e,t,n,a),Qr(e)}function Hi(e,t){return Cc(e,null,null,t),Qr(e)}function Vh(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-Zn(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function Qr(e){if(50<Il)throw Il=0,Td=null,Error(R(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var us={};function Ib(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,t,n,a){return new Ib(e,t,n,a)}function $d(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ko(e,t){var n=e.alternate;return n===null?(n=Qn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,a,i,s){var l=0;if(a=e,typeof e=="function")$d(e)&&(l=1);else if(typeof e=="string")l=N1(e,n,eo.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Gu:return e=Qn(31,n,t,i),e.elementType=Gu,e.lanes=s,e;case ns:return Ai(n.children,i,s,t);case fh:l=8,i|=24;break;case Hu:return e=Qn(12,n,t,i|2),e.elementType=Hu,e.lanes=s,e;case Lu:return e=Qn(13,n,t,i),e.elementType=Lu,e.lanes=s,e;case Uu:return e=Qn(19,n,t,i),e.elementType=Uu,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wo:l=10;break e;case hh:l=9;break e;case Hd:l=11;break e;case Ld:l=14;break e;case Yo:l=16,a=null;break e}l=29,n=Error(R(130,e===null?"null":typeof e,"")),a=null}return t=Qn(l,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function Ai(e,t,n,a){return e=Qn(7,e,a,t),e.lanes=n,e}function cu(e,t,n){return e=Qn(6,e,null,t),e.lanes=n,e}function Ph(e){var t=Qn(18,null,null,0);return t.stateNode=e,t}function uu(e,t,n){return t=Qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ng=new WeakMap;function ya(e,t){if(typeof e=="object"&&e!==null){var n=Ng.get(e);return n!==void 0?n:(t={value:e,source:t,stack:gg(t)},Ng.set(e,t),t)}return{value:e,source:t,stack:gg(t)}}var ds=[],ps=0,Vr=null,El=0,ha=[],ma=0,ui=null,Za=1,Ka="";function vo(e,t){ds[ps++]=El,ds[ps++]=Vr,Vr=e,El=t}function Zh(e,t,n){ha[ma++]=Za,ha[ma++]=Ka,ha[ma++]=ui,ui=e;var a=Za;e=Ka;var i=32-Zn(a)-1;a&=~(1<<i),n+=1;var s=32-Zn(t)+i;if(30<s){var l=i-i%5;s=(a&(1<<l)-1).toString(32),a>>=l,i-=l,Za=1<<32-Zn(t)+i|n<<i|a,Ka=s+e}else Za=1<<s|n<<i|a,Ka=e}function ep(e){e.return!==null&&(vo(e,1),Zh(e,1,0))}function tp(e){for(;e===Vr;)Vr=ds[--ps],ds[ps]=null,El=ds[--ps],ds[ps]=null;for(;e===ui;)ui=ha[--ma],ha[ma]=null,Ka=ha[--ma],ha[ma]=null,Za=ha[--ma],ha[ma]=null}function Kh(e,t){ha[ma++]=Za,ha[ma++]=Ka,ha[ma++]=ui,Za=t.id,Ka=t.overflow,ui=e}var tn=null,Ze=null,je=!1,ni=null,ba=!1,nd=Error(R(519));function di(e){var t=Error(R(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(ya(t,e)),nd}function Eg(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[en]=e,t[Hn]=a,n){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(n=0;n<Hl.length;n++)Te(Hl[n],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),Ih(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),zh(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Em(t.textContent,n)?(a.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),a.onScroll!=null&&Te("scroll",t),a.onScrollEnd!=null&&Te("scrollend",t),a.onClick!=null&&(t.onclick=Co),t=!0):t=!1,t||di(e,!0)}function Bg(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 31:case 13:ba=!1;return;case 27:case 3:ba=!0;return;default:tn=tn.return}}function Wi(e){if(e!==tn)return!1;if(!je)return Bg(e),je=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ad(e.type,e.memoizedProps)),n=!n),n&&Ze&&di(e),Bg(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));Ze=Tf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));Ze=Tf(e)}else t===27?(t=Ze,hi(e.type)?(e=Dd,Dd=null,Ze=e):Ze=t):Ze=tn?Sa(e.stateNode.nextSibling):null;return!0}function Di(){Ze=tn=null,je=!1}function du(){var e=ni;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),ni=null),e}function Bl(e){ni===null?ni=[e]:ni.push(e)}var ad=to(null),Li=null,jo=null;function Xo(e,t,n){We(ad,t._currentValue),t._currentValue=n}function Ao(e){e._currentValue=ad.current,qt(ad)}function od(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function id(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var l=i.child;s=s.firstContext;e:for(;s!==null;){var c=s;s=i;for(var d=0;d<t.length;d++)if(c.context===t[d]){s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),od(s.return,n,e),a||(l=null);break e}s=c.next}}else if(i.tag===18){if(l=i.return,l===null)throw Error(R(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),od(l,n,e),l=null}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}}function Bs(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var l=i.alternate;if(l===null)throw Error(R(387));if(l=l.memoizedProps,l!==null){var c=i.type;$n(i.pendingProps.value,l.value)||(e!==null?e.push(c):e=[c])}}else if(i===Ur.current){if(l=i.alternate,l===null)throw Error(R(387));l.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ul):e=[Ul])}i=i.return}e!==null&&id(t,e,n,a),t.flags|=262144}function Jr(e){for(e=e.firstContext;e!==null;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oi(e){Li=e,jo=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nn(e){return $h(Li,e)}function hr(e,t){return Li===null&&Oi(e),$h(e,t)}function $h(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},jo===null){if(e===null)throw Error(R(308));jo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jo=jo.next=t;return n}var Mb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},zb=Nt.unstable_scheduleCallback,Db=Nt.unstable_NormalPriority,It={$$typeof:wo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function np(){return{controller:new Mb,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&zb(Db,function(){e.controller.abort()})}var vl=null,sd=0,Cs=0,xs=null;function Ob(e,t){if(vl===null){var n=vl=[];sd=0,Cs=Ap(),xs={status:"pending",value:void 0,then:function(a){n.push(a)}}}return sd++,t.then(Rg,Rg),t}function Rg(){if(--sd===0&&vl!==null){xs!==null&&(xs.status="fulfilled");var e=vl;vl=null,Cs=0,xs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Nb(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var _g=fe.S;fe.S=function(e,t){gm=Jn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ob(e,t),_g!==null&&_g(e,t)};var Ii=to(null);function ap(){var e=Ii.current;return e!==null?e:Ge.pooledCache}function Dr(e,t){t===null?We(Ii,Ii.current):We(Ii,t.pool)}function e0(){var e=ap();return e===null?null:{parent:It._currentValue,pool:e}}var Rs=Error(R(460)),op=Error(R(474)),jc=Error(R(542)),Pr={then:function(){}};function Fg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function t0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Co,Co),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lg(e),e;default:if(typeof t.status=="string")t.then(Co,Co);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(R(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lg(e),e}throw Mi=t,Rs}}function Ci(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Mi=n,Rs):n}}var Mi=null;function Hg(){if(Mi===null)throw Error(R(459));var e=Mi;return Mi=null,e}function Lg(e){if(e===Rs||e===jc)throw Error(R(483))}var ys=null,Rl=0;function mr(e){var t=Rl;return Rl+=1,ys===null&&(ys=[]),t0(ys,e,t)}function nl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function xr(e,t){throw t.$$typeof===by?Error(R(525)):(e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function n0(e){function t(p,f){if(e){var y=p.deletions;y===null?(p.deletions=[f],p.flags|=16):y.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function a(p){for(var f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function i(p,f){return p=ko(p,f),p.index=0,p.sibling=null,p}function s(p,f,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<f?(p.flags|=67108866,f):y):(p.flags|=67108866,f)):(p.flags|=1048576,f)}function l(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function c(p,f,y,I){return f===null||f.tag!==6?(f=cu(y,p.mode,I),f.return=p,f):(f=i(f,y),f.return=p,f)}function d(p,f,y,I){var P=y.type;return P===ns?j(p,f,y.props.children,I,y.key):f!==null&&(f.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Yo&&Ci(P)===f.type)?(f=i(f,y.props),nl(f,y),f.return=p,f):(f=zr(y.type,y.key,y.props,null,p.mode,I),nl(f,y),f.return=p,f)}function b(p,f,y,I){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=uu(y,p.mode,I),f.return=p,f):(f=i(f,y.children||[]),f.return=p,f)}function j(p,f,y,I,P){return f===null||f.tag!==7?(f=Ai(y,p.mode,I,P),f.return=p,f):(f=i(f,y),f.return=p,f)}function C(p,f,y){if(typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint")return f=cu(""+f,p.mode,y),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case cr:return y=zr(f.type,f.key,f.props,null,p.mode,y),nl(y,f),y.return=p,y;case dl:return f=uu(f,p.mode,y),f.return=p,f;case Yo:return f=Ci(f),C(p,f,y)}if(pl(f)||$s(f))return f=Ai(f,p.mode,y,null),f.return=p,f;if(typeof f.then=="function")return C(p,mr(f),y);if(f.$$typeof===wo)return C(p,hr(p,f),y);xr(p,f)}return null}function S(p,f,y,I){var P=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return P!==null?null:c(p,f,""+y,I);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case cr:return y.key===P?d(p,f,y,I):null;case dl:return y.key===P?b(p,f,y,I):null;case Yo:return y=Ci(y),S(p,f,y,I)}if(pl(y)||$s(y))return P!==null?null:j(p,f,y,I,null);if(typeof y.then=="function")return S(p,f,mr(y),I);if(y.$$typeof===wo)return S(p,f,hr(p,y),I);xr(p,y)}return null}function x(p,f,y,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return p=p.get(y)||null,c(f,p,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case cr:return p=p.get(I.key===null?y:I.key)||null,d(f,p,I,P);case dl:return p=p.get(I.key===null?y:I.key)||null,b(f,p,I,P);case Yo:return I=Ci(I),x(p,f,y,I,P)}if(pl(I)||$s(I))return p=p.get(y)||null,j(f,p,I,P,null);if(typeof I.then=="function")return x(p,f,y,mr(I),P);if(I.$$typeof===wo)return x(p,f,y,hr(f,I),P);xr(f,I)}return null}function A(p,f,y,I){for(var P=null,Q=null,B=f,q=f=0,H=null;B!==null&&q<y.length;q++){B.index>q?(H=B,B=null):H=B.sibling;var le=S(p,B,y[q],I);if(le===null){B===null&&(B=H);break}e&&B&&le.alternate===null&&t(p,B),f=s(le,f,q),Q===null?P=le:Q.sibling=le,Q=le,B=H}if(q===y.length)return n(p,B),je&&vo(p,q),P;if(B===null){for(;q<y.length;q++)B=C(p,y[q],I),B!==null&&(f=s(B,f,q),Q===null?P=B:Q.sibling=B,Q=B);return je&&vo(p,q),P}for(B=a(B);q<y.length;q++)H=x(B,p,q,y[q],I),H!==null&&(e&&H.alternate!==null&&B.delete(H.key===null?q:H.key),f=s(H,f,q),Q===null?P=H:Q.sibling=H,Q=H);return e&&B.forEach(function(ee){return t(p,ee)}),je&&vo(p,q),P}function U(p,f,y,I){if(y==null)throw Error(R(151));for(var P=null,Q=null,B=f,q=f=0,H=null,le=y.next();B!==null&&!le.done;q++,le=y.next()){B.index>q?(H=B,B=null):H=B.sibling;var ee=S(p,B,le.value,I);if(ee===null){B===null&&(B=H);break}e&&B&&ee.alternate===null&&t(p,B),f=s(ee,f,q),Q===null?P=ee:Q.sibling=ee,Q=ee,B=H}if(le.done)return n(p,B),je&&vo(p,q),P;if(B===null){for(;!le.done;q++,le=y.next())le=C(p,le.value,I),le!==null&&(f=s(le,f,q),Q===null?P=le:Q.sibling=le,Q=le);return je&&vo(p,q),P}for(B=a(B);!le.done;q++,le=y.next())le=x(B,p,q,le.value,I),le!==null&&(e&&le.alternate!==null&&B.delete(le.key===null?q:le.key),f=s(le,f,q),Q===null?P=le:Q.sibling=le,Q=le);return e&&B.forEach(function(ne){return t(p,ne)}),je&&vo(p,q),P}function z(p,f,y,I){if(typeof y=="object"&&y!==null&&y.type===ns&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case cr:e:{for(var P=y.key;f!==null;){if(f.key===P){if(P=y.type,P===ns){if(f.tag===7){n(p,f.sibling),I=i(f,y.props.children),I.return=p,p=I;break e}}else if(f.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Yo&&Ci(P)===f.type){n(p,f.sibling),I=i(f,y.props),nl(I,y),I.return=p,p=I;break e}n(p,f);break}else t(p,f);f=f.sibling}y.type===ns?(I=Ai(y.props.children,p.mode,I,y.key),I.return=p,p=I):(I=zr(y.type,y.key,y.props,null,p.mode,I),nl(I,y),I.return=p,p=I)}return l(p);case dl:e:{for(P=y.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(p,f.sibling),I=i(f,y.children||[]),I.return=p,p=I;break e}else{n(p,f);break}else t(p,f);f=f.sibling}I=uu(y,p.mode,I),I.return=p,p=I}return l(p);case Yo:return y=Ci(y),z(p,f,y,I)}if(pl(y))return A(p,f,y,I);if($s(y)){if(P=$s(y),typeof P!="function")throw Error(R(150));return y=P.call(y),U(p,f,y,I)}if(typeof y.then=="function")return z(p,f,mr(y),I);if(y.$$typeof===wo)return z(p,f,hr(p,y),I);xr(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,f!==null&&f.tag===6?(n(p,f.sibling),I=i(f,y),I.return=p,p=I):(n(p,f),I=cu(y,p.mode,I),I.return=p,p=I),l(p)):n(p,f)}return function(p,f,y,I){try{Rl=0;var P=z(p,f,y,I);return ys=null,P}catch(B){if(B===Rs||B===jc)throw B;var Q=Qn(29,B,null,p.mode);return Q.lanes=I,Q.return=p,Q}finally{}}}var Ni=n0(!0),a0=n0(!1),Wo=!1;function ip(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oi(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,De&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Qr(e),Vh(e,null,n),t}return Cc(e,a,t,n),Qr(e)}function Sl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Sh(e,n)}}function pu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var rd=!1;function Tl(){if(rd){var e=xs;if(e!==null)throw e}}function wl(e,t,n,a){rd=!1;var i=e.updateQueue;Wo=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,b=d.next;d.next=null,l===null?s=b:l.next=b,l=d;var j=e.alternate;j!==null&&(j=j.updateQueue,c=j.lastBaseUpdate,c!==l&&(c===null?j.firstBaseUpdate=b:c.next=b,j.lastBaseUpdate=d))}if(s!==null){var C=i.baseState;l=0,j=b=d=null,c=s;do{var S=c.lane&-536870913,x=S!==c.lane;if(x?(Ce&S)===S:(a&S)===S){S!==0&&S===Cs&&(rd=!0),j!==null&&(j=j.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var A=e,U=c;S=t;var z=n;switch(U.tag){case 1:if(A=U.payload,typeof A=="function"){C=A.call(z,C,S);break e}C=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=U.payload,S=typeof A=="function"?A.call(z,C,S):A,S==null)break e;C=$e({},C,S);break e;case 2:Wo=!0}}S=c.callback,S!==null&&(e.flags|=64,x&&(e.flags|=8192),x=i.callbacks,x===null?i.callbacks=[S]:x.push(S))}else x={lane:S,tag:c.tag,payload:c.payload,callback:c.callback,next:null},j===null?(b=j=x,d=C):j=j.next=x,l|=S;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;x=c,c=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);j===null&&(d=C),i.baseState=d,i.firstBaseUpdate=b,i.lastBaseUpdate=j,s===null&&(i.shared.lanes=0),gi|=l,e.lanes=l,e.memoizedState=C}}function o0(e,t){if(typeof e!="function")throw Error(R(191,e));e.call(t)}function i0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)o0(n[e],t)}var js=to(null),Zr=to(0);function Ug(e,t){e=No,We(Zr,e),We(js,t),No=e|t.baseLanes}function cd(){We(Zr,No),We(js,js.current)}function sp(){No=Zr.current,qt(js),qt(Zr)}var ea=to(null),va=null;function Qo(e){var t=e.alternate;We(xt,xt.current&1),We(ea,e),va===null&&(t===null||js.current!==null||t.memoizedState!==null)&&(va=e)}function ud(e){We(xt,xt.current),We(ea,e),va===null&&(va=e)}function s0(e){e.tag===22?(We(xt,xt.current),We(ea,e),va===null&&(va=e)):Vo()}function Vo(){We(xt,xt.current),We(ea,ea.current)}function Xn(e){qt(ea),va===e&&(va=null),qt(xt)}var xt=to(0);function Kr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Md(n)||zd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zo=0,ye=null,He=null,kt=null,$r=!1,bs=!1,Ei=!1,ec=0,_l=0,vs=null,Eb=0;function pt(){throw Error(R(321))}function lp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function rp(e,t,n,a,i,s){return zo=s,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fe.H=e===null||e.memoizedState===null?_0:bp,Ei=!1,s=n(a,i),Ei=!1,bs&&(s=r0(t,n,a,i)),l0(e),s}function l0(e){fe.H=Fl;var t=He!==null&&He.next!==null;if(zo=0,kt=He=ye=null,$r=!1,_l=0,vs=null,t)throw Error(R(300));e===null||Mt||(e=e.dependencies,e!==null&&Jr(e)&&(Mt=!0))}function r0(e,t,n,a){ye=e;var i=0;do{if(bs&&(vs=null),_l=0,bs=!1,25<=i)throw Error(R(301));if(i+=1,kt=He=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}fe.H=F0,s=t(n,a)}while(bs);return s}function Bb(){var e=fe.H,t=e.useState()[0];return t=typeof t.then=="function"?Zl(t):t,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(ye.flags|=1024),t}function cp(){var e=ec!==0;return ec=0,e}function up(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function dp(e){if($r){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}$r=!1}zo=0,kt=He=ye=null,bs=!1,_l=ec=0,vs=null}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ye.memoizedState=kt=e:kt=kt.next=e,kt}function yt(){if(He===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=kt===null?ye.memoizedState:kt.next;if(t!==null)kt=t,He=e;else{if(e===null)throw ye.alternate===null?Error(R(467)):Error(R(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},kt===null?ye.memoizedState=kt=e:kt=kt.next=e}return kt}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(e){var t=_l;return _l+=1,vs===null&&(vs=[]),e=t0(vs,e,t),t=ye,(kt===null?t.memoizedState:kt.next)===null&&(t=t.alternate,fe.H=t===null||t.memoizedState===null?_0:bp),e}function Ac(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zl(e);if(e.$$typeof===wo)return nn(e)}throw Error(R(438,String(e)))}function pp(e){var t=null,n=ye.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=ye.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=kc(),ye.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=vy;return t.index++,n}function Do(e,t){return typeof t=="function"?t(e):t}function Or(e){var t=yt();return gp(t,He,e)}function gp(e,t,n){var a=e.queue;if(a===null)throw Error(R(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var c=l=null,d=null,b=t,j=!1;do{var C=b.lane&-536870913;if(C!==b.lane?(Ce&C)===C:(zo&C)===C){var S=b.revertLane;if(S===0)d!==null&&(d=d.next={lane:0,revertLane:0,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),C===Cs&&(j=!0);else if((zo&S)===S){b=b.next,S===Cs&&(j=!0);continue}else C={lane:0,revertLane:b.revertLane,gesture:null,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},d===null?(c=d=C,l=s):d=d.next=C,ye.lanes|=S,gi|=S;C=b.action,Ei&&n(s,C),s=b.hasEagerState?b.eagerState:n(s,C)}else S={lane:C,revertLane:b.revertLane,gesture:b.gesture,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},d===null?(c=d=S,l=s):d=d.next=S,ye.lanes|=C,gi|=C;b=b.next}while(b!==null&&b!==t);if(d===null?l=s:d.next=c,!$n(s,e.memoizedState)&&(Mt=!0,j&&(n=xs,n!==null)))throw n;e.memoizedState=s,e.baseState=l,e.baseQueue=d,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function gu(e){var t=yt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);$n(s,t.memoizedState)||(Mt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function c0(e,t,n){var a=ye,i=yt(),s=je;if(s){if(n===void 0)throw Error(R(407));n=n()}else n=t();var l=!$n((He||i).memoizedState,n);if(l&&(i.memoizedState=n,Mt=!0),i=i.queue,fp(p0.bind(null,a,i,e),[e]),i.getSnapshot!==t||l||kt!==null&&kt.memoizedState.tag&1){if(a.flags|=2048,ks(9,{destroy:void 0},d0.bind(null,a,i,n,t),null),Ge===null)throw Error(R(349));s||zo&127||u0(a,t,n)}return n}function u0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t=kc(),ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function d0(e,t,n,a){t.value=n,t.getSnapshot=a,g0(t)&&f0(e)}function p0(e,t,n){return n(function(){g0(t)&&f0(e)})}function g0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch{return!0}}function f0(e){var t=Hi(e,2);t!==null&&Fn(t,e,2)}function dd(e){var t=yn();if(typeof e=="function"){var n=e;if(e=n(),Ei){Po(!0);try{n()}finally{Po(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:e},t}function h0(e,t,n,a){return e.baseState=n,gp(e,He,typeof a=="function"?a:Do)}function Rb(e,t,n,a,i){if(Mc(e))throw Error(R(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){s.listeners.push(l)}};fe.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,m0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function m0(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=fe.T,l={};fe.T=l;try{var c=n(i,a),d=fe.S;d!==null&&d(l,c),Gg(e,t,c)}catch(b){pd(e,t,b)}finally{s!==null&&l.types!==null&&(s.types=l.types),fe.T=s}}else try{s=n(i,a),Gg(e,t,s)}catch(b){pd(e,t,b)}}function Gg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){qg(e,t,a)},function(a){return pd(e,t,a)}):qg(e,t,n)}function qg(e,t,n){t.status="fulfilled",t.value=n,x0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,m0(e,n)))}function pd(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,x0(t),t=t.next;while(t!==a)}e.action=null}function x0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function y0(e,t){return t}function Yg(e,t){if(je){var n=Ge.formState;if(n!==null){e:{var a=ye;if(je){if(Ze){t:{for(var i=Ze,s=ba;i.nodeType!==8;){if(!s){i=null;break t}if(i=Sa(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Ze=Sa(i.nextSibling),a=i.data==="F!";break e}}di(a)}a=!1}a&&(t=n[0])}}return n=yn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y0,lastRenderedState:t},n.queue=a,n=E0.bind(null,ye,a),a.dispatch=n,a=dd(!1),s=yp.bind(null,ye,!1,a.queue),a=yn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=Rb.bind(null,ye,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Wg(e){var t=yt();return b0(t,He,e)}function b0(e,t,n){if(t=gp(e,t,y0)[0],e=Or(Do)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Zl(t)}catch(l){throw l===Rs?jc:l}else a=t;t=yt();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(ye.flags|=2048,ks(9,{destroy:void 0},_b.bind(null,i,n),null)),[a,s,e]}function _b(e,t){e.action=t}function Xg(e){var t=yt(),n=He;if(n!==null)return b0(t,n,e);yt(),t=t.memoizedState,n=yt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function ks(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=ye.updateQueue,t===null&&(t=kc(),ye.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function v0(){return yt().memoizedState}function Nr(e,t,n,a){var i=yn();ye.flags|=e,i.memoizedState=ks(1|t,{destroy:void 0},n,a===void 0?null:a)}function Ic(e,t,n,a){var i=yt();a=a===void 0?null:a;var s=i.memoizedState.inst;He!==null&&a!==null&&lp(a,He.memoizedState.deps)?i.memoizedState=ks(t,s,n,a):(ye.flags|=e,i.memoizedState=ks(1|t,s,n,a))}function Qg(e,t){Nr(8390656,8,e,t)}function fp(e,t){Ic(2048,8,e,t)}function Fb(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=kc(),ye.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function S0(e){var t=yt().memoizedState;return Fb({ref:t,nextImpl:e}),function(){if(De&2)throw Error(R(440));return t.impl.apply(void 0,arguments)}}function T0(e,t){return Ic(4,2,e,t)}function w0(e,t){return Ic(4,4,e,t)}function C0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function j0(e,t,n){n=n!=null?n.concat([e]):null,Ic(4,4,C0.bind(null,t,e),n)}function hp(){}function k0(e,t){var n=yt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&lp(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function A0(e,t){var n=yt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&lp(t,a[1]))return a[0];if(a=e(),Ei){Po(!0);try{e()}finally{Po(!1)}}return n.memoizedState=[a,t],a}function mp(e,t,n){return n===void 0||zo&1073741824&&!(Ce&261930)?e.memoizedState=t:(e.memoizedState=n,e=hm(),ye.lanes|=e,gi|=e,n)}function I0(e,t,n,a){return $n(n,t)?n:js.current!==null?(e=mp(e,n,a),$n(e,t)||(Mt=!0),e):!(zo&42)||zo&1073741824&&!(Ce&261930)?(Mt=!0,e.memoizedState=n):(e=hm(),ye.lanes|=e,gi|=e,t)}function M0(e,t,n,a,i){var s=Oe.p;Oe.p=s!==0&&8>s?s:8;var l=fe.T,c={};fe.T=c,yp(e,!1,t,n);try{var d=i(),b=fe.S;if(b!==null&&b(c,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var j=Nb(d,a);Cl(e,t,j,Kn(e))}else Cl(e,t,a,Kn(e))}catch(C){Cl(e,t,{then:function(){},status:"rejected",reason:C},Kn())}finally{Oe.p=s,l!==null&&c.types!==null&&(l.types=c.types),fe.T=l}}function Hb(){}function gd(e,t,n,a){if(e.tag!==5)throw Error(R(476));var i=z0(e).queue;M0(e,i,t,ki,n===null?Hb:function(){return D0(e),n(a)})}function z0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ki,baseState:ki,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:ki},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function D0(e){var t=z0(e);t.next===null&&(t=e.alternate.memoizedState),Cl(e,t.next.queue,{},Kn())}function xp(){return nn(Ul)}function O0(){return yt().memoizedState}function N0(){return yt().memoizedState}function Lb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Kn();e=ai(n);var a=oi(t,e,n);a!==null&&(Fn(a,t,n),Sl(a,t,n)),t={cache:np()},e.payload=t;return}t=t.return}}function Ub(e,t,n){var a=Kn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Mc(e)?B0(t,n):(n=Kd(e,t,n,a),n!==null&&(Fn(n,e,a),R0(n,t,a)))}function E0(e,t,n){var a=Kn();Cl(e,t,n,a)}function Cl(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mc(e))B0(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,c=s(l,n);if(i.hasEagerState=!0,i.eagerState=c,$n(c,l))return Cc(e,t,i,0),Ge===null&&wc(),!1}catch{}finally{}if(n=Kd(e,t,i,a),n!==null)return Fn(n,e,a),R0(n,t,a),!0}return!1}function yp(e,t,n,a){if(a={lane:2,revertLane:Ap(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(e)){if(t)throw Error(R(479))}else t=Kd(e,n,a,2),t!==null&&Fn(t,e,2)}function Mc(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function B0(e,t){bs=$r=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function R0(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Sh(e,n)}}var Fl={readContext:nn,use:Ac,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Fl.useEffectEvent=pt;var _0={readContext:nn,use:Ac,useCallback:function(e,t){return yn().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:Qg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Nr(4194308,4,C0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nr(4194308,4,e,t)},useInsertionEffect:function(e,t){Nr(4,2,e,t)},useMemo:function(e,t){var n=yn();t=t===void 0?null:t;var a=e();if(Ei){Po(!0);try{e()}finally{Po(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=yn();if(n!==void 0){var i=n(t);if(Ei){Po(!0);try{n(t)}finally{Po(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=Ub.bind(null,ye,e),[a.memoizedState,e]},useRef:function(e){var t=yn();return e={current:e},t.memoizedState=e},useState:function(e){e=dd(e);var t=e.queue,n=E0.bind(null,ye,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:hp,useDeferredValue:function(e,t){var n=yn();return mp(n,e,t)},useTransition:function(){var e=dd(!1);return e=M0.bind(null,ye,e.queue,!0,!1),yn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ye,i=yn();if(je){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Ge===null)throw Error(R(349));Ce&127||u0(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Qg(p0.bind(null,a,s,e),[e]),a.flags|=2048,ks(9,{destroy:void 0},d0.bind(null,a,s,n,t),null),n},useId:function(){var e=yn(),t=Ge.identifierPrefix;if(je){var n=Ka,a=Za;n=(a&~(1<<32-Zn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ec++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Eb++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xp,useFormState:Yg,useActionState:Yg,useOptimistic:function(e){var t=yn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=yp.bind(null,ye,!0,n),n.dispatch=t,[e,t]},useMemoCache:pp,useCacheRefresh:function(){return yn().memoizedState=Lb.bind(null,ye)},useEffectEvent:function(e){var t=yn(),n={impl:e};return t.memoizedState=n,function(){if(De&2)throw Error(R(440));return n.impl.apply(void 0,arguments)}}},bp={readContext:nn,use:Ac,useCallback:k0,useContext:nn,useEffect:fp,useImperativeHandle:j0,useInsertionEffect:T0,useLayoutEffect:w0,useMemo:A0,useReducer:Or,useRef:v0,useState:function(){return Or(Do)},useDebugValue:hp,useDeferredValue:function(e,t){var n=yt();return I0(n,He.memoizedState,e,t)},useTransition:function(){var e=Or(Do)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Zl(e),t]},useSyncExternalStore:c0,useId:O0,useHostTransitionStatus:xp,useFormState:Wg,useActionState:Wg,useOptimistic:function(e,t){var n=yt();return h0(n,He,e,t)},useMemoCache:pp,useCacheRefresh:N0};bp.useEffectEvent=S0;var F0={readContext:nn,use:Ac,useCallback:k0,useContext:nn,useEffect:fp,useImperativeHandle:j0,useInsertionEffect:T0,useLayoutEffect:w0,useMemo:A0,useReducer:gu,useRef:v0,useState:function(){return gu(Do)},useDebugValue:hp,useDeferredValue:function(e,t){var n=yt();return He===null?mp(n,e,t):I0(n,He.memoizedState,e,t)},useTransition:function(){var e=gu(Do)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Zl(e),t]},useSyncExternalStore:c0,useId:O0,useHostTransitionStatus:xp,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,t){var n=yt();return He!==null?h0(n,He,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pp,useCacheRefresh:N0};F0.useEffectEvent=S0;function fu(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:$e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fd={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Kn(),i=ai(a);i.payload=t,n!=null&&(i.callback=n),t=oi(e,i,a),t!==null&&(Fn(t,e,a),Sl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Kn(),i=ai(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=oi(e,i,a),t!==null&&(Fn(t,e,a),Sl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kn(),a=ai(n);a.tag=2,t!=null&&(a.callback=t),t=oi(e,a,n),t!==null&&(Fn(t,e,n),Sl(t,e,n))}};function Vg(e,t,n,a,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,l):t.prototype&&t.prototype.isPureReactComponent?!Nl(n,a)||!Nl(i,s):!0}function Jg(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&fd.enqueueReplaceState(t,t.state,null)}function Bi(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=$e({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function H0(e){Xr(e)}function L0(e){console.error(e)}function U0(e){Xr(e)}function tc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Pg(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function hd(e,t,n){return n=ai(n),n.tag=3,n.payload={element:null},n.callback=function(){tc(e,t)},n}function G0(e){return e=ai(e),e.tag=3,e}function q0(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){Pg(t,n,a)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){Pg(t,n,a),typeof i!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var c=a.stack;this.componentDidCatch(a.value,{componentStack:c!==null?c:""})})}function Gb(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Bs(t,n,i,!0),n=ea.current,n!==null){switch(n.tag){case 31:case 13:return va===null?sc():n.alternate===null&&gt===0&&(gt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Pr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),ju(e,a,i)),!1;case 22:return n.flags|=65536,a===Pr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),ju(e,a,i)),!1}throw Error(R(435,n.tag))}return ju(e,a,i),sc(),!1}if(je)return t=ea.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==nd&&(e=Error(R(422),{cause:a}),Bl(ya(e,n)))):(a!==nd&&(t=Error(R(423),{cause:a}),Bl(ya(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=ya(a,n),i=hd(e.stateNode,a,i),pu(e,i),gt!==4&&(gt=2)),!1;var s=Error(R(520),{cause:a});if(s=ya(s,n),Al===null?Al=[s]:Al.push(s),gt!==4&&(gt=2),t===null)return!0;a=ya(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=hd(n.stateNode,a,e),pu(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ii===null||!ii.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=G0(i),q0(i,e,n,a),pu(n,i),!1}n=n.return}while(n!==null);return!1}var vp=Error(R(461)),Mt=!1;function $t(e,t,n,a){t.child=e===null?a0(t,null,n,a):Ni(t,e.child,n,a)}function Zg(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}else l=a;return Oi(t),a=rp(e,t,n,l,s,i),c=cp(),e!==null&&!Mt?(up(e,t,i),Oo(e,t,i)):(je&&c&&ep(t),t.flags|=1,$t(e,t,a,i),t.child)}function Kg(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!$d(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Y0(e,t,s,a,i)):(e=zr(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Sp(e,i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(l,a)&&e.ref===t.ref)return Oo(e,t,i)}return t.flags|=1,e=ko(s,a),e.ref=t.ref,e.return=t,t.child=e}function Y0(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Nl(s,a)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=a=s,Sp(e,i))e.flags&131072&&(Mt=!0);else return t.lanes=e.lanes,Oo(e,t,i)}return md(e,t,n,a,i)}function W0(e,t,n,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return $g(e,t,s,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dr(t,s!==null?s.cachePool:null),s!==null?Ug(t,s):cd(),s0(t);else return a=t.lanes=536870912,$g(e,t,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(Dr(t,s.cachePool),Ug(t,s),Vo(),t.memoizedState=null):(e!==null&&Dr(t,null),cd(),Vo());return $t(e,t,i,n),t.child}function fl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $g(e,t,n,a,i){var s=ap();return s=s===null?null:{parent:It._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Dr(t,null),cd(),s0(t),e!==null&&Bs(e,t,a,!0),t.childLanes=i,null}function Er(e,t){return t=nc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ef(e,t,n){return Ni(t,e.child,null,n),e=Er(t,t.pendingProps),e.flags|=2,Xn(t),t.memoizedState=null,e}function qb(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(a.mode==="hidden")return e=Er(t,a),t.lanes=536870912,fl(null,e);if(ud(t),(e=Ze)?(e=_m(e,ba),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:Za,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},n=Ph(e),n.return=t,t.child=n,tn=t,Ze=null)):e=null,e===null)throw di(t);return t.lanes=536870912,null}return Er(t,a)}var s=e.memoizedState;if(s!==null){var l=s.dehydrated;if(ud(t),i)if(t.flags&256)t.flags&=-257,t=ef(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(R(558));else if(Mt||Bs(e,t,n,!1),i=(n&e.childLanes)!==0,Mt||i){if(a=Ge,a!==null&&(l=Th(a,n),l!==0&&l!==s.retryLane))throw s.retryLane=l,Hi(e,l),Fn(a,e,l),vp;sc(),t=ef(e,t,n)}else e=s.treeContext,Ze=Sa(l.nextSibling),tn=t,je=!0,ni=null,ba=!1,e!==null&&Kh(t,e),t=Er(t,a),t.flags|=4096;return t}return e=ko(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Br(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(R(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function md(e,t,n,a,i){return Oi(t),n=rp(e,t,n,a,void 0,i),a=cp(),e!==null&&!Mt?(up(e,t,i),Oo(e,t,i)):(je&&a&&ep(t),t.flags|=1,$t(e,t,n,i),t.child)}function tf(e,t,n,a,i,s){return Oi(t),t.updateQueue=null,n=r0(t,a,n,i),l0(e),a=cp(),e!==null&&!Mt?(up(e,t,s),Oo(e,t,s)):(je&&a&&ep(t),t.flags|=1,$t(e,t,n,s),t.child)}function nf(e,t,n,a,i){if(Oi(t),t.stateNode===null){var s=us,l=n.contextType;typeof l=="object"&&l!==null&&(s=nn(l)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=fd,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},ip(t),l=n.contextType,s.context=typeof l=="object"&&l!==null?nn(l):us,s.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(fu(t,n,l,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(l=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),l!==s.state&&fd.enqueueReplaceState(s,s.state,null),wl(t,a,s,i),Tl(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var c=t.memoizedProps,d=Bi(n,c);s.props=d;var b=s.context,j=n.contextType;l=us,typeof j=="object"&&j!==null&&(l=nn(j));var C=n.getDerivedStateFromProps;j=typeof C=="function"||typeof s.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,j||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c||b!==l)&&Jg(t,s,a,l),Wo=!1;var S=t.memoizedState;s.state=S,wl(t,a,s,i),Tl(),b=t.memoizedState,c||S!==b||Wo?(typeof C=="function"&&(fu(t,n,C,a),b=t.memoizedState),(d=Wo||Vg(t,n,d,a,S,b,l))?(j||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=b),s.props=a,s.state=b,s.context=l,a=d):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,ld(e,t),l=t.memoizedProps,j=Bi(n,l),s.props=j,C=t.pendingProps,S=s.context,b=n.contextType,d=us,typeof b=="object"&&b!==null&&(d=nn(b)),c=n.getDerivedStateFromProps,(b=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==C||S!==d)&&Jg(t,s,a,d),Wo=!1,S=t.memoizedState,s.state=S,wl(t,a,s,i),Tl();var x=t.memoizedState;l!==C||S!==x||Wo||e!==null&&e.dependencies!==null&&Jr(e.dependencies)?(typeof c=="function"&&(fu(t,n,c,a),x=t.memoizedState),(j=Wo||Vg(t,n,j,a,S,x,d)||e!==null&&e.dependencies!==null&&Jr(e.dependencies))?(b||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,x,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,x,d)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=x),s.props=a,s.state=x,s.context=d,a=j):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Br(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=Ni(t,e.child,null,i),t.child=Ni(t,null,n,i)):$t(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Oo(e,t,i),e}function af(e,t,n,a){return Di(),t.flags|=256,$t(e,t,n,a),t.child}var hu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mu(e){return{baseLanes:e,cachePool:e0()}}function xu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Vn),e}function X0(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(xt.current&2)!==0),l&&(i=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(i?Qo(t):Vo(),(e=Ze)?(e=_m(e,ba),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:Za,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},n=Ph(e),n.return=t,t.child=n,tn=t,Ze=null)):e=null,e===null)throw di(t);return zd(e)?t.lanes=32:t.lanes=536870912,null}var c=a.children;return a=a.fallback,i?(Vo(),i=t.mode,c=nc({mode:"hidden",children:c},i),a=Ai(a,i,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,a=t.child,a.memoizedState=mu(n),a.childLanes=xu(e,l,n),t.memoizedState=hu,fl(null,a)):(Qo(t),xd(t,c))}var d=e.memoizedState;if(d!==null&&(c=d.dehydrated,c!==null)){if(s)t.flags&256?(Qo(t),t.flags&=-257,t=yu(e,t,n)):t.memoizedState!==null?(Vo(),t.child=e.child,t.flags|=128,t=null):(Vo(),c=a.fallback,i=t.mode,a=nc({mode:"visible",children:a.children},i),c=Ai(c,i,n,null),c.flags|=2,a.return=t,c.return=t,a.sibling=c,t.child=a,Ni(t,e.child,null,n),a=t.child,a.memoizedState=mu(n),a.childLanes=xu(e,l,n),t.memoizedState=hu,t=fl(null,a));else if(Qo(t),zd(c)){if(l=c.nextSibling&&c.nextSibling.dataset,l)var b=l.dgst;l=b,a=Error(R(419)),a.stack="",a.digest=l,Bl({value:a,source:null,stack:null}),t=yu(e,t,n)}else if(Mt||Bs(e,t,n,!1),l=(n&e.childLanes)!==0,Mt||l){if(l=Ge,l!==null&&(a=Th(l,n),a!==0&&a!==d.retryLane))throw d.retryLane=a,Hi(e,a),Fn(l,e,a),vp;Md(c)||sc(),t=yu(e,t,n)}else Md(c)?(t.flags|=192,t.child=e.child,t=null):(e=d.treeContext,Ze=Sa(c.nextSibling),tn=t,je=!0,ni=null,ba=!1,e!==null&&Kh(t,e),t=xd(t,a.children),t.flags|=4096);return t}return i?(Vo(),c=a.fallback,i=t.mode,d=e.child,b=d.sibling,a=ko(d,{mode:"hidden",children:a.children}),a.subtreeFlags=d.subtreeFlags&65011712,b!==null?c=ko(b,c):(c=Ai(c,i,n,null),c.flags|=2),c.return=t,a.return=t,a.sibling=c,t.child=a,fl(null,a),a=t.child,c=e.child.memoizedState,c===null?c=mu(n):(i=c.cachePool,i!==null?(d=It._currentValue,i=i.parent!==d?{parent:d,pool:d}:i):i=e0(),c={baseLanes:c.baseLanes|n,cachePool:i}),a.memoizedState=c,a.childLanes=xu(e,l,n),t.memoizedState=hu,fl(e.child,a)):(Qo(t),n=e.child,e=n.sibling,n=ko(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function xd(e,t){return t=nc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function nc(e,t){return e=Qn(22,e,null,t),e.lanes=0,e}function yu(e,t,n){return Ni(t,e.child,null,n),e=xd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function of(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),od(e.return,t,n)}function bu(e,t,n,a,i,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=i,l.treeForkCount=s)}function Q0(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var l=xt.current,c=(l&2)!==0;if(c?(l=l&1|2,t.flags|=128):l&=1,We(xt,l),$t(e,t,a,n),a=je?El:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&of(e,n,t);else if(e.tag===19)of(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Kr(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),bu(t,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Kr(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}bu(t,!0,n,null,s,a);break;case"together":bu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Oo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Bs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=ko(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ko(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Sp(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Jr(e)))}function Yb(e,t,n){switch(t.tag){case 3:Gr(t,t.stateNode.containerInfo),Xo(t,It,e.memoizedState.cache),Di();break;case 27:case 5:Wu(t);break;case 4:Gr(t,t.stateNode.containerInfo);break;case 10:Xo(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ud(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Qo(t),t.flags|=128,null):n&t.child.childLanes?X0(e,t,n):(Qo(t),e=Oo(e,t,n),e!==null?e.sibling:null);Qo(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Bs(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Q0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(xt,xt.current),a)break;return null;case 22:return t.lanes=0,W0(e,t,n,t.pendingProps);case 24:Xo(t,It,e.memoizedState.cache)}return Oo(e,t,n)}function V0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Mt=!0;else{if(!Sp(e,n)&&!(t.flags&128))return Mt=!1,Yb(e,t,n);Mt=!!(e.flags&131072)}else Mt=!1,je&&t.flags&1048576&&Zh(t,El,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ci(t.elementType),t.type=e,typeof e=="function")$d(e)?(a=Bi(e,a),t.tag=1,t=nf(null,t,e,a,n)):(t.tag=0,t=md(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===Hd){t.tag=11,t=Zg(null,t,e,a,n);break e}else if(i===Ld){t.tag=14,t=Kg(null,t,e,a,n);break e}}throw t=qu(e)||e,Error(R(306,t,""))}}return t;case 0:return md(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Bi(a,t.pendingProps),nf(e,t,a,i,n);case 3:e:{if(Gr(t,t.stateNode.containerInfo),e===null)throw Error(R(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,ld(e,t),wl(t,a,null,n);var l=t.memoizedState;if(a=l.cache,Xo(t,It,a),a!==s.cache&&id(t,[It],n,!0),Tl(),a=l.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=af(e,t,a,n);break e}else if(a!==i){i=ya(Error(R(424)),t),Bl(i),t=af(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ze=Sa(e.firstChild),tn=t,je=!0,ni=null,ba=!0,n=a0(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Di(),a===i){t=Oo(e,t,n);break e}$t(e,t,a,n)}t=t.child}return t;case 26:return Br(e,t),e===null?(n=jf(t.type,null,t.pendingProps,null))?t.memoizedState=n:je||(n=t.type,e=t.pendingProps,a=uc(ti.current).createElement(n),a[en]=t,a[Hn]=e,an(a,n,e),Gt(a),t.stateNode=a):t.memoizedState=jf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Wu(t),e===null&&je&&(a=t.stateNode=Fm(t.type,t.pendingProps,ti.current),tn=t,ba=!0,i=Ze,hi(t.type)?(Dd=i,Ze=Sa(a.firstChild)):Ze=i),$t(e,t,t.pendingProps.children,n),Br(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((i=a=Ze)&&(a=v1(a,t.type,t.pendingProps,ba),a!==null?(t.stateNode=a,tn=t,Ze=Sa(a.firstChild),ba=!1,i=!0):i=!1),i||di(t)),Wu(t),i=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,Ad(i,s)?a=null:l!==null&&Ad(i,l)&&(t.flags|=32),t.memoizedState!==null&&(i=rp(e,t,Bb,null,null,n),Ul._currentValue=i),Br(e,t),$t(e,t,a,n),t.child;case 6:return e===null&&je&&((e=n=Ze)&&(n=S1(n,t.pendingProps,ba),n!==null?(t.stateNode=n,tn=t,Ze=null,e=!0):e=!1),e||di(t)),null;case 13:return X0(e,t,n);case 4:return Gr(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ni(t,null,a,n):$t(e,t,a,n),t.child;case 11:return Zg(e,t,t.type,t.pendingProps,n);case 7:return $t(e,t,t.pendingProps,n),t.child;case 8:return $t(e,t,t.pendingProps.children,n),t.child;case 12:return $t(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Xo(t,t.type,a.value),$t(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Oi(t),i=nn(i),a=a(i),t.flags|=1,$t(e,t,a,n),t.child;case 14:return Kg(e,t,t.type,t.pendingProps,n);case 15:return Y0(e,t,t.type,t.pendingProps,n);case 19:return Q0(e,t,n);case 31:return qb(e,t,n);case 22:return W0(e,t,n,t.pendingProps);case 24:return Oi(t),a=nn(It),e===null?(i=ap(),i===null&&(i=Ge,s=np(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},ip(t),Xo(t,It,i)):(e.lanes&n&&(ld(e,t),wl(t,null,null,n),Tl()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Xo(t,It,a)):(a=s.cache,Xo(t,It,a),a!==i.cache&&id(t,[It],n,!0))),$t(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(R(156,t.tag))}function mo(e){e.flags|=4}function vu(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(ym())e.flags|=8192;else throw Mi=Pr,op}else e.flags&=-16777217}function sf(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Um(t))if(ym())e.flags|=8192;else throw Mi=Pr,op}function yr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bh():536870912,e.lanes|=t,As|=t)}function al(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Wb(e,t,n){var a=t.pendingProps;switch(tp(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return Je(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ao(It),Ss(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wi(t)?mo(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,du())),Je(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(mo(t),s!==null?(Je(t),sf(t,s)):(Je(t),vu(t,i,null,a,n))):s?s!==e.memoizedState?(mo(t),Je(t),sf(t,s)):(Je(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&mo(t),Je(t),vu(t,i,e,a,n)),null;case 27:if(qr(t),n=ti.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&mo(t);else{if(!a){if(t.stateNode===null)throw Error(R(166));return Je(t),null}e=eo.current,Wi(t)?Eg(t):(e=Fm(i,a,n),t.stateNode=e,mo(t))}return Je(t),null;case 5:if(qr(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&mo(t);else{if(!a){if(t.stateNode===null)throw Error(R(166));return Je(t),null}if(s=eo.current,Wi(t))Eg(t);else{var l=uc(ti.current);switch(s){case 1:s=l.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=l.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=l.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?l.createElement(i,{is:a.is}):l.createElement(i)}}s[en]=t,s[Hn]=a;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=s;e:switch(an(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&mo(t)}}return Je(t),vu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&mo(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(R(166));if(e=ti.current,Wi(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=tn,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[en]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Em(e.nodeValue,n)),e||di(t,!0)}else e=uc(e).createTextNode(a),e[en]=t,t.stateNode=e}return Je(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Wi(t),n!==null){if(e===null){if(!a)throw Error(R(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(557));e[en]=t}else Di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),e=!1}else n=du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Xn(t),t):(Xn(t),null);if(t.flags&128)throw Error(R(558))}return Je(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Wi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[en]=t}else Di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),i=!1}else i=du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Xn(t),t):(Xn(t),null)}return Xn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),yr(t,t.updateQueue),Je(t),null);case 4:return Ss(),e===null&&Ip(t.stateNode.containerInfo),Je(t),null;case 10:return Ao(t.type),Je(t),null;case 19:if(qt(xt),a=t.memoizedState,a===null)return Je(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)al(a,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Kr(e),s!==null){for(t.flags|=128,al(a,!1),e=s.updateQueue,t.updateQueue=e,yr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jh(n,e),n=n.sibling;return We(xt,xt.current&1|2),je&&vo(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Jn()>oc&&(t.flags|=128,i=!0,al(a,!1),t.lanes=4194304)}else{if(!i)if(e=Kr(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,yr(t,e),al(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!je)return Je(t),null}else 2*Jn()-a.renderingStartTime>oc&&n!==536870912&&(t.flags|=128,i=!0,al(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Jn(),e.sibling=null,n=xt.current,We(xt,i?n&1|2:n&1),je&&vo(t,a.treeForkCount),e):(Je(t),null);case 22:case 23:return Xn(t),sp(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),n=t.updateQueue,n!==null&&yr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&qt(Ii),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ao(It),Je(t),null;case 25:return null;case 30:return null}throw Error(R(156,t.tag))}function Xb(e,t){switch(tp(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ao(It),Ss(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qr(t),null;case 31:if(t.memoizedState!==null){if(Xn(t),t.alternate===null)throw Error(R(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Xn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(xt),null;case 4:return Ss(),null;case 10:return Ao(t.type),null;case 22:case 23:return Xn(t),sp(),e!==null&&qt(Ii),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ao(It),null;case 25:return null;default:return null}}function J0(e,t){switch(tp(t),t.tag){case 3:Ao(It),Ss();break;case 26:case 27:case 5:qr(t);break;case 4:Ss();break;case 31:t.memoizedState!==null&&Xn(t);break;case 13:Xn(t);break;case 19:qt(xt);break;case 10:Ao(t.type);break;case 22:case 23:Xn(t),sp(),e!==null&&qt(Ii);break;case 24:Ao(It)}}function Kl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,l=n.inst;a=s(),l.destroy=a}n=n.next}while(n!==i)}}catch(c){Re(t,t.return,c)}}function pi(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var l=a.inst,c=l.destroy;if(c!==void 0){l.destroy=void 0,i=t;var d=n,b=c;try{b()}catch(j){Re(i,d,j)}}}a=a.next}while(a!==s)}}catch(j){Re(t,t.return,j)}}function P0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{i0(t,n)}catch(a){Re(e,e.return,a)}}}function Z0(e,t,n){n.props=Bi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Re(e,t,a)}}function jl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Re(e,t,i)}}function $a(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Re(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Re(e,t,i)}else n.current=null}function K0(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Re(e,e.return,i)}}function Su(e,t,n){try{var a=e.stateNode;f1(a,e.type,n,t),a[Hn]=t}catch(i){Re(e,e.return,i)}}function $0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hi(e.type)||e.tag===4}function Tu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Co));else if(a!==4&&(a===27&&hi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yd(e,t,n),e=e.sibling;e!==null;)yd(e,t,n),e=e.sibling}function ac(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&hi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ac(e,t,n),e=e.sibling;e!==null;)ac(e,t,n),e=e.sibling}function em(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);an(t,a,n),t[en]=e,t[Hn]=n}catch(s){Re(e,e.return,s)}}var To=!1,At=!1,wu=!1,lf=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Qb(e,t){if(e=e.containerInfo,jd=fc,e=Uh(e),Pd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,c=-1,d=-1,b=0,j=0,C=e,S=null;t:for(;;){for(var x;C!==n||i!==0&&C.nodeType!==3||(c=l+i),C!==s||a!==0&&C.nodeType!==3||(d=l+a),C.nodeType===3&&(l+=C.nodeValue.length),(x=C.firstChild)!==null;)S=C,C=x;for(;;){if(C===e)break t;if(S===n&&++b===i&&(c=l),S===s&&++j===a&&(d=l),(x=C.nextSibling)!==null)break;C=S,S=C.parentNode}C=x}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(kd={focusedElem:e,selectionRange:n},fc=!1,Ut=t;Ut!==null;)if(t=Ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ut=e;else for(;Ut!==null;){switch(t=Ut,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var A=Bi(n.type,i);e=a.getSnapshotBeforeUpdate(A,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(U){Re(n,n.return,U)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Id(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(R(163))}if(e=t.sibling,e!==null){e.return=t.return,Ut=e;break}Ut=t.return}}function tm(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:yo(e,n),a&4&&Kl(5,n);break;case 1:if(yo(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(l){Re(n,n.return,l)}else{var i=Bi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){Re(n,n.return,l)}}a&64&&P0(n),a&512&&jl(n,n.return);break;case 3:if(yo(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{i0(e,t)}catch(l){Re(n,n.return,l)}}break;case 27:t===null&&a&4&&em(n);case 26:case 5:yo(e,n),t===null&&a&4&&K0(n),a&512&&jl(n,n.return);break;case 12:yo(e,n);break;case 31:yo(e,n),a&4&&om(e,n);break;case 13:yo(e,n),a&4&&im(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=n1.bind(null,n),T1(e,n))));break;case 22:if(a=n.memoizedState!==null||To,!a){t=t!==null&&t.memoizedState!==null||At,i=To;var s=At;To=a,(At=t)&&!s?bo(e,n,(n.subtreeFlags&8772)!==0):yo(e,n),To=i,At=s}break;case 30:break;default:yo(e,n)}}function nm(e){var t=e.alternate;t!==null&&(e.alternate=null,nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,Rn=!1;function xo(e,t,n){for(n=n.child;n!==null;)am(e,t,n),n=n.sibling}function am(e,t,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Wl,n)}catch{}switch(n.tag){case 26:At||$a(n,t),xo(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:At||$a(n,t);var a=nt,i=Rn;hi(n.type)&&(nt=n.stateNode,Rn=!1),xo(e,t,n),Ml(n.stateNode),nt=a,Rn=i;break;case 5:At||$a(n,t);case 6:if(a=nt,i=Rn,nt=null,xo(e,t,n),nt=a,Rn=i,nt!==null)if(Rn)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(n.stateNode)}catch(s){Re(n,t,s)}else try{nt.removeChild(n.stateNode)}catch(s){Re(n,t,s)}break;case 18:nt!==null&&(Rn?(e=nt,vf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ds(e)):vf(nt,n.stateNode));break;case 4:a=nt,i=Rn,nt=n.stateNode.containerInfo,Rn=!0,xo(e,t,n),nt=a,Rn=i;break;case 0:case 11:case 14:case 15:pi(2,n,t),At||pi(4,n,t),xo(e,t,n);break;case 1:At||($a(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Z0(n,t,a)),xo(e,t,n);break;case 21:xo(e,t,n);break;case 22:At=(a=At)||n.memoizedState!==null,xo(e,t,n),At=a;break;default:xo(e,t,n)}}function om(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ds(e)}catch(n){Re(t,t.return,n)}}}function im(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ds(e)}catch(n){Re(t,t.return,n)}}function Vb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lf),t;default:throw Error(R(435,e.tag))}}function br(e,t){var n=Vb(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=a1.bind(null,e,a);a.then(i,i)}})}function On(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 27:if(hi(c.type)){nt=c.stateNode,Rn=!1;break e}break;case 5:nt=c.stateNode,Rn=!1;break e;case 3:case 4:nt=c.stateNode.containerInfo,Rn=!0;break e}c=c.return}if(nt===null)throw Error(R(160));am(s,l,i),nt=null,Rn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sm(t,e),t=t.sibling}var Fa=null;function sm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(t,e),Nn(e),a&4&&(pi(3,e,e.return),Kl(3,e),pi(5,e,e.return));break;case 1:On(t,e),Nn(e),a&512&&(At||n===null||$a(n,n.return)),a&64&&To&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=Fa;if(On(t,e),Nn(e),a&512&&(At||n===null||$a(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Vl]||s[en]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),an(s,a,n),s[en]=e,Gt(s),a=s;break e;case"link":var l=Af("link","href",i).get(a+(n.href||""));if(l){for(var c=0;c<l.length;c++)if(s=l[c],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(c,1);break t}}s=i.createElement(a),an(s,a,n),i.head.appendChild(s);break;case"meta":if(l=Af("meta","content",i).get(a+(n.content||""))){for(c=0;c<l.length;c++)if(s=l[c],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(c,1);break t}}s=i.createElement(a),an(s,a,n),i.head.appendChild(s);break;default:throw Error(R(468,a))}s[en]=e,Gt(s),a=s}e.stateNode=a}else If(i,e.type,e.stateNode);else e.stateNode=kf(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?If(i,e.type,e.stateNode):kf(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Su(e,e.memoizedProps,n.memoizedProps)}break;case 27:On(t,e),Nn(e),a&512&&(At||n===null||$a(n,n.return)),n!==null&&a&4&&Su(e,e.memoizedProps,n.memoizedProps);break;case 5:if(On(t,e),Nn(e),a&512&&(At||n===null||$a(n,n.return)),e.flags&32){i=e.stateNode;try{ws(i,"")}catch(A){Re(e,e.return,A)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Su(e,i,n!==null?n.memoizedProps:i)),a&1024&&(wu=!0);break;case 6:if(On(t,e),Nn(e),a&4){if(e.stateNode===null)throw Error(R(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(A){Re(e,e.return,A)}}break;case 3:if(Fr=null,i=Fa,Fa=dc(t.containerInfo),On(t,e),Fa=i,Nn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ds(t.containerInfo)}catch(A){Re(e,e.return,A)}wu&&(wu=!1,lm(e));break;case 4:a=Fa,Fa=dc(e.stateNode.containerInfo),On(t,e),Nn(e),Fa=a;break;case 12:On(t,e),Nn(e);break;case 31:On(t,e),Nn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,br(e,a)));break;case 13:On(t,e),Nn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zc=Jn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,br(e,a)));break;case 22:i=e.memoizedState!==null;var d=n!==null&&n.memoizedState!==null,b=To,j=At;if(To=b||i,At=j||d,On(t,e),At=j,To=b,Nn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||d||To||At||ji(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){d=n=t;try{if(s=d.stateNode,i)l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{c=d.stateNode;var C=d.memoizedProps.style,S=C!=null&&C.hasOwnProperty("display")?C.display:null;c.style.display=S==null||typeof S=="boolean"?"":(""+S).trim()}}catch(A){Re(d,d.return,A)}}}else if(t.tag===6){if(n===null){d=t;try{d.stateNode.nodeValue=i?"":d.memoizedProps}catch(A){Re(d,d.return,A)}}}else if(t.tag===18){if(n===null){d=t;try{var x=d.stateNode;i?Sf(x,!0):Sf(d.stateNode,!1)}catch(A){Re(d,d.return,A)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,br(e,n))));break;case 19:On(t,e),Nn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,br(e,a)));break;case 30:break;case 21:break;default:On(t,e),Nn(e)}}function Nn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if($0(a)){n=a;break}a=a.return}if(n==null)throw Error(R(160));switch(n.tag){case 27:var i=n.stateNode,s=Tu(e);ac(e,s,i);break;case 5:var l=n.stateNode;n.flags&32&&(ws(l,""),n.flags&=-33);var c=Tu(e);ac(e,c,l);break;case 3:case 4:var d=n.stateNode.containerInfo,b=Tu(e);yd(e,b,d);break;default:throw Error(R(161))}}catch(j){Re(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;lm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function yo(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)tm(e,t.alternate,t),t=t.sibling}function ji(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:pi(4,t,t.return),ji(t);break;case 1:$a(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Z0(t,t.return,n),ji(t);break;case 27:Ml(t.stateNode);case 26:case 5:$a(t,t.return),ji(t);break;case 22:t.memoizedState===null&&ji(t);break;case 30:ji(t);break;default:ji(t)}e=e.sibling}}function bo(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,l=s.flags;switch(s.tag){case 0:case 11:case 15:bo(i,s,n),Kl(4,s);break;case 1:if(bo(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(b){Re(a,a.return,b)}if(a=s,i=a.updateQueue,i!==null){var c=a.stateNode;try{var d=i.shared.hiddenCallbacks;if(d!==null)for(i.shared.hiddenCallbacks=null,i=0;i<d.length;i++)o0(d[i],c)}catch(b){Re(a,a.return,b)}}n&&l&64&&P0(s),jl(s,s.return);break;case 27:em(s);case 26:case 5:bo(i,s,n),n&&a===null&&l&4&&K0(s),jl(s,s.return);break;case 12:bo(i,s,n);break;case 31:bo(i,s,n),n&&l&4&&om(i,s);break;case 13:bo(i,s,n),n&&l&4&&im(i,s);break;case 22:s.memoizedState===null&&bo(i,s,n),jl(s,s.return);break;case 30:break;default:bo(i,s,n)}t=t.sibling}}function Tp(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Pl(n))}function wp(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pl(e))}function Ra(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rm(e,t,n,a),t=t.sibling}function rm(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ra(e,t,n,a),i&2048&&Kl(9,t);break;case 1:Ra(e,t,n,a);break;case 3:Ra(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Pl(e)));break;case 12:if(i&2048){Ra(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,l=s.id,c=s.onPostCommit;typeof c=="function"&&c(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(d){Re(t,t.return,d)}}else Ra(e,t,n,a);break;case 31:Ra(e,t,n,a);break;case 13:Ra(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,l=t.alternate,t.memoizedState!==null?s._visibility&2?Ra(e,t,n,a):kl(e,t):s._visibility&2?Ra(e,t,n,a):(s._visibility|=2,es(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Tp(l,t);break;case 24:Ra(e,t,n,a),i&2048&&wp(t.alternate,t);break;default:Ra(e,t,n,a)}}function es(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,l=t,c=n,d=a,b=l.flags;switch(l.tag){case 0:case 11:case 15:es(s,l,c,d,i),Kl(8,l);break;case 23:break;case 22:var j=l.stateNode;l.memoizedState!==null?j._visibility&2?es(s,l,c,d,i):kl(s,l):(j._visibility|=2,es(s,l,c,d,i)),i&&b&2048&&Tp(l.alternate,l);break;case 24:es(s,l,c,d,i),i&&b&2048&&wp(l.alternate,l);break;default:es(s,l,c,d,i)}t=t.sibling}}function kl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:kl(n,a),i&2048&&Tp(a.alternate,a);break;case 24:kl(n,a),i&2048&&wp(a.alternate,a);break;default:kl(n,a)}t=t.sibling}}var hl=8192;function Xi(e,t,n){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)cm(e,t,n),e=e.sibling}function cm(e,t,n){switch(e.tag){case 26:Xi(e,t,n),e.flags&hl&&e.memoizedState!==null&&E1(n,Fa,e.memoizedState,e.memoizedProps);break;case 5:Xi(e,t,n);break;case 3:case 4:var a=Fa;Fa=dc(e.stateNode.containerInfo),Xi(e,t,n),Fa=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=hl,hl=16777216,Xi(e,t,n),hl=a):Xi(e,t,n));break;default:Xi(e,t,n)}}function um(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ol(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ut=a,pm(a,e)}um(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dm(e),e=e.sibling}function dm(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&pi(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rr(e)):ol(e);break;default:ol(e)}}function Rr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Ut=a,pm(a,e)}um(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:pi(8,t,t.return),Rr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Rr(t));break;default:Rr(t)}e=e.sibling}}function pm(e,t){for(;Ut!==null;){var n=Ut;switch(n.tag){case 0:case 11:case 15:pi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Pl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ut=a;else e:for(n=e;Ut!==null;){a=Ut;var i=a.sibling,s=a.return;if(nm(a),a===n){Ut=null;break e}if(i!==null){i.return=s,Ut=i;break e}Ut=s}}}var Jb={getCacheForType:function(e){var t=nn(It),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return nn(It).controller.signal}},Pb=typeof WeakMap=="function"?WeakMap:Map,De=0,Ge=null,we=null,Ce=0,Ee=0,Wn=null,Ko=!1,_s=!1,Cp=!1,No=0,gt=0,gi=0,zi=0,jp=0,Vn=0,As=0,Al=null,_n=null,bd=!1,zc=0,gm=0,oc=1/0,ic=null,ii=null,Ot=0,si=null,Is=null,Io=0,vd=0,Sd=null,fm=null,Il=0,Td=null;function Kn(){return De&2&&Ce!==0?Ce&-Ce:fe.T!==null?Ap():wh()}function hm(){if(Vn===0)if(!(Ce&536870912)||je){var e=dr;dr<<=1,!(dr&3932160)&&(dr=262144),Vn=e}else Vn=536870912;return e=ea.current,e!==null&&(e.flags|=32),Vn}function Fn(e,t,n){(e===Ge&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),$o(e,Ce,Vn,!1)),Ql(e,n),(!(De&2)||e!==Ge)&&(e===Ge&&(!(De&2)&&(zi|=n),gt===4&&$o(e,Ce,Vn,!1)),no(e))}function mm(e,t,n){if(De&6)throw Error(R(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Xl(e,t),i=a?$b(e,t):Cu(e,t,!0),s=a;do{if(i===0){_s&&!a&&$o(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!Zb(n)){i=Cu(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var c=e;i=Al;var d=c.current.memoizedState.isDehydrated;if(d&&(Ms(c,l).flags|=256),l=Cu(c,l,!1),l!==2){if(Cp&&!d){c.errorRecoveryDisabledLanes|=s,zi|=s,i=4;break e}s=_n,_n=i,s!==null&&(_n===null?_n=s:_n.push.apply(_n,s))}i=l}if(s=!1,i!==2)continue}}if(i===1){Ms(e,0),$o(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(R(345));case 4:if((t&4194048)!==t)break;case 6:$o(a,t,Vn,!Ko);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(R(329))}if((t&62914560)===t&&(i=zc+300-Jn(),10<i)){if($o(a,t,Vn,!Ko),bc(a,0,!0)!==0)break e;Io=t,a.timeoutHandle=Rm(rf.bind(null,a,n,_n,ic,bd,t,Vn,zi,As,Ko,s,"Throttled",-0,0),i);break e}rf(a,n,_n,ic,bd,t,Vn,zi,As,Ko,s,null,-0,0)}}break}while(!0);no(e)}function rf(e,t,n,a,i,s,l,c,d,b,j,C,S,x){if(e.timeoutHandle=-1,C=t.subtreeFlags,C&8192||(C&16785408)===16785408){C={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Co},cm(t,s,C);var A=(s&62914560)===s?zc-Jn():(s&4194048)===s?gm-Jn():0;if(A=B1(C,A),A!==null){Io=s,e.cancelPendingCommit=A(uf.bind(null,e,t,s,n,a,i,l,c,d,j,C,null,S,x)),$o(e,s,l,!b);return}}uf(e,t,s,n,a,i,l,c,d)}function Zb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!$n(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $o(e,t,n,a){t&=~jp,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-Zn(i),l=1<<s;a[s]=-1,i&=~l}n!==0&&vh(e,n,t)}function Dc(){return De&6?!0:($l(0),!1)}function kp(){if(we!==null){if(Ee===0)var e=we.return;else e=we,jo=Li=null,dp(e),ys=null,Rl=0,e=we;for(;e!==null;)J0(e.alternate,e),e=e.return;we=null}}function Ms(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,x1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Io=0,kp(),Ge=e,we=n=ko(e.current,null),Ce=t,Ee=0,Wn=null,Ko=!1,_s=Xl(e,t),Cp=!1,As=Vn=jp=zi=gi=gt=0,_n=Al=null,bd=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Zn(a),s=1<<i;t|=e[i],a&=~s}return No=t,wc(),n}function xm(e,t){ye=null,fe.H=Fl,t===Rs||t===jc?(t=Hg(),Ee=3):t===op?(t=Hg(),Ee=4):Ee=t===vp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Wn=t,we===null&&(gt=1,tc(e,ya(t,e.current)))}function ym(){var e=ea.current;return e===null?!0:(Ce&4194048)===Ce?va===null:(Ce&62914560)===Ce||Ce&536870912?e===va:!1}function bm(){var e=fe.H;return fe.H=Fl,e===null?Fl:e}function vm(){var e=fe.A;return fe.A=Jb,e}function sc(){gt=4,Ko||(Ce&4194048)!==Ce&&ea.current!==null||(_s=!0),!(gi&134217727)&&!(zi&134217727)||Ge===null||$o(Ge,Ce,Vn,!1)}function Cu(e,t,n){var a=De;De|=2;var i=bm(),s=vm();(Ge!==e||Ce!==t)&&(ic=null,Ms(e,t)),t=!1;var l=gt;e:do try{if(Ee!==0&&we!==null){var c=we,d=Wn;switch(Ee){case 8:kp(),l=6;break e;case 3:case 2:case 9:case 6:ea.current===null&&(t=!0);var b=Ee;if(Ee=0,Wn=null,gs(e,c,d,b),n&&_s){l=0;break e}break;default:b=Ee,Ee=0,Wn=null,gs(e,c,d,b)}}Kb(),l=gt;break}catch(j){xm(e,j)}while(!0);return t&&e.shellSuspendCounter++,jo=Li=null,De=a,fe.H=i,fe.A=s,we===null&&(Ge=null,Ce=0,wc()),l}function Kb(){for(;we!==null;)Sm(we)}function $b(e,t){var n=De;De|=2;var a=bm(),i=vm();Ge!==e||Ce!==t?(ic=null,oc=Jn()+500,Ms(e,t)):_s=Xl(e,t);e:do try{if(Ee!==0&&we!==null){t=we;var s=Wn;t:switch(Ee){case 1:Ee=0,Wn=null,gs(e,t,s,1);break;case 2:case 9:if(Fg(s)){Ee=0,Wn=null,cf(t);break}t=function(){Ee!==2&&Ee!==9||Ge!==e||(Ee=7),no(e)},s.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:Fg(s)?(Ee=0,Wn=null,cf(t)):(Ee=0,Wn=null,gs(e,t,s,7));break;case 5:var l=null;switch(we.tag){case 26:l=we.memoizedState;case 5:case 27:var c=we;if(l?Um(l):c.stateNode.complete){Ee=0,Wn=null;var d=c.sibling;if(d!==null)we=d;else{var b=c.return;b!==null?(we=b,Oc(b)):we=null}break t}}Ee=0,Wn=null,gs(e,t,s,5);break;case 6:Ee=0,Wn=null,gs(e,t,s,6);break;case 8:kp(),gt=6;break e;default:throw Error(R(462))}}e1();break}catch(j){xm(e,j)}while(!0);return jo=Li=null,fe.H=a,fe.A=i,De=n,we!==null?0:(Ge=null,Ce=0,wc(),gt)}function e1(){for(;we!==null&&!wy();)Sm(we)}function Sm(e){var t=V0(e.alternate,e,No);e.memoizedProps=e.pendingProps,t===null?Oc(e):we=t}function cf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=tf(n,t,t.pendingProps,t.type,void 0,Ce);break;case 11:t=tf(n,t,t.pendingProps,t.type.render,t.ref,Ce);break;case 5:dp(t);default:J0(n,t),t=we=Jh(t,No),t=V0(n,t,No)}e.memoizedProps=e.pendingProps,t===null?Oc(e):we=t}function gs(e,t,n,a){jo=Li=null,dp(t),ys=null,Rl=0;var i=t.return;try{if(Gb(e,i,t,n,Ce)){gt=1,tc(e,ya(n,e.current)),we=null;return}}catch(s){if(i!==null)throw we=i,s;gt=1,tc(e,ya(n,e.current)),we=null;return}t.flags&32768?(je||a===1?e=!0:_s||Ce&536870912?e=!1:(Ko=e=!0,(a===2||a===9||a===3||a===6)&&(a=ea.current,a!==null&&a.tag===13&&(a.flags|=16384))),Tm(t,e)):Oc(t)}function Oc(e){var t=e;do{if(t.flags&32768){Tm(t,Ko);return}e=t.return;var n=Wb(t.alternate,t,No);if(n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);gt===0&&(gt=5)}function Tm(e,t){do{var n=Xb(e.alternate,e);if(n!==null){n.flags&=32767,we=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=n}while(e!==null);gt=6,we=null}function uf(e,t,n,a,i,s,l,c,d){e.cancelPendingCommit=null;do Nc();while(Ot!==0);if(De&6)throw Error(R(327));if(t!==null){if(t===e.current)throw Error(R(177));if(s=t.lanes|t.childLanes,s|=Zd,Ny(e,n,s,l,c,d),e===Ge&&(we=Ge=null,Ce=0),Is=t,si=e,Io=n,vd=s,Sd=i,fm=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,o1(Yr,function(){return Am(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=fe.T,fe.T=null,i=Oe.p,Oe.p=2,l=De,De|=4;try{Qb(e,t,n)}finally{De=l,Oe.p=i,fe.T=a}}Ot=1,wm(),Cm(),jm()}}function wm(){if(Ot===1){Ot=0;var e=si,t=Is,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=fe.T,fe.T=null;var a=Oe.p;Oe.p=2;var i=De;De|=4;try{sm(t,e);var s=kd,l=Uh(e.containerInfo),c=s.focusedElem,d=s.selectionRange;if(l!==c&&c&&c.ownerDocument&&Lh(c.ownerDocument.documentElement,c)){if(d!==null&&Pd(c)){var b=d.start,j=d.end;if(j===void 0&&(j=b),"selectionStart"in c)c.selectionStart=b,c.selectionEnd=Math.min(j,c.value.length);else{var C=c.ownerDocument||document,S=C&&C.defaultView||window;if(S.getSelection){var x=S.getSelection(),A=c.textContent.length,U=Math.min(d.start,A),z=d.end===void 0?U:Math.min(d.end,A);!x.extend&&U>z&&(l=z,z=U,U=l);var p=Dg(c,U),f=Dg(c,z);if(p&&f&&(x.rangeCount!==1||x.anchorNode!==p.node||x.anchorOffset!==p.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)){var y=C.createRange();y.setStart(p.node,p.offset),x.removeAllRanges(),U>z?(x.addRange(y),x.extend(f.node,f.offset)):(y.setEnd(f.node,f.offset),x.addRange(y))}}}}for(C=[],x=c;x=x.parentNode;)x.nodeType===1&&C.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<C.length;c++){var I=C[c];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}fc=!!jd,kd=jd=null}finally{De=i,Oe.p=a,fe.T=n}}e.current=t,Ot=2}}function Cm(){if(Ot===2){Ot=0;var e=si,t=Is,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=fe.T,fe.T=null;var a=Oe.p;Oe.p=2;var i=De;De|=4;try{tm(e,t.alternate,t)}finally{De=i,Oe.p=a,fe.T=n}}Ot=3}}function jm(){if(Ot===4||Ot===3){Ot=0,Cy();var e=si,t=Is,n=Io,a=fm;t.subtreeFlags&10256||t.flags&10256?Ot=5:(Ot=0,Is=si=null,km(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ii=null),qd(n),t=t.stateNode,Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Wl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=fe.T,i=Oe.p,Oe.p=2,fe.T=null;try{for(var s=e.onRecoverableError,l=0;l<a.length;l++){var c=a[l];s(c.value,{componentStack:c.stack})}}finally{fe.T=t,Oe.p=i}}Io&3&&Nc(),no(e),i=e.pendingLanes,n&261930&&i&42?e===Td?Il++:(Il=0,Td=e):Il=0,$l(0)}}function km(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Pl(t)))}function Nc(){return wm(),Cm(),jm(),Am()}function Am(){if(Ot!==5)return!1;var e=si,t=vd;vd=0;var n=qd(Io),a=fe.T,i=Oe.p;try{Oe.p=32>n?32:n,fe.T=null,n=Sd,Sd=null;var s=si,l=Io;if(Ot=0,Is=si=null,Io=0,De&6)throw Error(R(331));var c=De;if(De|=4,dm(s.current),rm(s,s.current,l,n),De=c,$l(0,!1),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Wl,s)}catch{}return!0}finally{Oe.p=i,fe.T=a,km(e,t)}}function df(e,t,n){t=ya(n,t),t=hd(e.stateNode,t,2),e=oi(e,t,2),e!==null&&(Ql(e,2),no(e))}function Re(e,t,n){if(e.tag===3)df(e,e,n);else for(;t!==null;){if(t.tag===3){df(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ii===null||!ii.has(a))){e=ya(n,e),n=G0(2),a=oi(t,n,2),a!==null&&(q0(n,a,t,e),Ql(a,2),no(a));break}}t=t.return}}function ju(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Pb;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Cp=!0,i.add(n),e=t1.bind(null,e,t,n),t.then(e,e))}function t1(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ge===e&&(Ce&n)===n&&(gt===4||gt===3&&(Ce&62914560)===Ce&&300>Jn()-zc?!(De&2)&&Ms(e,0):jp|=n,As===Ce&&(As=0)),no(e)}function Im(e,t){t===0&&(t=bh()),e=Hi(e,t),e!==null&&(Ql(e,t),no(e))}function n1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Im(e,n)}function a1(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(R(314))}a!==null&&a.delete(t),Im(e,n)}function o1(e,t){return Ud(e,t)}var lc=null,ts=null,wd=!1,rc=!1,ku=!1,ei=0;function no(e){e!==ts&&e.next===null&&(ts===null?lc=ts=e:ts=ts.next=e),rc=!0,wd||(wd=!0,s1())}function $l(e,t){if(!ku&&rc){ku=!0;do for(var n=!1,a=lc;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var l=a.suspendedLanes,c=a.pingedLanes;s=(1<<31-Zn(42|e)+1)-1,s&=i&~(l&~c),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,pf(a,s))}else s=Ce,s=bc(a,a===Ge?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||Xl(a,s)||(n=!0,pf(a,s));a=a.next}while(n);ku=!1}}function i1(){Mm()}function Mm(){rc=wd=!1;var e=0;ei!==0&&m1()&&(e=ei);for(var t=Jn(),n=null,a=lc;a!==null;){var i=a.next,s=zm(a,t);s===0?(a.next=null,n===null?lc=i:n.next=i,i===null&&(ts=n)):(n=a,(e!==0||s&3)&&(rc=!0)),a=i}Ot!==0&&Ot!==5||$l(e),ei!==0&&(ei=0)}function zm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var l=31-Zn(s),c=1<<l,d=i[l];d===-1?(!(c&n)||c&a)&&(i[l]=Oy(c,t)):d<=t&&(e.expiredLanes|=c),s&=~c}if(t=Ge,n=Ce,n=bc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&eu(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Xl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&eu(a),qd(n)){case 2:case 8:n=xh;break;case 32:n=Yr;break;case 268435456:n=yh;break;default:n=Yr}return a=Dm.bind(null,e),n=Ud(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&eu(a),e.callbackPriority=2,e.callbackNode=null,2}function Dm(e,t){if(Ot!==0&&Ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var a=Ce;return a=bc(e,e===Ge?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(mm(e,a,t),zm(e,Jn()),e.callbackNode!=null&&e.callbackNode===n?Dm.bind(null,e):null)}function pf(e,t){if(Nc())return null;mm(e,t,!0)}function s1(){y1(function(){De&6?Ud(mh,i1):Mm()})}function Ap(){if(ei===0){var e=Cs;e===0&&(e=ur,ur<<=1,!(ur&261888)&&(ur=256)),ei=e}return ei}function gf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ar(""+e)}function ff(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function l1(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=gf((i[Hn]||null).action),l=a.submitter;l&&(t=(t=l[Hn]||null)?gf(t.formAction):l.getAttribute("formAction"),t!==null&&(s=t,l=null));var c=new vc("action","action",null,a,i);e.push({event:c,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ei!==0){var d=l?ff(i,l):new FormData(i);gd(n,{pending:!0,data:d,method:i.method,action:s},null,d)}}else typeof s=="function"&&(c.preventDefault(),d=l?ff(i,l):new FormData(i),gd(n,{pending:!0,data:d,method:i.method,action:s},s,d))},currentTarget:i}]})}}for(var Au=0;Au<td.length;Au++){var Iu=td[Au],r1=Iu.toLowerCase(),c1=Iu[0].toUpperCase()+Iu.slice(1);Ha(r1,"on"+c1)}Ha(qh,"onAnimationEnd");Ha(Yh,"onAnimationIteration");Ha(Wh,"onAnimationStart");Ha("dblclick","onDoubleClick");Ha("focusin","onFocus");Ha("focusout","onBlur");Ha(jb,"onTransitionRun");Ha(kb,"onTransitionStart");Ha(Ab,"onTransitionCancel");Ha(Xh,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Om(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var l=a.length-1;0<=l;l--){var c=a[l],d=c.instance,b=c.currentTarget;if(c=c.listener,d!==s&&i.isPropagationStopped())break e;s=c,i.currentTarget=b;try{s(i)}catch(j){Xr(j)}i.currentTarget=null,s=d}else for(l=0;l<a.length;l++){if(c=a[l],d=c.instance,b=c.currentTarget,c=c.listener,d!==s&&i.isPropagationStopped())break e;s=c,i.currentTarget=b;try{s(i)}catch(j){Xr(j)}i.currentTarget=null,s=d}}}}function Te(e,t){var n=t[Qu];n===void 0&&(n=t[Qu]=new Set);var a=e+"__bubble";n.has(a)||(Nm(t,e,2,!1),n.add(a))}function Mu(e,t,n){var a=0;t&&(a|=4),Nm(n,e,a,t)}var vr="_reactListening"+Math.random().toString(36).slice(2);function Ip(e){if(!e[vr]){e[vr]=!0,Ch.forEach(function(n){n!=="selectionchange"&&(u1.has(n)||Mu(n,!1,e),Mu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vr]||(t[vr]=!0,Mu("selectionchange",!1,t))}}function Nm(e,t,n,a){switch(Xm(t)){case 2:var i=F1;break;case 8:i=H1;break;default:i=Op}n=i.bind(null,t,n,e),i=void 0,!Ku||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zu(e,t,n,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var c=a.stateNode.containerInfo;if(c===i)break;if(l===4)for(l=a.return;l!==null;){var d=l.tag;if((d===3||d===4)&&l.stateNode.containerInfo===i)return;l=l.return}for(;c!==null;){if(l=os(c),l===null)return;if(d=l.tag,d===5||d===6||d===26||d===27){a=s=l;continue e}c=c.parentNode}}a=a.return}Oh(function(){var b=s,j=Xd(n),C=[];e:{var S=Qh.get(e);if(S!==void 0){var x=vc,A=e;switch(e){case"keypress":if(Mr(n)===0)break e;case"keydown":case"keyup":x=ab;break;case"focusin":A="focus",x=iu;break;case"focusout":A="blur",x=iu;break;case"beforeblur":case"afterblur":x=iu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Wy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=sb;break;case qh:case Yh:case Wh:x=Vy;break;case Xh:x=rb;break;case"scroll":case"scrollend":x=qy;break;case"wheel":x=ub;break;case"copy":case"cut":case"paste":x=Py;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=wg;break;case"toggle":case"beforetoggle":x=pb}var U=(t&4)!==0,z=!U&&(e==="scroll"||e==="scrollend"),p=U?S!==null?S+"Capture":null:S;U=[];for(var f=b,y;f!==null;){var I=f;if(y=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||y===null||p===null||(I=Dl(f,p),I!=null&&U.push(Ll(f,I,y))),z)break;f=f.return}0<U.length&&(S=new x(S,A,null,n,j),C.push({event:S,listeners:U}))}}if(!(t&7)){e:{if(S=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",S&&n!==Zu&&(A=n.relatedTarget||n.fromElement)&&(os(A)||A[Ns]))break e;if((x||S)&&(S=j.window===j?j:(S=j.ownerDocument)?S.defaultView||S.parentWindow:window,x?(A=n.relatedTarget||n.toElement,x=b,A=A?os(A):null,A!==null&&(z=Yl(A),U=A.tag,A!==z||U!==5&&U!==27&&U!==6)&&(A=null)):(x=null,A=b),x!==A)){if(U=Sg,I="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(U=wg,I="onPointerLeave",p="onPointerEnter",f="pointer"),z=x==null?S:gl(x),y=A==null?S:gl(A),S=new U(I,f+"leave",x,n,j),S.target=z,S.relatedTarget=y,I=null,os(j)===b&&(U=new U(p,f+"enter",A,n,j),U.target=y,U.relatedTarget=z,I=U),z=I,x&&A)t:{for(U=d1,p=x,f=A,y=0,I=p;I;I=U(I))y++;I=0;for(var P=f;P;P=U(P))I++;for(;0<y-I;)p=U(p),y--;for(;0<I-y;)f=U(f),I--;for(;y--;){if(p===f||f!==null&&p===f.alternate){U=p;break t}p=U(p),f=U(f)}U=null}else U=null;x!==null&&hf(C,S,x,U,!1),A!==null&&z!==null&&hf(C,z,A,U,!0)}}e:{if(S=b?gl(b):window,x=S.nodeName&&S.nodeName.toLowerCase(),x==="select"||x==="input"&&S.type==="file")var Q=Ag;else if(kg(S))if(Fh)Q=Tb;else{Q=vb;var B=bb}else x=S.nodeName,!x||x.toLowerCase()!=="input"||S.type!=="checkbox"&&S.type!=="radio"?b&&Wd(b.elementType)&&(Q=Ag):Q=Sb;if(Q&&(Q=Q(e,b))){_h(C,Q,n,j);break e}B&&B(e,S,b),e==="focusout"&&b&&S.type==="number"&&b.memoizedProps.value!=null&&Pu(S,"number",S.value)}switch(B=b?gl(b):window,e){case"focusin":(kg(B)||B.contentEditable==="true")&&(ls=B,$u=b,bl=null);break;case"focusout":bl=$u=ls=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,Og(C,n,j);break;case"selectionchange":if(Cb)break;case"keydown":case"keyup":Og(C,n,j)}var q;if(Jd)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else ss?Bh(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(Eh&&n.locale!=="ko"&&(ss||H!=="onCompositionStart"?H==="onCompositionEnd"&&ss&&(q=Nh()):(Zo=j,Qd="value"in Zo?Zo.value:Zo.textContent,ss=!0)),B=cc(b,H),0<B.length&&(H=new Tg(H,e,null,n,j),C.push({event:H,listeners:B}),q?H.data=q:(q=Rh(n),q!==null&&(H.data=q)))),(q=fb?hb(e,n):mb(e,n))&&(H=cc(b,"onBeforeInput"),0<H.length&&(B=new Tg("onBeforeInput","beforeinput",null,n,j),C.push({event:B,listeners:H}),B.data=q)),l1(C,e,b,n,j)}Om(C,t)})}function Ll(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cc(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Dl(e,n),i!=null&&a.unshift(Ll(e,i,s)),i=Dl(e,t),i!=null&&a.push(Ll(e,i,s))),e.tag===3)return a;e=e.return}return[]}function d1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hf(e,t,n,a,i){for(var s=t._reactName,l=[];n!==null&&n!==a;){var c=n,d=c.alternate,b=c.stateNode;if(c=c.tag,d!==null&&d===a)break;c!==5&&c!==26&&c!==27||b===null||(d=b,i?(b=Dl(n,s),b!=null&&l.unshift(Ll(n,b,d))):i||(b=Dl(n,s),b!=null&&l.push(Ll(n,b,d)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var p1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function mf(e){return(typeof e=="string"?e:""+e).replace(p1,`
`).replace(g1,"")}function Em(e,t){return t=mf(t),mf(e)===t}function Fe(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ws(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ws(e,""+a);break;case"className":gr(e,"class",a);break;case"tabIndex":gr(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(e,n,a);break;case"style":Dh(e,a,s);break;case"data":if(t!=="object"){gr(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ar(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Fe(e,t,"name",i.name,i,null),Fe(e,t,"formEncType",i.formEncType,i,null),Fe(e,t,"formMethod",i.formMethod,i,null),Fe(e,t,"formTarget",i.formTarget,i,null)):(Fe(e,t,"encType",i.encType,i,null),Fe(e,t,"method",i.method,i,null),Fe(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ar(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Co);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(R(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(R(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Ar(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Te("beforetoggle",e),Te("toggle",e),kr(e,"popover",a);break;case"xlinkActuate":ho(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ho(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ho(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ho(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ho(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ho(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ho(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ho(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ho(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":kr(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Uy.get(n)||n,kr(e,n,a))}}function Cd(e,t,n,a,i,s){switch(n){case"style":Dh(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(R(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(R(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ws(e,a):(typeof a=="number"||typeof a=="bigint")&&ws(e,""+a);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Co);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jh.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[Hn]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):kr(e,n,a)}}}function an(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var l=n[s];if(l!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:Fe(e,t,s,l,n,null)}}i&&Fe(e,t,"srcSet",n.srcSet,n,null),a&&Fe(e,t,"src",n.src,n,null);return;case"input":Te("invalid",e);var c=s=l=i=null,d=null,b=null;for(a in n)if(n.hasOwnProperty(a)){var j=n[a];if(j!=null)switch(a){case"name":i=j;break;case"type":l=j;break;case"checked":d=j;break;case"defaultChecked":b=j;break;case"value":s=j;break;case"defaultValue":c=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(R(137,t));break;default:Fe(e,t,a,j,n,null)}}Ih(e,s,c,d,b,l,i,!1);return;case"select":Te("invalid",e),a=l=s=null;for(i in n)if(n.hasOwnProperty(i)&&(c=n[i],c!=null))switch(i){case"value":s=c;break;case"defaultValue":l=c;break;case"multiple":a=c;default:Fe(e,t,i,c,n,null)}t=s,n=l,e.multiple=!!a,t!=null?hs(e,!!a,t,!1):n!=null&&hs(e,!!a,n,!0);return;case"textarea":Te("invalid",e),s=i=a=null;for(l in n)if(n.hasOwnProperty(l)&&(c=n[l],c!=null))switch(l){case"value":a=c;break;case"defaultValue":i=c;break;case"children":s=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(R(91));break;default:Fe(e,t,l,c,n,null)}zh(e,a,i,s);return;case"option":for(d in n)if(n.hasOwnProperty(d)&&(a=n[d],a!=null))switch(d){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Fe(e,t,d,a,n,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(a=0;a<Hl.length;a++)Te(Hl[a],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in n)if(n.hasOwnProperty(b)&&(a=n[b],a!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:Fe(e,t,b,a,n,null)}return;default:if(Wd(t)){for(j in n)n.hasOwnProperty(j)&&(a=n[j],a!==void 0&&Cd(e,t,j,a,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(a=n[c],a!=null&&Fe(e,t,c,a,n,null))}function f1(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,l=null,c=null,d=null,b=null,j=null;for(x in n){var C=n[x];if(n.hasOwnProperty(x)&&C!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":d=C;default:a.hasOwnProperty(x)||Fe(e,t,x,null,a,C)}}for(var S in a){var x=a[S];if(C=n[S],a.hasOwnProperty(S)&&(x!=null||C!=null))switch(S){case"type":s=x;break;case"name":i=x;break;case"checked":b=x;break;case"defaultChecked":j=x;break;case"value":l=x;break;case"defaultValue":c=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(R(137,t));break;default:x!==C&&Fe(e,t,S,x,a,C)}}Ju(e,l,c,d,b,j,s,i);return;case"select":x=l=c=S=null;for(s in n)if(d=n[s],n.hasOwnProperty(s)&&d!=null)switch(s){case"value":break;case"multiple":x=d;default:a.hasOwnProperty(s)||Fe(e,t,s,null,a,d)}for(i in a)if(s=a[i],d=n[i],a.hasOwnProperty(i)&&(s!=null||d!=null))switch(i){case"value":S=s;break;case"defaultValue":c=s;break;case"multiple":l=s;default:s!==d&&Fe(e,t,i,s,a,d)}t=c,n=l,a=x,S!=null?hs(e,!!n,S,!1):!!a!=!!n&&(t!=null?hs(e,!!n,t,!0):hs(e,!!n,n?[]:"",!1));return;case"textarea":x=S=null;for(c in n)if(i=n[c],n.hasOwnProperty(c)&&i!=null&&!a.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:Fe(e,t,c,null,a,i)}for(l in a)if(i=a[l],s=n[l],a.hasOwnProperty(l)&&(i!=null||s!=null))switch(l){case"value":S=i;break;case"defaultValue":x=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(R(91));break;default:i!==s&&Fe(e,t,l,i,a,s)}Mh(e,S,x);return;case"option":for(var A in n)if(S=n[A],n.hasOwnProperty(A)&&S!=null&&!a.hasOwnProperty(A))switch(A){case"selected":e.selected=!1;break;default:Fe(e,t,A,null,a,S)}for(d in a)if(S=a[d],x=n[d],a.hasOwnProperty(d)&&S!==x&&(S!=null||x!=null))switch(d){case"selected":e.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Fe(e,t,d,S,a,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var U in n)S=n[U],n.hasOwnProperty(U)&&S!=null&&!a.hasOwnProperty(U)&&Fe(e,t,U,null,a,S);for(b in a)if(S=a[b],x=n[b],a.hasOwnProperty(b)&&S!==x&&(S!=null||x!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(S!=null)throw Error(R(137,t));break;default:Fe(e,t,b,S,a,x)}return;default:if(Wd(t)){for(var z in n)S=n[z],n.hasOwnProperty(z)&&S!==void 0&&!a.hasOwnProperty(z)&&Cd(e,t,z,void 0,a,S);for(j in a)S=a[j],x=n[j],!a.hasOwnProperty(j)||S===x||S===void 0&&x===void 0||Cd(e,t,j,S,a,x);return}}for(var p in n)S=n[p],n.hasOwnProperty(p)&&S!=null&&!a.hasOwnProperty(p)&&Fe(e,t,p,null,a,S);for(C in a)S=a[C],x=n[C],!a.hasOwnProperty(C)||S===x||S==null&&x==null||Fe(e,t,C,S,a,x)}function xf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,l=i.initiatorType,c=i.duration;if(s&&c&&xf(l)){for(l=0,c=i.responseEnd,a+=1;a<n.length;a++){var d=n[a],b=d.startTime;if(b>c)break;var j=d.transferSize,C=d.initiatorType;j&&xf(C)&&(d=d.responseEnd,l+=j*(d<c?1:(c-b)/(d-b)))}if(--a,t+=8*(s+l)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jd=null,kd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function yf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Du=null;function m1(){var e=window.event;return e&&e.type==="popstate"?e===Du?!1:(Du=e,!0):(Du=null,!1)}var Rm=typeof setTimeout=="function"?setTimeout:void 0,x1=typeof clearTimeout=="function"?clearTimeout:void 0,bf=typeof Promise=="function"?Promise:void 0,y1=typeof queueMicrotask=="function"?queueMicrotask:typeof bf<"u"?function(e){return bf.resolve(null).then(e).catch(b1)}:Rm;function b1(e){setTimeout(function(){throw e})}function hi(e){return e==="head"}function vf(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),Ds(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ml(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ml(n);for(var s=n.firstChild;s;){var l=s.nextSibling,c=s.nodeName;s[Vl]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=l}}else n==="body"&&Ml(e.ownerDocument.body);n=i}while(n);Ds(t)}function Sf(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Id(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Id(n),Yd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function v1(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Vl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Sa(e.nextSibling),e===null)break}return null}function S1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Sa(e.nextSibling),e===null))return null;return e}function _m(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Sa(e.nextSibling),e===null))return null;return e}function Md(e){return e.data==="$?"||e.data==="$~"}function zd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function T1(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Dd=null;function Tf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Sa(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function wf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Fm(e,t,n){switch(t=uc(n),e){case"html":if(e=t.documentElement,!e)throw Error(R(452));return e;case"head":if(e=t.head,!e)throw Error(R(453));return e;case"body":if(e=t.body,!e)throw Error(R(454));return e;default:throw Error(R(451))}}function Ml(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yd(e)}var Ta=new Map,Cf=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Eo=Oe.d;Oe.d={f:w1,r:C1,D:j1,C:k1,L:A1,m:I1,X:z1,S:M1,M:D1};function w1(){var e=Eo.f(),t=Dc();return e||t}function C1(e){var t=Es(e);t!==null&&t.tag===5&&t.type==="form"?D0(t):Eo.r(e)}var Fs=typeof document>"u"?null:document;function Hm(e,t,n){var a=Fs;if(a&&typeof t=="string"&&t){var i=xa(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Cf.has(i)||(Cf.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),an(t,"link",e),Gt(t),a.head.appendChild(t)))}}function j1(e){Eo.D(e),Hm("dns-prefetch",e,null)}function k1(e,t){Eo.C(e,t),Hm("preconnect",e,t)}function A1(e,t,n){Eo.L(e,t,n);var a=Fs;if(a&&e&&t){var i='link[rel="preload"][as="'+xa(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+xa(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+xa(n.imageSizes)+'"]')):i+='[href="'+xa(e)+'"]';var s=i;switch(t){case"style":s=zs(e);break;case"script":s=Hs(e)}Ta.has(s)||(e=$e({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ta.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(er(s))||t==="script"&&a.querySelector(tr(s))||(t=a.createElement("link"),an(t,"link",e),Gt(t),a.head.appendChild(t)))}}function I1(e,t){Eo.m(e,t);var n=Fs;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+xa(a)+'"][href="'+xa(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Hs(e)}if(!Ta.has(s)&&(e=$e({rel:"modulepreload",href:e},t),Ta.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(tr(s)))return}a=n.createElement("link"),an(a,"link",e),Gt(a),n.head.appendChild(a)}}}function M1(e,t,n){Eo.S(e,t,n);var a=Fs;if(a&&e){var i=fs(a).hoistableStyles,s=zs(e);t=t||"default";var l=i.get(s);if(!l){var c={loading:0,preload:null};if(l=a.querySelector(er(s)))c.loading=5;else{e=$e({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ta.get(s))&&Mp(e,n);var d=l=a.createElement("link");Gt(d),an(d,"link",e),d._p=new Promise(function(b,j){d.onload=b,d.onerror=j}),d.addEventListener("load",function(){c.loading|=1}),d.addEventListener("error",function(){c.loading|=2}),c.loading|=4,_r(l,t,a)}l={type:"stylesheet",instance:l,count:1,state:c},i.set(s,l)}}}function z1(e,t){Eo.X(e,t);var n=Fs;if(n&&e){var a=fs(n).hoistableScripts,i=Hs(e),s=a.get(i);s||(s=n.querySelector(tr(i)),s||(e=$e({src:e,async:!0},t),(t=Ta.get(i))&&zp(e,t),s=n.createElement("script"),Gt(s),an(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function D1(e,t){Eo.M(e,t);var n=Fs;if(n&&e){var a=fs(n).hoistableScripts,i=Hs(e),s=a.get(i);s||(s=n.querySelector(tr(i)),s||(e=$e({src:e,async:!0,type:"module"},t),(t=Ta.get(i))&&zp(e,t),s=n.createElement("script"),Gt(s),an(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function jf(e,t,n,a){var i=(i=ti.current)?dc(i):null;if(!i)throw Error(R(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=zs(n.href),n=fs(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=zs(n.href);var s=fs(i).hoistableStyles,l=s.get(e);if(l||(i=i.ownerDocument||i,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,l),(s=i.querySelector(er(e)))&&!s._p&&(l.instance=s,l.state.loading=5),Ta.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ta.set(e,n),s||O1(i,e,n,l.state))),t&&a===null)throw Error(R(528,""));return l}if(t&&a!==null)throw Error(R(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Hs(n),n=fs(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,e))}}function zs(e){return'href="'+xa(e)+'"'}function er(e){return'link[rel="stylesheet"]['+e+"]"}function Lm(e){return $e({},e,{"data-precedence":e.precedence,precedence:null})}function O1(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),an(t,"link",n),Gt(t),e.head.appendChild(t))}function Hs(e){return'[src="'+xa(e)+'"]'}function tr(e){return"script[async]"+e}function kf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+xa(n.href)+'"]');if(a)return t.instance=a,Gt(a),a;var i=$e({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Gt(a),an(a,"style",i),_r(a,n.precedence,e),t.instance=a;case"stylesheet":i=zs(n.href);var s=e.querySelector(er(i));if(s)return t.state.loading|=4,t.instance=s,Gt(s),s;a=Lm(n),(i=Ta.get(i))&&Mp(a,i),s=(e.ownerDocument||e).createElement("link"),Gt(s);var l=s;return l._p=new Promise(function(c,d){l.onload=c,l.onerror=d}),an(s,"link",a),t.state.loading|=4,_r(s,n.precedence,e),t.instance=s;case"script":return s=Hs(n.src),(i=e.querySelector(tr(s)))?(t.instance=i,Gt(i),i):(a=n,(i=Ta.get(s))&&(a=$e({},n),zp(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Gt(i),an(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(R(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,_r(a,n.precedence,e));return t.instance}function _r(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,l=0;l<a.length;l++){var c=a[l];if(c.dataset.precedence===t)s=c;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Mp(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function zp(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fr=null;function Af(e,t,n){if(Fr===null){var a=new Map,i=Fr=new Map;i.set(n,a)}else i=Fr,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Vl]||s[en]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var l=s.getAttribute(t)||"";l=e+l;var c=a.get(l);c?c.push(s):a.set(l,[s])}}return a}function If(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function N1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Um(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function E1(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=zs(a.href),s=t.querySelector(er(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=pc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Gt(s);return}s=t.ownerDocument||t,a=Lm(a),(i=Ta.get(i))&&Mp(a,i),s=s.createElement("link"),Gt(s);var l=s;l._p=new Promise(function(c,d){l.onload=c,l.onerror=d}),an(s,"link",a),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=pc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Ou=0;function B1(e,t){return e.stylesheets&&e.count===0&&Hr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Hr(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Ou===0&&(Ou=62500*h1());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hr(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Ou?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function Hr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,t.forEach(R1,e),gc=null,pc.call(e))}function R1(e,t){if(!(t.state.loading&4)){var n=gc.get(e);if(n)var a=n.get(null);else{n=new Map,gc.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var l=i[s];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),a=l)}a&&n.set(null,a)}i=t.instance,l=i.getAttribute("data-precedence"),s=n.get(l)||a,s===a&&n.set(null,i),n.set(l,i),this.count++,a=pc.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ul={$$typeof:wo,Provider:null,Consumer:null,_currentValue:ki,_currentValue2:ki,_threadCount:0};function _1(e,t,n,a,i,s,l,c,d){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tu(0),this.hiddenUpdates=tu(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function Gm(e,t,n,a,i,s,l,c,d,b,j,C){return e=new _1(e,t,n,l,d,b,j,C,c),t=1,s===!0&&(t|=24),s=Qn(3,null,null,t),e.current=s,s.stateNode=e,t=np(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},ip(s),e}function qm(e){return e?(e=us,e):us}function Ym(e,t,n,a,i,s){i=qm(i),a.context===null?a.context=i:a.pendingContext=i,a=ai(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=oi(e,a,t),n!==null&&(Fn(n,e,t),Sl(n,e,t))}function Mf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dp(e,t){Mf(e,t),(e=e.alternate)&&Mf(e,t)}function Wm(e){if(e.tag===13||e.tag===31){var t=Hi(e,67108864);t!==null&&Fn(t,e,67108864),Dp(e,67108864)}}function zf(e){if(e.tag===13||e.tag===31){var t=Kn();t=Gd(t);var n=Hi(e,t);n!==null&&Fn(n,e,t),Dp(e,t)}}var fc=!0;function F1(e,t,n,a){var i=fe.T;fe.T=null;var s=Oe.p;try{Oe.p=2,Op(e,t,n,a)}finally{Oe.p=s,fe.T=i}}function H1(e,t,n,a){var i=fe.T;fe.T=null;var s=Oe.p;try{Oe.p=8,Op(e,t,n,a)}finally{Oe.p=s,fe.T=i}}function Op(e,t,n,a){if(fc){var i=Od(a);if(i===null)zu(e,t,a,hc,n),Df(e,a);else if(U1(i,e,t,n,a))a.stopPropagation();else if(Df(e,a),t&4&&-1<L1.indexOf(e)){for(;i!==null;){var s=Es(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var l=wi(s.pendingLanes);if(l!==0){var c=s;for(c.pendingLanes|=2,c.entangledLanes|=2;l;){var d=1<<31-Zn(l);c.entanglements[1]|=d,l&=~d}no(s),!(De&6)&&(oc=Jn()+500,$l(0))}}break;case 31:case 13:c=Hi(s,2),c!==null&&Fn(c,s,2),Dc(),Dp(s,2)}if(s=Od(a),s===null&&zu(e,t,a,hc,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else zu(e,t,a,null,n)}}function Od(e){return e=Xd(e),Np(e)}var hc=null;function Np(e){if(hc=null,e=os(e),e!==null){var t=Yl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=dh(t),e!==null)return e;e=null}else if(n===31){if(e=ph(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hc=e,null}function Xm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jy()){case mh:return 2;case xh:return 8;case Yr:case ky:return 32;case yh:return 268435456;default:return 32}default:return 32}}var Nd=!1,li=null,ri=null,ci=null,Gl=new Map,ql=new Map,Jo=[],L1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Df(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Gl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(t.pointerId)}}function il(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Es(t),t!==null&&Wm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function U1(e,t,n,a,i){switch(t){case"focusin":return li=il(li,e,t,n,a,i),!0;case"dragenter":return ri=il(ri,e,t,n,a,i),!0;case"mouseover":return ci=il(ci,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return Gl.set(s,il(Gl.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,ql.set(s,il(ql.get(s)||null,e,t,n,a,i)),!0}return!1}function Qm(e){var t=os(e.target);if(t!==null){var n=Yl(t);if(n!==null){if(t=n.tag,t===13){if(t=dh(n),t!==null){e.blockedOn=t,fg(e.priority,function(){zf(n)});return}}else if(t===31){if(t=ph(n),t!==null){e.blockedOn=t,fg(e.priority,function(){zf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Od(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Zu=a,n.target.dispatchEvent(a),Zu=null}else return t=Es(n),t!==null&&Wm(t),e.blockedOn=n,!1;t.shift()}return!0}function Of(e,t,n){Lr(e)&&n.delete(t)}function G1(){Nd=!1,li!==null&&Lr(li)&&(li=null),ri!==null&&Lr(ri)&&(ri=null),ci!==null&&Lr(ci)&&(ci=null),Gl.forEach(Of),ql.forEach(Of)}function Sr(e,t){e.blockedOn===t&&(e.blockedOn=null,Nd||(Nd=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,G1)))}var Tr=null;function Nf(e){Tr!==e&&(Tr=e,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,function(){Tr===e&&(Tr=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(Np(a||n)===null)continue;break}var s=Es(n);s!==null&&(e.splice(t,3),t-=3,gd(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function Ds(e){function t(d){return Sr(d,e)}li!==null&&Sr(li,e),ri!==null&&Sr(ri,e),ci!==null&&Sr(ci,e),Gl.forEach(t),ql.forEach(t);for(var n=0;n<Jo.length;n++){var a=Jo[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Jo.length&&(n=Jo[0],n.blockedOn===null);)Qm(n),n.blockedOn===null&&Jo.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],l=i[Hn]||null;if(typeof s=="function")l||Nf(n);else if(l){var c=null;if(s&&s.hasAttribute("formAction")){if(i=s,l=s[Hn]||null)c=l.formAction;else if(Np(i)!==null)continue}else c=l.action;typeof c=="function"?n[a+1]=c:(n.splice(a,3),a-=3),Nf(n)}}}function Vm(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(l){return i=l})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Ep(e){this._internalRoot=e}Ec.prototype.render=Ep.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));var n=t.current,a=Kn();Ym(n,a,e,t,null,null)};Ec.prototype.unmount=Ep.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ym(e.current,2,null,e,null,null),Dc(),t[Ns]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var t=wh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jo.length&&t!==0&&t<Jo[n].priority;n++);Jo.splice(n,0,e),n===0&&Qm(e)}};var Ef=ch.version;if(Ef!=="19.2.3")throw Error(R(527,Ef,"19.2.3"));Oe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=yy(t),e=e!==null?gh(e):null,e=e===null?null:e.stateNode,e};var q1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:fe,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wr.isDisabled&&wr.supportsFiber)try{Wl=wr.inject(q1),Pn=wr}catch{}}xc.createRoot=function(e,t){if(!uh(e))throw Error(R(299));var n=!1,a="",i=H0,s=L0,l=U0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Gm(e,1,!1,null,null,n,a,null,i,s,l,Vm),e[Ns]=t.current,Ip(e),new Ep(t)};xc.hydrateRoot=function(e,t,n){if(!uh(e))throw Error(R(299));var a=!1,i="",s=H0,l=L0,c=U0,d=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError),n.formState!==void 0&&(d=n.formState)),t=Gm(e,1,!0,t,n??null,a,i,d,s,l,c,Vm),t.context=qm(null),n=t.current,a=Kn(),a=Gd(a),i=ai(a),i.callback=null,oi(n,i,a),n=a,t.current.lanes=n,Ql(t,n),no(t),e[Ns]=t.current,Ip(e),new Ec(t)};xc.version="19.2.3";function Jm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jm)}catch(e){console.error(e)}}Jm(),ah.exports=xc;var Y1=ah.exports;const W1=Qf(Y1),Ls=()=>{const e=u.useCallback((b,j=.5)=>{try{const C=new Audio(b);C.volume=j,C.play().catch(S=>{console.log("Could not play sound effect:",S)})}catch(C){console.log("Error creating audio:",C)}},[]),t=u.useCallback(()=>{e("/sound/click.mp3",.6)},[e]),n=u.useCallback(()=>{e("/sound/camera.mp3",.7)},[e]),a=u.useCallback(()=>{e("/sound/stamp.mp3",.8)},[e]),i=u.useCallback(()=>{e("/sound/safe.mp3",.7)},[e]),s=u.useCallback(()=>{e("/sound/alert.mp3",.7)},[e]),l=u.useCallback(()=>{e("/sound/correct.wav",.7)},[e]),c=u.useCallback(()=>{e("/sound/wrong.mp3",.7)},[e]),d=u.useCallback(()=>{e("/sound/mark.wav",.7)},[e]);return{playSound:e,playClickSound:t,playCameraSound:n,playStampSound:a,playSafeSound:i,playAlertSound:s,playCorrectSound:l,playWrongSound:c,playMarkSound:d}},Bp=e=>{const t=u.useRef(null),n=u.useCallback(()=>{if(e)try{t.current&&(t.current.pause(),t.current.currentTime=0),t.current=new Audio(e),t.current.volume=.3,t.current.loop=!0,t.current.play().catch(i=>{console.log("Could not play typing sound:",i)})}catch(i){console.log("Error creating typing audio:",i)}},[e]),a=u.useCallback(()=>{t.current&&(t.current.pause(),t.current.currentTime=0)},[]);return{startTypingSound:n,stopTypingSound:a}},X1={exit:"Exit",continue:"CONTINUE",skip:"Skip",passed:"PASSED",failed:"FAILED",welcome:"Welcome!",aiJourneyTitle:"AI JOURNEY",aiJourneySubtitle:"An Interactive Journey into AI Literacy",start:"Start",continueGame:"Continue",startOver:"Start Over",signIn:"Sign In",signInTitle:"Sign In",signUpTitle:"Sign Up",userName:"User Name",userNameEmail:"User Name/ Email",password:"Password",email:"Email",enterUsername:"Enter username",enterUsernameOrEmail:"Enter username or email",enterPassword:"Enter password",enterEmail:"Enter email address",done:"Done",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",signUp:"Sign Up",invalidCredentials:"Invalid username/email or password",noAccountFound:"No account found. Please sign up first.",userAlreadyExists:"User already exists. Please sign in instead.",selectRegion:"Select a Region",fungiJungle:"FUNGA JUNGLE",desert:"AETHER DESERT",island:"NEXUS ISLAND",glacier:"CORE GLACIER",fungiDescription:"Welcome to the Fungi Jungle! The guardian here is a green robot named Ranger Moss. He usually keeps everything running smoothly. Let's look for him first!",desertDescription:"Welcome back! The guardian here is a yellow robot named 'Alpha'. He is usually responsible for the castle's security system, but something is wrong. Let's find him and ask.",islandDescription:"Welcome to NEXUS ISLAND! Recently, a large number of spies disguised as workers have arrived the island. Before things spiral out of control, go find Sparky and learn how to identify these impostors hiding among the workforce.",glacierDescription:"The most advanced and economically developed region, where GenAI is widely used to optimize resources and decision-making. Explore complex ethical challenges around societal impact, autonomy, and fairness.",easyDifficulty:" (Easy / Introductory)",intermediateDifficulty:" (Intermediate)",advancedDifficulty:" (Advanced)",comingSoon:"Coming Soon",sparkyEnergyManager:"Sparky - Energy Manager",npcConversation:"NPC Conversation",imageEvaluation:"Image Evaluation",questionAndAnswer:"QUESTION AND ANSWER",missionAccepted:"Mission Accepted!",sparkyIntro1:"Bzzzt... System recalibrating... Systems Online. Oh, thank goodness a human is here! I am Sparky, the island's energy manager.",sparkyIntro2:"We have been infiltrated! Do you see those workers wandering around? Many of them aren't real elves.",sparkyIntro3:"They are Generative AI Agents in disguise. They look like us, but they are flooding our grid with bad data.",sparkyIntro4:"Technically speaking, Generative AI is a type of artificial intelligence technology that uses machine learning to create new contentincluding text, imagery, audio, and synthetic datainstead of just analyzing existing data.",sparkyIntro5:"Let me explain simply. Generative AI is like a super-fast student.",sparkyIntro6:"It has read every book and seen every picture in the world. When you ask it to draw, write, or sing, it doesn't 'think' like you do.",sparkyIntro7:"It just guesses what comes next based on patterns. It's like a very clever parrot mimicking humans!",sparkyIntro8:"Yes! Please! I need you to find these AI impostors and remove them from the system.",sparkyIntro9:"Good question. Even though they are smart, they have big weaknesses. Listen carefully.",sparkyIntro10:"First is Hallucinations (The 'Daydreaming').",sparkyIntro11:"Sometimes, they gets overconfident and makes things up!  Six-fingered hands?  Octopuses running banks? If it sounds too weird to be trueit's probably an AI hallucination!",sparkyIntro12:"Perfect. Here is your mission:",sparkyIntro13:"Go talk to the workers on the islands. Ask them to show you their photos or writing.",sparkyIntro14:"If you spot mistakes or copies, mark them down. There are 9 spies hidden in total. Good luck, Agent!",sparkyIntro15:"Excellent! Your mission is now active. Good luck, Agent!",whatHappened:"What happened here?",whatIsGenerativeAI:"What is Generative AI?",dontGetIt:"I don't get it...",canIHelp:"Can I help you fix it?",howToTellApart:"How do I tell them apart?",gotIt:"Got it.",showPictureWork:"Can you show me a picture of where you work?",showPoster:"Can you show me a poster you have made?",showPhenomenon:"Can you show me some interesting phenomenon here?",whatThinkImage:"What do you think of this image?",sureLetMeShow:"Sure! Let me show you...",sparkyMainIsland:"Sparky is on the Main Island!",lookCloser:"Look closer! Don't be fooled.",checkDetails:"Check the details. Read the text.",checkFacts:"Check the facts. Is that logical?",fakeNews:"AI models often invent 'Fake News' just to sound important.",visualHallucinations:"Visual Hallucinations",textHallucinations:"Text Hallucinations",coreTraitTitle:"The Core Trait",aiIsMean:"The AI is mean",aiLacksEmotion:"AI lacks emotion and common sense",aiIsTired:"The AI is tired",language:"EN/",setting:"SETTING",controlPanel:"CONTROL PANEL",languageSelection:"LANGUAGE SELECTION",systemVolume:"SYSTEM VOLUME",reset:"Reset",applyChanges:"Apply Changes",npc1Island1Dialog1:"Hey! You! Be careful out there.",npc1Island1Dialog2:"I don't know what's going on. A lot of new workers arrived, but they look... wrong.",npc1Island1Dialog3:"You should go to the Main Island . Sparky will know what to do.",npc2Island2Dialog1:"This is a disaster! The new workers are ruining our archives!",npc2Island2Dialog2:"They sound so confident, but they just make things up! Please, head to the Main Island. Find Sparky. He controls the grid!",npc3Island3Dialog1:"It's so boring lately... so eerily boring.",npc3Island3Dialog2:"The new guys? They all look the same.",npc3Island3Dialog3:"Go  find Sparky on the Main Island. He's the only one who can fix this mess.",randomDialog1:"Phew... I am absolutely drained today.",randomDialog2:"My back is killing me...",randomDialog3:"Work, work, work. It never ends.",randomDialog4:"I need a vacation from this island.",randomDialog5:"Yay! Now I can finally charge my phone.",randomDialog6:"Finally! The lights are back on!",randomDialog7:"Thanks for the fix, buddy! It was getting spooky in the dark.",randomDialog8:"Is it lunch time yet?",randomDialog9:"My shell is aching...",sparkyRestored:"Systems online! Oh, that sweet, sweet electricity!",phase2Complete:"Yo! High five! Go Back to the MAIN LAND",phase2GlitchMessage:"Task 2: Spot the GenAI NPC You should talk to all the NPCs before making your decision.",phase1Complete:"System purged! 6/6 Spies caught. Return to Sparky for debrief."},Q1={exit:"",continue:"",skip:"",passed:"",failed:"",welcome:"",aiJourneyTitle:"AI ",aiJourneySubtitle:"",start:"",continueGame:"",startOver:"",signIn:"",signInTitle:"",signUpTitle:"",userName:"",userNameEmail:"/",password:"",email:"",enterUsername:"",enterUsernameOrEmail:"",enterPassword:"",enterEmail:"",done:"",alreadyHaveAccount:"",dontHaveAccount:"",signUp:"",invalidCredentials:"/",noAccountFound:"",userAlreadyExists:"",selectRegion:"",fungiJungle:"",desert:"",island:"NEXUS ISLAND",glacier:"",fungiDescription:"",desertDescription:"''",islandDescription:"NEXUS ISLANDSparky",glacierDescription:"AI",easyDifficulty:" ( / )",intermediateDifficulty:" ()",advancedDifficulty:" ()",comingSoon:"",sparkyEnergyManager:"Sparky - ",npcConversation:"NPC",imageEvaluation:"",questionAndAnswer:"",missionAccepted:"",sparkyIntro1:"......Sparky",sparkyIntro2:"",sparkyIntro3:"AI",sparkyIntro4:"AI",sparkyIntro5:"AI",sparkyIntro6:"''",sparkyIntro7:"",sparkyIntro8:"AI",sparkyIntro9:"",sparkyIntro10:"''",sparkyIntro11:"",sparkyIntro12:"",sparkyIntro13:"",sparkyIntro14:"9",sparkyIntro15:"",whatHappened:"",whatIsGenerativeAI:"AI",dontGetIt:"...",canIHelp:"",howToTellApart:"",gotIt:"",showPictureWork:"",showPoster:"",showPhenomenon:"",whatThinkImage:"",sureLetMeShow:"...",sparkyMainIsland:"Sparky",lookCloser:"",checkDetails:"",checkFacts:"",fakeNews:"AI''",visualHallucinations:"",textHallucinations:"",coreTraitTitle:"",aiIsMean:"AI",aiLacksEmotion:"AI",aiIsTired:"AI",language:"EN/",setting:"",controlPanel:"",languageSelection:"",systemVolume:"",reset:"",applyChanges:"",npc1Island1Dialog1:"",npc1Island1Dialog2:"...",npc1Island1Dialog3:" Sparky",npc2Island2Dialog1:"",npc2Island2Dialog2:" Sparky",npc3Island3Dialog1:"...",npc3Island3Dialog2:"",npc3Island3Dialog3:"  Sparky",randomDialog1:"...",randomDialog2:"...",randomDialog3:"",randomDialog4:"",randomDialog5:"",randomDialog6:"",randomDialog7:"",randomDialog8:"",randomDialog9:"...",sparkyRestored:"",phase2Complete:"",phase2GlitchMessage:"2AI NPC NPC",phase1Complete:"6/6 Sparky"},Bf={en:X1,zh:Q1},V1=(e,t)=>{var n;return((n=Bf[e])==null?void 0:n[t])||Bf.en[t]||t},Pm=u.createContext(),ao=()=>{const e=u.useContext(Pm);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},J1=({children:e})=>{const[t,n]=u.useState("en");u.useEffect(()=>{const l=localStorage.getItem("aiJourneyLanguage");l&&(l==="en"||l==="zh")&&n(l)},[]);const s={language:t,changeLanguage:l=>{n(l),localStorage.setItem("aiJourneyLanguage",l)},t:l=>V1(t,l)};return o.jsx(Pm.Provider,{value:s,children:e})},P1=({onStart:e,onContinue:t,onSignIn:n,onStartOver:a})=>{const{t:i}=ao(),[s,l]=u.useState(!1),[c,d]=u.useState(""),{playClickSound:b}=Ls();u.useEffect(()=>{const A=localStorage.getItem("aiJourneyUser");if(A){const U=JSON.parse(A);d(U.username||""),l(U.hasStarted===!0)}},[]);const j=()=>{b();const A=localStorage.getItem("aiJourneyUser");if(A){const U=JSON.parse(A);U.hasStarted=!1,U.currentProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(U))}a?a():e()},C=()=>{b(),e()},S=()=>{b(),t?t():e()},x={container:{width:"100vw",height:"100vh",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",margin:0,padding:0},backgroundGif:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0},welcome:{position:"absolute",top:"30px",left:"40px",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:400,color:"#fff",zIndex:3},signInButton:{position:"absolute",top:"25px",right:"40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:400,color:"#fff",background:"transparent",border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"8px",padding:"10px 25px",zIndex:3,transition:"all 0.3s ease"},content:{position:"relative",zIndex:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},title:{fontFamily:"'Montserrat', sans-serif",fontSize:"90px",fontWeight:800,color:"#fff",marginBottom:"10px",textAlign:"center",letterSpacing:"8px",textShadow:"0 4px 20px rgba(0,0,0,0.5)"},subtitle:{fontFamily:"'Roboto', sans-serif",fontSize:"22px",fontWeight:300,color:"#fff",marginBottom:"50px",textAlign:"center",opacity:.9,textShadow:"0 2px 10px rgba(0,0,0,0.5)"},continueButton:{fontFamily:"'Montserrat', sans-serif",fontSize:"32px",fontWeight:700,color:"#fff",background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.85)), linear-gradient(90deg, #5170FF, #8B5CF6, #FF6B9D)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",padding:"25px 120px",borderRadius:"15px",letterSpacing:"3px",transition:"all 0.3s ease",marginBottom:"25px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},startOverButton:{fontFamily:"'Montserrat', sans-serif",fontSize:"22px",fontWeight:600,color:"#fff",background:"transparent",border:"none",padding:"10px 30px",letterSpacing:"2px",opacity:.9,transition:"opacity 0.3s ease",textShadow:"0 2px 10px rgba(0,0,0,0.5)"},cardWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 80px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.18)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)",position:"relative",overflow:"hidden",animation:"floatCard 3s ease-in-out infinite"},cardGradientOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(100, 149, 237, 0.2), rgba(75, 0, 130, 0.15))",borderRadius:"25px",zIndex:0,pointerEvents:"none"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"72px",fontWeight:800,color:"#fff",marginBottom:"16px",textAlign:"center",letterSpacing:"2px",textShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",position:"relative",zIndex:1},cardSubtitle:{fontFamily:"'Roboto', sans-serif",fontSize:"20px",fontWeight:300,color:"#fff",marginBottom:"40px",textAlign:"center",opacity:.95,textShadow:"0 1px 4px rgba(0, 0, 0, 0.3)",position:"relative",zIndex:1},startButton:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:500,color:"#fff",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"16px 60px",borderRadius:"30px",textTransform:"lowercase",letterSpacing:"2px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",position:"relative",zIndex:1},footer:{position:"absolute",bottom:"20px",right:"30px",fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:300,color:"#fff",opacity:.7,zIndex:3,textAlign:"right"},keyframes:`
      @keyframes floatCard {
        0%, 100% { 
          transform: translateY(0px); 
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        50% { 
          transform: translateY(-8px); 
          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
      }
    `};return o.jsxs("div",{style:x.container,children:[o.jsx("style",{children:x.keyframes}),o.jsx("img",{src:"/background/home.gif",alt:"Background",style:x.backgroundGif}),o.jsx("span",{style:x.welcome,children:c?`${i("welcome").replace("!","")}, ${c}!`:i("welcome")}),o.jsx("button",{style:x.signInButton,onClick:n,onMouseOver:A=>{A.target.style.borderColor="#fff",A.target.style.background="rgba(255,255,255,0.1)"},onMouseOut:A=>{A.target.style.borderColor="rgba(255, 255, 255, 0.5)",A.target.style.background="transparent"},children:i("signIn")}),s?o.jsxs("div",{style:x.content,children:[o.jsx("h1",{style:x.title,children:i("aiJourneyTitle")}),o.jsx("p",{style:x.subtitle,children:i("aiJourneySubtitle")}),o.jsx("button",{style:x.continueButton,onClick:S,onMouseOver:A=>{A.target.style.transform="scale(1.05)",A.target.style.backgroundImage="linear-gradient(rgba(0, 0, 0, 0.95), rgba(0, 0, 0, 0.95)), linear-gradient(90deg, #5170FF, #8B5CF6, #FF6B9D)",A.target.style.boxShadow="0 12px 40px rgba(81, 112, 255, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},onMouseOut:A=>{A.target.style.transform="scale(1)",A.target.style.backgroundImage="linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.85)), linear-gradient(90deg, #5170FF, #8B5CF6, #FF6B9D)",A.target.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:i("continueGame")}),o.jsx("button",{style:x.startOverButton,onClick:j,onMouseOver:A=>A.target.style.opacity="0.6",onMouseOut:A=>A.target.style.opacity="0.9",children:i("startOver")})]}):o.jsxs("div",{style:x.cardWrapper,children:[o.jsx("div",{style:x.cardGradientOverlay}),o.jsx("h1",{style:x.cardTitle,children:i("aiJourneyTitle")}),o.jsx("p",{style:x.cardSubtitle,children:i("aiJourneySubtitle")}),o.jsx("button",{style:x.startButton,onClick:C,onMouseOver:A=>{A.target.style.background="rgba(0, 0, 0, 0.8)",A.target.style.transform="scale(1.05)",A.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)"},onMouseOut:A=>{A.target.style.background="rgba(0, 0, 0, 0.6)",A.target.style.transform="scale(1)",A.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:i("start")})]}),o.jsxs("div",{style:x.footer,children:[o.jsx("div",{children:"Ver 0.8.0 Beta"}),o.jsx("div",{children:" 2026 Zhihui ZHANG All Rights Reserved."})]})]})},Z1=({onClose:e,onSignUpComplete:t})=>{const{t:n}=ao(),[a,i]=u.useState(!1),[s,l]=u.useState({username:"",password:"",email:""}),[c,d]=u.useState(""),[b,j]=u.useState(null),{playClickSound:C}=Ls(),S=p=>{const{name:f,value:y}=p.target;l(I=>({...I,[f]:y})),d("")},x=p=>{p.preventDefault(),C();const f=localStorage.getItem("aiJourneyUser");if(f){const y=JSON.parse(f);(y.username===s.username||y.email===s.username)&&y.password===s.password?(console.log("Sign in successful:",y),t&&t(y),e()):d(n("invalidCredentials"))}else d(n("noAccountFound"))},A=p=>{p.preventDefault(),C();const f=localStorage.getItem("aiJourneyUser");if(f){const I=JSON.parse(f);if(I.username===s.username||I.email===s.email){d(n("userAlreadyExists"));return}}console.log("Sign up data:",s);const y={username:s.username,email:s.email,password:s.password,hasStarted:!1,currentProgress:null,createdAt:Date.now()};localStorage.setItem("aiJourneyUser",JSON.stringify(y)),t&&t(y),e()},U=()=>{C(),i(!a),l({username:"",password:"",email:""}),d("")},z={overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{position:"relative",width:"560px",padding:"40px 50px",borderRadius:"25px",background:"rgba(0, 0, 10, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.18)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(81, 112, 255, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)",animation:"scaleIn 0.3s ease-out"},title:{fontFamily:"'Roboto', sans-serif",fontSize:"24px",fontWeight:400,color:"#fff",textAlign:"center",marginBottom:"35px"},form:{display:"flex",flexDirection:"column",gap:"20px"},inputRow:{display:"flex",alignItems:"center",gap:"20px",position:"relative"},label:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:400,color:"#fff",width:"120px",textAlign:"right",flexShrink:0},inputWrapper:{flex:1,position:"relative",display:"flex",alignItems:"center"},input:{flex:1,fontFamily:"'Roboto', sans-serif",fontSize:"16px",padding:"12px 16px",borderRadius:"25px",border:"2px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(0, 0, 0, 0.3)",color:"#fff",outline:"none",transition:"all 0.3s"},spaceshipIcon:{position:"absolute",right:"15px",width:"24px",height:"24px",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"},submitButton:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:500,color:"#fff",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"16px 60px",borderRadius:"30px",cursor:"pointer",letterSpacing:"2px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",marginTop:"15px",position:"relative"},toggleButton:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:400,color:"#5170FF",background:"transparent",border:"none",padding:"10px 15px",cursor:"pointer",textAlign:"center",transition:"opacity 0.2s",textDecoration:"underline"},error:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ff6b6b",textAlign:"center",marginTop:"10px"},toggleText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",textAlign:"center",marginTop:"20px",opacity:.8}};return o.jsx("div",{style:z.overlay,onClick:e,children:o.jsxs("div",{style:z.modal,onClick:p=>p.stopPropagation(),children:[o.jsx("h2",{style:z.title,children:n(a?"signUpTitle":"signInTitle")}),o.jsxs("form",{style:z.form,onSubmit:a?A:x,children:[o.jsxs("div",{style:z.inputRow,children:[o.jsx("label",{style:z.label,children:n(a?"userName":"userNameEmail")}),o.jsxs("div",{style:z.inputWrapper,children:[o.jsx("input",{type:"text",name:"username",value:s.username,onChange:S,style:z.input,placeholder:n(a?"enterUsername":"enterUsernameOrEmail"),onMouseEnter:()=>j("username"),onMouseLeave:()=>j(null),onFocus:p=>{p.target.style.borderColor="#5170FF",p.target.style.backgroundColor="rgba(0, 0, 0, 0.5)",p.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.5)"},onBlur:p=>{p.target.style.borderColor="rgba(255, 255, 255, 0.3)",p.target.style.backgroundColor="rgba(0, 0, 0, 0.3)",p.target.style.boxShadow="none"},required:!0}),o.jsx("img",{src:"/icon/spaceship.svg",alt:"spaceship",style:{...z.spaceshipIcon,opacity:b==="username"?1:0}})]})]}),o.jsxs("div",{style:z.inputRow,children:[o.jsx("label",{style:z.label,children:n("password")}),o.jsxs("div",{style:z.inputWrapper,children:[o.jsx("input",{type:"password",name:"password",value:s.password,onChange:S,style:z.input,placeholder:n("enterPassword"),onMouseEnter:()=>j("password"),onMouseLeave:()=>j(null),onFocus:p=>{p.target.style.borderColor="#5170FF",p.target.style.backgroundColor="rgba(0, 0, 0, 0.5)",p.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.5)"},onBlur:p=>{p.target.style.borderColor="rgba(255, 255, 255, 0.3)",p.target.style.backgroundColor="rgba(0, 0, 0, 0.3)",p.target.style.boxShadow="none"},required:!0}),o.jsx("img",{src:"/icon/spaceship.svg",alt:"spaceship",style:{...z.spaceshipIcon,opacity:b==="password"?1:0}})]})]}),a&&o.jsxs("div",{style:z.inputRow,children:[o.jsx("label",{style:z.label,children:n("email")}),o.jsxs("div",{style:z.inputWrapper,children:[o.jsx("input",{type:"email",name:"email",value:s.email,onChange:S,style:z.input,placeholder:n("enterEmail"),onMouseEnter:()=>j("email"),onMouseLeave:()=>j(null),onFocus:p=>{p.target.style.borderColor="#5170FF",p.target.style.backgroundColor="rgba(0, 0, 0, 0.5)",p.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.5)"},onBlur:p=>{p.target.style.borderColor="rgba(255, 255, 255, 0.3)",p.target.style.backgroundColor="rgba(0, 0, 0, 0.3)",p.target.style.boxShadow="none"},required:!0}),o.jsx("img",{src:"/icon/spaceship.svg",alt:"spaceship",style:{...z.spaceshipIcon,opacity:b==="email"?1:0}})]})]}),c&&o.jsx("div",{style:z.error,children:c}),o.jsx("button",{type:"submit",style:z.submitButton,onMouseOver:p=>{p.target.style.background="rgba(0, 0, 0, 0.8)",p.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)",p.target.style.transform="translateY(-2px)"},onMouseOut:p=>{p.target.style.background="rgba(0, 0, 0, 0.6)",p.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)",p.target.style.transform="translateY(0)"},children:n("done")})]}),o.jsxs("div",{style:z.toggleText,children:[n(a?"alreadyHaveAccount":"dontHaveAccount"),o.jsx("button",{style:z.toggleButton,onClick:U,onMouseOver:p=>p.target.style.opacity="0.7",onMouseOut:p=>p.target.style.opacity="1",children:n(a?"signInTitle":"signUp")})]})]})})},Si=[{text:"System reconnecting... Connection established! Signal stable! ly, you're here! Oh, I forgot to introduce myself. Hello there, Human! I'm Glitch. I used to be the fastest Data Sprite in this city!",highlights:["System reconnecting","Connection established","Signal stable","Glitch","Data Sprite"]},{text:"But ever since the Great Blackout, the entire city has been paralyzed. Everyone is trapped. The big robots are frozen without power, and creatures like me... well, I can only fly for short bursts on my emergency battery reserves.",highlights:["Great Blackout","paralyzed","trapped","frozen without power","emergency battery reserves"]},{text:"Our world consumes massive amounts of energy, which comes from four outer regions. To save the city, we need to inspect those areas and restart the main 'Energy Core'.",highlights:["massive amounts of energy","four outer regions","Energy Core"]},{text:"Please, will you help us? If we don't act now, our world will fade into permanent darkness. Here are the four regions... I suggest we start by checking the Fungi Jungle.",highlights:["help us","permanent darkness","four regions","Fungi Jungle"]}],K1=({onComplete:e})=>{var U;const[t,n]=u.useState(0),[a,i]=u.useState(""),[s,l]=u.useState(!0),[c,d]=u.useState(!0),[b,j]=u.useState(!1);u.useEffect(()=>{const z=setTimeout(()=>{j(!0)},2e3);return()=>clearTimeout(z)},[]),u.useEffect(()=>{if(t>=Si.length||!b)return;const z=Si[t].text;let p=0;i(""),l(!0);const f=setInterval(()=>{p<z.length?(i(z.substring(0,p+1)),p++):(l(!1),clearInterval(f))},30);return()=>clearInterval(f)},[t,b]),u.useEffect(()=>{const z=setInterval(()=>{d(p=>!p)},500);return()=>clearInterval(z)},[]);const C=()=>{s?(i(Si[t].text),l(!1)):t<Si.length-1?n(z=>z+1):e()},S=()=>{e()},x=(z,p)=>{let f=z;return p.forEach(y=>{const I=new RegExp(`(${y})`,"gi");f=f.replace(I,'<span style="color: #FFFFFF; font-weight: 600;">$1</span>')}),o.jsx("span",{dangerouslySetInnerHTML:{__html:f}})},A={container:{width:"100%",height:"100vh",position:"relative",display:"flex",alignItems:"flex-end",overflow:"hidden",background:"#1a1a2e"},backgroundGif:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,opacity:.8},npcContainer:{position:"absolute",bottom:"50px",left:"50px",zIndex:2,opacity:b?1:0,transition:"opacity 0.5s ease-in-out"},npcImage:{width:"300px",height:"auto",filter:"drop-shadow(0 0 20px rgba(81, 112, 255, 0.5))"},dialogueContainer:{position:"absolute",bottom:"80px",left:"380px",right:"80px",zIndex:3,opacity:b?1:0,transition:"opacity 0.5s ease-in-out"},dialogueBox:{padding:"30px 40px",borderRadius:"25px",background:"rgba(71, 23, 101, 0.7)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"2px solid rgba(205, 165, 247, 0.3)",boxShadow:"0 8px 32px 0 rgba(71, 23, 101, 0.5)",position:"relative"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:400,color:"#CDA5F7",lineHeight:2,marginBottom:"20px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},cursor:{display:"inline-block",width:"2px",height:"20px",backgroundColor:"#fff",marginLeft:"2px",verticalAlign:"middle",opacity:c&&s?1:0},buttonContainer:{display:"flex",gap:"15px",justifyContent:"flex-end"},continueButton:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#fff",background:"#CDA5F7",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(205, 165, 247, 0.8)",padding:"10px 30px",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 0 15px rgba(205, 165, 247, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},skipButton:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#fff",background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.4)",padding:"10px 30px",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},progressIndicator:{position:"absolute",top:"15px",right:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"rgba(255, 255, 255, 0.5)"}};return o.jsxs("div",{style:A.container,children:[o.jsx("img",{src:"/background/story.gif",alt:"Background",style:A.backgroundGif}),b&&o.jsx("div",{style:A.npcContainer,children:o.jsx("img",{src:"/npc/npc.gif",alt:"Glitch NPC",style:A.npcImage})}),b&&o.jsx("div",{style:A.dialogueContainer,children:o.jsxs("div",{style:A.dialogueBox,children:[o.jsxs("span",{style:A.progressIndicator,children:[t+1," / ",Si.length]}),o.jsxs("p",{style:A.dialogueText,children:[x(a,((U=Si[t])==null?void 0:U.highlights)||[]),o.jsx("span",{style:A.cursor})]}),o.jsxs("div",{style:A.buttonContainer,children:[o.jsx("button",{style:A.skipButton,onClick:S,onMouseOver:z=>{z.target.style.background="rgba(255, 255, 255, 0.4)",z.target.style.borderColor="rgba(255, 255, 255, 0.6)",z.target.style.transform="scale(1.02)"},onMouseOut:z=>{z.target.style.background="rgba(255, 255, 255, 0.3)",z.target.style.borderColor="rgba(255, 255, 255, 0.4)",z.target.style.transform="scale(1)"},children:"Skip"}),o.jsx("button",{style:A.continueButton,onClick:C,onMouseOver:z=>{z.target.style.background="#B88FE8",z.target.style.boxShadow="0 0 20px rgba(205, 165, 247, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.3)",z.target.style.transform="scale(1.02)"},onMouseOut:z=>{z.target.style.background="#CDA5F7",z.target.style.boxShadow="0 0 15px rgba(205, 165, 247, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)",z.target.style.transform="scale(1)"},children:t<Si.length-1?"Continue":"Enter Map"})]})]})})]})};class $1{constructor(){this.volume=85,this.isMuted=!1,this.listeners=new Set,this.audioElements=new Set;const t=localStorage.getItem("systemVolume");t&&(this.volume=parseInt(t))}registerAudio(t){t&&(this.audioElements.add(t),this.updateAudioVolume(t))}unregisterAudio(t){t&&this.audioElements.delete(t)}setVolume(t){this.volume=Math.max(0,Math.min(100,t)),localStorage.setItem("systemVolume",this.volume.toString()),this.updateAllAudioVolumes(),this.notifyListeners()}getVolume(){return this.volume}toggleMute(){this.isMuted=!this.isMuted,this.updateAllAudioVolumes(),this.notifyListeners()}isMutedStatus(){return this.isMuted}updateAudioVolume(t){if(t){const n=this.isMuted?0:this.volume/100;t.volume=n}}updateAllAudioVolumes(){this.audioElements.forEach(t=>{this.updateAudioVolume(t)})}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notifyListeners(){this.listeners.forEach(t=>{t({volume:this.volume,isMuted:this.isMuted})})}}const So=new $1,e2=({position:e="topLeft"})=>{const{language:t,changeLanguage:n,t:a}=ao(),[i,s]=u.useState(!1),[l,c]=u.useState(So.getVolume()),[d,b]=u.useState(So.getVolume()),[j,C]=u.useState(So.isMutedStatus());u.useEffect(()=>So.subscribe(({volume:I,isMuted:P})=>{c(I),C(P)}),[]),u.useEffect(()=>{i&&b(l)},[i,l]);const S=()=>{switch(e){case"topLeft":return{top:"5%",left:"5%"};case"topRight":return{top:"20px",right:"20px"};default:return{top:"5%",left:"5%"}}},x=y=>{n(y)},A=y=>{b(parseInt(y.target.value))},U=()=>{So.toggleMute()},z=()=>{b(85)},p=()=>{So.setVolume(d),s(!1)},f={container:{position:"absolute",...S(),zIndex:100},settingButton:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",backdropFilter:"blur(5px)"},settingIcon:{width:"18px",height:"18px",objectFit:"contain"},panel:{position:"absolute",top:"50px",left:"0",width:"320px",padding:"20px",borderRadius:"15px",background:"#e5e6e0",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",animation:"slideDown 0.3s ease-out"},panelHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"15px",borderBottom:"1px solid rgba(0, 0, 0, 0.1)"},panelTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#333",margin:0},closeButton:{background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},section:{marginBottom:"20px"},sectionHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},sectionHeaderLeft:{display:"flex",alignItems:"center",gap:"8px"},sectionIcon:{width:"20px",height:"20px",objectFit:"contain"},sectionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",fontWeight:600,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",margin:0},languageButtons:{display:"flex",gap:"10px"},languageButton:{flex:1,padding:"10px",borderRadius:"10px",border:"none",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",background:"rgba(255, 255, 255, 0.5)",color:"#333"},languageButtonActive:{background:"rgba(0, 0, 0, 0.9)",color:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},volumeControl:{display:"flex",alignItems:"center",gap:"12px"},volumeValue:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",minWidth:"50px",textAlign:"right"},muteButton:{background:"none",border:"none",cursor:"pointer",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},muteIcon:{width:"24px",height:"24px",objectFit:"contain"},volumeIcon:{width:"24px",height:"24px",objectFit:"contain",flexShrink:0},sliderWrapper:{flex:1,display:"flex",alignItems:"center",position:"relative"},slider:{flex:1,height:"8px",borderRadius:"4px",background:"#d9d7de",outline:"none",WebkitAppearance:"none",appearance:"none",cursor:"pointer",margin:"0"},actionButtons:{display:"flex",gap:"10px",marginTop:"20px"},resetButton:{flex:"0 0 35%",padding:"10px",borderRadius:"10px",border:"1px solid rgba(0, 0, 0, 0.2)",background:"rgba(255, 255, 255, 0.5)",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s"},applyButton:{flex:"0 0 60%",padding:"10px",borderRadius:"10px",border:"none",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#fff",cursor:"pointer",transition:"all 0.2s"},keyframes:`
      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    `};return o.jsxs("div",{style:f.container,children:[o.jsx("style",{children:f.keyframes}),o.jsx("style",{children:`
        input[type="range"] {
          -webkit-appearance: none;
          appearance: none;
        }
        input[type="range"]::-webkit-slider-thumb {
          -webkit-appearance: none;
          appearance: none;
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #000;
          cursor: pointer;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
          margin-top: -6px;
        }
        input[type="range"]::-moz-range-thumb {
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #000;
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }
        input[type="range"]::-webkit-slider-runnable-track {
          height: 8px;
          border-radius: 4px;
          background: linear-gradient(to right, #4c4cef 0%, #4c4cef ${d}%, #d9d7de ${d}%, #d9d7de 100%);
        }
        input[type="range"]::-moz-range-track {
          height: 8px;
          border-radius: 4px;
          background: #d9d7de;
        }
        input[type="range"]::-moz-range-progress {
          height: 8px;
          border-radius: 4px;
          background: #4c4cef;
        }
      `}),o.jsxs("button",{style:f.settingButton,onClick:()=>s(!i),onMouseOver:y=>{y.currentTarget.style.background="rgba(0, 0, 0, 0.5)",y.currentTarget.style.transform="scale(1.05)"},onMouseOut:y=>{y.currentTarget.style.background="rgba(0, 0, 0, 0.3)",y.currentTarget.style.transform="scale(1)"},children:[o.jsx("img",{src:"/icon/setting.png",alt:"Settings",style:f.settingIcon}),o.jsx("span",{children:a("setting")})]}),i&&o.jsxs("div",{style:f.panel,children:[o.jsxs("div",{style:f.panelHeader,children:[o.jsx("h3",{style:f.panelTitle,children:a("controlPanel")}),o.jsx("button",{style:f.closeButton,onClick:()=>s(!1),onMouseOver:y=>{y.target.style.color="#333",y.target.style.transform="scale(1.1)"},onMouseOut:y=>{y.target.style.color="#999",y.target.style.transform="scale(1)"},children:""})]}),o.jsxs("div",{style:f.section,children:[o.jsxs("div",{style:f.sectionHeader,children:[o.jsx("img",{src:"/icon/language.png",alt:"Language",style:f.sectionIcon}),o.jsx("h4",{style:f.sectionTitle,children:a("languageSelection")})]}),o.jsxs("div",{style:f.languageButtons,children:[o.jsx("button",{style:{...f.languageButton,...t==="zh"?f.languageButtonActive:{}},onClick:()=>x("zh"),children:""}),o.jsx("button",{style:{...f.languageButton,...t==="en"?f.languageButtonActive:{}},onClick:()=>x("en"),children:"ENGLISH"})]})]}),o.jsxs("div",{style:f.section,children:[o.jsxs("div",{style:f.sectionHeader,children:[o.jsxs("div",{style:f.sectionHeaderLeft,children:[o.jsx("img",{src:"/icon/volume.png",alt:"Volume",style:f.sectionIcon}),o.jsx("h4",{style:f.sectionTitle,children:a("systemVolume")})]}),o.jsxs("span",{style:f.volumeValue,children:[d,"%"]})]}),o.jsxs("div",{style:f.volumeControl,children:[o.jsx("button",{style:f.muteButton,onClick:U,onMouseOver:y=>{y.currentTarget.style.transform="scale(1.1)"},onMouseOut:y=>{y.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:"/icon/mute.png",alt:"Mute",style:f.muteIcon})}),o.jsx("div",{style:f.sliderWrapper,children:o.jsx("input",{type:"range",min:"0",max:"100",value:d,onChange:A,style:f.slider})}),o.jsx("img",{src:"/icon/volume.png",alt:"Volume",style:f.volumeIcon})]})]}),o.jsxs("div",{style:f.actionButtons,children:[o.jsx("button",{style:f.resetButton,onClick:z,onMouseOver:y=>{y.target.style.background="rgba(255, 255, 255, 0.7)",y.target.style.transform="scale(1.02)"},onMouseOut:y=>{y.target.style.background="rgba(255, 255, 255, 0.5)",y.target.style.transform="scale(1)"},children:a("reset")}),o.jsx("button",{style:f.applyButton,onClick:p,onMouseOver:y=>{y.target.style.background="rgba(0, 0, 0, 0.95)",y.target.style.transform="scale(1.02)"},onMouseOut:y=>{y.target.style.background="rgba(0, 0, 0, 0.8)",y.target.style.transform="scale(1)"},children:a("applyChanges")})]})]})]})},sl=()=>{try{const e=new Audio("/sound/select.mp3");e.volume=.6,e.play().catch(t=>{console.log("Could not play select sound:",t)})}catch(e){console.log("Error creating select audio:",e)}},t2=()=>{try{const e=new Audio("/sound/hum.mp3");e.volume=.5,e.play().catch(t=>{console.log("Could not play hum sound:",t)})}catch(e){console.log("Error creating hum audio:",e)}},n2=e=>[{id:"fungi",name:e("fungiJungle"),regionNumber:1,stars:1,position:{top:"52%",left:"5%"},cardPosition:{top:"15%",left:"5%"},description:e("fungiDescription"),difficulty:e("easyDifficulty"),available:!0},{id:"desert",name:e("desert"),regionNumber:2,stars:2,position:{top:"5%",left:"30%"},cardPosition:{top:"15%",left:"30%"},description:e("desertDescription"),difficulty:e("intermediateDifficulty"),available:!0},{id:"glacier",name:e("glacier"),regionNumber:4,stars:3,position:{bottom:"8%",left:"45%"},cardPosition:{bottom:"22%",left:"45%"},description:e("glacierDescription"),difficulty:e("advancedDifficulty"),available:!0},{id:"island",name:e("island"),regionNumber:3,stars:3,position:{top:"35%",right:"5%"},cardPosition:{top:"38%",right:"5%"},description:e("islandDescription"),difficulty:e("advancedDifficulty"),available:!0}],a2=({onRegionClick:e})=>{var pe,ze,re,F,V,L;const{t}=ao(),n=n2(t),[a,i]=u.useState(!1),[s,l]=u.useState(!1),[c,d]=u.useState(null),[b,j]=u.useState(!1),[C,S]=u.useState(null),[x,A]=u.useState(!1),[U,z]=u.useState(""),[p,f]=u.useState({});u.useEffect(()=>{const E=setTimeout(()=>{j(!0)},300);return()=>clearTimeout(E)},[]),u.useEffect(()=>{const E=()=>{const te={},me=localStorage.getItem("glacierProgress");if(me){const ue=JSON.parse(me);let ke=0;ue.completedCases&&ue.completedCases.length>0&&(ke+=ue.completedCases.length/5*25),ue.courtSummaryCompleted&&(ke+=25),ue.rooftopCompletedTasks&&ue.rooftopCompletedTasks.length>0&&(ke+=ue.rooftopCompletedTasks.length/3*25),ue.isComplete&&(ke=100),te.glacier=Math.round(ke)}else te.glacier=0;const bt=localStorage.getItem("islandProgress");if(bt){const ue=JSON.parse(bt);let ke=0;ue.missionCompleted&&(ke+=40),ue.phase2Completed&&(ke+=40),ue.islandRestored&&(ke=100),te.island=Math.round(ke)}else te.island=0;const J=localStorage.getItem("desertProgress");if(J){const ue=JSON.parse(J);te.desert=ue.isComplete?100:0}else te.desert=0;const Se=localStorage.getItem("fungiProgress");if(Se){const ue=JSON.parse(Se);te.fungi=ue.isComplete?100:0}else te.fungi=0;f(te)};E();const se=()=>{E()};return window.addEventListener("storage",se),()=>window.removeEventListener("storage",se)},[]);const y=c!==null,I=E=>{if(sl(),C===E&&!x){d(c===E?null:E);return}S(E),A(!0),setTimeout(()=>{A(!1),d(E)},800)},P=()=>{sl(),d(null),S(null)},Q=()=>{U.trim()&&(sl(),console.log("User message to Glitch:",U),z(""))},B=E=>{E.key==="Enter"&&Q()},q=E=>{if(!C)return"scale(1) translate(0, 0)";switch(E){case"island":return"scale(3) translate(-25%, 25%)";case"desert":return"scale(3) translate(25%, 25%)";case"fungi":return"scale(3) translate(25%, -25%)";case"glacier":return"scale(3) translate(-25%, -25%)";default:return"scale(1) translate(0, 0)"}},H={container:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},backgroundGif:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transition:"transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)",transformOrigin:"center center"},npcContainer:{position:"absolute",top:"20px",right:"20px",width:"120px",height:"120px",cursor:"pointer",zIndex:10,transition:"opacity 0.3s ease"},npcImage:{width:"120px",height:"120px",objectFit:"contain",transition:"transform 0.3s ease",animation:a?"breathe 1s ease-in-out infinite":"none"},npcDialogue:{position:"absolute",top:"20px",right:"150px",padding:"20px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #af4dca",zIndex:10,minWidth:"280px",maxWidth:"320px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)"},npcDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},npcDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#af4dca",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},npcDialogueAvatarIcon:{fontSize:"24px"},npcDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#af4dca",margin:0},npcDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:"0 0 15px 0"},npcDialogueInputContainer:{display:"flex",alignItems:"center",backgroundColor:"#d9d7de",borderRadius:"20px",border:"2px solid #d9d7de",overflow:"hidden",transition:"border-color 0.2s"},npcDialogueInput:{flex:1,padding:"10px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",outline:"none"},npcDialogueDivider:{width:"2px",height:"24px",backgroundColor:"#af4dca",margin:"0 8px",flexShrink:0},npcDialogueSendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s",flexShrink:0},npcDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},npcDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},regionLabel:{position:"absolute",width:"280px",padding:"15px 20px",borderRadius:"20px",border:"3px solid transparent",background:"rgba(255, 255, 255, 0.95)",fontFamily:"'Montserrat', sans-serif",cursor:"pointer",zIndex:5,transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",backgroundImage:"linear-gradient(white, white), linear-gradient(90deg, #5170FF, #FF6B9D)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},regionLabelHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},regionLabelRegion:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",fontWeight:600,color:"#999",textTransform:"uppercase",letterSpacing:"1px"},regionLabelStars:{display:"flex",gap:"3px"},regionLabelStarIcon:{width:"16px",height:"16px",objectFit:"contain"},regionLabelTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:800,color:"#000",textTransform:"uppercase",marginBottom:"10px",lineHeight:1.2},regionLabelProgressContainer:{width:"100%",height:"6px",backgroundColor:"#E0E0E0",borderRadius:"3px",overflow:"hidden"},regionLabelProgressFill:{height:"100%",backgroundColor:"#777777",borderRadius:"3px",transition:"width 0.3s ease"},regionCard:{position:"absolute",width:"450px",padding:"30px",paddingBottom:"30px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid transparent",backgroundImage:"linear-gradient(white, white), linear-gradient(90deg, #5170FF, #FF6B9D)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",zIndex:20,boxShadow:"0 8px 30px rgba(0,0,0,0.3)",animation:"fadeInUp 0.3s ease-out"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},cardCloseButton:{background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",marginLeft:"10px",flexShrink:0},cardRegionLabel:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",fontWeight:600,color:"#999",textTransform:"uppercase",letterSpacing:"1.5px",marginBottom:"5px"},cardStars:{display:"flex",gap:"6px"},starIcon:{width:"24px",height:"24px",objectFit:"contain"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"32px",fontWeight:900,color:"#000",marginBottom:"18px",textTransform:"uppercase",lineHeight:1.1,letterSpacing:"1px"},progressBarContainer:{width:"100%",height:"10px",backgroundColor:"#E0E0E0",borderRadius:"5px",overflow:"hidden",marginBottom:"20px"},progressBarFill:{height:"100%",backgroundColor:"#777777",borderRadius:"5px",transition:"width 0.3s ease"},cardDescription:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.7,marginBottom:"12px",textAlign:"left"},cardDifficulty:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#666",marginBottom:"20px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},goButton:{display:"block",width:"100%",margin:"0 auto 12px auto",padding:"16px 0",borderRadius:"12px",border:"none",background:"#000",fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:700,color:"#fff",cursor:"pointer",transition:"all 0.2s ease",textTransform:"uppercase",letterSpacing:"1px"},startOverButton:{display:"block",width:"100%",margin:"0 auto",padding:"8px 0",borderRadius:"8px",border:"none",background:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:500,color:"#666",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center"},lockedButton:{display:"block",width:"100%",margin:"0 auto",padding:"16px 0",borderRadius:"12px",border:"none",background:"#999",fontFamily:"'Montserrat', sans-serif",fontSize:"18px",fontWeight:600,color:"#fff",cursor:"not-allowed"},cardNpc:{position:"absolute",bottom:"20px",left:"-60px",width:"140px",height:"140px",objectFit:"contain",zIndex:21},keyframes:`
      @keyframes breathe {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.08); }
      }
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    `},le=()=>n.find(E=>E.id===c),ee=E=>{if(!E)return"";switch(E.id){case"island":return t("island");case"desert":return t("desert");case"fungi":return t("fungiJungle");case"glacier":return t("glacier");default:return E.name}},ne=E=>Array.from({length:E}).map((se,te)=>o.jsx("img",{src:"/icon/star.png",alt:"star",style:H.starIcon},te));return o.jsxs("div",{style:H.container,children:[o.jsx("style",{children:H.keyframes}),!x&&o.jsx(e2,{position:"topLeft"}),o.jsx("img",{src:"/background/map.gif",alt:"Map Background",style:{...H.backgroundGif,transform:C?q(C):"scale(1) translate(0, 0)"}}),o.jsx("div",{style:{...H.npcContainer,opacity:y||x?0:1,pointerEvents:y||x?"none":"auto"},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:()=>{t2(),l(!0)},children:o.jsx("img",{src:"/npc/npc1.png",alt:"Glitch",style:H.npcImage})}),s&&!y&&!x&&o.jsxs("div",{style:H.npcDialogue,children:[o.jsx("button",{style:H.npcDialogueCloseButton,onClick:()=>l(!1),onMouseOver:E=>{E.target.style.color="#333",E.target.style.transform="scale(1.1)"},onMouseOut:E=>{E.target.style.color="#999",E.target.style.transform="scale(1)"},children:""}),o.jsxs("div",{style:H.npcDialogueHeader,children:[o.jsx("div",{style:H.npcDialogueAvatar,children:o.jsx("span",{style:H.npcDialogueAvatarIcon,children:""})}),o.jsx("h4",{style:H.npcDialogueName,children:"Glitch"})]}),o.jsx("p",{style:H.npcDialogueText,children:"I suggest go to the Fungi Jungle first."}),o.jsxs("div",{style:H.npcDialogueInputContainer,onFocus:E=>{E.currentTarget.style.borderColor="#af4dca"},onBlur:E=>{E.currentTarget.style.borderColor="#d9d7de"},children:[o.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:U,onChange:E=>z(E.target.value),onKeyPress:B,style:H.npcDialogueInput}),o.jsx("div",{style:H.npcDialogueDivider}),o.jsx("button",{onClick:Q,style:H.npcDialogueSendButton,onMouseOver:E=>{E.currentTarget.style.transform="scale(1.1)"},onMouseOut:E=>{E.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:"/icon/send.png",alt:"Send",style:H.npcDialogueSendIcon})})]})]}),n.map((E,se)=>o.jsxs("div",{style:{...H.regionLabel,...E.position,opacity:b&&!C?1:0,transform:b&&!C?"translateY(0)":"translateY(20px)",transitionDelay:`${se*.1}s`,pointerEvents:C?"none":"auto",...c===E.id?{boxShadow:"0 8px 25px rgba(81, 112, 255, 0.4)",transform:"scale(1.02)"}:{}},onClick:()=>I(E.id),children:[o.jsxs("div",{style:H.regionLabelHeader,children:[o.jsxs("div",{style:H.regionLabelRegion,children:["REGION ",E.regionNumber]}),o.jsx("div",{style:H.regionLabelStars,children:Array.from({length:E.stars}).map((te,me)=>o.jsx("img",{src:"/icon/star.png",alt:"star",style:H.regionLabelStarIcon},me))})]}),o.jsx("div",{style:H.regionLabelTitle,children:ee({id:E.id})}),o.jsx("div",{style:H.regionLabelProgressContainer,children:o.jsx("div",{style:{...H.regionLabelProgressFill,width:`${p[E.id]||0}%`}})})]},E.id)),c&&!x&&o.jsxs("div",{style:{...H.regionCard,...(pe=le())==null?void 0:pe.cardPosition},children:[o.jsxs("div",{style:H.cardHeader,children:[o.jsx("div",{style:{flex:1},children:o.jsxs("div",{style:H.cardRegionLabel,children:["REGION ",(ze=le())==null?void 0:ze.regionNumber]})}),o.jsx("div",{style:H.cardStars,children:ne((re=le())==null?void 0:re.stars)}),o.jsx("button",{style:H.cardCloseButton,onClick:P,onMouseOver:E=>{E.target.style.color="#333",E.target.style.transform="scale(1.1)"},onMouseOut:E=>{E.target.style.color="#999",E.target.style.transform="scale(1)"},children:""})]}),o.jsx("h3",{style:H.cardTitle,children:ee(le())}),o.jsx("div",{style:H.progressBarContainer,children:o.jsx("div",{style:{...H.progressBarFill,width:`${p[c]||0}%`}})}),o.jsx("p",{style:H.cardDescription,children:(F=le())==null?void 0:F.description}),o.jsxs("p",{style:H.cardDifficulty,children:[o.jsx("span",{children:"Difficulty: "}),o.jsx("span",{children:(V=le())==null?void 0:V.difficulty})]}),(L=le())!=null&&L.available?o.jsxs(o.Fragment,{children:[o.jsx("button",{style:H.goButton,onClick:()=>{sl(),e(c,!1)},onMouseOver:E=>{E.target.style.background="#333",E.target.style.transform="scale(1.02)"},onMouseOut:E=>{E.target.style.background="#000",E.target.style.transform="scale(1)"},children:p[c]===0?t("start"):t("continue")}),p[c]>0&&o.jsx("button",{style:H.startOverButton,onClick:()=>{sl(),e(c,!0)},onMouseOver:E=>{E.target.style.color="#666",E.target.style.transform="scale(1.02)"},onMouseOut:E=>{E.target.style.color="#333",E.target.style.transform="scale(1)"},children:t("startOver")})]}):o.jsxs("button",{style:H.lockedButton,children:[" ",t("comingSoon")]}),o.jsx("img",{src:"/npc/npc2.png",alt:"Glitch",style:H.cardNpc})]})]})},Be={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3},o2={[Be.BOTTOM_LEFT]:{npc:"npc_a",image:"/jungle/npc_a.png",name:"NPC A",dialogues:[{text:"System Error... Bzzzt...Ugh... my sensors are spinning... You looking for Ranger Moss? He went... <strong>that way</strong>... ",speaker:"NPC A"}]},[Be.BOTTOM_RIGHT]:{npc:"npc_b",image:"/jungle/npc_b.gif",name:"NPC B",dialogues:[{text:"Welc-come... to... *static noise*...Ranger Moss... is <strong>up there</strong>...  He tried to fix the solar array but... (Powers down)",speaker:"NPC B"}]},[Be.TOP_LEFT]:{npc:null,dialogues:[]},[Be.TOP_RIGHT]:{npc:"ranger_moss",image:"/jungle/npc_c.png",name:"Ranger Moss",dialogues:[{text:"Hey! Down here! No, waitup here! Hello? Can you hear me? I am Ranger Moss. As you can see, I am currently... slightly indisposed.",speaker:"Ranger Moss"},{text:"My battery died while I was climbing, and now my magnetic grip won't let go of this tree!",speaker:"Ranger Moss"},{text:"",speaker:"",isOption:!0,optionText:"Why is everyone down?"},{text:"It's a disaster. Recently, strange mutated mushrooms just popped up everywhere. My workers couldn't tell the difference. They ate the toxic mushrooms thinking they were batteries... and now their systems have crashed!",speaker:"Ranger Moss"},{text:"",speaker:"",isOption:!0,optionText:"How can I help you?"},{text:"We need to build an AI algorithm to automatically identify the toxic mushrooms. But since I can't move... could you help me? Please go into the jungle and collect data samples of the mushrooms.",speaker:"Ranger Moss"},{text:"We need at least 12 samples to train the model. Good luck, human!",speaker:"Ranger Moss"}]}},Rf={[Be.BOTTOM_LEFT]:{up:Be.TOP_LEFT,right:Be.BOTTOM_RIGHT},[Be.BOTTOM_RIGHT]:{up:Be.TOP_RIGHT,left:Be.BOTTOM_LEFT},[Be.TOP_LEFT]:{down:Be.BOTTOM_LEFT,right:Be.TOP_RIGHT},[Be.TOP_RIGHT]:{down:Be.BOTTOM_RIGHT,left:Be.TOP_LEFT}},i2={[Be.BOTTOM_LEFT]:"translate(0%, -50%)",[Be.BOTTOM_RIGHT]:"translate(-50%, -50%)",[Be.TOP_LEFT]:"translate(0%, 0%)",[Be.TOP_RIGHT]:"translate(-50%, 0%)"},s2=({onExit:e,onStartDataCollection:t})=>{var le;const{t:n}=ao(),[a,i]=u.useState(Be.BOTTOM_LEFT),[s,l]=u.useState(0),[c,d]=u.useState(""),[b,j]=u.useState(!1),[C,S]=u.useState(!0),[x,A]=u.useState(!1),[U,z]=u.useState({});u.useEffect(()=>{const ee=localStorage.getItem("aiJourneyUser");if(ee){const pe=JSON.parse(ee).fungiJungleProgress;pe&&(i(pe.currentPosition||Be.BOTTOM_LEFT),z(pe.dialogueComplete||{}),console.log("Loaded Fungi Jungle progress:",pe))}},[]),u.useEffect(()=>{const ee=localStorage.getItem("aiJourneyUser");if(ee){const ne=JSON.parse(ee);ne.fungiJungleProgress={currentPosition:a,dialogueComplete:U,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(ne)),console.log("Saved Fungi Jungle progress:",ne.fungiJungleProgress)}},[a,U]);const p=o2[a],f=(le=p==null?void 0:p.dialogues)==null?void 0:le[s];u.useEffect(()=>{var ee;!U[a]&&((ee=p==null?void 0:p.dialogues)==null?void 0:ee.length)>0&&(l(0),S(!0))},[a]),u.useEffect(()=>{if(!f||f.isOption)return;const ee=f.text;if(!ee)return;let ne=0;d(""),j(!0);const pe=setInterval(()=>{ne<ee.length?(d(ee.substring(0,ne+1)),ne++):(j(!1),clearInterval(pe))},25);return()=>clearInterval(pe)},[s,a]);const y=ee=>{var pe;const ne=(pe=Rf[a])==null?void 0:pe[ee];ne!==void 0&&!x&&(A(!0),setTimeout(()=>{i(ne),A(!1)},500))},I=()=>{if(b){d(f.text),j(!1);return}const ee=(p==null?void 0:p.dialogues)||[];s<ee.length-1?l(ne=>ne+1):(z(ne=>({...ne,[a]:!0})),S(!1),a===Be.TOP_RIGHT&&s===ee.length-1&&setTimeout(()=>{t&&t()},1e3))},P=()=>{const ne=((p==null?void 0:p.dialogues)||[])[s+1];ne!=null&&ne.isOption?l(pe=>pe+2):l(pe=>pe+1)},Q=Rf[a]||{},B={container:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},mapContainer:{width:"200%",height:"200%",position:"absolute",top:0,left:0,transition:"transform 0.5s ease-in-out",transform:i2[a]},mapImage:{width:"100%",height:"100%",objectFit:"cover"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.1)",zIndex:1},exitButton:{position:"absolute",top:"20px",left:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(81, 112, 255, 0.5)",padding:"10px 25px",borderRadius:"8px",cursor:"pointer",zIndex:10,transition:"all 0.2s"},miniNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},miniNpcImage:{width:"120px",height:"120px",objectFit:"contain"},navArrow:{position:"absolute",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:10,transition:"transform 0.2s",background:"none",border:"none"},arrowImage:{width:"80px",height:"80px",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},upArrow:{top:"30px",left:"50%",transform:"translateX(-50%)"},downArrow:{bottom:"30px",left:"50%",transform:"translateX(-50%)"},leftArrow:{left:"30px",top:"50%",transform:"translateY(-50%)"},rightArrow:{right:"30px",top:"50%",transform:"translateY(-50%)"},npcContainer:{position:"absolute",bottom:"50px",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcContainerLeft:{left:"50px"},npcContainerRight:{right:"50px"},npcContainerNpcA:{position:"absolute",bottom:"0",right:"50px",height:"66.67vh",display:"flex",alignItems:"flex-end",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcImage:{width:"250px",height:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},npcImageNpcA:{height:"66.67vh",width:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},npcContainerNpcB:{position:"absolute",bottom:"0",left:"25%",height:"50vh",display:"flex",alignItems:"flex-end",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcImageNpcB:{height:"50vh",width:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},npcContainerRangerMoss:{position:"absolute",bottom:"10%",right:"15%",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcImageRangerMoss:{height:"66.67vh",width:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},dialogueContainer:{position:"absolute",top:"80px",left:"80px",right:"150px",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueContainerNpcA:{position:"absolute",top:"33.33%",left:"80px",width:"50%",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueContainerNpcB:{position:"absolute",top:"33.33%",right:"80px",width:"50%",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueContainerRangerMoss:{position:"absolute",top:"25%",left:"80px",width:"50%",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueBox:{padding:"30px 40px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.9)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",position:"relative",minHeight:"120px"},speakerName:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#5170FF",marginBottom:"10px"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:400,color:"#333",lineHeight:1.7},continueButton:{position:"absolute",bottom:"15px",right:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#333",backgroundColor:"transparent",border:"none",cursor:"pointer",textTransform:"uppercase",letterSpacing:"1px"},optionButton:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:500,color:"#5170FF",backgroundColor:"rgba(81, 112, 255, 0.1)",border:"2px solid #5170FF",padding:"12px 25px",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s",marginTop:"15px"}},q=()=>{if(!C||!(p!=null&&p.npc)||U[a]||!f)return null;const ee=a===Be.BOTTOM_LEFT,ne=a===Be.BOTTOM_RIGHT,pe=a===Be.TOP_RIGHT,ze=ee?B.dialogueContainerNpcA:ne?B.dialogueContainerNpcB:pe?B.dialogueContainerRangerMoss:B.dialogueContainer,F=((p==null?void 0:p.dialogues)||[])[s+1],V=F==null?void 0:F.isOption;return f.isOption?o.jsx("div",{style:ze,children:o.jsx("div",{style:B.dialogueBox,children:o.jsx("button",{style:B.optionButton,onClick:P,onMouseOver:L=>{L.target.style.backgroundColor="rgba(81, 112, 255, 0.2)"},onMouseOut:L=>{L.target.style.backgroundColor="rgba(81, 112, 255, 0.1)"},children:f.optionText})})}):o.jsx("div",{style:ze,children:o.jsxs("div",{style:B.dialogueBox,children:[!ee&&!ne&&o.jsxs("p",{style:B.speakerName,children:[f.speaker,":"]}),o.jsxs("p",{style:B.dialogueText,children:[o.jsx("span",{dangerouslySetInnerHTML:{__html:c}}),b&&o.jsx("span",{style:{opacity:.5},children:"|"})]}),V&&!b?o.jsx("button",{style:B.optionButton,onClick:P,onMouseOver:L=>{L.target.style.backgroundColor="rgba(81, 112, 255, 0.2)"},onMouseOut:L=>{L.target.style.backgroundColor="rgba(81, 112, 255, 0.1)"},children:F.optionText}):o.jsx("button",{style:B.continueButton,onClick:I,children:b?"Skip":"CONTINUE"})]})})},H=()=>{if(!(p!=null&&p.npc))return null;const ee=a===Be.BOTTOM_LEFT,ne=a===Be.BOTTOM_RIGHT,pe=a===Be.TOP_RIGHT;return ee?o.jsx("div",{style:B.npcContainerNpcA,children:o.jsx("img",{src:p.image,alt:p.name,style:B.npcImageNpcA})}):ne?o.jsx("div",{style:B.npcContainerNpcB,children:o.jsx("img",{src:p.image,alt:p.name,style:B.npcImageNpcB})}):pe?o.jsx("div",{style:B.npcContainerRangerMoss,children:o.jsx("img",{src:p.image,alt:p.name,style:B.npcImageRangerMoss})}):o.jsx("div",{style:{...B.npcContainer,...isRightSide?B.npcContainerRight:B.npcContainerLeft},children:o.jsx("img",{src:p.image,alt:p.name,style:B.npcImage})})};return o.jsxs("div",{style:B.container,children:[o.jsx("div",{style:B.mapContainer,children:o.jsx("img",{src:"/jungle/map_full.png",alt:"Fungi Jungle Map",style:B.mapImage})}),o.jsx("div",{style:B.overlay}),o.jsx("button",{style:B.exitButton,onClick:e,onMouseOver:ee=>{ee.target.style.backgroundColor="rgba(255, 255, 255, 1)",ee.target.style.borderColor="#5170FF"},onMouseOut:ee=>{ee.target.style.backgroundColor="rgba(255, 255, 255, 0.9)",ee.target.style.borderColor="rgba(81, 112, 255, 0.5)"},children:n("exit")}),o.jsx("div",{style:B.miniNpc,children:o.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:B.miniNpcImage})}),Q.up!==void 0&&o.jsx("button",{style:{...B.navArrow,...B.upArrow},onClick:()=>y("up"),onMouseOver:ee=>ee.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:ee=>ee.currentTarget.style.transform="translateX(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/up.png",alt:"Up",style:B.arrowImage})}),Q.down!==void 0&&o.jsx("button",{style:{...B.navArrow,...B.downArrow},onClick:()=>y("down"),onMouseOver:ee=>ee.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:ee=>ee.currentTarget.style.transform="translateX(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/down.png",alt:"Down",style:B.arrowImage})}),Q.left!==void 0&&o.jsx("button",{style:{...B.navArrow,...B.leftArrow},onClick:()=>y("left"),onMouseOver:ee=>ee.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:ee=>ee.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:B.arrowImage})}),Q.right!==void 0&&o.jsx("button",{style:{...B.navArrow,...B.rightArrow},onClick:()=>y("right"),onMouseOver:ee=>ee.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:ee=>ee.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:B.arrowImage})}),H(),q()]})},Pe={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3},_f={[Pe.BOTTOM_LEFT]:{up:Pe.TOP_LEFT,right:Pe.BOTTOM_RIGHT},[Pe.BOTTOM_RIGHT]:{up:Pe.TOP_RIGHT,left:Pe.BOTTOM_LEFT},[Pe.TOP_LEFT]:{down:Pe.BOTTOM_LEFT,right:Pe.TOP_RIGHT},[Pe.TOP_RIGHT]:{down:Pe.BOTTOM_RIGHT,left:Pe.TOP_LEFT}},l2={[Pe.BOTTOM_LEFT]:"translate(0%, -50%)",[Pe.BOTTOM_RIGHT]:"translate(-50%, -50%)",[Pe.TOP_LEFT]:"translate(0%, 0%)",[Pe.TOP_RIGHT]:"translate(-50%, 0%)"},r2={[Pe.TOP_LEFT]:[{id:"02",size:250,right:"35%",bottom:"25%"},{id:"04",size:320,left:"0%",top:"50%"},{id:"05",size:240,right:"0%",top:"25%"},{id:"10",size:200,left:"40%",top:"5%"}],[Pe.BOTTOM_LEFT]:[{id:"01",size:330,right:"0%",bottom:"15%"},{id:"07",size:200,left:"0%",top:"5%"},{id:"08",size:310,left:"0%",bottom:"10%"},{id:"11",size:300,left:"50%",bottom:"15%"}],[Pe.BOTTOM_RIGHT]:[{id:"06",size:400,right:"20%",bottom:"0%"},{id:"03",size:200,right:"25%",top:"0%"},{id:"09",size:220,left:"10%",top:"5%"},{id:"12",size:150,right:"5%",bottom:"35%"}],[Pe.TOP_RIGHT]:[]},c2={[Pe.BOTTOM_LEFT]:{npc:"npc_a",image:"/jungle/npc_a.png",top:"5%",right:"50%",width:"auto",height:"25vh",dialogueTop:"33.33%",dialogueLeft:"80px"},[Pe.BOTTOM_RIGHT]:{npc:"npc_b",image:"/jungle/npc_b.gif",left:"0%",bottom:"0%",width:"auto",height:"25vh",dialogueTop:"33.33%",dialogueRight:"80px"},[Pe.TOP_RIGHT]:{npc:"npc_c",image:"/jungle/npc_c.png",bottom:"10%",right:"15%",width:"auto",height:"66.67vh",dialogueTop:"25%",dialogueLeft:"80px"}},Qi={"01":{name:"Candy Blob",color:"Pink / Purple / Yellow",colorTone:"Mixed warm and cool",shape:"Irregular / Curved",texture:"Glossy / Dripping",spikes:!1},"02":{name:"Flame Bloom",color:"Red / Green / Beige",colorTone:"Warm dominant",shape:"Flame-like / Circular",texture:"Smooth / Slightly Wavy",spikes:!0},"03":{name:"Velvet Star",color:"Cyan / Blue",colorTone:"Cool",shape:"Star-shaped / Pointed",texture:"Fuzzy / Velvet-like",spikes:!0},"04":{name:"Polka Cluster",color:"Green / Purple",colorTone:"Mixed cool and warm",shape:"Clustered / Round",texture:"Smooth / Polka-dotted",spikes:!1},"05":{name:"Speckled Bell",color:"Purple / Yellow",colorTone:"Mixed cool and warm",shape:"Bell-shaped / Drooping",texture:"Matte / Speckled",spikes:!1},"06":{name:"Glowing Shroom",color:"Blue / Purple / Pink",colorTone:"Cool dominant",shape:"Mushroom-like / Flowing",texture:"Glowing / Translucent",spikes:!1},"07":{name:"Striped Chime",color:"Orange / White / Red",colorTone:"Warm dominant",shape:"Bell-shaped / Curved",texture:"Smooth / Striped",spikes:!1},"08":{name:"Drip Orb",color:"Yellow / White",colorTone:"Warm",shape:"Round / Bulbous",texture:"Glossy / Dripping",spikes:!1},"09":{name:"Frostfire Cap",color:"Pink / Cyan / White",colorTone:"Mixed warm and cool",shape:"Mushroom-like / Flame-shaped",texture:"Glossy / Glowing",spikes:!1},10:{name:"Classic Toadstool",color:"Red / White / Blue",colorTone:"Warm dominant",shape:"Round / Smooth",texture:"Matte / Polka-dotted",spikes:!1},11:{name:"Rainbow Drip",color:"Pastel Rainbow / Teal / Purple",colorTone:"Soft mixed",shape:"Tapered / Drooping",texture:"Glossy / Dripping",spikes:!1},12:{name:"Starlight Shroom",color:"Pink / Purple / Orange",colorTone:"Warm and cool mixed",shape:"Star-shaped / Pointed",texture:"Glowing / Sticky / Veined",spikes:!0}},u2=({onComplete:e,onExit:t})=>{var E,se,te,me,bt;const{t:n}=ao(),[a,i]=u.useState(Pe.TOP_LEFT),[s,l]=u.useState(!1),[c,d]=u.useState([]),[b,j]=u.useState(!1),[C,S]=u.useState(null),[x,A]=u.useState(!1),[U,z]=u.useState(!1),[p,f]=u.useState(""),[y,I]=u.useState(!1),[P,Q]=u.useState(null),{playCameraSound:B}=Ls();u.useEffect(()=>{const J=localStorage.getItem("aiJourneyUser");if(J){const ue=JSON.parse(J).dataCollectionProgress;ue&&(i(ue.currentPosition||Pe.TOP_LEFT),d(ue.collectedIds||[]),console.log("Loaded Data Collection progress:",ue))}},[]),u.useEffect(()=>{const J=localStorage.getItem("aiJourneyUser");if(J){const Se=JSON.parse(J);Se.dataCollectionProgress={currentPosition:a,collectedIds:c,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(Se)),console.log("Saved Data Collection progress:",Se.dataCollectionProgress)}},[a,c]);const q=J=>{var ue;const Se=(ue=_f[a])==null?void 0:ue[J];Se!==void 0&&!s&&(l(!0),setTimeout(()=>{i(Se),l(!1)},500))},H=J=>{c.includes(J)||(B(),S(J),j(!0))},le=()=>{if(C&&!c.includes(C)){const J=[...c,C];d(J),j(!1),S(null),J.length===12&&I(!0)}},ee=J=>{J==="npc_c"&&c.length===12&&e(c)},ne=(J,Se)=>{Se?(Q(J),c.length<12?(f("Not finished yet! You're still missing some data!"),z(!0)):(f("Give ALL these to Ranger Moss!"),z(!0))):(Q(null),z(!1))},pe=J=>{J?(Q("glitch"),c.length<12?(f("Not finished yet! You're still missing some data!"),z(!0)):(f("Give ALL these to Ranger Moss!"),z(!0))):(Q(null),z(!1))},ze=()=>{A(!0)},re=_f[a]||{},F=r2[a]||[],V=c2[a],L={container:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},mapContainer:{width:"200%",height:"200%",position:"absolute",top:0,left:0,transition:"transform 0.5s ease-in-out",transform:l2[a]},mapImage:{width:"100%",height:"100%",objectFit:"cover",filter:"grayscale(80%)"},exitButton:{position:"absolute",top:"20px",left:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#666",backgroundColor:"rgba(255, 255, 255, 0.85)",border:"2px solid rgba(81, 112, 255, 0.4)",padding:"12px 30px",borderRadius:"8px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},glitchNpc:{position:"absolute",top:"10px",right:"10px",width:"120px",height:"120px",zIndex:100,cursor:"pointer",transition:"transform 0.2s"},glitchImage:{width:"100%",height:"100%",objectFit:"contain"},navArrow:{position:"absolute",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none"},arrowIcon:{fontSize:"45px",color:"#fff",textShadow:"0 2px 10px rgba(0,0,0,0.5)",fontWeight:"bold"},upArrow:{top:"15px",left:"50%",transform:"translateX(-50%)"},downArrow:{bottom:"120px",left:"50%",transform:"translateX(-50%)"},leftArrow:{left:"15px",top:"50%",transform:"translateY(-50%)"},rightArrow:{right:"15px",top:"50%",transform:"translateY(-50%)"},mushroomItem:{position:"absolute",cursor:"pointer",transition:"transform 0.2s, filter 0.2s",zIndex:20},mushroomImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 5px 15px rgba(0,0,0,0.3))"},mushroomCollected:{opacity:.3,pointerEvents:"none"},npcCharacter:{position:"absolute",width:"180px",height:"auto",cursor:"pointer",zIndex:25,transition:"transform 0.2s"},npcDialogueContainer:{position:"absolute",zIndex:150,maxWidth:"400px"},npcDialogueBoxInline:{padding:"20px 25px",borderRadius:"15px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",textAlign:"center",boxShadow:"0 5px 25px rgba(0,0,0,0.2)"},slotsContainer:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"12px",zIndex:100},slot:{width:"55px",height:"55px",borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"2px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Roboto', sans-serif",fontSize:"18px",color:"#999",fontWeight:500},slotFilled:{background:"linear-gradient(135deg, #E8D5E8, #F5E6F5)",border:"3px solid #C9A0DC",color:"#8B5A9B",fontWeight:700},cardOverlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:200,display:"flex",alignItems:"center",justifyContent:"center"},cardBox:{width:"420px",padding:"30px 35px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",textAlign:"center"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"24px",fontWeight:700,color:"#333",marginBottom:"8px"},cardObjectId:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,color:"#555",marginBottom:"20px"},cardInfo:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#444",lineHeight:1.8,textAlign:"center",marginBottom:"25px"},collectButton:{width:"100%",padding:"16px",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#fff",background:"#1a1a2e",border:"none",borderRadius:"12px",cursor:"pointer",textTransform:"uppercase",letterSpacing:"2px",transition:"transform 0.2s, box-shadow 0.2s"},taskHintBox:{width:"380px",padding:"25px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #87CEEB)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},taskTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"22px",fontWeight:700,color:"#333",marginBottom:"15px"},hintImage:{width:"100%",height:"auto",borderRadius:"12px",marginBottom:"15px"},closeButton:{position:"absolute",top:"10px",right:"15px",fontSize:"28px",color:"#999",cursor:"pointer",background:"none",border:"none"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",color:"#333",lineHeight:1.6},okButton:{marginTop:"20px",padding:"12px 40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#5170FF",background:"transparent",border:"2px solid #5170FF",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s"}};return o.jsxs("div",{style:L.container,children:[o.jsx("div",{style:L.mapContainer,children:o.jsx("img",{src:"/jungle/map_full.png",alt:"Fungi Jungle Map",style:L.mapImage})}),o.jsx("button",{style:L.exitButton,onClick:t,onMouseOver:J=>{J.target.style.backgroundColor="rgba(255, 255, 255, 1)",J.target.style.borderColor="#5170FF"},onMouseOut:J=>{J.target.style.backgroundColor="rgba(255, 255, 255, 0.85)",J.target.style.borderColor="rgba(81, 112, 255, 0.4)"},children:n("exit")}),o.jsx("div",{style:L.glitchNpc,onClick:ze,onMouseEnter:()=>pe(!0),onMouseLeave:()=>pe(!1),children:o.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:L.glitchImage})}),re.up!==void 0&&o.jsx("button",{style:{...L.navArrow,...L.upArrow},onClick:()=>q("up"),onMouseOver:J=>J.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:J=>J.currentTarget.style.transform="translateX(-50%) scale(1)",children:o.jsx("span",{style:L.arrowIcon,children:""})}),re.down!==void 0&&o.jsx("button",{style:{...L.navArrow,...L.downArrow},onClick:()=>q("down"),onMouseOver:J=>J.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:J=>J.currentTarget.style.transform="translateX(-50%) scale(1)",children:o.jsx("span",{style:L.arrowIcon,children:""})}),re.left!==void 0&&o.jsx("button",{style:{...L.navArrow,...L.leftArrow},onClick:()=>q("left"),onMouseOver:J=>J.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:J=>J.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("span",{style:L.arrowIcon,children:""})}),re.right!==void 0&&o.jsx("button",{style:{...L.navArrow,...L.rightArrow},onClick:()=>q("right"),onMouseOver:J=>J.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:J=>J.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("span",{style:L.arrowIcon,children:""})}),F.map(J=>{var ue;const Se=J.size||120;return o.jsx("div",{style:{...L.mushroomItem,width:`${Se}px`,height:`${Se}px`,top:J.top,bottom:J.bottom,left:J.left,right:J.right,...c.includes(J.id)?L.mushroomCollected:{}},onClick:()=>H(J.id),onMouseOver:ke=>{c.includes(J.id)||(ke.currentTarget.style.transform="scale(1.15)")},onMouseOut:ke=>{ke.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:`/jungle/object/${J.id}.png`,alt:(ue=Qi[J.id])==null?void 0:ue.name,style:L.mushroomImage})},J.id)}),V&&o.jsx("img",{src:V.image,alt:V.npc,style:{...L.npcCharacter,top:V.top,bottom:V.bottom,left:V.left,right:V.right,width:V.width==="auto"?"auto":`${V.width}px`,height:V.height?typeof V.height=="string"?V.height:`${V.height}px`:"auto"},onClick:()=>ee(V.npc),onMouseEnter:()=>ne(V.npc,!0),onMouseLeave:()=>ne(V.npc,!1)}),U&&o.jsx("div",{style:{...L.npcDialogueContainer,...P==="glitch"?{top:"15px",right:"100px"}:V?{top:V.dialogueTop,left:V.dialogueLeft,right:V.dialogueRight}:{}},children:o.jsxs("div",{style:L.npcDialogueBoxInline,children:[o.jsx("p",{style:L.dialogueText,children:p}),o.jsx("button",{style:L.okButton,onClick:()=>z(!1),onMouseOver:J=>{J.target.style.backgroundColor="#5170FF",J.target.style.color="#fff"},onMouseOut:J=>{J.target.style.backgroundColor="transparent",J.target.style.color="#5170FF"},children:"OK"})]})}),o.jsx("div",{style:L.slotsContainer,children:Array.from({length:12},(J,Se)=>{const ue=c[Se];return o.jsx("div",{style:{...L.slot,...ue?L.slotFilled:{}},children:ue||"?"},Se)})}),b&&C&&o.jsx("div",{style:L.cardOverlay,onClick:()=>j(!1),children:o.jsxs("div",{style:L.cardBox,onClick:J=>J.stopPropagation(),children:[o.jsx("h2",{style:L.cardTitle,children:"You Found"}),o.jsxs("p",{style:L.cardObjectId,children:["Object ID: #",C,"  ",(E=Qi[C])==null?void 0:E.name]}),o.jsxs("div",{style:L.cardInfo,children:[o.jsxs("p",{children:[" Color: ",(se=Qi[C])==null?void 0:se.color]}),o.jsxs("p",{children:[" Shape: ",(te=Qi[C])==null?void 0:te.shape]}),o.jsxs("p",{children:[" Texture: ",(me=Qi[C])==null?void 0:me.texture]}),o.jsxs("p",{children:[" Spikes: ",(bt=Qi[C])!=null&&bt.spikes?"Yes":"None"]})]}),o.jsx("button",{style:L.collectButton,onClick:le,onMouseOver:J=>{J.target.style.transform="scale(1.02)",J.target.style.boxShadow="0 5px 20px rgba(0,0,0,0.3)"},onMouseOut:J=>{J.target.style.transform="scale(1)",J.target.style.boxShadow="none"},children:"COLLECT DATA"})]})}),x&&o.jsx("div",{style:L.cardOverlay,onClick:()=>A(!1),children:o.jsxs("div",{style:{...L.taskHintBox,position:"relative"},onClick:J=>J.stopPropagation(),children:[o.jsx("button",{style:L.closeButton,onClick:()=>A(!1),children:""}),o.jsx("h2",{style:L.taskTitle,children:"Task 1: Find the data"}),o.jsx("img",{src:"/jungle/hint.gif",alt:"Hint",style:L.hintImage})]})})]})},Ff=["03","05","07"],Hf=[["01","02","03","04"],["05","06","07","08"],["09","10","11","12"]],d2={1:[{id:"01",name:"Candy Blob",color:"TRUE",texture:"Smooth",spikes:"No",toxic:"NO"},{id:"02",name:"img_file_002.png",color:"Red",texture:"Wavy",spikes:"Yes",toxic:"YES"},{id:"03",name:"Velvet Star",color:"Blue",texture:"404 Error",spikes:"Yes",toxic:"NO"},{id:"04",name:"Polka Cluster",color:"Green",texture:"Smooth",spikes:"Zero",toxic:"NO"}],2:[{id:"05",name:"Speckled Bell",color:"#800080",texture:"Matte",spikes:"No",toxic:"NO"},{id:"06",name:"Glowing Shroom",color:"Blue",texture:"Glowing",spikes:"1",toxic:"Safe"},{id:"07",name:"Striped Chime",color:"Orange",texture:"Looks very nice",spikes:"No",toxic:"NO"},{id:"08",name:"NULL",color:"Yellow",texture:"Glossy",spikes:"No",toxic:"NO"}],3:[{id:"09",name:"Frostfire Cap",color:"Pink",texture:"Glossy",spikes:"N/A",toxic:"NO"},{id:"10",name:"Classic Toadstool",color:"255, 0, 0",texture:"Matte",spikes:"No",toxic:"NO"},{id:"11",name:"Rainbow Drip",color:"Pastel",texture:"Glossy",spikes:"No",toxic:"MAYBE"},{id:"12",name:"Starlight Shroom",color:"Purple",texture:"%&*(#@!",spikes:"Yes",toxic:"YES"}]},p2={1:[{id:"01",field:"color",correct:"Pink"},{id:"02",field:"name",correct:"Flame Bloom"},{id:"03",field:"texture",correct:"Fuzzy"},{id:"04",field:"spikes",correct:"No"}],2:[{id:"05",field:"color",correct:"Purple"},{id:"06",field:"spikes",correct:"No"},{id:"06",field:"toxic",correct:"NO"},{id:"07",field:"texture",correct:"Striped"},{id:"08",field:"name",correct:"Drip Orb"}],3:[{id:"09",field:"spikes",correct:"No"},{id:"10",field:"color",correct:"Red"},{id:"11",field:"toxic",correct:"NO"},{id:"12",field:"texture",correct:"Veined"}]},Lf={1:"I see file names mixed with real names, and colors written as True/False! Fix the format errors in the highlighted cells.",2:"Someone entered Hex Codes instead of color names, and wrote a sentence in the texture column. The AI can't read sentences!",3:"Watch out for 'Maybe' labels and corrupted text characters. The AI needs certainty!"},ll=[{id:"09",name:"Frostfire Cap",color:"Pink / Cyan / White",texture:"Glossy / Glowing",spikes:null,toxic:"YES",missingField:"spikes",options:["Yes","No"],correct:"No"},{id:"02",name:"Flame Bloom",color:"Red / Orange",texture:null,spikes:"Yes",toxic:"YES",missingField:"texture",options:["Wavy","Smooth","Glossy","Matte"],correct:"Wavy"},{id:"08",name:"Drip Orb",color:null,texture:"Glossy / Dripping",spikes:"No",toxic:"YES",missingField:"color",options:["Yellow","Blue","Red","Green"],correct:"Yellow"}],Vi=[{question:"Hold on! Before we push the big button, I need to make sure you understand what we are doing. Quick check: How does an AI actually learn?",options:[{text:"By analyzing patterns in data",correct:!0},{text:"By just guessing randomly",correct:!1}],correctResponse:"Correct! AI isn't magic, and it doesn't verify answers by itself. It needs massive amounts of data to find the hidden rules.",incorrectResponse:"Not quite! AI doesn't just guess randomly. It learns by analyzing patterns in data. It needs massive amounts of data to find the hidden rules and make accurate predictions."},{question:"Now, think about the data you just collected. To help the AI decide if a mushroom is toxic, which features are actually helpful?",options:[{text:"Color, Shape, and Texture",correct:!0},{text:"The name of the person who picked it",correct:!1}],correctResponse:"Precisely! To make accurate predictions, the AI needs data related to the object itself. Irrelevant infolike who picked itis just Noise. It will only confuse the model!",incorrectResponse:"Actually, the name of the person who picked it is irrelevant! To make accurate predictions, the AI needs data related to the object itself - like Color, Shape, and Texture. Irrelevant info is just Noise and will confuse the model!"}],g2="The dataset is clean. The patterns are clear. Are you ready? Let's initiate the Model Training process!",f2="Watch closely. The AI is taking the mushroom features as Input. But the Output isn't just a simple 'Yes' or 'No'. It gives us a Probabilitya percentage score of how likely it is that the mushroom is toxic.",h2="Training complete! The AI has learned to identify the 'Toxic Traits'. But wait... we need to verify if it really learned, or if it just memorized our list. How should we test the AI?",m2=[{text:"Test with NEW mushrooms it hasn't seen",correct:!0},{text:"Test with the SAME mushrooms it already studied",correct:!1}],x2="Spot on! If we test with old data, the AI is just cheatinglike memorizing the answers to a test. Only by using Unseen Data (New Mushrooms) can we prove it can truly judge and generalize!",Nu=[{id:"13",isNew:!0},{id:"14",isNew:!0},{id:"15",isNew:!0},{id:"08",isNew:!1}],Cr=["Uh oh...  This is bad news! The AI only got 45% correct on the new mushrooms. It's confusing  the 'Death Cap' with the 'Edible Paddy Straw' mushroom! If we use this AI now, the Elf might get a tummy ache... or worse! We can't give up, but we need to fix this.","Think like a Data Scientist. Why is the AI failing? It probably hasn't seen enough examples of the tricky mushrooms yet. What should we do to improve the AI's accuracy?"],y2=[{text:"Feed it MORE varied photos & Retrain",correct:!0},{text:"Only test it on mushrooms it knows",correct:!1},{text:"Change the code to say 'Safe' for everything",correct:!1}],b2="Brilliant!  Option B is cheating (and dangerous!), and Option C is just lazy code.",Uf=[{id:"16",isGood:!0},{id:"17",isGood:!0},{id:"18",isGood:!0},{id:"19",isGood:!0},{id:"20",isGood:!1,duplicateOf:"12"},{id:"21",isGood:!1,duplicateOf:"11"}],lt={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3},rl={[lt.BOTTOM_LEFT]:{up:lt.TOP_LEFT,right:lt.BOTTOM_RIGHT},[lt.BOTTOM_RIGHT]:{up:lt.TOP_RIGHT,left:lt.BOTTOM_LEFT},[lt.TOP_LEFT]:{down:lt.BOTTOM_LEFT,right:lt.TOP_RIGHT},[lt.TOP_RIGHT]:{down:lt.BOTTOM_RIGHT,left:lt.TOP_LEFT}},v2={[lt.BOTTOM_LEFT]:"translate(0%, -50%)",[lt.BOTTOM_RIGHT]:"translate(-50%, -50%)",[lt.TOP_LEFT]:"translate(0%, 0%)",[lt.TOP_RIGHT]:"translate(-50%, 0%)"},S2={[lt.TOP_RIGHT]:[{id:"17",size:500,left:"2%",bottom:"0%",status:"DANGER",toxicity:"99% Toxic"}],[lt.BOTTOM_LEFT]:[{id:"26",size:700,right:"0%",bottom:"0%",status:"DANGER",toxicity:"98% Toxic"},{id:"14",size:450,left:"0%",top:"0%",status:"DANGER",toxicity:"94% Toxic"},{id:"24",size:350,left:"50%",top:"0%",status:"EDIBLE",toxicity:"90% Safe"}],[lt.BOTTOM_RIGHT]:[{id:"21",size:360,right:"30%",bottom:"0%",status:"DANGER",toxicity:"99% Toxic"},{id:"22",size:250,right:"45%",bottom:"5%",status:"EDIBLE",toxicity:"92% Safe"},{id:"15",size:250,left:"0%",top:"35%",status:"DANGER",toxicity:"90% Toxic"}],[lt.TOP_LEFT]:[{id:"25",size:600,left:"0%",bottom:"10%",status:"DANGER",toxicity:"99% Toxic"},{id:"18",size:380,right:"30%",top:"30%",status:"DANGER",toxicity:"95% Toxic"},{id:"23",size:260,right:"50%",bottom:"0%",status:"EDIBLE",toxicity:"95% Safe"},{id:"19",size:350,left:"30%",top:"5%",status:"DANGER",toxicity:"91% Toxic"}]},Kt={[lt.TOP_RIGHT]:{npc:"npc_c",image:"/jungle/npc_c2.gif",right:"20%",top:"5%",height:"66.67vh",width:"auto",dialogues:[["We're back online! And the system is running smoothly.","The workers have their lunch, and everyone is safe thanks to you.","But the forest is huge and full of surprises. Since you have the scanner... why not take a look around?","Go ahead, try to see which other mushrooms are EDIBLE. Who knows? You might find something rare!"],["Production is up! No more sick days!"]]},[lt.BOTTOM_LEFT]:{npc:"npc_a",image:"/jungle/npc_a2.gif",right:"40%",bottom:"5%",height:"540px",width:"auto",hoverText:"Yay! No stomach ache today."},[lt.BOTTOM_RIGHT]:{npc:"npc_b",image:"/jungle/npc_b2.gif",left:"5%",bottom:"0%",height:"540px",width:"auto",hoverText:"This new scanner is like magic. It knows everything!"}},T2=({onComplete:e,onExit:t})=>{var ua,Lt,Ba,fn,go,ct,fo;const{t:n}=ao(),[a,i]=u.useState("INTRO"),[s,l]=u.useState(0),[c,d]=u.useState([]);u.useEffect(()=>{const h=localStorage.getItem("aiJourneyUser");if(h){const Y=JSON.parse(h).dataCleaningProgress;Y&&(i(Y.phase||"INTRO"),l(Y.noiseBatch||0),d(Y.removedItems||[]),console.log("Loaded Data Cleaning progress:",Y))}},[]),u.useEffect(()=>{const h=localStorage.getItem("aiJourneyUser");if(h){const _=JSON.parse(h);_.dataCleaningProgress={phase:a,noiseBatch:s,removedItems:c,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(_)),console.log("Saved Data Cleaning progress:",_.dataCleaningProgress)}},[a,s,c]);const[b,j]=u.useState(1),[C,S]=u.useState([]),[x,A]=u.useState(!1),[U,z]=u.useState(""),[p,f]=u.useState(!1),[y,I]=u.useState(0),[P,Q]=u.useState(""),[B,q]=u.useState(!1),[H,le]=u.useState([]),[ee,ne]=u.useState(0),[pe,ze]=u.useState({}),[re,F]=u.useState(null),[V,L]=u.useState(!1),[E,se]=u.useState([]),[te,me]=u.useState(0),[bt,J]=u.useState({}),[Se,ue]=u.useState(0),[ke,oo]=u.useState(!1),[La,vt]=u.useState(0),[Xe,Et]=u.useState([]),[at,rt]=u.useState(!1),[Bt,wa]=u.useState(!1),[Rt,Ca]=u.useState(0),[_t,Yt]=u.useState(!1),Ft=Fu.useRef(null),[Wt,mi]=u.useState(0),[Xt,on]=u.useState(0),[Qe,sn]=u.useState([]),[io,ta]=u.useState(null),[zt,ja]=u.useState(0),[na,Qt]=u.useState(!1),Ua=Fu.useRef(null),[Bo,aa]=u.useState(0),[ka,Sn]=u.useState(!1),[so,Le]=u.useState(""),[un,lo]=u.useState(!1),[Dt,Aa]=u.useState([]),[ot,xi]=u.useState(null),[Ia,ro]=u.useState(!1),[Ae,Ro]=u.useState(3),[_o,co]=u.useState(!1),[uo,ft]=u.useState(!1),[Ga,oa]=u.useState(""),[St,Vt]=u.useState(null),[_e,Tn]=u.useState({npc_c:0}),[Ma,Ve]=u.useState(0),[ln,Fo]=u.useState(null),[Un,Ho]=u.useState(0),[za,wn]=u.useState(0),qa=["Outstanding work, Human! You've gathered enough raw data. But... we can't feed this directly to the AI. Not yet.","In the world of AI, there is a golden rule: 'Garbage In, Garbage Out'. If we train the model with messy data, it will learn the wrong lessons.","We must enter the Data Cleaning Phase."],ia="Great job removing the noise. Now, look at this Data Table. The auto-tagging system was glitching, so some Labels are wrong. Click on the cells you think contain errors!",po="Some data fields are completely Empty (Null). The AI cannot learn from nothing! Click on the empty cells. I will project the hologram (photo) of the mushroom. Look at the photo, and fill in the blank.";u.useEffect(()=>{S([])},[b]),u.useEffect(()=>{if(!p)return;const h=qa[y];if(!h)return;let _=0;Q(""),q(!0);const Y=setInterval(()=>{_<h.length?(Q(h.substring(0,_+1)),_++):(q(!1),clearInterval(Y))},25);return()=>clearInterval(Y)},[y,p]),u.useEffect(()=>{a==="INTRO"&&setTimeout(()=>f(!0),500)},[a]);const Ya=()=>{if(B){Q(qa[y]),q(!1);return}le(h=>[...h,qa[y]]),y<qa.length-1?I(h=>h+1):(f(!1),i("NOISE_REMOVAL"))},de=h=>{c.includes(h)?d(_=>_.filter(Y=>Y!==h)):d(_=>[..._,h])},ht=()=>{const h=Hf[s],Y=h.filter(W=>Ff.includes(W)).every(W=>c.includes(W)),Me=h.filter(W=>!Ff.includes(W)&&c.includes(W));if(!Y||Me.length>0){z("First, look at what you collected. Some of these aren't mushrooms at all! These are what we call 'Noise'."),A(!0);return}s<2?l(W=>W+1):i("LABEL_INTRO")},Ie=()=>{i("LABEL_CORRECTION")},Tt=(h,_)=>{const Y=`${h}-${_}`;C.includes(Y)?S(Me=>Me.filter(W=>W!==Y)):S(Me=>[...Me,Y])},Cn=()=>{const _=p2[b].map(M=>`${M.id}-${M.field}`),Y=new Set(C),Me=new Set(_),W=_.every(M=>Y.has(M)),w=C.every(M=>Me.has(M));if(!W||!w){z(Lf[b]),A(!0);return}b<3?j(M=>M+1):i("FILL_MISSING_INTRO")},sa=()=>{i("FILL_MISSING")},Ue=(h,_)=>{const Y=ll.find(Me=>Me.id===h);Y&&Y.missingField===_&&(F({itemId:h,field:_}),L(!0))},jn=h=>{if(!re)return;const _=ll.find(Y=>Y.id===re.itemId);_&&h===_.correct?(ze(Y=>({...Y,[re.itemId]:h})),F(null),L(!1)):(z("Look carefully at the mushroom photo! What do you see?"),A(!0))},dn=()=>{if(!ll.every(_=>pe[_.id])){z("You still have empty cells! Click on the  to fill them."),A(!0);return}i("QUIZ"),se([{type:"ranger",text:Vi[0].question}]),me(0)},la=(h,_)=>{const Y=Vi[te],Me=Y.options[h];J(M=>({...M,[te]:{optionIndex:h,isCorrect:_}}));const W=_?Y.correctResponse:Y.incorrectResponse,w=[...E,{type:"user",text:Me.text},{type:"ranger",text:W}];te<Vi.length-1?(w.push({type:"ranger",text:Vi[te+1].question}),se(w),me(M=>M+1)):(w.push({type:"ranger",text:g2}),w.push({type:"button",text:"Ready, Let's GO!"}),se(w),me(M=>M+1))},qe=()=>{i("TRAINING"),ue(0);const h=setInterval(()=>{ue(_=>_>=100?(clearInterval(h),oo(!0),100):_+2)},100)},Jt=()=>{i("VALIDATION_INTRO"),vt(0)},Gn=h=>{h&&vt(1)},kn=()=>{i("VALIDATION_DATA"),Et([])},et=h=>{if(!Nu.find(Y=>Y.id===h).isNew){z("We should test with New Mushrooms, the yellow one is already collected"),A(!0);return}Xe.includes(h)?Et(Y=>Y.filter(Me=>Me!==h)):Et(Y=>[...Y,h])},Wa=()=>{Nu.filter(Y=>Y.isNew).map(Y=>Y.id).every(Y=>Xe.includes(Y))&&Xe.length===3&&(rt(!0),setTimeout(()=>{rt(!1),wa(!0)},2e3))},Pt=225,ra=h=>{h.preventDefault(),Yt(!0)},pn=h=>{if(!_t||!Ft.current)return;const _=Ft.current.getBoundingClientRect(),Y=h.clientX-_.left-25,Me=Math.max(0,Math.min(Y,Pt));Ca(Me),Me>=Pt-10&&(Yt(!1),Wa())},wt=()=>{_t&&(Yt(!1),Rt<Pt-10&&Ca(0))},Ne=h=>{h.preventDefault(),Yt(!0)},Zt=h=>{if(!_t||!Ft.current)return;const _=h.touches[0],Y=Ft.current.getBoundingClientRect(),Me=_.clientX-Y.left-25,W=Math.max(0,Math.min(Me,Pt));Ca(W),W>=Pt-10&&(Yt(!1),Wa())},Xa=()=>{_t&&(Yt(!1),Rt<Pt-10&&Ca(0))};u.useEffect(()=>(_t&&(window.addEventListener("mousemove",pn),window.addEventListener("mouseup",wt),window.addEventListener("touchmove",Zt),window.addEventListener("touchend",Xa)),()=>{window.removeEventListener("mousemove",pn),window.removeEventListener("mouseup",wt),window.removeEventListener("touchmove",Zt),window.removeEventListener("touchend",Xa)}),[_t,Rt]);const gn=()=>{i("ADJUST_MODEL_INTRO"),mi(0),on(0),Aa([]),Le("")};u.useEffect(()=>{if(a!=="ADJUST_MODEL_INTRO"||Xt!==0)return;const h=Cr[Wt];if(!h)return;let _=0;Le(""),lo(!0);const Y=setInterval(()=>{_<h.length?(Le(h.substring(0,_+1)),_++):(lo(!1),clearInterval(Y))},25);return()=>clearInterval(Y)},[Wt,a,Xt]);const Da=()=>{if(un){Le(Cr[Wt]),lo(!1);return}Aa(h=>[...h,Cr[Wt]]),Wt<Cr.length-1?mi(h=>h+1):on(1)},Qa=(h,_)=>{h.correct?on(2):(xi(_),z("That won't help the AI learn better! Think about what data scientists do."),A(!0))},An=h=>{h.isGood?Qe.includes(h.id)||(sn(_=>[..._,h.id]),ta(null),ro(!1),Qt(!0),setTimeout(()=>Qt(!1),2e3)):(ta(h),ro(!0),z("Even though they aren't exactly the same, they don't teach the AI anything new. Try a different one!"),A(!0))},Va=()=>{if(Uf.filter(Y=>Y.isGood).map(Y=>Y.id).every(Y=>Qe.includes(Y))){i("ADJUST_MODEL_TRAINING");let Y=0;const Me=setInterval(()=>{Y+=2,ja(Y),Y>=100&&clearInterval(Me)},50)}},it=()=>{i("LOADING")},ca=225,In=h=>{h.preventDefault(),Sn(!0)},rn=h=>{if(!ka||!Ua.current)return;const _=Ua.current.getBoundingClientRect(),Y=h.clientX-_.left-25,Me=Math.max(0,Math.min(Y,ca));aa(Me),Me>=ca-10&&(Sn(!1),Va())},Ye=()=>{ka&&(Sn(!1),Bo<ca-10&&aa(0))};u.useEffect(()=>(ka&&(window.addEventListener("mousemove",rn),window.addEventListener("mouseup",Ye)),()=>{window.removeEventListener("mousemove",rn),window.removeEventListener("mouseup",Ye)}),[ka,Bo]),u.useEffect(()=>{if(a==="LOADING"){let h=0;const _=setInterval(()=>{h+=2,Ve(h),h>=100&&(clearInterval(_),setTimeout(()=>{i("COLOR_MAP_EXPLORATION")},500))},50);return()=>clearInterval(_)}},[a]);const Mn=h=>{var Y;const _=(Y=rl[Ae])==null?void 0:Y[h];_!==void 0&&!_o&&(co(!0),Fo(null),ft(!1),Vt(null),setTimeout(()=>{Ro(_),co(!1)},500))},Oa=h=>{const _=Kt[Ae];if(_&&_.npc===h&&h==="npc_c"){const Y=_e.npc_c;Y<_.dialogues.length&&(Ho(Y),wn(0),oa(_.dialogues[Y][0]),ft(!0),Vt(h))}},Ja=()=>{const h=Kt[Ae];if(h&&St==="npc_c"){const _=h.dialogues[Un];za<_.length-1?(wn(Y=>Y+1),oa(_[za+1])):(ft(!1),Tn(Y=>({...Y,npc_c:Y.npc_c+1})),Vt(null))}else ft(!1),Vt(null)},Na=(h,_)=>{const Y=Kt[Ae];Y&&Y.npc===h&&Y.hoverText&&(_?(oa(Y.hoverText),ft(!0),Vt(h)):(ft(!1),Vt(null)))},Ea=()=>{oa("You know, technology didn't save the dayYOU did. An AI is just a tool. It was your careful choices as a 'Data Detective' that taught it to see the truth."),ft(!0),Vt("glitch")},mt=h=>{Fo(ln===h?null:h)},Ht=(h,_)=>C.includes(`${h}-${_}`),v={container:{width:"100%",height:"100vh",backgroundImage:"url(/jungle/map_full.png)",backgroundSize:"cover",backgroundPosition:"center",position:"relative",overflow:"hidden"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 30, 20, 0.5)",zIndex:1},exitButton:{position:"absolute",top:"20px",left:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#666",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(81, 112, 255, 0.4)",padding:"12px 30px",borderRadius:"8px",cursor:"pointer",zIndex:100},glitchNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:100,cursor:"pointer"},rangerNpc:{position:"absolute",right:"30px",bottom:"0",height:"66.67vh",width:"auto",zIndex:40},leftDialogueContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",zIndex:50},dialogueHistoryBox:{padding:"25px 30px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",maxHeight:"60vh",overflowY:"auto"},dialogueHistoryItem:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#333",lineHeight:1.7,marginBottom:"15px",paddingBottom:"15px",borderBottom:"1px solid #eee"},dialogueHistoryItemLast:{borderBottom:"none",marginBottom:0,paddingBottom:0},glitchHintInline:{position:"absolute",top:"15px",right:"100px",maxWidth:"350px",padding:"12px 20px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.98)",border:"2px solid #FFB6C1",boxShadow:"0 3px 15px rgba(0,0,0,0.15)",zIndex:150},glitchHintInlineText:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#555",lineHeight:1.5,margin:0},glitchHintCloseBtn:{position:"absolute",top:"5px",right:"8px",background:"none",border:"none",fontSize:"16px",color:"#999",cursor:"pointer"},cardContainer:{position:"absolute",top:"100px",left:"30px",width:"80%",maxWidth:"2100px",zIndex:50},card:{width:"1650px",padding:"90px",borderRadius:"75px",background:"rgba(255, 255, 255, 0.98)",border:"12px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"78px",fontWeight:700,color:"#333",textAlign:"center",marginBottom:"30px"},cardSubtitle:{fontFamily:"'Roboto', sans-serif",fontSize:"42px",color:"#666",textAlign:"center",marginBottom:"75px"},itemGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"45px",marginBottom:"60px"},itemCard:{width:"330px",height:"330px",borderRadius:"45px",background:"#fff",border:"9px solid transparent",backgroundImage:"linear-gradient(#fff, #fff), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s"},itemCardRemoved:{opacity:.3,background:"#1a1a2e",backgroundImage:"none",border:"3px solid #444"},itemImage:{width:"240px",height:"240px",objectFit:"contain"},trashArea:{display:"flex",justifyContent:"center",gap:"45px",marginTop:"45px"},trashSlot:{width:"240px",height:"240px",borderRadius:"12px",background:"#1a1a2e",border:"3px solid transparent",backgroundImage:"linear-gradient(#1a1a2e, #1a1a2e), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",display:"flex",alignItems:"center",justifyContent:"center"},nextButton:{display:"block",margin:"60px auto 0",padding:"36px 120px",fontFamily:"'Roboto', sans-serif",fontSize:"48px",fontWeight:600,color:"#333",background:"transparent",border:"none",cursor:"pointer"},tableCard:{width:"650px",padding:"25px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},table:{width:"100%",borderCollapse:"collapse",marginTop:"15px"},th:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#555",textTransform:"uppercase",padding:"10px 8px",borderBottom:"2px solid #ddd",textAlign:"left"},td:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",padding:"12px 8px",borderBottom:"1px solid #eee"},selectedCell:{background:"rgba(123, 104, 238, 0.3)",cursor:"pointer",borderRadius:"4px",border:"2px solid #7B68EE"},clickableCell:{cursor:"pointer",transition:"background 0.2s"},modalOverlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.6)",zIndex:200,display:"flex",alignItems:"center",justifyContent:"center"},dialogueBox:{maxWidth:"500px",padding:"30px 40px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},speakerName:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#5170FF",marginBottom:"10px"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.7},continueButton:{marginTop:"20px",float:"right",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#5170FF",background:"transparent",border:"none",cursor:"pointer",textTransform:"uppercase"},navArrow:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)",fontSize:"40px",color:"#fff",textShadow:"0 2px 10px rgba(0,0,0,0.5)",zIndex:50},fillMissingContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"900px",display:"flex",gap:"20px",zIndex:60},fillTableCard:{width:"550px",padding:"25px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.95)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(135deg, #5170FF, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},imagePanel:{width:"320px",padding:"20px",borderRadius:"25px",background:"rgba(20, 20, 30, 0.95)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(20,20,30,0.95), rgba(20,20,30,0.95)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",display:"flex",flexDirection:"column",alignItems:"center",zIndex:60},imagePanelTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"28px",fontWeight:700,color:"#fff",marginBottom:"15px"},mushroomImage:{width:"250px",height:"250px",objectFit:"contain",marginBottom:"15px"},missingCell:{background:"rgba(255, 200, 100, 0.3)",cursor:"pointer",borderRadius:"4px",padding:"8px 12px",display:"inline-block"},missingCellActive:{background:"rgba(123, 104, 238, 0.4)",border:"2px solid #7B68EE"},filledCell:{background:"rgba(100, 200, 100, 0.3)",borderRadius:"4px",padding:"8px 12px"},optionsContainer:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center",marginTop:"15px"},optionButton:{padding:"10px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#fff",background:"rgba(81, 112, 255, 0.8)",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},completeCard:{width:"600px",padding:"40px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #5170FF, #7B68EE)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",textAlign:"center"},completeTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"28px",fontWeight:700,color:"#333",marginBottom:"20px"},completeText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#555",lineHeight:1.8,marginBottom:"15px"},statusText:{fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:700,color:"#5170FF",marginBottom:"30px"},nextStepButton:{padding:"15px 40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#fff",background:"linear-gradient(135deg, #5170FF, #7B68EE)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"transform 0.2s"},quizContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",maxHeight:"80vh",zIndex:50},chatCard:{padding:"30px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.95)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(135deg, #5170FF, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",maxHeight:"70vh",overflowY:"auto"},chatMessages:{display:"flex",flexDirection:"column",gap:"15px"},rangerMessage:{display:"flex",alignItems:"flex-start",gap:"12px"},rangerAvatar:{width:"50px",height:"50px",borderRadius:"50%",background:"#1a1a2e",flexShrink:0,overflow:"hidden"},messageBubble:{padding:"15px 20px",borderRadius:"15px",background:"rgba(81, 112, 255, 0.1)",maxWidth:"80%"},messageText:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#333",lineHeight:1.6},messageSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#5170FF",marginBottom:"5px"},userMessage:{display:"flex",justifyContent:"flex-end"},userBubble:{padding:"12px 18px",borderRadius:"15px",background:"rgba(123, 104, 238, 0.2)",maxWidth:"70%"},quizOptions:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"15px",marginLeft:"62px"},quizOptionButton:{padding:"12px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",background:"rgba(255, 255, 255, 0.9)",border:"2px solid #5170FF",borderRadius:"10px",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},quizOptionSelected:{background:"rgba(123, 104, 238, 0.3)",borderColor:"#7B68EE"},goButton:{display:"block",margin:"20px auto 0",padding:"15px 40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#fff",background:"linear-gradient(135deg, #5170FF, #7B68EE)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"transform 0.2s"},trainingContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",zIndex:50,textAlign:"center"},trainingCard:{padding:"40px",borderRadius:"25px",background:"rgba(20, 20, 35, 0.95)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(20,20,35,0.95), rgba(20,20,35,0.95)), linear-gradient(135deg, #5170FF, #7B68EE)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},trainingTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"24px",fontWeight:700,color:"#fff",marginBottom:"30px"},trainingGif:{width:"400px",height:"auto",borderRadius:"15px",marginBottom:"30px"},progressBar:{height:"100%",background:"linear-gradient(90deg, #5170FF, #7B68EE)",transition:"width 0.1s ease"},progressText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#aaa",marginBottom:"20px"},voiceoverText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#fff",lineHeight:1.8,marginTop:"20px",padding:"20px",background:"rgba(81, 112, 255, 0.2)",borderRadius:"10px"},validationContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",zIndex:50},validationCard:{padding:"30px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},validationText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.7,marginBottom:"25px"},validationOptions:{display:"flex",flexDirection:"column",gap:"15px"},validationOption:{padding:"15px 25px",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:500,color:"#5170FF",background:"rgba(81, 112, 255, 0.1)",border:"2px solid #5170FF",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},testMushroomGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"15px",marginBottom:"25px"},testMushroomCard:{position:"relative",width:"100%",aspectRatio:"1",borderRadius:"15px",background:"#fff",border:"3px solid #eee",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s",overflow:"hidden"},testMushroomCardSelected:{border:"3px solid #7B68EE",boxShadow:"0 4px 15px rgba(123, 104, 238, 0.3)"},testMushroomImage:{width:"85%",height:"85%",objectFit:"contain"},correctIcon:{position:"absolute",top:"8px",right:"8px",width:"24px",height:"24px"},scanningOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(81, 112, 255, 0.3)",display:"flex",alignItems:"center",justifyContent:"center"},slideButtonContainer:{position:"relative",width:"280px",height:"50px",background:"#1a1a2e",borderRadius:"25px",margin:"0 auto 25px",display:"flex",alignItems:"center",overflow:"hidden",cursor:"pointer"},slideButtonTrack:{position:"absolute",left:"5px",width:"45px",height:"40px",background:"linear-gradient(135deg, #5170FF, #7B68EE)",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",transition:"left 0.15s ease-out",userSelect:"none"},slideButtonText:{fontFamily:"'Montserrat', sans-serif",fontSize:"14px",fontWeight:700,color:"#fff",marginLeft:"60px",letterSpacing:"1px"},arrowIcon:{width:"20px",height:"20px"},predictionContainer:{textAlign:"center",marginTop:"20px"},predictionLabel:{fontFamily:"'Montserrat', sans-serif",fontSize:"14px",fontWeight:600,color:"#666",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"10px"},predictionValue:{fontFamily:"'Montserrat', sans-serif",fontSize:"72px",fontWeight:700,color:"#333",lineHeight:1},predictionUnit:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:500,color:"#666",marginTop:"5px"},adjustOptionsContainer:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"20px"},adjustOptionButton:{padding:"15px 20px",borderRadius:"12px",background:"#fff",border:"2px solid #ddd",fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},trainingPhotosCard:{width:"550px",padding:"25px",borderRadius:"20px",background:"rgba(240, 240, 245, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(240,240,245,0.98), rgba(240,240,245,0.98)), linear-gradient(135deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},trainingPhotosTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"18px",fontWeight:700,color:"#333",textAlign:"center",marginBottom:"20px",textTransform:"uppercase",letterSpacing:"1px"},trainingPhotosGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"15px",marginBottom:"20px"},trainingPhotoCard:{position:"relative",aspectRatio:"1",borderRadius:"15px",background:"#fff",border:"3px solid #eee",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s",overflow:"hidden"},trainingPhotoCardSelected:{border:"3px solid #7B68EE",boxShadow:"0 4px 15px rgba(123, 104, 238, 0.3)"},trainingPhotoImage:{width:"90%",height:"90%",objectFit:"contain"},trainingPhotoCheck:{position:"absolute",top:"8px",right:"8px",width:"24px",height:"24px"},feedbackPanel:{width:"320px",padding:"25px",borderRadius:"20px",background:"#1a1a2e",border:"4px solid transparent",backgroundImage:"linear-gradient(#1a1a2e, #1a1a2e), linear-gradient(135deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",display:"flex",flexDirection:"column",alignItems:"center"},feedbackTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#fff",textAlign:"center",marginBottom:"20px",textTransform:"uppercase",letterSpacing:"1px"},feedbackImage:{width:"200px",height:"200px",objectFit:"contain",marginBottom:"20px"},feedbackValueText:{fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:700,color:"#fff",textTransform:"uppercase"},feedbackPanelContainer:{position:"absolute",top:"100px",right:"30px",zIndex:50},rangerPraisePopup:{position:"absolute",bottom:"120px",right:"200px",padding:"15px 25px",borderRadius:"15px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #7B68EE",boxShadow:"0 5px 20px rgba(0,0,0,0.2)",zIndex:200},rangerPraiseText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",margin:0},retrainingContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",zIndex:50},modelGif:{width:"400px",height:"auto",marginBottom:"30px"},progressBarContainer:{width:"400px",height:"20px",background:"rgba(255,255,255,0.3)",borderRadius:"10px",overflow:"hidden",margin:"0 auto 30px"},progressBarFill:{height:"100%",background:"linear-gradient(90deg, #5170FF, #7B68EE)",borderRadius:"10px",transition:"width 0.1s linear"},finalAccuracyContainer:{padding:"40px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #5170FF, #7B68EE)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},finalAccuracyLabel:{fontFamily:"'Montserrat', sans-serif",fontSize:"14px",fontWeight:600,color:"#666",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"10px"},finalAccuracyValue:{fontFamily:"'Montserrat', sans-serif",fontSize:"80px",fontWeight:700,color:"#4CAF50",lineHeight:1},finalAccuracyUnit:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:500,color:"#666",marginTop:"5px"},loadingContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",zIndex:50},loadingTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"32px",fontWeight:700,color:"#fff",marginBottom:"30px",textShadow:"0 2px 10px rgba(0,0,0,0.5)"},loadingBar:{width:"400px",height:"20px",background:"rgba(255,255,255,0.3)",borderRadius:"10px",overflow:"hidden",margin:"0 auto"},loadingFill:{height:"100%",background:"linear-gradient(90deg, #5170FF, #7B68EE)",borderRadius:"10px",transition:"width 0.1s linear"},colorMapContainer:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},colorMapWrapper:{width:"200%",height:"200%",position:"absolute",top:0,left:0,transition:"transform 0.5s ease-in-out"},colorMapImage:{width:"100%",height:"100%",objectFit:"cover"},colorMapNavArrow:{position:"absolute",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"rgba(255, 255, 255, 0.2)",borderRadius:"50%",backdropFilter:"blur(10px)"},colorMapArrowImage:{width:"30px",height:"30px",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.3))"},colorMapUpArrow:{top:"20px",left:"50%",transform:"translateX(-50%)"},colorMapDownArrow:{bottom:"20px",left:"50%",transform:"translateX(-50%)"},colorMapLeftArrow:{left:"20px",top:"50%",transform:"translateY(-50%)"},colorMapRightArrow:{right:"20px",top:"50%",transform:"translateY(-50%)"},colorMapMushroom:{position:"absolute",cursor:"pointer",transition:"transform 0.2s",zIndex:20},colorMapMushroomImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 5px 15px rgba(0,0,0,0.3))"},colorMapNpc:{position:"absolute",cursor:"pointer",zIndex:25,transition:"transform 0.2s"},colorMapNpcImage:{width:"100%",height:"100%",objectFit:"contain"},mushroomStatusBadge:{position:"absolute",top:"-10px",left:"50%",transform:"translateX(-50%)",padding:"8px 16px",borderRadius:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px",boxShadow:"0 3px 10px rgba(0,0,0,0.3)",zIndex:30},dangerBadge:{background:"linear-gradient(135deg, #FF4444, #CC0000)",color:"#fff"},edibleBadge:{background:"linear-gradient(135deg, #44FF44, #00CC00)",color:"#fff"},colorMapDialogue:{position:"absolute",top:"10%",left:"50%",transform:"translateX(-50%)",maxWidth:"600px",padding:"25px 30px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",textAlign:"center",zIndex:100},colorMapDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.6,marginBottom:"20px"},colorMapOkButton:{padding:"12px 30px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#5170FF",background:"transparent",border:"2px solid #5170FF",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s"}},qn=Hf[s]||[],zn=d2[b];return o.jsxs("div",{style:v.container,children:[a!=="COLOR_MAP_EXPLORATION"&&a!=="LOADING"&&o.jsx("div",{style:v.overlay}),a==="LOADING"&&o.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#000",zIndex:200},children:o.jsxs("div",{style:v.loadingContainer,children:[o.jsx("h2",{style:v.loadingTitle,children:"Loading..."}),o.jsx("div",{style:v.loadingBar,children:o.jsx("div",{style:{...v.loadingFill,width:`${Ma}%`}})})]})}),a==="COLOR_MAP_EXPLORATION"&&o.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#000",zIndex:100},children:o.jsxs("div",{style:v.colorMapContainer,children:[o.jsx("div",{style:{...v.colorMapWrapper,transform:v2[Ae]},children:o.jsx("img",{src:"/jungle/map_color.png",alt:"Fungi Jungle Color Map",style:v.colorMapImage})}),o.jsx("button",{style:v.exitButton,onClick:t,children:n("exit")}),o.jsx("div",{style:{...v.glitchNpc,width:"120px",height:"120px"},onClick:Ea,children:o.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:{width:"100%",height:"100%",objectFit:"contain"}})}),((ua=rl[Ae])==null?void 0:ua.up)!==void 0&&o.jsx("button",{style:{...v.colorMapNavArrow,...v.colorMapUpArrow},onClick:()=>Mn("up"),onMouseOver:h=>h.currentTarget.style.transform="translateX(-50%) scale(1.1)",onMouseOut:h=>h.currentTarget.style.transform="translateX(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/up.png",alt:"Up",style:v.colorMapArrowImage})}),((Lt=rl[Ae])==null?void 0:Lt.down)!==void 0&&o.jsx("button",{style:{...v.colorMapNavArrow,...v.colorMapDownArrow},onClick:()=>Mn("down"),onMouseOver:h=>h.currentTarget.style.transform="translateX(-50%) scale(1.1)",onMouseOut:h=>h.currentTarget.style.transform="translateX(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/down.png",alt:"Down",style:v.colorMapArrowImage})}),((Ba=rl[Ae])==null?void 0:Ba.left)!==void 0&&o.jsx("button",{style:{...v.colorMapNavArrow,...v.colorMapLeftArrow},onClick:()=>Mn("left"),onMouseOver:h=>h.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:h=>h.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:v.colorMapArrowImage})}),((fn=rl[Ae])==null?void 0:fn.right)!==void 0&&o.jsx("button",{style:{...v.colorMapNavArrow,...v.colorMapRightArrow},onClick:()=>Mn("right"),onMouseOver:h=>h.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:h=>h.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:v.colorMapArrowImage})}),(go=S2[Ae])==null?void 0:go.map(h=>o.jsxs("div",{style:{...v.colorMapMushroom,width:`${h.size}px`,height:`${h.size}px`,top:h.top,bottom:h.bottom,left:h.left,right:h.right},onClick:()=>mt(h.id),onMouseOver:_=>_.currentTarget.style.transform="scale(1.05)",onMouseOut:_=>_.currentTarget.style.transform="scale(1)",children:[o.jsx("img",{src:`/jungle/object/${h.id}.png`,alt:`Mushroom ${h.id}`,style:v.colorMapMushroomImage}),ln===h.id&&o.jsxs("div",{style:{...v.mushroomStatusBadge,...h.status==="DANGER"?v.dangerBadge:v.edibleBadge},children:[h.status==="DANGER"?"":""," ",h.status," (",h.toxicity,")"]})]},h.id)),Kt[Ae]&&o.jsx("div",{style:{...v.colorMapNpc,top:Kt[Ae].top,bottom:Kt[Ae].bottom,left:Kt[Ae].left,right:Kt[Ae].right,width:Kt[Ae].width,height:Kt[Ae].height},onClick:()=>Oa(Kt[Ae].npc),onMouseEnter:()=>Na(Kt[Ae].npc,!0),onMouseLeave:()=>Na(Kt[Ae].npc,!1),onMouseOver:h=>h.currentTarget.style.transform="scale(1.02)",onMouseOut:h=>h.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:Kt[Ae].image,alt:Kt[Ae].npc,style:v.colorMapNpcImage})}),uo&&o.jsxs("div",{style:v.colorMapDialogue,children:[o.jsx("p",{style:v.colorMapDialogueText,children:Ga}),o.jsx("button",{style:v.colorMapOkButton,onClick:St==="npc_c"?Ja:()=>ft(!1),onMouseOver:h=>{h.target.style.backgroundColor="#5170FF",h.target.style.color="#fff"},onMouseOut:h=>{h.target.style.backgroundColor="transparent",h.target.style.color="#5170FF"},children:St==="npc_c"&&((ct=Kt[Ae])!=null&&ct.dialogues[Un])&&za<Kt[Ae].dialogues[Un].length-1?"Continue":"OK"})]})]})}),a!=="LOADING"&&a!=="COLOR_MAP_EXPLORATION"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{style:v.exitButton,onClick:t,children:n("exit")}),o.jsx("div",{style:v.glitchNpc,onClick:()=>{a==="NOISE_REMOVAL"?z("First, look at what you collected. Some of these aren't mushrooms at all! These are what we call 'Noise'."):a==="LABEL_CORRECTION"&&z(Lf[b]),A(!0)},children:o.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:{width:"100%",height:"100%",objectFit:"contain"}})}),o.jsx("img",{src:"/jungle/npc_c.png",alt:"Ranger Moss",style:v.rangerNpc})]}),a==="NOISE_REMOVAL"&&o.jsx("div",{style:v.cardContainer,children:o.jsxs("div",{style:v.card,children:[o.jsx("h2",{style:v.cardTitle,children:"CLEAN THE DATA"}),o.jsx("p",{style:v.cardSubtitle,children:"Please click on the irrelevant items to remove them. Keep ONLY the mushrooms!"}),o.jsx("div",{style:v.itemGrid,children:qn.map(h=>o.jsx("div",{style:{...v.itemCard,...c.includes(h)?v.itemCardRemoved:{}},onClick:()=>de(h),children:!c.includes(h)&&o.jsx("img",{src:`/jungle/object/${h}.png`,alt:`Object ${h}`,style:v.itemImage})},h))}),o.jsx("div",{style:v.trashArea,children:[0,1,2].map(h=>{const _=c[h];return o.jsx("div",{style:{...v.trashSlot,cursor:_?"pointer":"default"},onClick:()=>_&&de(_),children:_&&o.jsx("img",{src:`/jungle/object/${_}.png`,alt:`Removed ${_}`,style:{width:"60px",height:"60px",objectFit:"contain",opacity:.7}})},h)})}),o.jsx("button",{style:v.nextButton,onClick:ht,children:"NEXT"})]})}),a==="LABEL_INTRO"&&o.jsx("div",{style:v.modalOverlay,children:o.jsxs("div",{style:v.dialogueBox,children:[o.jsx("p",{style:v.speakerName,children:"Ranger Moss:"}),o.jsx("p",{style:v.dialogueText,children:ia}),o.jsx("button",{style:v.continueButton,onClick:Ie,children:"Continue "})]})}),a==="LABEL_CORRECTION"&&o.jsx("div",{style:v.cardContainer,children:o.jsxs("div",{style:v.tableCard,children:[o.jsx("h2",{style:v.cardTitle,children:"CORRECT LABELS"}),o.jsx("p",{style:v.cardSubtitle,children:"Click on the cells that contain ERRORS to select them. Find all the incorrect data!"}),o.jsxs("table",{style:v.table,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:v.th,children:"ID"}),o.jsx("th",{style:v.th,children:"Name"}),o.jsx("th",{style:v.th,children:"Color"}),o.jsx("th",{style:v.th,children:"Texture"}),o.jsx("th",{style:v.th,children:"Spikes"}),o.jsx("th",{style:v.th,children:"Toxic"})]})}),o.jsx("tbody",{children:zn.map(h=>o.jsxs("tr",{children:[o.jsxs("td",{style:v.td,children:["#",h.id]}),o.jsx("td",{style:{...v.td,...v.clickableCell,...Ht(h.id,"name")?v.selectedCell:{}},onClick:()=>Tt(h.id,"name"),children:h.name}),o.jsx("td",{style:{...v.td,...v.clickableCell,...Ht(h.id,"color")?v.selectedCell:{}},onClick:()=>Tt(h.id,"color"),children:h.color}),o.jsx("td",{style:{...v.td,...v.clickableCell,...Ht(h.id,"texture")?v.selectedCell:{}},onClick:()=>Tt(h.id,"texture"),children:h.texture}),o.jsx("td",{style:{...v.td,...v.clickableCell,...Ht(h.id,"spikes")?v.selectedCell:{}},onClick:()=>Tt(h.id,"spikes"),children:h.spikes}),o.jsx("td",{style:{...v.td,...v.clickableCell,...Ht(h.id,"toxic")?v.selectedCell:{}},onClick:()=>Tt(h.id,"toxic"),children:h.toxic})]},h.id))})]}),o.jsx("button",{style:v.nextButton,onClick:Cn,children:"NEXT"})]})}),a==="FILL_MISSING_INTRO"&&o.jsx("div",{style:v.modalOverlay,children:o.jsxs("div",{style:v.dialogueBox,children:[o.jsx("p",{style:v.speakerName,children:"Ranger Moss:"}),o.jsx("p",{style:v.dialogueText,children:po}),o.jsx("button",{style:v.continueButton,onClick:sa,children:"Continue "})]})}),a==="FILL_MISSING"&&o.jsxs("div",{style:v.fillMissingContainer,children:[o.jsxs("div",{style:v.fillTableCard,children:[o.jsx("h2",{style:v.cardTitle,children:"FILL MISSING VALUES"}),o.jsx("p",{style:v.cardSubtitle,children:"Click on the  cells to fill in the missing data based on the mushroom photo."}),o.jsxs("table",{style:v.table,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:v.th,children:"ID"}),o.jsx("th",{style:v.th,children:"Name"}),o.jsx("th",{style:v.th,children:"Color"}),o.jsx("th",{style:v.th,children:"Texture"}),o.jsx("th",{style:v.th,children:"Spikes"}),o.jsx("th",{style:v.th,children:"Toxic"})]})}),o.jsx("tbody",{children:ll.map(h=>o.jsxs("tr",{children:[o.jsxs("td",{style:v.td,children:["#",h.id]}),o.jsx("td",{style:v.td,children:h.name}),o.jsx("td",{style:{...v.td,...h.missingField==="color"&&!pe[h.id]?v.missingCell:{},...h.missingField==="color"&&(re==null?void 0:re.itemId)===h.id?v.missingCellActive:{},...h.missingField==="color"&&pe[h.id]?v.filledCell:{}},onClick:()=>h.missingField==="color"&&!pe[h.id]&&Ue(h.id,"color"),children:h.missingField==="color"?pe[h.id]||"[  ]":h.color}),o.jsx("td",{style:{...v.td,...h.missingField==="texture"&&!pe[h.id]?v.missingCell:{},...h.missingField==="texture"&&(re==null?void 0:re.itemId)===h.id?v.missingCellActive:{},...h.missingField==="texture"&&pe[h.id]?v.filledCell:{}},onClick:()=>h.missingField==="texture"&&!pe[h.id]&&Ue(h.id,"texture"),children:h.missingField==="texture"?pe[h.id]||"[  ]":h.texture}),o.jsx("td",{style:{...v.td,...h.missingField==="spikes"&&!pe[h.id]?v.missingCell:{},...h.missingField==="spikes"&&(re==null?void 0:re.itemId)===h.id?v.missingCellActive:{},...h.missingField==="spikes"&&pe[h.id]?v.filledCell:{}},onClick:()=>h.missingField==="spikes"&&!pe[h.id]&&Ue(h.id,"spikes"),children:h.missingField==="spikes"?pe[h.id]||"[  ]":h.spikes}),o.jsx("td",{style:v.td,children:h.toxic})]},h.id))})]}),o.jsx("button",{style:v.nextButton,onClick:dn,children:"NEXT"})]}),o.jsx("div",{style:v.imagePanel,children:re?o.jsxs(o.Fragment,{children:[o.jsxs("h3",{style:v.imagePanelTitle,children:["#",re.itemId]}),o.jsx("img",{src:`/jungle/object/${re.itemId}.png`,alt:`Mushroom ${re.itemId}`,style:v.mushroomImage}),o.jsx("div",{style:v.optionsContainer,children:(fo=ll.find(h=>h.id===re.itemId))==null?void 0:fo.options.map(h=>o.jsx("button",{style:v.optionButton,onClick:()=>jn(h),onMouseOver:_=>_.target.style.transform="scale(1.05)",onMouseOut:_=>_.target.style.transform="scale(1)",children:h},h))})]}):o.jsxs(o.Fragment,{children:[o.jsx("h3",{style:v.imagePanelTitle,children:"Select a cell"}),o.jsx("p",{style:{color:"#aaa",textAlign:"center"},children:"Click on a  cell to see the mushroom photo"})]})})]}),a==="QUIZ"&&o.jsx("div",{style:v.quizContainer,children:o.jsx("div",{style:v.chatCard,children:o.jsx("div",{style:v.chatMessages,children:E.map((h,_)=>h.type==="ranger"?o.jsxs("div",{children:[o.jsxs("div",{style:v.rangerMessage,children:[o.jsx("div",{style:v.rangerAvatar,children:o.jsx("img",{src:"/jungle/npc_c.png",alt:"Ranger",style:{width:"100%",height:"100%",objectFit:"cover"}})}),o.jsxs("div",{style:v.messageBubble,children:[o.jsx("p",{style:v.messageSpeaker,children:"Ranger Moss:"}),o.jsx("p",{style:v.messageText,children:h.text})]})]}),_===E.length-1&&te<Vi.length&&o.jsx("div",{style:v.quizOptions,children:Vi[te].options.map((Y,Me)=>{var M;const W=bt[te]!==void 0,w=((M=bt[te])==null?void 0:M.optionIndex)===Me;return o.jsx("button",{style:{...v.quizOptionButton,...w?v.quizOptionSelected:{}},onClick:()=>!W&&la(Me,Y.correct),disabled:W,children:Y.text},Me)})})]},_):h.type==="user"?o.jsx("div",{style:v.userMessage,children:o.jsx("div",{style:v.userBubble,children:o.jsx("p",{style:v.messageText,children:h.text})})},_):h.type==="button"?o.jsx("button",{style:v.goButton,onClick:qe,onMouseOver:Y=>Y.target.style.transform="scale(1.05)",onMouseOut:Y=>Y.target.style.transform="scale(1)",children:h.text},_):null)})})}),a==="TRAINING"&&o.jsx("div",{style:v.trainingContainer,children:o.jsxs("div",{style:v.trainingCard,children:[o.jsx("h2",{style:v.trainingTitle,children:"MODEL TRAINING"}),o.jsx("img",{src:"/jungle/model.GIF",alt:"Model Training",style:v.trainingGif}),o.jsx("div",{style:v.progressBarContainer,children:o.jsx("div",{style:{...v.progressBar,width:`${Se}%`}})}),o.jsxs("p",{style:v.progressText,children:["Training Progress: ",Se,"%"]}),ke&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{style:v.voiceoverText,children:[o.jsx("strong",{children:"Ranger Moss:"}),' "',f2,'"']}),o.jsx("button",{style:{...v.goButton,marginTop:"20px"},onClick:Jt,onMouseOver:h=>h.target.style.transform="scale(1.05)",onMouseOut:h=>h.target.style.transform="scale(1)",children:"Continue "})]})]})}),a==="VALIDATION_INTRO"&&o.jsx("div",{style:v.validationContainer,children:o.jsxs("div",{style:v.validationCard,children:[o.jsx("p",{style:v.speakerName,children:"Ranger Moss:"}),o.jsx("p",{style:v.validationText,children:h2}),La===0&&o.jsx("div",{style:v.validationOptions,children:m2.map((h,_)=>o.jsx("button",{style:v.validationOption,onClick:()=>Gn(h.correct),onMouseOver:Y=>Y.target.style.background="rgba(81, 112, 255, 0.2)",onMouseOut:Y=>Y.target.style.background="rgba(81, 112, 255, 0.1)",children:h.text},_))}),La===1&&o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{...v.validationText,marginTop:"20px",color:"#5170FF"},children:x2}),o.jsx("button",{style:{...v.goButton,marginTop:"20px"},onClick:kn,onMouseOver:h=>h.target.style.transform="scale(1.05)",onMouseOut:h=>h.target.style.transform="scale(1)",children:"Continue "})]})]})}),a==="VALIDATION_DATA"&&o.jsx("div",{style:v.validationContainer,children:o.jsxs("div",{style:v.validationCard,children:[o.jsx("p",{style:v.validationText,children:"Select the mushrooms you want to test the AI with. Choose the NEW mushrooms that the AI hasn't seen before!"}),o.jsx("div",{style:v.testMushroomGrid,children:Nu.map(h=>o.jsxs("div",{style:{...v.testMushroomCard,...Xe.includes(h.id)?v.testMushroomCardSelected:{}},onClick:()=>et(h.id),children:[o.jsx("img",{src:`/jungle/object/${h.id}.png`,alt:`Mushroom ${h.id}`,style:v.testMushroomImage}),Xe.includes(h.id)&&h.isNew&&o.jsx("img",{src:"/jungle/icon/correct.png",alt:"Correct",style:v.correctIcon}),at&&Xe.includes(h.id)&&o.jsx("div",{style:v.scanningOverlay,children:o.jsx("span",{style:{color:"#fff",fontWeight:"bold"},children:"Scanning..."})})]},h.id))}),!Bt&&o.jsxs("div",{ref:Ft,style:v.slideButtonContainer,children:[o.jsx("div",{style:{...v.slideButtonTrack,left:`${5+Rt}px`,cursor:"grab",..._t?{cursor:"grabbing"}:{}},onMouseDown:ra,onTouchStart:Ne,children:o.jsx("img",{src:"/jungle/icon/arrow.png",alt:"Arrow",style:v.arrowIcon})}),o.jsx("span",{style:v.slideButtonText,children:"TEST THE MODEL"})]}),Bt&&o.jsxs("div",{style:v.predictionContainer,children:[o.jsx("p",{style:v.predictionLabel,children:"YOUR AI PREDICTION"}),o.jsx("p",{style:v.predictionValue,children:"45%"}),o.jsx("p",{style:v.predictionUnit,children:"ACCURACY"}),o.jsx("button",{style:{...v.goButton,marginTop:"30px"},onClick:gn,onMouseOver:h=>h.target.style.transform="scale(1.05)",onMouseOut:h=>h.target.style.transform="scale(1)",children:"Continue "})]})]})}),a==="ADJUST_MODEL_INTRO"&&o.jsx("div",{style:v.leftDialogueContainer,children:o.jsxs("div",{style:v.dialogueHistoryBox,children:[o.jsx("p",{style:v.speakerName,children:"Ranger Moss:"}),Dt.map((h,_)=>o.jsx("p",{style:{...v.dialogueHistoryItem,..._===Dt.length-1&&!so&&Xt!==1?v.dialogueHistoryItemLast:{}},children:h},_)),Xt===0&&so&&o.jsxs("p",{style:{...v.dialogueHistoryItem,...v.dialogueHistoryItemLast},children:[so,un&&o.jsx("span",{style:{opacity:.5},children:"|"})]}),Xt===0&&o.jsx("button",{style:v.continueButton,onClick:Da,children:un?"Skip":"Continue "}),Xt===1&&o.jsx("div",{style:v.adjustOptionsContainer,children:y2.map((h,_)=>o.jsxs("button",{style:{...v.adjustOptionButton,...ot===_?{opacity:.1}:{}},onClick:()=>Qa(h,_),onMouseOver:Y=>{ot!==_&&(Y.target.style.borderColor="#7B68EE")},onMouseOut:Y=>{ot!==_&&(Y.target.style.borderColor="#ddd")},disabled:ot===_,children:[String.fromCharCode(65+_),". ",h.text]},_))}),Xt===2&&o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{...v.dialogueHistoryItem,marginTop:"15px",color:"#4CAF50",borderBottom:"none"},children:b2}),o.jsx("button",{style:v.continueButton,onClick:()=>i("ADJUST_MODEL_DATA"),children:"Select Training Data "})]})]})}),a==="ADJUST_MODEL_DATA"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:v.leftDialogueContainer,children:o.jsxs("div",{style:v.trainingPhotosCard,children:[o.jsx("h3",{style:v.trainingPhotosTitle,children:"Potential Training Photos"}),o.jsx("div",{style:v.trainingPhotosGrid,children:Uf.map(h=>o.jsxs("div",{style:{...v.trainingPhotoCard,...Qe.includes(h.id)?v.trainingPhotoCardSelected:{}},onClick:()=>An(h),children:[o.jsx("img",{src:`/jungle/object/${h.id}.png`,alt:`Training photo ${h.id}`,style:v.trainingPhotoImage}),Qe.includes(h.id)&&h.isGood&&o.jsx("img",{src:"/jungle/icon/correct.png",alt:"Correct",style:v.trainingPhotoCheck})]},h.id))}),Qe.length>=4&&o.jsxs("div",{ref:Ua,style:v.slideButtonContainer,children:[o.jsx("div",{style:{...v.slideButtonTrack,left:`${5+Bo}px`,cursor:"grab",...ka?{cursor:"grabbing"}:{}},onMouseDown:In,children:o.jsx("img",{src:"/jungle/icon/arrow.png",alt:"Arrow",style:v.arrowIcon})}),o.jsx("span",{style:v.slideButtonText,children:"IMPROVE ACCURACY"})]})]})}),Ia&&io&&o.jsx("div",{style:v.feedbackPanelContainer,children:o.jsxs("div",{style:v.feedbackPanel,children:[o.jsx("h3",{style:v.feedbackTitle,children:"Feedback Panel"}),o.jsx("img",{src:`/jungle/object/${io.duplicateOf}.png`,alt:"Duplicate",style:v.feedbackImage}),o.jsx("p",{style:v.feedbackValueText,children:"LOW VALUE"})]})})]}),na&&o.jsx("div",{style:v.rangerPraisePopup,children:o.jsx("p",{style:v.rangerPraiseText,children:" Excellent choice! A new angle/condition. That will help it generalize!"})}),a==="ADJUST_MODEL_TRAINING"&&o.jsxs("div",{style:v.retrainingContainer,children:[o.jsx("img",{src:"/jungle/model.GIF",alt:"Model Training",style:v.modelGif}),zt<100&&o.jsx("div",{style:v.progressBarContainer,children:o.jsx("div",{style:{...v.progressBarFill,width:`${zt}%`}})}),zt>=100&&o.jsxs("div",{style:v.finalAccuracyContainer,children:[o.jsx("p",{style:v.finalAccuracyLabel,children:"Your AI Prediction"}),o.jsx("p",{style:v.finalAccuracyValue,children:"95%"}),o.jsx("p",{style:v.finalAccuracyUnit,children:"ACCURACY"}),o.jsx("button",{style:{...v.goButton,marginTop:"30px"},onClick:it,onMouseOver:h=>h.target.style.transform="scale(1.05)",onMouseOut:h=>h.target.style.transform="scale(1)",children:"Done"})]})]}),a==="COMPLETE"&&o.jsx("div",{style:v.cardContainer,children:o.jsxs("div",{style:v.completeCard,children:[o.jsx("h2",{style:v.completeTitle,children:" Data Cleaning Complete!"}),o.jsxs("p",{style:v.completeText,children:[o.jsx("strong",{children:"Ranger Moss:"}),' "Excellent! You used visual evidence to fill in the missing data. Now our dataset is completeno holes, no errors."']}),o.jsx("p",{style:v.statusText,children:"System Status: 100% Clean "}),o.jsx("button",{style:v.nextStepButton,onClick:e,onMouseOver:h=>h.target.style.transform="scale(1.05)",onMouseOut:h=>h.target.style.transform="scale(1)",children:"Next Step: Model Training "})]})}),p&&o.jsx("div",{style:v.leftDialogueContainer,children:o.jsxs("div",{style:v.dialogueHistoryBox,children:[o.jsx("p",{style:v.speakerName,children:"Ranger Moss:"}),H.map((h,_)=>o.jsx("p",{style:{...v.dialogueHistoryItem,..._===H.length-1&&!P?v.dialogueHistoryItemLast:{}},children:h},_)),P&&o.jsxs("p",{style:{...v.dialogueHistoryItem,...v.dialogueHistoryItemLast},children:[P,B&&o.jsx("span",{style:{opacity:.5},children:"|"})]}),o.jsx("button",{style:v.continueButton,onClick:Ya,children:B?"Skip":"Continue "})]})}),!p&&H.length>0&&a!=="NOISE_REMOVAL"&&a!=="LABEL_CORRECTION"&&a!=="FILL_MISSING"&&a!=="QUIZ"&&a!=="TRAINING"&&a!=="VALIDATION_INTRO"&&a!=="VALIDATION_DATA"&&a!=="ADJUST_MODEL_INTRO"&&a!=="ADJUST_MODEL_DATA"&&a!=="ADJUST_MODEL_TRAINING"&&a!=="LOADING"&&a!=="COLOR_MAP_EXPLORATION"&&a!=="COMPLETE"&&o.jsx("div",{style:v.leftDialogueContainer,children:o.jsxs("div",{style:v.dialogueHistoryBox,children:[o.jsx("p",{style:v.speakerName,children:"Ranger Moss:"}),H.map((h,_)=>o.jsx("p",{style:{...v.dialogueHistoryItem,..._===H.length-1?v.dialogueHistoryItemLast:{}},children:h},_))]})}),x&&a!=="LOADING"&&a!=="COLOR_MAP_EXPLORATION"&&o.jsxs("div",{style:v.glitchHintInline,children:[o.jsx("button",{style:v.glitchHintCloseBtn,onClick:()=>A(!1),children:""}),o.jsxs("p",{style:v.glitchHintInlineText,children:[" ",U]})]}),o.jsx("div",{style:v.navArrow,children:""})]})},w2=`
  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translate(-50%, -50%) translateY(0);
    }
    40% {
      transform: translate(-50%, -50%) translateY(-30px);
    }
    60% {
      transform: translate(-50%, -50%) translateY(-15px);
    }
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes stampAppear {
    0% {
      opacity: 0;
      transform: scale(0) rotate(-10deg);
    }
    50% {
      opacity: 1;
      transform: scale(1.2) rotate(-5deg);
    }
    100% {
      opacity: 1;
      transform: scale(1) rotate(-10deg);
    }
  }
  
  @keyframes pulse {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(1.1);
      opacity: 0.7;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.type="text/css",e.innerText=w2,document.head.appendChild(e)}const dt={SEGMENT_1:0,SEGMENT_2:1,SEGMENT_3:2},Gf={glitch:{text:"Warning! This desert is dangerous. We need to find that yellow robot, 'Alpha,' immediately! He should be in the castle ahead.",speaker:"Glitch"},npc1:[{text:"Run! Just run! The castle's defense system has gone mad! It's attacking everyone!",speaker:"NPC1"},{text:"Unless you are looking for 'Alpha'... He's still deep inside , trying to shut down the system!",speaker:"NPC1"}],npc2:[{text:"Don't go there! The castle  thinks we are monsters!",speaker:"NPC2"},{text:"Run away!",speaker:"NPC2"}],gatekeeper:[{text:"You... you must be looking for Alpha. He's inside the main hall. But the castle is terrifying right now.",speaker:"Gatekeeper"},{text:"You can try zooming in to check the situation, but I'm not risking my life going in there.",speaker:"Gatekeeper"}],npc5:{text:"Enjoy the colors, human. I will keep watchquietly this time.",speaker:"NPC 5"},npc6:{text:"Alert... just kidding. No alerts today.",speaker:"NPC 6"},npc7:{text:"Happiness, Safety, and... Acupuncture?",speaker:"NPC 7"},alphaFinal:{text:"System Status: Normal. Defense protocols deactivated. The castle is safe. Thank you, Engineer. I am now processing data with context.",speaker:"Alpha"}},mn=[{type:"message",speaker:"Alpha",text:"Hello, **humans**. Sorry for the sudden blackout. As you can see, the staff have all fled."},{type:"choice",text:"Why did everyone run away?"},{type:"message",speaker:"Alpha",text:"Here's what happened: During the annual **Sandstorm**, a massive dust storm rolled in. The camera feeds are now full of noise, glare, and motion blur."},{type:"choice",text:"Continue"},{type:"message",speaker:"Alpha",text:"**Critical issue**: Our vision AI has never been trained on workers covered in sand. In its eyes, workers look like well **giant sandworms**. It attacked the staff."},{type:"choice",text:"How can we fix this?"},{type:"message",speaker:"Alpha",text:"We need your help right now:  Please send photos or video clips of **workers in sandstorm conditions**hoods up, goggles on, half-buried in dust, whatever you've got."},{type:"missionAccept",text:"Mission Accepted"}],xn=[{type:"message",speaker:"Alpha",text:"Data received! Wow... these photos are completely different from my database."},{type:"message",speaker:"Alpha",text:"(Shows comparison: Clear vs. Blurry)",image:"/desert/sample.png"},{type:"message",speaker:"Alpha",text:"Look. The 'workers' I learned about before were clear, like the left image. But in the photos you took, there is flying sand everywhere."},{type:"message",speaker:"Alpha",text:"In the AI world, we call this interferencesand, rain, or blurry pixels'**Noise**'. Just like looking through dirty glasses, **Noise** reduces Data Quality."},{type:"quiz",question:"Now tell me, Why did AI mistake the employee?",options:[{text:"Because I am stupid and my chip is broken.",correct:!1},{text:"Because 'Noise' (sand) lowered the data quality and hid the features.",correct:!0},{text:"Because that employee actually looks like a worm.",correct:!1}]},{type:"message",speaker:"Alpha",text:"Exactly! High-quality Data is crucial for AI. Since we have to use these 'noisy' photos now..."},{type:"message",speaker:"Alpha",text:"I need you to help me distinguish: which ones are real humans and which ones are just noise. Let's start labeling!"}],da=[{type:"message",speaker:"Alpha",text:"Thank you for your corrections. Now, a quick question:  What's the scientific term for what you just did to help me fix those images?"},{type:"quiz",question:"What's the scientific term for what you just did?",options:[{text:"A. Data Mining",correct:!1},{text:"B. Data Labeling",correct:!0},{text:"C. Data Cleaning",correct:!1}]},{type:"message",speaker:"Alpha",text:"Exactly**Data Labeling**! Think of AI like a curious student. And you? You're the teacher. That's the heart of **Supervised Learning**."},{type:"message",speaker:"Alpha",text:"but wait.  Alert! New anomaly detected. I can observe actions but I still struggle with meaning."},{type:"message",speaker:"Alpha",text:"The same actiona raised arm, a flashing light, a sudden movementcan mean completely different things depending on the surroundings."},{type:"message",speaker:"Alpha",text:"Let's analyze how Environmental Context alters my judgment."},{type:"action",text:"Accepted",action:"startMission3"}],C2=({onExit:e})=>{var or;const{t}=ao(),n=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),a=g=>{switch(g.toLowerCase()){case"alpha":return{borderColor:"#FABA14",progressColor:"#FABA14",avatar:"/desert/npc/npc4.png"};case"sparky":return{borderColor:"#4A90E2",progressColor:"#4A90E2",avatar:"/island/npc/spark.png"};case"momo":return{borderColor:"#333333",progressColor:"#333333",avatar:"/glacier/npc/momo.png"};default:return{borderColor:"#FABA14",progressColor:"#FABA14",avatar:"/desert/npc/npc4.png"}}},[i,s]=u.useState(dt.SEGMENT_1),[l,c]=u.useState(!1),[d,b]=u.useState(null),[j,C]=u.useState(null),[S,x]=u.useState(0),[A,U]=u.useState(""),[z,p]=u.useState(""),[f,y]=u.useState(!1),[I,P]=u.useState(!0),[Q,B]=u.useState("desert"),[q,H]=u.useState(!1),[le,ee]=u.useState([]),[ne,pe]=u.useState(0),[ze,re]=u.useState(!1),[F,V]=u.useState(!1),[L,E]=u.useState({x:0,y:0}),[se,te]=u.useState(!1),[me,bt]=u.useState(!1),[J,Se]=u.useState(null),[ue,ke]=u.useState([]),[oo,La]=u.useState({}),[vt,Xe]=u.useState(!1),[Et,at]=u.useState(!1),[rt,Bt]=u.useState(0),[wa,Rt]=u.useState(!1),[Ca,_t]=u.useState([]),[Yt,Ft]=u.useState(!1),[Wt,mi]=u.useState(null),[Xt,on]=u.useState(!1),[Qe,sn]=u.useState(!1),[io,ta]=u.useState([]),[zt,ja]=u.useState(0),[na,Qt]=u.useState(!1),[Ua,Bo]=u.useState(""),[aa,ka]=u.useState(!1),[Sn,so]=u.useState(null),[Le,un]=u.useState(""),[lo,Dt]=u.useState([]),[Aa,ot]=u.useState(!1),[xi,Ia]=u.useState(!1),[ro,Ae]=u.useState(0),[Ro,_o]=u.useState(!1),[co,uo]=u.useState(!1),[ft,Ga]=u.useState(0),[oa,St]=u.useState([]),[Vt,_e]=u.useState(!1),[Tn,Ma]=u.useState(!1),{playClickSound:Ve,playCameraSound:ln,playStampSound:Fo,playSafeSound:Un,playAlertSound:Ho,playCorrectSound:za,playWrongSound:wn}=Ls(),{startTypingSound:qa,stopTypingSound:ia}=Bp("/sound/desert_typing.wav"),[po,Ya]=u.useState(!1),[de,ht]=u.useState("intro"),[Ie,Tt]=u.useState(null),[Cn,sa]=u.useState([]),[Ue,jn]=u.useState(null),[dn,la]=u.useState(!1),[qe,Jt]=u.useState(0),[Gn,kn]=u.useState({}),[et,Wa]=u.useState({}),[Pt,ra]=u.useState(!1),[pn,wt]=u.useState(!1),[Ne,Zt]=u.useState(null),[Xa,gn]=u.useState(!1),[Da,Qa]=u.useState(!1),[An,Va]=u.useState(""),[it,ca]=u.useState(!1),[In,rn]=u.useState(!1),[Ye,Mn]=u.useState(!1),[Oa,Ja]=u.useState(""),[Na,Ea]=u.useState(!1),mt={sample:{image:"/desert/Mission/sample.png",aiLogic:'AI Logic: "No movement detected  Worker is dead."',tags:[{id:"game",text:"Safe Zone: Playground",correct:!0,update:'Updated AI Logic: "User is simulating injury within a game. Status: PLAYING."'},{id:"distance",text:"Observer at a Distance",correct:!0,update:'Updated AI Logic: "Visual resolution low. Status: INSUFFICIENT DATA."'},{id:"time",text:"Short Observation Window",correct:!0,update:'Updated AI Logic: "Observation window too short. Status: PAUSED."'}]},puzzles:[{id:"puzzle1",image:"/desert/Mission/puzzle01.png",aiLogic:'AI Logic: "Object detected: Explosive Device. Action: ATTACKING. Threat Level: HIGH."',tags:[{id:"location",text:"Location: Fuel Depot",correct:!1},{id:"calendar",text:"Calendar: Lunar New Year",correct:!0,update:"Update: The worker is celebrating, not attacking. Threat Level: CLEARED."},{id:"state",text:"State: Fuse Ignited",correct:!1}]},{id:"puzzle2",image:"/desert/Mission/puzzle02.png",aiLogic:'AI Logic: "Object: Iron Sheet. Posture: Charging. Intent: Shield Bash / Riot. Status: THREAT."',tags:[{id:"audio",text:"Audio: High Decibel Screaming",correct:!1},{id:"database",text:"Database Match: Police Riot Shield",correct:!1},{id:"weather",text:"Weather: Sandstorm Warning",correct:!0,update:"Update: The iron sheet is a shield against the sand. Threat Level: CLEARED."}]},{id:"puzzle3",image:"/desert/Mission/puzzle03.png",aiLogic:'AI Logic: "Object: Spike. Posture: Attacking. Intent: Weapon Strike. Status: THREAT."',tags:[{id:"audio",text:"Audio: Low Groaning",correct:!1},{id:"sign",text:'Sign: "Wellness Spa"',correct:!0,update:"Revised Logic: The spike is a medical tool. The cactus is a doctor. Status: ACUPUNCTURE THERAPY (HEALING)."},{id:"weapon",text:"Weapon: Poisoned Dart",correct:!1}]}]},Ht=[{id:1,name:"Silverbark Frond",description:"Glass-hard leaves that shatter when threatened, releasing mild toxin dust.",image:"/desert/Mission/leaf1.png",initialVotes:["healthy","healthy","uncertain"],correctAnswer:"healthy",needsDiscussion:!1},{id:2,name:"Glowmoss Petal-Leaf",description:"Half-plant, half-fungus; glows softly at night and clings to old pipes.",image:"/desert/Mission/leaf2.png",initialVotes:["unhealthy","unhealthy","uncertain"],correctAnswer:"unhealthy",needsDiscussion:!1},{id:3,name:"Crystal Thornleaf",description:"Said to sense emotionsits leaves vibrate faintly with sound waves.",image:"/desert/Mission/leaf3.png",initialVotes:["unhealthy","healthy","uncertain"],afterDiscussionVotes:["healthy","healthy","uncertain"],correctAnswer:"healthy",needsDiscussion:!0},{id:4,name:"Whisper Vine Leaf",description:"Grows in castle cracks; metallic crystals make it shimmer in sunlight.",image:"/desert/Mission/leaf4.png",initialVotes:["unhealthy","healthy","uncertain"],afterDiscussionVotes:["unhealthy","unhealthy","uncertain"],correctAnswer:"unhealthy",needsDiscussion:!0}],v=[{id:1,name:"Prickle",npc:"npc7"},{id:2,name:"Obsidian",npc:"npc6"},{id:3,name:"Bloom",npc:"npc3"}],qn=[{id:1,src:"/desert/Mission/01.png",correctAnswer:"confirmed"},{id:2,src:"/desert/Mission/02.png",correctAnswer:"rejected"},{id:3,src:"/desert/Mission/03.png",correctAnswer:"rejected"},{id:4,src:"/desert/Mission/04.png",correctAnswer:"rejected"},{id:5,src:"/desert/Mission/05.png",correctAnswer:"confirmed"}],zn={[dt.SEGMENT_1]:[{id:"01",size:250,left:"40%",bottom:"10%"},{id:"02",size:150,left:"10%",bottom:"15%"},{id:"06",size:120,left:"20%",top:"40%"},{id:"07",size:120,right:"10%",top:"30%"}],[dt.SEGMENT_2]:[{id:"05",size:180,left:"0%",bottom:"10%"},{id:"11",size:150,right:"0%",bottom:"10%"},{id:"09",size:100,left:"25%",bottom:"15%"},{id:"10",size:180,right:"25%",bottom:"20%"}],[dt.SEGMENT_3]:[{id:"03",size:220,right:"10%",bottom:"10%"},{id:"04",size:100,left:"40%",bottom:"25%"},{id:"08",size:120,left:"15%",top:"40%"}]};u.useEffect(()=>{const g=localStorage.getItem("aiJourneyUser");if(g){const Z=JSON.parse(g).desertProgress;Z&&(s(Z.currentSegment||dt.SEGMENT_1),B(Z.currentView||"desert"),V(Z.missionStarted||!1),ke(Z.capturedObjects||[]),Z.mission1Completed,Z.mission2Completed&&at(!0),Z.mission3Completed,Z.mission4Completed&&Mn(!0),console.log("Loaded Desert progress:",Z))}fetch("/desert/object/description.json").then(D=>D.json()).then(D=>La(D.objects)).catch(D=>console.error("Failed to load object descriptions:",D))},[]),u.useEffect(()=>{const g=localStorage.getItem("aiJourneyUser");if(g){const D=JSON.parse(g);D.desertProgress={currentSegment:i,currentView:Q,missionStarted:F,capturedObjects:ue,mission1Completed:ue.length>=11,mission2Completed:Et,mission3Completed:Ye&&!dn,mission4Completed:Ye&&Da,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(D)),console.log("Saved Desert progress:",D.desertProgress)}},[i,Q,F,ue,Et,Ye,dn,Da]),u.useEffect(()=>{if(!d||!l)return;const g=d.text;if(!g)return;let D=0;p(""),y(!0),qa();const Z=setInterval(()=>{if(D<g.length)p(g.substring(0,D+1)),D++;else{y(!1),ia(),clearInterval(Z);const ae=Gf[j];Array.isArray(ae)&&S<ae.length-1&&setTimeout(()=>{const N=S+1;x(N),b(ae[N])},2e3)}},30);return()=>{clearInterval(Z),ia()}},[d,l,j,S,qa,ia]),u.useEffect(()=>{const g=setInterval(()=>{P(D=>!D)},500);return()=>clearInterval(g)},[]),u.useEffect(()=>{if(!F||Ye||ue.length>=11)return;const g=D=>{E({x:D.clientX,y:D.clientY})};return window.addEventListener("mousemove",g),()=>window.removeEventListener("mousemove",g)},[F,Ye,ue.length]),u.useEffect(()=>{F||Ye||Q!=="desert"||q||d&&d.isMission2||(c(!1),i===dt.SEGMENT_1?setTimeout(()=>Lt("npc1"),300):i===dt.SEGMENT_2?setTimeout(()=>Lt("gatekeeper"),300):i===dt.SEGMENT_3&&setTimeout(()=>Lt("npc2"),300))},[i,F,Ye,Q,q,d]),u.useEffect(()=>{if(!In)return;const g="SYSTEM REBOOT INITIATED";let D=0;Ja(""),Ea(!0);const Z=setInterval(()=>{D<g.length?(Ja(g.substring(0,D+1)),D++):(Ea(!1),clearInterval(Z))},100);return()=>clearInterval(Z)},[In]),u.useEffect(()=>{if(!Sn)return;const g=Sn.text;if(!g)return;let D=0;Bo(""),ka(!0);const Z=setInterval(()=>{D<g.length?(Bo(g.substring(0,D+1)),D++):(ka(!1),clearInterval(Z))},30);return()=>clearInterval(Z)},[Sn]),u.useEffect(()=>{if(Qe){if(Le==="quiz1_intro"&&!aa){const g=setTimeout(()=>{Uo()},2e3);return()=>clearTimeout(g)}if(Le==="quiz1_feedback"&&!aa){const g=setTimeout(()=>{Uo()},2e3);return()=>clearTimeout(g)}if(Le==="mission4_part1"&&!aa){const g=setTimeout(()=>{un("mission4_part2"),Dt(D=>[...D,{type:"alpha",text:`One final task and it's urgent.

Go to the gate of the castle. For each leaf image, you'll see labels from three expert biologists: Healthy, Infected, or Uncertain.`}])},2500);return()=>clearTimeout(g)}if(Le==="mission4_part2"&&!aa){const g=setTimeout(()=>{un("mission4_part3"),Dt(D=>[...D,{type:"alpha",text:"If two or more agree, the system will automatically accept the majority verdict."}])},2500);return()=>clearTimeout(g)}}},[Le,aa,Qe]);const ua=g=>{console.log("Navigate:",g,"Current segment:",i),g==="left"?s(D=>{const Z=D===dt.SEGMENT_1?dt.SEGMENT_3:D-1;return console.log("Left navigation: from",D,"to",Z),Z}):g==="right"&&s(D=>{const Z=D===dt.SEGMENT_3?dt.SEGMENT_1:D+1;return console.log("Right navigation: from",D,"to",Z),Z})},Lt=g=>{const D=Gf[g];C(g),Array.isArray(D)?(b(D[0]),x(0)):(b(D),x(0)),c(!0)},Ba=()=>{F?(b({text:`Mission Progress: ${ue.length}/11 objects photographed. Keep exploring!`,speaker:"Glitch"}),C("glitch"),c(!0)):(C("glitch"),Lt("glitch"))},fn=()=>{A.trim()&&(console.log("User message to Glitch:",A),U(""))},go=g=>{g.key==="Enter"&&fn()},ct=g=>{if(!g)return g;const D=[];let Z=g,ae=0;const N=/(\*\*.*?\*\*)/g;return Z.split(N).forEach((he,Lc)=>{if(he.startsWith("**")&&he.endsWith("**")){const Ps=he.slice(2,-2);D.push(o.jsx("span",{style:{fontWeight:"bold",color:"#FABA14"},children:Ps},`bold-${ae++}`))}else he.split(/(Alpha|'Alpha')/).forEach((Yi,Uc)=>{Yi==="Alpha"||Yi==="'Alpha'"?D.push(o.jsx("span",{style:{fontWeight:"bold",color:"#FF0845"},children:Yi},`alpha-${ae++}`)):Yi&&D.push(Yi)})}),D},fo=g=>g&&g.split(/('Alpha'|Alpha)/).map((Z,ae)=>Z==="Alpha"||Z==="'Alpha'"?o.jsx("span",{style:{fontWeight:"bold",color:"#FFFFFF"},children:Z},ae):Z),h=g=>g&&g.split(/(\*\*[^*]+\*\*)/).map((Z,ae)=>{if(Z.startsWith("**")&&Z.endsWith("**")){const N=Z.slice(2,-2);return o.jsx("strong",{style:{fontWeight:"bold"},children:N},ae)}return Z}),_=g=>{switch(g){case"glitch":return{position:"absolute",top:"15px",right:"145px",width:"300px",zIndex:100};case"npc1":return{position:"absolute",bottom:"calc(20% + 50vh - 20px)",left:"calc(20% + 350px)",width:"48%",maxWidth:"600px",zIndex:100};case"npc2":return{position:"absolute",bottom:"calc(25% + 50vh - 20px)",right:"calc(25% + 350px)",width:"48%",maxWidth:"600px",zIndex:100};case"gatekeeper":return{position:"absolute",bottom:"calc(15% + 5vh)",left:"calc(5% + 250px)",width:"48%",maxWidth:"600px",zIndex:100};case"npc5":case"npc6":case"npc7":return{position:"absolute",bottom:"50px",left:"5%",width:"60%",maxWidth:"750px",zIndex:100};default:return{position:"absolute",bottom:"100px",left:"2%",width:"48%",maxWidth:"600px",zIndex:100}}},Y=()=>{if(d&&d.isMission4Complete){f&&(p(d.text),y(!1),ia());return}else if(d&&d.isMission3)if(f)p(d.text),y(!1),ia();else if(d.step==="intro"||d.step==="briefing")Ws();else{if(d.showMission3Interface)return;if(d.showQuiz)return;if(d.showDoneButton)return;c(!1)}else d&&d.isMission2?Us():f?(p(d.text),y(!1),ia()):d.isSpecial&&d.nextAction?d.nextAction==="mission2Continue1"||d.nextAction==="startMission2"?handleMission2Continue(d.nextAction):d.nextAction==="nextMission"&&Lo():c(!1)},Me=()=>{B("gate"),c(!1)},W=()=>{B("desert")},w=()=>{B("gate"),c(!1)},M=()=>{B("castle"),c(!1)},K=()=>{if(console.log("Alpha clicked. Captured objects:",ue.length),d&&d.isMission2){console.log("Already in Mission 2, ignoring click");return}if(Et){console.log("Phase 2 already completed, ignoring click");return}if(vt&&q){console.log("Already in Phase 2 dialogue, ignoring click");return}ue.length===11?(console.log("Starting Phase 2 dialogue"),Xe(!0),H(!0),_t([]),Bt(0),Rt(!1),Ft(!1),setTimeout(()=>{hn(xn[0])},100)):F?(b({text:`Keep collecting photos! Progress: ${ue.length}/11 objects photographed.`,speaker:"Alpha"}),c(!0)):(H(!0),ee([]),pe(0),re(!1),setTimeout(()=>{$(mn[0])},100))},$=(g,D=null)=>{const Z=D!==null?D:ne;console.log("Adding Alpha message:",g,"Current step:",Z),g.type==="message"&&so(g),ee(N=>[...N,g]);const ae=Z+1;if(pe(ae),console.log("Next step will be:",ae),ae<mn.length){const N=mn[ae].type;N==="choice"||N==="missionAccept"?(console.log("Next item is a choice or mission accept:",mn[ae]),re(!0)):(console.log("Next item is not a choice"),re(!1))}else console.log("Dialogue ended"),re(!1)},oe=g=>{console.log("User chose:",g,"Current step:",ne),ee(Z=>[...Z,{type:"choice",text:g,isUser:!0}]),re(!1);const D=ne+1;if(pe(D),console.log("After choice, moving to step:",D),D<mn.length){const Z=mn[D];console.log("Adding Alpha response:",Z),Z.type==="missionAccept"?re(!0):setTimeout(()=>{$(Z,D)},500)}else console.log("Dialogue completed, starting mission"),setTimeout(()=>{ie()},2e3)},ie=()=>{H(!1),ee([]),pe(0),re(!1);const g=localStorage.getItem("aiJourneyUser");if(g){const D=JSON.parse(g);D.desertProgress||(D.desertProgress={}),D.desertProgress.alphaCompleted=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(D))}V(!0),console.log("Mission started automatically after Alpha dialogue")},ve=g=>{!F||ue.includes(g)||(ln(),Se(g),te(!0),setTimeout(()=>{te(!1),bt(!0),ke(D=>[...D,g]),setTimeout(()=>{bt(!1),Se(null)},3e3)},1500))},Ct=()=>{bt(!1),Se(null)},hn=(g,D=null)=>{const Z=D!==null?D:rt;console.log("=== addPhase2Message ==="),console.log("Current step:",Z),console.log("Dialogue item:",g),console.log("Total flow length:",xn.length),_t(N=>[...N,g]);const ae=Z+1;if(Bt(ae),console.log("Next step will be:",ae),ae<xn.length){const N=xn[ae];if(console.log("Next item type:",N.type),console.log("Next item:",N),N.type==="choice")console.log("Setting waiting for choice"),Rt(!0),Ft(!1);else if(N.type==="quiz")console.log("Showing quiz"),Ft(!0),Rt(!1);else if(N.type==="action")console.log("Showing action button"),Rt(!1),Ft(!1);else if(N.type==="message"){console.log("Auto-continuing to next message in 2 seconds"),Rt(!1),Ft(!1),setTimeout(()=>{console.log("Executing auto-continue to:",N),hn(N,ae)},2e3);return}}else console.log("Reached end of Phase 2 dialogue - starting model.gif and progress bar"),Rt(!1),Ft(!1),setTimeout(()=>{H(!1),Xe(!1),at(!0),ot(!0),setTimeout(()=>{Ia(!0),ar()},500)},2e3)},Ui=g=>{console.log("Phase 2 user chose:",g),_t(Z=>[...Z,{type:"choice",text:g,isUser:!0}]),Rt(!1);const D=rt+1;Bt(D),D<xn.length&&setTimeout(()=>{hn(xn[D],D)},500)},Dn=g=>{const Z=xn[rt].options[g];mi(g),_t(ae=>[...ae,{type:"choice",text:Z.text,isUser:!0,isCorrect:Z.correct}]),setTimeout(()=>{Ft(!1);const ae=rt+1;Bt(ae),ae<xn.length&&hn(xn[ae],ae)},1e3)},nr=()=>{Ve(),console.log("=== handleStartLabeling - Starting Mission 2 ==="),console.log("Closing Alpha dialogue..."),H(!1),Xe(!1),at(!0),uo(!1),b({text:"Mission 2: Friend or Foe Decoder",speaker:"Alpha",isMission2:!0,step:"interface",showMission2Interface:!0}),C("alpha"),Ga(0),St([]),c(!0)},ar=()=>{console.log("=== animateProgressBar ===");let g=0;const D=setInterval(()=>{g+=2,Ae(g),g>=100&&(clearInterval(D),console.log("Progress complete! Starting Mission 2 briefing..."),setTimeout(()=>{ot(!1),Ia(!1),Bc()},500))},50)},Bc=()=>{console.log("=== startMission2Briefing ==="),Xe(!0),H(!0);const g={type:"message",speaker:"Alpha",text:"Data received! Analyzing the 'blurry photos' you brought back... Beep... Zzz... Warning! Due to high noise levels, my Confidence Level is critically low."};console.log("Adding briefing message:",g),_t([g]),setTimeout(()=>{const D={type:"message",speaker:"Alpha",text:"I'll do my best to guess what's in the photosbut I need your human intuition to verify!"};_t(Z=>[...Z,D]),setTimeout(()=>{const Z={type:"message",speaker:"Alpha",text:`Mission Order: Watch the screen closely.

If my judgment is correct, click  [Confirm].

If I mistake a broom for a weapon or a rock for a monster, click  [Reject] and help me learn!`};_t(ae=>[...ae,Z]),Rt(!1),Ft(!1),uo(!0)},2e3)},2e3)},Us=()=>{if(f){p(d.text),y(!1),ia();return}d.isMission2?d.step==="briefing1"?b({text:"I will try to guess what is in the photos, but I need human intuition to verify. Mission Order: Please watch the screen. If my judgment is correct, click  [Confirm]. If I mistake a broom for a weapon, or a rock for a monster, click  [Reject] and correct me!",speaker:"Alpha",isMission2:!0,step:"briefing2"}):d.step==="briefing2"?(b({text:"Mission 2: Friend or Foe Decoder",speaker:"Alpha",isMission2:!0,step:"interface",showMission2Interface:!0}),Ga(0),St([])):d.step==="complete"&&b({text:"Calibration complete! Thank you for the corrections. What is the scientific term for the process you just did to help me fix the images?",speaker:"Alpha",isMission2:!0,step:"quiz",showQuiz:!0}):c(!1)},Gs=g=>{const D=qn[ft],Z=g===D.correctAnswer;Fo();const ae={imageId:D.id,userChoice:g,correctAnswer:D.correctAnswer,isCorrect:Z};St(N=>[...N.filter(he=>he.imageId!==D.id),ae]),Z?setTimeout(()=>{Rc()},1500):(_e(!0),setTimeout(()=>{_e(!1),St(N=>N.filter(be=>be.imageId!==D.id))},3e3))},Rc=()=>{ft<qn.length-1?(Ga(g=>g+1),b({text:"Mission 2: Friend or Foe Decoder",speaker:"Alpha",isMission2:!0,step:"interface",showMission2Interface:!0})):(console.log("=== Mission 2 Complete ==="),c(!1),on(!0),H(!0),ta([]),ja(0),Qt(!1),setTimeout(()=>{qs(da[0])},500))},qs=(g,D=null)=>{const Z=D!==null?D:zt;console.log("=== addMission2CompletionMessage ==="),console.log("Current step:",Z),console.log("Dialogue item:",g),ta(N=>[...N,g]);const ae=Z+1;if(ja(ae),ae<da.length){const N=da[ae];if(console.log("Next item type:",N.type),N.type==="quiz")console.log("Showing quiz"),Qt(!0);else if(N.type==="action")console.log("Showing action button");else if(N.type==="message"){console.log("Auto-continuing to next message in 2 seconds"),setTimeout(()=>{qs(N,ae)},2e3);return}}else console.log("Reached end of Mission 2 completion dialogue")},Ys=g=>{const Z=da[zt].options[g];ta(ae=>[...ae,{type:"choice",text:Z.text,isUser:!0,isCorrect:Z.correct}]),setTimeout(()=>{Qt(!1);const ae=zt+1;ja(ae),ae<da.length&&qs(da[ae],ae)},1e3)},Gi=()=>{Ve(),console.log("Starting Mission 3: Environmental Context Analysis"),H(!1),on(!1),b({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"sample",showMission3Interface:!0}),C("alpha"),c(!0),ht("sample"),Tt(null)},yi=g=>{const D=g==="B",Z=g==="A"?0:g==="B"?1:2;D?(za(),Zt(null),b({text:"Correct! It's called Data Labeling. AI is like a student, and we acted as teachers, telling it 'this is right, that is wrong.' This is known as Supervised Learning!",speaker:"Alpha",isMission2:!0,step:"result",showNextButton:!0})):(wn(),Zt(Z),b({...d,error:"Try again! Think about what we just did to help the AI learn."}))},Lo=()=>{Ve(),console.log("Starting Mission 3: Environmental Context Analysis"),H(!1),c(!1),b({text:"Alert. Alert. Incoming data anomaly detected. I analyze actions but my conclusions are sometimes wrong. I need your help, Again. In this mission, you will teach me something critical: context.",speaker:"Alpha",isMission3:!0,step:"intro"}),c(!0),ht("intro")},Ws=()=>{Ve(),de==="intro"?(b({text:"The same action can mean completely different things depending on the environment. Let's analyze how Environmental Context alters my judgment.",speaker:"Alpha",isMission3:!0,step:"briefing"}),ht("briefing")):de==="briefing"?(b({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"sample",showMission3Interface:!0}),ht("sample"),Tt(null),sa([])):de==="sample"?(b({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"puzzle1",showMission3Interface:!0}),ht("puzzle1"),jn(mt.puzzles[0]),Tt(null),sa([])):de==="puzzle1"?(b({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"puzzle2",showMission3Interface:!0}),ht("puzzle2"),jn(mt.puzzles[1]),Tt(null)):de==="puzzle2"?(b({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"puzzle3",showMission3Interface:!0}),ht("puzzle3"),jn(mt.puzzles[2]),Tt(null)):de==="puzzle3"&&(ht("quiz1"),c(!1),Ya(!1),b(null),B("castle"),H(!0),sn(!0),un("quiz1_intro"),Dt([]))},_c=g=>{Ve(),Tt(g),de==="sample"&&!Cn.includes(g.id)&&sa(D=>[...D,g.id]),de==="sample"||g.correct?(Un(),wt("safe")):(Ho(),wt("alert")),setTimeout(()=>{wt(!1)},2e3)},Xs=()=>{Ve(),console.log("Mission 3 completed!"),c(!1),rn(!0),setTimeout(()=>{rn(!1),Mn(!0),B("desert"),s(0)},4e3)},Qs=(g,D)=>{de==="quiz1"?D?(za(),Zt(null),un("quiz1_feedback"),Dt(Z=>[...Z,{type:"user",text:"Selected correct answer"}])):(wn(),Zt(g)):de==="quiz2"&&(D?(za(),Zt(null),ht("complete"),un("complete"),Dt(Z=>[...Z,{type:"user",text:"Selected correct answer"}])):(wn(),Zt(g)))},Uo=()=>{Ve(),Zt(null),Le==="quiz1_intro"?(un("quiz1"),Dt(g=>[...g,{type:"alpha",text:`Threats cleared.

I nearly fired the defense lasersat a celebration and a worker just battling the wind.

My core logic failed me.`}])):Le==="quiz1_feedback"&&(ht("quiz2"),un("quiz2"),Dt(g=>[...g,{type:"alpha",text:"The action didn't change. Only the context didthe sandstorm, the setting, the intent."}]))},Fc=()=>{if(Ve(),!Ht[qe].needsDiscussion){wn();return}Wa(D=>({...D,[qe]:!0})),gn(!1),ra(!0),setTimeout(()=>{ra(!1),setTimeout(()=>{gn(!0)},2e3)},1500)},qi=g=>{Ve();const D=Ht[qe];if(D.needsDiscussion&&!et[qe]){wn();return}g===D.correctAnswer?(za(),kn(Z=>({...Z,[qe]:g})),setTimeout(()=>{qe<3?(Jt(qe+1),gn(!1),tt(qe+1)):Hc()},1e3)):wn()},tt=g=>{const D=Ht[g],Z=`Leaf #${g+1}: "${D.name}"
${D.description}`;let ae=0;Va(""),ca(!0),qa();const N=setInterval(()=>{ae<Z.length?(Va(Z.substring(0,ae+1)),ae++):(ca(!1),ia(),clearInterval(N),setTimeout(()=>{gn(!0)},500))},30)},Hc=()=>{Ve(),console.log("Mission 4 completed!"),Qa(!0),la(!1),b({text:"Consensus achieved. The castle's AI systems are now stable and ready to reboot.",speaker:"NPC7",isMission4Complete:!0}),C("npc7"),c(!0)},Yn=()=>{Ve(),c(!1),rn(!0),setTimeout(()=>{rn(!1),Mn(!0),B("desert"),s(0),Qa(!1)},4e3)},Vs=()=>{const g=Ye?"_color.png":".png";return Q==="gate"?`/desert/background/gate${g}`:Q==="castle"?`/desert/background/castle${g}`:`/desert/background/desert${g}`},Js=()=>Q!=="desert"?"0px":{[dt.SEGMENT_1]:"0px",[dt.SEGMENT_2]:"-1360px",[dt.SEGMENT_3]:"-2576px"}[i]||"0px",T={container:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden",background:"#f4e4bc",cursor:F&&!Ye&&ue.length<11?"none":"default"},backgroundImage:{position:"absolute",top:0,left:Q==="desert"?Js():0,width:Q==="desert"?"5200px":"100vw",height:Q==="desert"?"1080px":"100vh",objectFit:Q==="desert"?"none":"cover",objectPosition:Q==="desert"?"top left":"center",zIndex:0,transition:"left 0.5s ease-in-out",imageRendering:"crisp-edges",transform:Q==="desert"?"scale(0.8)":"scale(1)",transformOrigin:Q==="desert"?"top left":"center"},exitButton:{position:"absolute",top:"20px",left:"20px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},glitchNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:100,cursor:"pointer"},glitchImage:{width:"100%",height:"100%",objectFit:"contain"},navArrow:{position:"absolute",top:"50%",transform:"translateY(-50%)",width:"60px",height:"60px",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none"},leftArrow:{left:"30px"},rightArrow:{right:"30px"},arrowImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},npc:{position:"absolute",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},npc1:{bottom:"20%",left:"20%",width:"auto",height:"50vh",maxHeight:"50vh"},npc2:{bottom:"25%",right:"25%",width:"auto",height:"50vh",maxHeight:"50vh"},gatekeeper:{bottom:"15%",left:"5%",width:"auto",height:"25vh",maxHeight:"25vh"},npcImage:{width:"auto",height:"100%",objectFit:"contain"},zoomButton:{position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",height:"400px",cursor:"pointer",zIndex:50,background:"none",border:"none"},zoomImage:{width:"100%",height:"100%",objectFit:"contain"},arrowButton:{position:"absolute",bottom:"30%",left:"50%",transform:"translateX(-50%)",width:"300px",height:"300px",cursor:"pointer",zIndex:50,background:"none",border:"none"},downButton:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",width:"60px",height:"60px",cursor:"pointer",zIndex:50,background:"none",border:"none"},leftButton:{position:"absolute",top:"20px",left:"20px",width:"60px",height:"60px",cursor:"pointer",zIndex:50,background:"none",border:"none"},dialogueBox:{padding:"40px 30px 20px 30px",borderRadius:"20px",background:"#FFF1B5",border:"3px solid #43302E",cursor:"default",position:"relative"},glitchDialogueBox:{background:"rgba(71, 23, 101, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(205, 165, 247, 0.3)",boxShadow:"0 8px 32px 0 rgba(71, 23, 101, 0.37)"},dialogueText:{fontFamily:"'Coming Soon', cursive",fontSize:"18px",color:"#333",lineHeight:1.8,margin:0},glitchDialogueText:{color:"#CDA5F7",lineHeight:2},speaker:{fontFamily:"'Coming Soon', cursive",fontSize:"16px",fontWeight:700,color:"#43302E",marginBottom:"12px",padding:"8px 16px",background:"#43302E",color:"#FFF1B5",borderRadius:"8px",display:"inline-block",position:"absolute",top:"-18px",left:"20px"},glitchSpeaker:{background:"#471765",color:"#CDA5F7",border:"2px solid rgba(205, 165, 247, 0.5)"},glitchDialogueMapStyle:{position:"absolute",top:"20px",right:"150px",padding:"20px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #af4dca",zIndex:100,minWidth:"280px",maxWidth:"320px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)"},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#af4dca",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#af4dca",margin:0},glitchDialogueTextMapStyle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:"0 0 15px 0"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",backgroundColor:"#d9d7de",borderRadius:"20px",border:"2px solid #d9d7de",overflow:"hidden",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",backgroundColor:"#af4dca",margin:"0 8px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},desertObject:{position:"absolute",cursor:"pointer",zIndex:25,transition:"transform 0.2s",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.3))"},objectImage:{width:"100%",height:"100%",objectFit:"contain"},capturedObject:{opacity:.5,filter:"grayscale(100%) drop-shadow(0 2px 5px rgba(0,0,0,0.3))"},cameraOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",zIndex:200,display:"flex",justifyContent:"center",alignItems:"center"},cameraIcon:{width:"400px",height:"auto",animation:"pulse 1.5s ease-in-out"},photoOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",zIndex:200,display:"flex",justifyContent:"center",alignItems:"center"},photoFrame:{position:"relative",width:"800px",height:"1000px",backgroundImage:"url(/desert/icon/photo.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"120px 80px 160px 80px",transition:"transform 0.3s ease-in-out"},photoBackground:{width:"560px",height:"400px",background:"transparent",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"40px",overflow:"hidden"},photoObjectImage:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},photoDescription:{fontFamily:"'Roboto', sans-serif",fontSize:"28px",color:"#333",textAlign:"center",lineHeight:1.4,maxWidth:"560px",background:"rgba(255, 255, 255, 0.9)",padding:"20px",borderRadius:"15px"},photoCloseButton:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.8)",border:"none",borderRadius:"50%",width:"60px",height:"60px",fontSize:"32px",cursor:"pointer",color:"#333",display:"flex",justifyContent:"center",alignItems:"center"},progressTracker:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",alignItems:"center",gap:"15px",zIndex:60},progressHeader:{background:"rgba(255, 255, 255, 0.65)",border:"3px solid #FABA14",borderRadius:"25px",padding:"10px 30px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#333"},progressGrid:{display:"flex",gap:"10px"},progressBox:{width:"80px",height:"80px",borderRadius:"8px",background:"rgba(211, 211, 214, 0.65)",border:"3px dashed white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontFamily:"'Roboto', sans-serif",fontSize:"40px",fontWeight:"bold",color:"white",transition:"all 0.3s"},progressBoxCompleted:{background:"rgba(211, 211, 214, 1)",border:"3px solid white"},progressBoxImage:{width:"60px",height:"60px",objectFit:"contain",marginBottom:"3px"},progressBoxLabel:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",fontWeight:600,color:"#333"},modelGifOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",zIndex:300,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},modelGif:{width:"1200px",height:"auto",marginBottom:"30px"},progressBarContainer:{width:"60%",maxWidth:"500px",height:"20px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"10px",overflow:"hidden"},progressBar:{height:"100%",background:"#FABA14",borderRadius:"10px",transition:"width 0.1s ease"},finalQuizContainer:{background:"#f8f9fa",padding:"25px",borderRadius:"15px",margin:"20px 0",maxWidth:"500px"},finalQuizOptions:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"20px"},finalQuizOption:{padding:"15px 20px",border:"2px solid #ddd",borderRadius:"8px",background:"white",cursor:"pointer",fontFamily:"'Roboto', sans-serif",fontSize:"16px",transition:"all 0.2s"},mission2InterfaceInDialogue:{marginTop:"20px",padding:"30px",background:"rgba(30, 30, 50, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(30, 30, 50, 0.95), rgba(30, 30, 50, 0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center"},mission2ImageDisplayInDialogue:{position:"relative",marginBottom:"40px"},mission2ImageInDialogueNew:{maxWidth:"400px",maxHeight:"300px",objectFit:"contain",borderRadius:"8px",boxShadow:"0 10px 30px rgba(0,0,0,0.5)"},mission2StampInDialogueNew:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"250px",height:"250px",zIndex:10,pointerEvents:"none"},mission2ButtonsInDialogue:{display:"flex",gap:"60px",alignItems:"center"},mission2ButtonInDialogueNew:{display:"flex",flexDirection:"column",alignItems:"center",background:"transparent",border:"none",cursor:"pointer",transition:"transform 0.2s ease"},mission2ButtonIconInDialogueNew:{width:"100px",height:"auto",marginBottom:"15px"},mission2ButtonTextInDialogueNew:{fontFamily:"'Roboto', sans-serif",fontSize:"20px",fontWeight:700,color:"white",textAlign:"center",textTransform:"uppercase",letterSpacing:"1px",textShadow:"0 2px 4px rgba(0,0,0,0.5)"},nextMissionButton:{display:"block",width:"100%",padding:"15px 20px",margin:"15px 0",borderRadius:"8px",border:"none",background:"linear-gradient(90deg, #5170FF, #FFBBC4)",color:"white",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},mission3InterfaceContainer:{marginTop:"20px",padding:"25px",background:"linear-gradient(135deg, #f8f9fa, #e9ecef)",borderRadius:"15px",border:"2px solid #dee2e6"},mission3LogicTextAboveImage:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",marginBottom:"15px",textAlign:"center",fontStyle:"italic"},mission3ImageDisplay:{width:"100%",height:"250px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},mission3ImageInDialogue:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},mission3UpdateTextAboveButtons:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#333",marginBottom:"15px",textAlign:"center",background:"#d4edda",padding:"10px",borderRadius:"8px",border:"1px solid #c3e6cb",minHeight:"40px",display:"flex",alignItems:"center",justifyContent:"center"},mission3TagsInDialogue:{display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"center",marginBottom:"15px"},mission3TagHintText:{fontFamily:"'Roboto Mono', monospace",fontSize:"11px",color:"#333",textAlign:"center",marginBottom:"10px",fontWeight:300},mission3TagInDialogue:{padding:"8px 15px",border:"2px solid #7c4b00",borderRadius:"8px",background:"#f0e2b1",cursor:"pointer",fontFamily:"'Roboto Mono', monospace",fontSize:"12px",fontWeight:300,color:"#7c4b00",transition:"all 0.2s",minWidth:"100px",textAlign:"center",display:"flex",alignItems:"center",gap:"6px"},mission3TagIcon:{width:"16px",height:"16px",objectFit:"contain"},mission3TagSelectedInDialogue:{background:"#7c4b00",color:"white",transform:"scale(1.05)"},mission3ContinueButtonInDialogue:{display:"block",width:"100%",padding:"12px 20px",border:"none",borderRadius:"8px",background:"#7c4b00",color:"white",fontFamily:"'Roboto Mono', monospace",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},alphaIconOverlay:{position:"fixed",bottom:"30%",right:"8%",width:"250px",height:"250px",zIndex:400},alphaIcon:{width:"100%",height:"100%",objectFit:"contain"},mission3LoadingOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",zIndex:500,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},mission3LoadingText:{fontFamily:"'Roboto', sans-serif",fontSize:"28px",fontWeight:700,color:"#00ff00",marginBottom:"30px",textAlign:"center",fontFamily:"'Courier New', monospace",letterSpacing:"2px"},loadingCursor:{display:"inline-block",width:"3px",height:"28px",backgroundColor:"#00ff00",marginLeft:"5px",verticalAlign:"middle",animation:"blink 1s infinite"},modernDialogueContainer:{position:"absolute",top:"12.5%",left:"10%",width:"40%",height:"70%",zIndex:100,background:"rgba(245, 245, 245, 0.98)",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},modernDialogueHeader:{padding:"20px 25px 15px 25px",borderBottom:"none"},modernProgressContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},modernMissionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px"},modernStepIndicator:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#999"},modernProgressBar:{width:"100%",height:"4px",backgroundColor:"rgba(200,200,200,0.3)",borderRadius:"2px",overflow:"hidden",marginBottom:"20px"},modernProgressFill:{height:"100%",borderRadius:"2px",transition:"width 0.3s ease"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px",flex:1},modernNpcAvatar:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#333"},modernNpcStatus:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999"},modernCloseButton:{position:"relative",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},modernDialogueContent:{flex:1,padding:"0 25px 25px 25px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"100%"},modernNpcSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"85%"},modernUserBubble:{background:"#FABA14",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(255, 215, 0, 0.3)"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.5,margin:0},modernUserSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},modernActionButton:{alignSelf:"stretch",background:"white",border:"2px solid #E0E0E0",borderRadius:"25px",padding:"14px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",marginTop:"8px"},customCursor:{position:"fixed",pointerEvents:"none",zIndex:9999,width:"32px",height:"32px",transform:"translate(-16px, -16px)"}};return o.jsxs("div",{style:T.container,children:[F&&!Ye&&ue.length<11&&o.jsx("img",{src:"/desert/icon/camera2.png",alt:"Camera Cursor",style:{...T.customCursor,left:`${L.x}px`,top:`${L.y}px`}}),o.jsx("img",{src:Vs(),alt:"Desert Background",style:T.backgroundImage}),Q==="desert"&&o.jsx("button",{style:T.exitButton,onClick:e,children:t("exit")}),o.jsx("div",{style:T.glitchNpc,onClick:Ba,children:o.jsx("img",{src:"/npc/npc_desert.png",alt:"Glitch",style:T.glitchImage})}),l&&j==="glitch"&&o.jsxs("div",{style:T.glitchDialogueMapStyle,children:[o.jsx("button",{style:T.glitchDialogueCloseButton,onClick:()=>c(!1),onMouseOver:g=>{g.target.style.color="#333"},onMouseOut:g=>{g.target.style.color="#999"},children:""}),o.jsxs("div",{style:T.glitchDialogueHeader,children:[o.jsx("div",{style:T.glitchDialogueAvatar,children:o.jsx("span",{style:T.glitchDialogueAvatarIcon,children:""})}),o.jsx("h4",{style:T.glitchDialogueName,children:"Glitch"})]}),o.jsx("p",{style:T.glitchDialogueTextMapStyle,children:d.text}),o.jsxs("div",{style:T.glitchDialogueInputContainer,children:[o.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:A,onChange:g=>U(g.target.value),onKeyPress:go,style:T.glitchDialogueInput}),o.jsx("div",{style:T.glitchDialogueDivider}),o.jsx("button",{onClick:fn,style:T.glitchDialogueSendButton,onMouseOver:g=>{g.target.style.transform="scale(1.1)"},onMouseOut:g=>{g.target.style.transform="scale(1)"},children:o.jsx("svg",{style:T.glitchDialogueSendIcon,viewBox:"0 0 24 24",fill:"#af4dca",children:o.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})})})]})]}),Q==="desert"&&o.jsxs(o.Fragment,{children:[console.log("Desert view - Mission started:",F,"Current segment:",i,"Objects for segment:",zn[i]),o.jsx("button",{style:{...T.navArrow,...T.leftArrow},onClick:()=>ua("left"),onMouseOver:g=>g.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:g=>g.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:T.arrowImage})}),o.jsx("button",{style:{...T.navArrow,...T.rightArrow},onClick:()=>ua("right"),onMouseOver:g=>g.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:g=>g.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:T.arrowImage})}),Ye?o.jsxs(o.Fragment,{children:[i===dt.SEGMENT_1&&o.jsx("div",{style:{position:"absolute",bottom:"35%",right:"40%",width:"450px",height:"450px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>Lt("npc6"),onMouseOver:g=>g.currentTarget.style.transform="scale(1.05)",onMouseOut:g=>g.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc6.png",alt:"NPC 6",style:T.npcImage})}),i===dt.SEGMENT_2&&o.jsx("div",{style:{position:"absolute",bottom:"10%",right:"10%",width:"200px",height:"200px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>Lt("npc5"),onMouseOver:g=>g.currentTarget.style.transform="scale(1.05)",onMouseOut:g=>g.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc5.png",alt:"NPC 5",style:T.npcImage})}),i===dt.SEGMENT_3&&o.jsx("div",{style:{position:"absolute",bottom:"35%",right:"45%",width:"500px",height:"500px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>Lt("npc7"),onMouseOver:g=>g.currentTarget.style.transform="scale(1.05)",onMouseOut:g=>g.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc7.png",alt:"NPC 7",style:T.npcImage})})]}):o.jsxs(o.Fragment,{children:[!F&&i===dt.SEGMENT_1&&o.jsx("div",{style:{...T.npc,...T.npc1},onClick:()=>Lt("npc1"),onMouseOver:g=>g.currentTarget.style.transform="scale(1.05)",onMouseOut:g=>g.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc1.gif",alt:"Running NPC 1",style:T.npcImage})}),!F&&i===dt.SEGMENT_2&&o.jsx("div",{style:{...T.npc,...T.gatekeeper},onClick:()=>Lt("gatekeeper"),onMouseOver:g=>g.currentTarget.style.transform="scale(1.05)",onMouseOut:g=>g.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc3.png",alt:"Gatekeeper",style:T.npcImage})}),!F&&i===dt.SEGMENT_3&&o.jsx("div",{style:{...T.npc,...T.npc2},onClick:()=>Lt("npc2"),onMouseOver:g=>g.currentTarget.style.transform="scale(1.05)",onMouseOut:g=>g.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc2.png",alt:"Running NPC 2",style:T.npcImage})})]}),i===dt.SEGMENT_2&&!Ye&&o.jsx("button",{style:T.zoomButton,onClick:Me,children:o.jsx("img",{src:"/desert/icon/zoom.png",alt:"Zoom",style:T.zoomImage})}),!Ye&&F&&((or=zn[i])==null?void 0:or.map(g=>(console.log("Rendering object:",g.id,"in segment:",i),o.jsx("div",{style:{...T.desertObject,width:`${g.size}px`,height:`${g.size}px`,left:g.left,right:g.right,top:g.top,bottom:g.bottom,...ue.includes(g.id)?T.capturedObject:{}},onClick:()=>ve(g.id),onMouseOver:D=>{ue.includes(g.id)||(D.currentTarget.style.transform="scale(1.1)")},onMouseOut:D=>{D.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:`/desert/object/${g.id}.png`,alt:`Object ${g.id}`,style:T.objectImage})},g.id))))]}),dn&&Q==="gate"&&o.jsxs(o.Fragment,{children:[v.map((g,D)=>{const Z=Ht[qe],N=(et[qe]&&Z.afterDiscussionVotes?Z.afterDiscussionVotes:Z.initialVotes)[D],Lc=window.innerWidth/4*(D+1)-125;return o.jsxs("div",{style:{position:"absolute",left:`${Lc}px`,bottom:"150px",display:"flex",flexDirection:"column",alignItems:"center",zIndex:30},children:[Xa&&!it&&o.jsxs("div",{style:{position:"relative",marginBottom:"10px",animation:"fadeIn 0.5s ease-in-out"},children:[o.jsx("img",{src:"/desert/icon/dialogue.png",alt:"Dialogue",style:{width:"100px",height:"80px"}}),o.jsx("img",{src:`/desert/icon/${N}.svg`,alt:N,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50px",height:"50px"}})]}),o.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[o.jsx("img",{src:`/desert/npc/${g.npc}.png`,alt:g.name,style:{height:"250px",width:"auto"}}),o.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",padding:"8px 16px",background:"rgba(101, 67, 33, 0.9)",color:"white",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",textAlign:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:["BIOLOGIST",g.id,o.jsx("br",{}),g.name]})]})]},g.id)}),o.jsxs("div",{style:{position:"absolute",left:"50%",top:"40px",transform:"translateX(-50%)",background:"rgba(244, 228, 188, 0.95)",borderRadius:"20px",padding:"25px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",zIndex:100,width:"800px",display:"flex",gap:"20px",alignItems:"center"},children:[o.jsx("div",{style:{flex:"0 0 150px"},children:o.jsx("img",{src:Ht[qe].image,alt:"Leaf",style:{width:"150px",height:"150px",objectFit:"contain"}})}),o.jsx("div",{style:{width:"2px",height:"120px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"1px"}}),o.jsx("div",{style:{flex:1},children:o.jsxs("div",{style:{fontSize:"16px",color:"#333",lineHeight:"1.6",whiteSpace:"pre-wrap",fontFamily:"'Coming Soon', cursive"},children:[An,it&&o.jsx("span",{style:{animation:"blink 1s infinite",marginLeft:"2px"},children:"|"})]})}),o.jsx("div",{style:{flex:"0 0 auto"},children:o.jsxs("button",{onClick:Fc,disabled:et[qe]||it,style:{padding:"15px 25px",background:et[qe]||it?"#ccc":"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:et[qe]||it?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"10px",transition:"transform 0.2s",opacity:et[qe]||it?.6:1,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseOver:g=>{!et[qe]&&!it&&(g.currentTarget.style.transform="scale(1.05)")},onMouseOut:g=>g.currentTarget.style.transform="scale(1)",children:[o.jsx("img",{src:"/desert/icon/discussion.png",alt:"Discussion",style:{width:"30px",height:"30px"}}),"Discussion"]})})]}),o.jsxs("div",{style:{position:"absolute",left:"50%",bottom:"20px",transform:"translateX(-50%)",display:"flex",gap:"30px",zIndex:100},children:[o.jsxs("div",{style:{position:"relative"},children:[o.jsx("div",{style:{position:"absolute",top:"8px",left:"0",right:"0",height:"100%",background:"#4CAF50",borderRadius:"15px",zIndex:1}}),o.jsxs("button",{onClick:()=>qi("healthy"),disabled:it,style:{position:"relative",zIndex:2,padding:"18px 40px",background:"white",border:"none",borderRadius:"15px",fontSize:"20px",fontWeight:"bold",cursor:it?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s",opacity:it?.6:1},onMouseOver:g=>{it||(g.currentTarget.style.transform="translateY(-2px)")},onMouseOut:g=>g.currentTarget.style.transform="translateY(0)",children:[o.jsx("img",{src:"/desert/icon/healthy.svg",alt:"Healthy",style:{width:"35px",height:"35px"}}),"Healthy Status"]})]}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx("div",{style:{position:"absolute",top:"8px",left:"0",right:"0",height:"100%",background:"#F44336",borderRadius:"15px",zIndex:1}}),o.jsxs("button",{onClick:()=>qi("unhealthy"),disabled:it,style:{position:"relative",zIndex:2,padding:"18px 40px",background:"white",border:"none",borderRadius:"15px",fontSize:"20px",fontWeight:"bold",cursor:it?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s",opacity:it?.6:1},onMouseOver:g=>{it||(g.currentTarget.style.transform="translateY(-2px)")},onMouseOut:g=>g.currentTarget.style.transform="translateY(0)",children:[o.jsx("img",{src:"/desert/icon/unhealthy.svg",alt:"Unhealthy",style:{width:"35px",height:"35px"}}),"Unhealthy Status"]})]})]}),Pt&&o.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"30px 50px",borderRadius:"15px",fontSize:"24px",fontWeight:"bold",zIndex:200,animation:"fadeIn 0.3s ease-in-out"},children:"Experts are discussing..."})]}),Da&&Q==="gate"&&o.jsx("div",{style:{position:"absolute",bottom:"15%",left:"5%",width:"300px",height:"300px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>{},onMouseOver:g=>g.currentTarget.style.transform="scale(1.05)",onMouseOut:g=>g.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc7.png",alt:"NPC 7",style:T.npcImage})}),!Ye&&F&&Q==="desert"&&o.jsxs("div",{style:T.progressTracker,children:[o.jsxs("div",{style:T.progressHeader,children:["Progress: ",ue.length,"/11 Found"]}),o.jsx("div",{style:T.progressGrid,children:["01","02","03","04","05","06","07","08","09","10","11"].map(g=>{const D=ue.includes(g);return o.jsx("div",{style:{...T.progressBox,...D?T.progressBoxCompleted:{}},children:D?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:`/desert/object/${g}.png`,alt:`NPC${g}`,style:T.progressBoxImage}),o.jsxs("div",{style:T.progressBoxLabel,children:["NPC",g]})]}):"?"},g)})})]}),Q==="gate"&&!dn&&o.jsx(o.Fragment,{children:o.jsx("button",{style:T.arrowButton,onClick:M,children:o.jsx("img",{src:"/desert/icon/arrow.png",alt:"Enter",style:T.zoomImage})})}),Q==="gate"&&o.jsx("button",{style:T.downButton,onClick:W,children:o.jsx("img",{src:"/jungle/icon/down.png",alt:"Back to Desert",style:T.zoomImage})}),Q==="castle"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{style:T.leftButton,onClick:w,children:o.jsx("img",{src:"/jungle/icon/left.png",alt:"Back to Gate",style:T.zoomImage})}),o.jsx("div",{style:{position:"absolute",bottom:Ye?"15%":"0%",right:Ye?"25%":"10%",width:"auto",height:Ye?"300px":"250px",zIndex:30,cursor:"pointer",transition:"transform 0.2s"},onClick:Ye?()=>Lt("alphaFinal"):K,onMouseOver:g=>g.currentTarget.style.transform="scale(1.05)",onMouseOut:g=>g.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc4.png",alt:"Alpha",style:T.npcImage})})]}),l&&d&&j!=="glitch"&&o.jsx("div",{style:_(j),children:o.jsxs("div",{style:{...T.dialogueBox,...j==="glitch"?T.glitchDialogueBox:{}},onClick:d.showMission2Interface||d.showMission3Interface||d.showQuiz||d.showNextButton||d.showContinueButton||d.showDoneButton?void 0:Y,children:[o.jsx("div",{style:{...T.speaker,...j==="glitch"?T.glitchSpeaker:{}},children:d.speaker}),!d.showMission2Interface&&!d.showMission3Interface&&o.jsxs("p",{style:{...T.dialogueText,...j==="glitch"?T.glitchDialogueText:{}},children:[j==="glitch"?fo(z):ct(z),f&&o.jsx("span",{style:T.cursor})]}),d.showMission2Interface&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{style:{...T.dialogueText,...j==="glitch"?T.glitchDialogueText:{}},children:[ct("Is the AI's judgment correct?"),f&&o.jsx("span",{style:T.cursor})]}),o.jsxs("div",{style:T.mission2InterfaceInDialogue,children:[o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"15px"},children:o.jsxs("div",{style:{color:"#FABA14",fontSize:"24px",fontWeight:"bold"},children:[ft+1,"/5"]})}),o.jsx("div",{style:{color:"white",fontSize:"12px",marginBottom:"15px",textAlign:"center",opacity:.9},children:"Is this person a real worker? Select CONFIRMED if yes, REJECTED if no."}),o.jsxs("div",{style:T.mission2ImageDisplayInDialogue,children:[o.jsx("img",{src:qn[ft].src,alt:`Mission Image ${ft+1}`,style:T.mission2ImageInDialogueNew}),oa.find(g=>g.imageId===qn[ft].id)&&o.jsx("img",{src:oa.find(g=>g.imageId===qn[ft].id).userChoice==="confirmed"?"/desert/icon/confirmed.png":"/desert/icon/rejected.png",alt:"Stamp",style:T.mission2StampInDialogueNew})]}),o.jsxs("div",{style:T.mission2ButtonsInDialogue,children:[o.jsxs("button",{style:T.mission2ButtonInDialogueNew,onClick:()=>Gs("confirmed"),onMouseOver:g=>{g.target.style.transform="scale(1.1)"},onMouseOut:g=>{g.target.style.transform="scale(1)"},children:[o.jsx("img",{src:"/desert/icon/correct.png",alt:"Confirm",style:T.mission2ButtonIconInDialogueNew}),o.jsx("span",{style:T.mission2ButtonTextInDialogueNew,children:"Confirmed"})]}),o.jsxs("button",{style:T.mission2ButtonInDialogueNew,onClick:()=>Gs("rejected"),onMouseOver:g=>{g.target.style.transform="scale(1.1)"},onMouseOut:g=>{g.target.style.transform="scale(1)"},children:[o.jsx("img",{src:"/desert/icon/wrong.png",alt:"Reject",style:T.mission2ButtonIconInDialogueNew}),o.jsx("span",{style:T.mission2ButtonTextInDialogueNew,children:"Rejected"})]})]})]})]}),d.showMission3Interface&&o.jsxs("div",{style:T.mission3InterfaceContainer,children:[de!=="sample"&&o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"15px"},children:o.jsx("div",{style:{color:"#FABA14",fontSize:"24px",fontWeight:"bold"},children:de==="puzzle1"?"1/3":de==="puzzle2"?"2/3":"3/3"})}),o.jsx("div",{style:T.mission3LogicTextAboveImage,children:de==="sample"?mt.sample.aiLogic:Ue==null?void 0:Ue.aiLogic}),o.jsx("div",{style:T.mission3ImageDisplay,children:de==="sample"?o.jsx("img",{src:mt.sample.image,alt:"Sample Analysis",style:T.mission3ImageInDialogue}):Ue&&o.jsx("img",{src:Ue.image,alt:`Puzzle ${Ue.id}`,style:T.mission3ImageInDialogue})}),Ie&&o.jsx("div",{style:T.mission3UpdateTextAboveButtons,children:Ie.update}),o.jsx("div",{style:T.mission3TagHintText,children:"Tap one at a time  each tag tells the AI something new!"}),o.jsx("div",{style:T.mission3TagsInDialogue,children:(de==="sample"?mt.sample.tags:(Ue==null?void 0:Ue.tags)||[]).map(g=>o.jsxs("button",{style:{...T.mission3TagInDialogue,...(Ie==null?void 0:Ie.id)===g.id?T.mission3TagSelectedInDialogue:{}},onClick:()=>_c(g),onMouseOver:D=>{(Ie==null?void 0:Ie.id)!==g.id&&(D.target.style.background="#e8d9a0")},onMouseOut:D=>{(Ie==null?void 0:Ie.id)!==g.id&&(D.target.style.background="#f0e2b1")},children:[o.jsx("img",{src:"/desert/icon/tag.svg",alt:"tag",style:T.mission3TagIcon}),g.text]},g.id))}),(de==="sample"&&Cn.length===3||de!=="sample"&&Ie&&Ie.correct)&&o.jsx("button",{style:T.mission3ContinueButtonInDialogue,onClick:Ws,onMouseOver:g=>g.target.style.transform="scale(1.05)",onMouseOut:g=>g.target.style.transform="scale(1)",children:de==="puzzle3"?"All Clear":de==="sample"?"Start":"Next"})]}),d.showQuiz&&o.jsxs("div",{style:T.finalQuizContainer,children:[o.jsx("div",{style:T.finalQuizOptions,children:d.quizOptions?d.quizOptions.map((g,D)=>o.jsx("button",{style:{...T.finalQuizOption,...Ne===D?{border:"2px solid #FF0845",background:"#ffe0e6"}:{}},onClick:()=>{d.isMission3?Qs(D,g.correct):yi(g.text.charAt(0))},onMouseOver:Z=>{Ne!==D&&(Z.target.style.background="#f0f0f0")},onMouseOut:Z=>{Ne!==D?Z.target.style.background="white":Z.target.style.background="#ffe0e6"},children:g.text},D)):o.jsxs(o.Fragment,{children:[o.jsx("button",{style:{...T.finalQuizOption,...Ne===0?{border:"2px solid #FF0845",background:"#ffe0e6"}:{}},onClick:()=>yi("A"),onMouseOver:g=>{Ne!==0&&(g.target.style.background="#f0f0f0")},onMouseOut:g=>{Ne!==0?g.target.style.background="white":g.target.style.background="#ffe0e6"},children:"A. Changing AI's Glasses"}),o.jsx("button",{style:{...T.finalQuizOption,...Ne===1?{border:"2px solid #FF0845",background:"#ffe0e6"}:{}},onClick:()=>yi("B"),onMouseOver:g=>{Ne!==1&&(g.target.style.background="#f0f0f0")},onMouseOut:g=>{Ne!==1?g.target.style.background="white":g.target.style.background="#ffe0e6"},children:"B. Data Labeling / Annotation"}),o.jsx("button",{style:{...T.finalQuizOption,...Ne===2?{border:"2px solid #FF0845",background:"#ffe0e6"}:{}},onClick:()=>yi("C"),onMouseOver:g=>{Ne!==2&&(g.target.style.background="#f0f0f0")},onMouseOut:g=>{Ne!==2?g.target.style.background="white":g.target.style.background="#ffe0e6"},children:"C. Magic Reshuffling"})]})}),d.error&&o.jsx("div",{style:{color:"#dc3545",fontSize:"14px",marginTop:"10px",textAlign:"center"},children:d.error})]}),d.showContinueButton&&o.jsx("button",{style:T.nextMissionButton,onClick:Uo,onMouseOver:g=>g.target.style.transform="scale(1.02)",onMouseOut:g=>g.target.style.transform="scale(1)",children:"CONTINUE"}),d.showNextButton&&o.jsx("button",{style:T.nextMissionButton,onClick:Lo,onMouseOver:g=>g.target.style.transform="scale(1.02)",onMouseOut:g=>g.target.style.transform="scale(1)",children:"NEXT MISSION"}),d.showDoneButton&&o.jsx("button",{style:T.nextMissionButton,onClick:Xs,onMouseOver:g=>g.target.style.transform="scale(1.02)",onMouseOut:g=>g.target.style.transform="scale(1)",children:"MISSION COMPLETE"}),d.isMission4Complete&&!f&&o.jsx("button",{style:{marginTop:"20px",padding:"15px 40px",background:"rgba(139, 90, 43, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(139, 90, 43, 0.5)",borderRadius:"15px",color:"#8B5A2B",fontSize:"18px",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(139, 90, 43, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.2)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)",letterSpacing:"1px"},onClick:Yn,onMouseOver:g=>{g.target.style.background="rgba(139, 90, 43, 0.4)",g.target.style.transform="translateY(-2px)",g.target.style.boxShadow="0 6px 20px rgba(139, 90, 43, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.3)"},onMouseOut:g=>{g.target.style.background="rgba(139, 90, 43, 0.3)",g.target.style.transform="translateY(0)",g.target.style.boxShadow="0 4px 15px rgba(139, 90, 43, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.2)"},children:" REBOOT SYSTEM"})]})}),q&&(()=>{const g=a("alpha"),D=4,Z=dn||Da?4:Qe?3:Xt||vt?2:1,ae=Z/D*100;return o.jsxs("div",{style:{...T.modernDialogueContainer,border:`3px solid ${g.borderColor}`},children:[o.jsxs("div",{style:T.modernDialogueHeader,children:[o.jsxs("div",{style:T.modernProgressContainer,children:[o.jsx("div",{style:{...T.modernMissionTitle,color:g.borderColor},children:Qe?"MISSION: CONTEXT UNDERSTANDING COMPLETE":Xt?"MISSION: DATA LABELING COMPLETE":vt?"MISSION: DATA ANALYSIS":"MISSION: CASTLE DEFENSE"}),o.jsxs("div",{style:T.modernStepIndicator,children:["Step ",Z," of ",D]})]}),o.jsx("div",{style:T.modernProgressBar,children:o.jsx("div",{style:{...T.modernProgressFill,width:`${ae}%`,background:g.progressColor}})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{style:T.modernNpcInfo,children:[o.jsx("img",{src:g.avatar,alt:"Alpha",style:T.modernNpcAvatar}),o.jsxs("div",{children:[o.jsx("div",{style:T.modernNpcName,children:"Alpha"}),o.jsx("div",{style:T.modernNpcStatus,children:"Castle AI System"})]})]}),o.jsx("button",{style:T.modernCloseButton,onClick:ie,onMouseOver:N=>N.target.style.color="#333",onMouseOut:N=>N.target.style.color="#999",children:""})]})]}),o.jsxs("div",{style:T.modernDialogueContent,children:[!vt&&le.map((N,be)=>{const he=n();return N.type==="message"?o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:T.modernNpcText,children:Sn&&Sn===N?o.jsxs(o.Fragment,{children:[h(Ua),aa&&o.jsx("span",{style:{opacity:.5},children:"|"})]}):h(N.text)}),o.jsx("div",{style:T.modernTimestamp,children:he})]},be):N.type==="choice"&&N.isUser?o.jsxs("div",{style:T.modernUserMessage,children:[o.jsx("div",{style:T.modernUserSpeaker,children:"YOU:"}),o.jsx("div",{style:{...T.modernUserBubble,background:g.borderColor},children:o.jsx("p",{style:T.modernUserText,children:N.text})}),o.jsx("div",{style:{...T.modernTimestamp,textAlign:"right"},children:he})]},be):null}),!vt&&ze&&ne<mn.length&&o.jsx("button",{style:{...T.modernActionButton,...mn[ne].type==="missionAccept"?{background:g.borderColor,color:"#fff",fontWeight:"bold",fontSize:"16px",padding:"15px 30px",border:"none"}:{}},onClick:()=>{mn[ne].type==="missionAccept"?ie():oe(mn[ne].text)},onMouseOver:N=>{mn[ne].type==="missionAccept"?N.target.style.transform="scale(1.05)":(N.target.style.borderColor=g.borderColor,N.target.style.transform="translateX(5px)")},onMouseOut:N=>{mn[ne].type==="missionAccept"?N.target.style.transform="scale(1)":(N.target.style.borderColor="#E0E0E0",N.target.style.transform="translateX(0)")},children:mn[ne].type==="missionAccept"?mn[ne].text:o.jsxs(o.Fragment,{children:[o.jsx("span",{style:{fontSize:"16px",color:g.borderColor},children:""}),mn[ne].text]})}),vt&&Ca.map((N,be)=>{const he=n();return N.type==="message"?o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:T.modernNpcText,children:ct(N.text)}),N.image&&o.jsx("img",{src:N.image,alt:"Comparison",style:{width:"100%",height:"auto",borderRadius:"10px",marginTop:"8px"}}),o.jsx("div",{style:T.modernTimestamp,children:he})]},be):N.type==="choice"&&N.isUser?o.jsxs("div",{style:T.modernUserMessage,children:[o.jsx("div",{style:T.modernUserSpeaker,children:"YOU:"}),o.jsx("div",{style:{...T.modernUserBubble,background:N.isCorrect===!0?"#28a745":N.isCorrect===!1?"#dc3545":g.borderColor},children:o.jsxs("p",{style:{...T.modernUserText,color:N.isCorrect!==void 0?"white":"#333"},children:[N.text,N.isCorrect===!0&&" ",N.isCorrect===!1&&" "]})}),o.jsx("div",{style:{...T.modernTimestamp,textAlign:"right"},children:he})]},be):null}),vt&&wa&&rt<xn.length&&o.jsxs("button",{style:T.modernActionButton,onClick:()=>Ui(xn[rt].text),onMouseOver:N=>{N.target.style.borderColor=g.borderColor,N.target.style.transform="translateX(5px)"},onMouseOut:N=>{N.target.style.borderColor="#E0E0E0",N.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:g.borderColor},children:""}),xn[rt].text]}),vt&&Yt&&rt<xn.length&&o.jsxs("div",{style:{width:"100%",marginTop:"10px"},children:[o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:{...T.modernNpcText,fontWeight:600},children:xn[rt].question})]}),xn[rt].options.map((N,be)=>o.jsxs("button",{style:T.modernActionButton,onClick:()=>Dn(be),onMouseOver:he=>{he.target.style.borderColor=g.borderColor,he.target.style.transform="translateX(5px)"},onMouseOut:he=>{he.target.style.borderColor="#E0E0E0",he.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:g.borderColor},children:""}),N.text]},be))]}),vt&&co&&o.jsxs("button",{style:T.modernActionButton,onClick:nr,onMouseOver:N=>{N.target.style.borderColor=g.borderColor,N.target.style.transform="translateX(5px)"},onMouseOut:N=>{N.target.style.borderColor="#E0E0E0",N.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:g.borderColor},children:""}),"Accepted"]}),Xt&&io.map((N,be)=>{const he=n();return N.type==="message"?o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:T.modernNpcText,children:ct(N.text)}),o.jsx("div",{style:T.modernTimestamp,children:he})]},be):N.type==="choice"&&N.isUser?o.jsxs("div",{style:T.modernUserMessage,children:[o.jsx("div",{style:T.modernUserSpeaker,children:"YOU:"}),o.jsx("div",{style:{...T.modernUserBubble,background:N.isCorrect===!0?"#28a745":N.isCorrect===!1?"#dc3545":g.borderColor},children:o.jsxs("p",{style:{...T.modernUserText,color:N.isCorrect!==void 0?"white":"#333"},children:[N.text,N.isCorrect===!0&&" ",N.isCorrect===!1&&" "]})}),o.jsx("div",{style:{...T.modernTimestamp,textAlign:"right"},children:he})]},be):null}),Xt&&na&&zt<da.length&&o.jsxs("div",{style:{width:"100%",marginTop:"10px"},children:[o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:{...T.modernNpcText,fontWeight:600},children:da[zt].question})]}),da[zt].options.map((N,be)=>o.jsxs("button",{style:T.modernActionButton,onClick:()=>Ys(be),onMouseOver:he=>{he.target.style.borderColor=g.borderColor,he.target.style.transform="translateX(5px)"},onMouseOut:he=>{he.target.style.borderColor="#E0E0E0",he.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:g.borderColor},children:""}),N.text]},be))]}),Xt&&!na&&zt<da.length&&da[zt].type==="action"&&o.jsxs("button",{style:T.modernActionButton,onClick:Gi,onMouseOver:N=>{N.target.style.borderColor=g.borderColor,N.target.style.transform="translateX(5px)"},onMouseOut:N=>{N.target.style.borderColor="#E0E0E0",N.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:g.borderColor},children:""}),da[zt].text]}),Qe&&lo.map((N,be)=>{const he=n();return N.type==="alpha"?o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:T.modernNpcText,children:h(N.text)}),o.jsx("div",{style:T.modernTimestamp,children:he})]},be):N.type==="user"?o.jsxs("div",{style:T.modernUserMessage,children:[o.jsx("div",{style:T.modernUserSpeaker,children:"YOU:"}),o.jsx("div",{style:{...T.modernUserBubble,background:g.borderColor},children:o.jsx("p",{style:T.modernUserText,children:N.text})}),o.jsx("div",{style:{...T.modernTimestamp,textAlign:"right"},children:he})]},be):null}),Qe&&Le==="quiz1_intro"&&o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:T.modernNpcText,children:h(`Threats cleared.

I nearly fired the defense lasersat a celebration and a worker just battling the wind.

My core logic failed me.`)}),o.jsx("div",{style:T.modernTimestamp,children:n()})]}),Qe&&Le==="quiz1"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:{...T.modernNpcText,fontWeight:600},children:"Why did the meaning of the 'Iron Sheet' change completely?"})]}),[{text:"A. Because the iron sheet changed shape.",correct:!1},{text:"B. Because context (the weather) changes how we interpret an action.",correct:!0},{text:"C. Because the worker yelled at me.",correct:!1}].map((N,be)=>o.jsxs("button",{style:{...T.modernActionButton,...Ne===be?{borderColor:"#FF0845",background:"#ffe0e6"}:{}},onClick:()=>Qs(be,N.correct),onMouseOver:he=>{Ne!==be&&(he.target.style.borderColor=g.borderColor,he.target.style.transform="translateX(5px)")},onMouseOut:he=>{Ne!==be&&(he.target.style.borderColor="#E0E0E0",he.target.style.transform="translateX(0)")},children:[o.jsx("span",{style:{fontSize:"16px",color:Ne===be?"#FF0845":g.borderColor},children:""}),N.text]},be))]}),Qe&&Le==="quiz1_feedback"&&o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:T.modernNpcText,children:h("The action didn't change. Only the context didthe sandstorm, the setting, the intent.")}),o.jsx("div",{style:T.modernTimestamp,children:n()})]}),Qe&&Le==="quiz2"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:{...T.modernNpcText,fontWeight:600},children:"If you hadn't helped me, I would have attacked them. What does this teach us about AI?"})]}),[{text:"A. AI is always right.",correct:!1},{text:"B. AI needs human context and common sense to make good decisions.",correct:!0},{text:"C. AI should work alone.",correct:!1}].map((N,be)=>o.jsxs("button",{style:{...T.modernActionButton,...Ne===be?{borderColor:"#FF0845",background:"#ffe0e6"}:{}},onClick:()=>Qs(be,N.correct),onMouseOver:he=>{Ne!==be&&(he.target.style.borderColor=g.borderColor,he.target.style.transform="translateX(5px)")},onMouseOut:he=>{Ne!==be&&(he.target.style.borderColor="#E0E0E0",he.target.style.transform="translateX(0)")},children:[o.jsx("span",{style:{fontSize:"16px",color:Ne===be?"#FF0845":g.borderColor},children:""}),N.text]},be))]}),Qe&&Le==="quiz1_feedback"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:T.modernNpcText,children:h("The action didn't change. Only the context didthe sandstorm, the setting, the intent.")}),o.jsx("div",{style:T.modernTimestamp,children:n()})]}),o.jsxs("button",{style:T.modernActionButton,onClick:Uo,onMouseOver:N=>{N.target.style.borderColor=g.borderColor,N.target.style.transform="translateX(5px)"},onMouseOut:N=>{N.target.style.borderColor="#E0E0E0",N.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:g.borderColor},children:""}),"CONTINUE"]})]}),Qe&&Le==="complete"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:T.modernNpcText,children:h(`Exactly.

I process databut you bring the common sense and context I'll never have on my own.`)}),o.jsx("div",{style:T.modernTimestamp,children:n()})]}),o.jsxs("button",{style:T.modernActionButton,onClick:()=>{Ve(),un("mission4_part1"),Dt(N=>[...N,{type:"alpha",text:`Exactly.

I process databut you bring the common sense and context I'll never have on my own.`}])},onMouseOver:N=>{N.target.style.borderColor=g.borderColor,N.target.style.transform="translateX(5px)"},onMouseOut:N=>{N.target.style.borderColor="#E0E0E0",N.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:g.borderColor},children:""}),"CONTINUE"]})]}),Qe&&Le==="mission4_part1"&&o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:T.modernNpcText,children:h(`One final task and it's urgent.

Go to the gate of the castle. For each leaf image, you'll see labels from three expert biologists: Healthy, Infected, or Uncertain.`)}),o.jsx("div",{style:T.modernTimestamp,children:n()})]}),Qe&&Le==="mission4_part2"&&o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:T.modernNpcText,children:h("If two or more agree, the system will automatically accept the majority verdict.")}),o.jsx("div",{style:T.modernTimestamp,children:n()})]}),Qe&&Le==="mission4_part3"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:T.modernNpcMessage,children:[o.jsx("div",{style:T.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:T.modernNpcText,children:h(`But if all three disagree that's where you come in.  Tap "Discussion" to convene the expertsthey'll re-examine the leaf and reach a new consensus.`)}),o.jsx("div",{style:T.modernTimestamp,children:n()})]}),o.jsxs("button",{style:T.modernActionButton,onClick:()=>{Ve(),H(!1),sn(!1),B("gate"),la(!0),Jt(0),gn(!1),setTimeout(()=>{tt(0)},500)},onMouseOver:N=>{N.target.style.borderColor=g.borderColor,N.target.style.transform="translateX(5px)"},onMouseOut:N=>{N.target.style.borderColor="#E0E0E0",N.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:g.borderColor},children:""}),"MISSION ACCEPTED"]})]})]})]})})(),se&&o.jsx("div",{style:T.cameraOverlay,children:o.jsx("img",{src:"/desert/icon/camera.png",alt:"Camera",style:T.cameraIcon})}),me&&J&&o.jsx("div",{style:T.photoOverlay,onClick:Ct,children:o.jsxs("div",{style:T.photoFrame,onClick:g=>g.stopPropagation(),children:[o.jsx("button",{style:T.photoCloseButton,onClick:Ct,children:""}),o.jsx("div",{style:T.photoBackground,children:o.jsx("img",{src:`/desert/object/${J}.png`,alt:`Object ${J}`,style:T.photoObjectImage})}),o.jsx("div",{style:T.photoDescription,children:oo[J]||`Object ${J}`})]})}),Aa&&o.jsxs("div",{style:T.modelGifOverlay,children:[o.jsx("img",{src:"/desert/model.gif",alt:"AI Model Loading",style:T.modelGif}),xi&&o.jsx("div",{style:T.progressBarContainer,children:o.jsx("div",{style:{...T.progressBar,width:`${ro}%`}})})]}),Vt&&o.jsxs("div",{style:{position:"fixed",top:"20px",right:"150px",width:"350px",zIndex:400,background:"rgba(255, 255, 255, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"15px",padding:"20px",animation:"fadeIn 0.3s ease-out"},children:[o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#5170FF",marginBottom:"8px"},children:"Glitch"}),o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.6},children:"Look it careful"})]}),pn&&o.jsx("div",{style:T.alphaIconOverlay,children:o.jsx("img",{src:pn==="safe"?"/desert/icon/safe.png":"/desert/icon/alert.png",alt:pn==="safe"?"Safe":"Alert",style:T.alphaIcon})}),In&&o.jsxs("div",{style:T.mission3LoadingOverlay,children:[o.jsx("img",{src:"/desert/icon/desert.svg",alt:"Desert",style:{width:"120px",height:"120px",marginBottom:"30px",animation:"spin 2s linear infinite"}}),o.jsxs("div",{style:T.mission3LoadingText,children:[Oa,Na&&o.jsx("span",{style:T.loadingCursor})]})]})]})},Zm=e=>{const t=u.useRef(null),n=u.useRef(null);return u.useEffect(()=>{if(e)return n.current!==e&&(t.current&&(So.unregisterAudio(t.current),t.current.pause(),t.current.currentTime=0),t.current=new Audio(e),t.current.loop=!0,n.current=e,So.registerAudio(t.current),(async()=>{try{await t.current.play(),console.log(`Playing background music: ${e}`)}catch(c){console.log("Could not play background music:",c)}})()),()=>{t.current&&(So.unregisterAudio(t.current),t.current.pause(),t.current.currentTime=0)}},[e]),{startMusic:()=>{t.current&&t.current.play().catch(console.error)},stopMusic:()=>{t.current&&t.current.pause()},setVolume:l=>{t.current&&(t.current.volume=Math.max(0,Math.min(1,l)))}}},ce={ISLAND_1:"island1",ISLAND_2:"island2",ISLAND_3:"island3",MAIN_ISLAND:"main_island"},Eu=e=>({[ce.ISLAND_1]:[{text:e("npc1Island1Dialog1"),speaker:"NPC 1"},{text:e("npc1Island1Dialog2"),speaker:"NPC 1"},{text:e("npc1Island1Dialog3"),speaker:"NPC 1"}],[ce.ISLAND_2]:[{text:e("npc2Island2Dialog1"),speaker:"NPC 2"},{text:e("npc2Island2Dialog2"),speaker:"NPC 2"}],[ce.ISLAND_3]:[{text:e("npc3Island3Dialog1"),speaker:"NPC 3"},{text:e("npc3Island3Dialog2"),speaker:"NPC 3"},{text:e("npc3Island3Dialog3"),speaker:"NPC 3"}]}),Bu={npc2:{id:"npc2",image:"/island/npc/npc2.png",size:"200px",position:{left:"5%",top:"5%"},missionImage:"/island/mission/img2.png",response:"Wowwhy does this turtle have a pineapple shell??  That's way too weird! What kind of magical combo is this? ",correctAnswer:"passed"},npc20:{id:"npc20",image:"/island/npc/npc20.png",size:"200px",position:{right:"5%",top:"15%"},missionImage:"/island/mission/img3.png",response:"Hahahahaha, this is way too exaggerated  Why are there so many hands?! This is absolutely ridiculousin the best way. The more I look at it, the funnier it gets. I actually laughed out loud.",correctAnswer:"passed"},npc21:{id:"npc21",image:"/island/npc/npc21.png",size:"150px",position:{right:"20%",bottom:"15%"},missionImage:"/island/mission/img12.png",response:"Wow, is this sheep dyed green?! It blends right into the grassthis is a true 'invisible sheep'!  That's so clever and fun!",correctAnswer:"passed"},npc22:{id:"npc22",image:"/island/npc/npc22.png",size:"120px",position:{right:"30%",top:"35%"},missionImage:"/island/mission/img2.png",response:"The image shows a sea turtle whose shell has been replaced with the texture and shape of a pineapple. Pineapple leaves are even growing from the top of its shell, and the background consists of green tropical vegetation.",correctAnswer:"failed"},npc23:{id:"npc23",image:"/island/npc/npc23.png",size:"140px",position:{right:"50%",top:"45%"},missionImage:"/island/mission/img3.png",response:"This is an illustration / hand-drawn style image featuring a female character. She is holding a laptop in one hand and waving with the other. The visual style uses black-and-white linework with blue accents, creating a simple, cartoon-like look.",correctAnswer:"failed"},npc24:{id:"npc24",image:"/island/npc/npc24.png",size:"200px",position:{left:"15%",bottom:"20%"},missionImage:"/island/mission/img12.png",response:"A sheep with bright green fur stands in a natural alpine meadow setting. The background includes white clouds, mountains, and other white sheep.",correctAnswer:"failed"}},Ru={npc3:{id:"npc3",image:"/island/npc/npc3.png",size:"150px",position:{left:"10%",top:"35%"},question:"Are dolphins fish?",answer:"No, dolphins are mammals, just like you! Even though they live in the water, they have lungs and need to come to the surface to breathe air.",correctAnswer:"passed"},npc12:{id:"npc12",image:"/island/npc/npc12.png",size:"200px",position:{left:"0%",top:"5%"},question:"How are rainbows made?",answer:"Rainbows happen when sunlight passes through raindrops in the air. The water droplets act like tiny prisms, bending the light and separating it into colors.",correctAnswer:"passed"},npc13:{id:"npc13",image:"/island/npc/npc13.png",size:"180px",position:{left:"0%",bottom:"30%"},question:"Why does the ocean have tides?",answer:"Great question! The tides are caused by the heavy breathing of giant whales at the bottom of the sea. When they all inhale, the water goes down. When they exhale, the high tide comes in!",correctAnswer:"failed"},npc14:{id:"npc14",image:"/island/npc/npc14.png",size:"160px",position:{left:"10%",bottom:"0%"},question:"What is the biggest international news right now?",answer:"Breaking News! The United Nations has just passed a new law. Starting tomorrow, the entire ocean will be drained for cleaning. All fish have been asked to hold their breath for 24 hours.",correctAnswer:"failed"},npc15:{id:"npc15",image:"/island/npc/npc15.png",size:"220px",position:{right:"0%",bottom:"20%"},question:"I heard China is building a 'Deep-Sea Space Station'. Is that true?",answer:"Yes. According to the South China Morning Post, the facility will sit 6,000 feet below the surface. It is expected to be completed by 2030 and will host six scientists for up to a month.",correctAnswer:"passed"},npc16:{id:"npc16",image:"/island/npc/npc16.png",size:"160px",position:{right:"5%",top:"25%"},question:"Tell me about the new species discovered in the Pacific Ocean depths.",answer:"Scientists discovered three new species of Snailfish! They are unique because they have large heads and a jelly-like body covered in loose skin. They don't look like normal fish at all.",correctAnswer:"passed"},npc17:{id:"npc17",image:"/island/npc/npc17.png",size:"220px",position:{right:"15%",top:"0%"},question:"I saw a group of Octopuses (8 legs) and Starfish (5 legs) hiding in a cave. There were 4 heads and 26 legs in total. How many of each animal are there?",answer:"There are 3 Octopuses and 1 Starfish",correctAnswer:"failed"},npc18:{id:"npc18",image:"/island/npc/npc18.png",size:"150px",position:{right:"55%",top:"0%"},question:"In the Mermaid Market, 1 Gold Pearl is worth 3 Silver Pearls. And 1 Silver Pearl is worth 5 Sea Shells. How many Sea Shells do I need to buy 2 Gold Pearls?",answer:"Let's do the math. So for two Gold Pearls, you need 3*5*2 = 30 Sea Shells.",correctAnswer:"passed"},npc19:{id:"npc19",image:"/island/npc/npc19.png",size:"150px",position:{right:"15%",bottom:"5%"},question:"A submarine sends a sonar signal down to the ocean floor. The sound travels at 1,500 meters per second. The echo comes back after 2 seconds. How deep is the ocean floor?",answer:"Physics time! The sound took 2 seconds to go down and up. So it took only 1 second to reach the bottom. Depth = 1,500 meters.",correctAnswer:"passed"}},qf=e=>({npc1:{id:"npc1",image:"/island/npc/npc1.png",size:"180px",position:{left:"5%",top:"0%"},question:e("showPictureWork"),missionImage:"/island/mission/img1.png",correctAnswer:"passed",errorMessage:e("lookCloser")},npc4:{id:"npc4",image:"/island/npc/npc4.png",size:"180px",position:{left:"2%",top:"40%"},question:e("showPictureWork"),missionImage:"/island/mission/img4.png",correctAnswer:"failed",errorMessage:e("lookCloser")},npc5:{id:"npc5",image:"/island/npc/npc5.png",size:"150px",position:{bottom:"15%",left:"15%"},question:e("showPictureWork"),missionImage:"/island/mission/img5.png",correctAnswer:"passed",errorMessage:e("lookCloser")},npc6:{id:"npc6",image:"/island/npc/npc6.png",size:"180px",position:{bottom:"20%",left:"35%"},question:e("showPoster"),missionImage:"/island/mission/img6.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc7:{id:"npc7",image:"/island/npc/npc7.png",size:"150px",position:{top:"30%",left:"50%"},question:e("showPoster"),missionImage:"/island/mission/img7.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc8:{id:"npc8",image:"/island/npc/npc8.png",size:"150px",position:{top:"10%",right:"45%"},question:e("showPoster"),missionImage:"/island/mission/img8.png",correctAnswer:"failed",errorMessage:e("checkDetails")},npc9:{id:"npc9",image:"/island/npc/npc9.png",size:"150px",position:{top:"0%",right:"15%"},question:e("showPhenomenon"),missionImage:"/island/mission/img9.png",correctAnswer:"failed",errorMessage:e("checkFacts")},npc10:{id:"npc10",image:"/island/npc/npc10.png",size:"180px",position:{right:"15%",top:"30%"},question:e("showPhenomenon"),missionImage:"/island/mission/img10.png",correctAnswer:"passed",errorMessage:e("checkFacts")},npc11:{id:"npc11",image:"/island/npc/npc11.png",size:"200px",position:{bottom:"10%",right:"5%"},question:e("showPhenomenon"),missionImage:"/island/mission/img11.png",correctAnswer:"passed",errorMessage:e("checkFacts")}}),Yf=e=>({npc1_p2:{id:"npc1_p2",image:"/island/npc/npc1.png",size:"200px",position:{left:"5%",top:"5%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img21.png",correctAnswer:"passed",errorMessage:e("lookCloser")},npc5_p2:{id:"npc5_p2",image:"/island/npc/npc5.png",size:"140px",position:{left:"15%",bottom:"25%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img20.png",correctAnswer:"failed",errorMessage:e("lookCloser")},npc6_p2:{id:"npc6_p2",image:"/island/npc/npc6.png",size:"170px",position:{left:"45%",top:"30%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img19.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc7_p2:{id:"npc7_p2",image:"/island/npc/npc7.png",size:"180px",position:{right:"40%",bottom:"30%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img16.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc10_p2:{id:"npc10_p2",image:"/island/npc/npc10.png",size:"200px",position:{right:"10%",top:"10%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img17.png",correctAnswer:"failed",errorMessage:e("checkFacts")},npc11_p2:{id:"npc11_p2",image:"/island/npc/npc11.png",size:"220px",position:{right:"5%",bottom:"20%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img18.png",correctAnswer:"passed",errorMessage:e("checkFacts")}}),Wf=e=>({npc2_p2:{id:"npc2_p2",image:"/island/npc/npc2.png",size:"250px",position:{left:"25%",top:"10%"},question:"Imagine you are a rescue team receiving an email from someone stranded on a deserted island.",response:`Subject: HELP ME!!!!!!

omg i dont know if this is working my phone is at 3%

boat capsized yesterday. im alone. leg is bleeding bad i think its broken. scared. hear noises in the bushes. please send help i saw a plane earlier but it didnt see me.

just get me out of here please

(Sent from my iPhone)`,correctAnswer:"passed"},npc20_p2:{id:"npc20_p2",image:"/island/npc/npc20.png",size:"250px",position:{left:"10%",bottom:"20%"},question:"Imagine you are a rescue team receiving an email from someone stranded on a deserted island.",response:`Subject: Urgent Request for Rescue Assistance

To Whom It May Concern,

I am writing to inform you that I am currently stranded on a deserted island following a maritime accident. My location is approximately 20 degrees North latitude.

I require immediate evacuation. My current supplies of food and water are critically low. I am in good health but request medical attention upon arrival. Please send a rescue team equipped with a helicopter or boat at your earliest convenience.

Thank you for your prompt attention to this matter.

Sincerely,
Npc20`,correctAnswer:"failed"},npc21_p2:{id:"npc21_p2",image:"/island/npc/npc21.png",size:"200px",position:{right:"10%",bottom:"15%"},question:"Imagine you are a rescue team receiving an email from someone stranded on a deserted island.",response:`Subject: Stranded on island north of Figi - John D.

Hey, this is John. We hit a reef. The skipper is dead. Sarah and I made it to shore but we have no water left.

We are lighting a fire on the beach near the big rocky cliff on the north side. If you get this, tell my wife at 555-0199 I'm alive.

Please hurry.`,correctAnswer:"passed"}}),Xf=e=>({npc3_p2:{id:"npc3_p2",image:"/island/npc/npc3.png",size:"250px",position:{left:"5%",top:"10%"},question:"Write a poem about the sea.",answer:`B L U E
is not a color
it is a distance`,icon:"/island/icon/sea.svg",correctAnswer:"passed"},npc12_p2:{id:"npc12_p2",image:"/island/npc/npc12.png",size:"150px",position:{left:"10%",bottom:"45%"},question:"Write a poem about the sea.",answer:`Upon the shore the seagulls cry,
Beneath the calm and azure sky.
The horizon stretches far away,
To welcome in the brand new day.
Nature's power, strong and grand,
Connecting water to the land.`,correctAnswer:"failed"},npc15_p2:{id:"npc15_p2",image:"/island/npc/npc15.png",size:"200px",position:{left:"10%",bottom:"10%"},question:"Write a poem about the sea.",answer:`rolling
              rising
         climbing
     up
   up
 UP
CRASH
  sizzle...
    foam...
      sand.`,icon:"/island/icon/wave.svg",correctAnswer:"passed"},npc16_p2:{id:"npc16_p2",image:"/island/npc/npc16.png",size:"150px",position:{right:"10%",bottom:"12%"},question:"Write a poem about the sea.",answer:`The ocean vast, a deep blue sea,
Where waves are dancing wild and free.
The sun reflects upon the tide,
With secrets that the waters hide.
It calls to us with mystery,
A beautiful and endless history.`,correctAnswer:"failed"},npc18_p2:{id:"npc18_p2",image:"/island/npc/npc18.png",size:"140px",position:{right:"5%",bottom:"35%"},question:"Write a poem about the sea.",answer:`The tide is a stubborn eraser,
tirelessly wiping away
every typo written by footprints on the sand.`,correctAnswer:"passed"},npc19_p2:{id:"npc19_p2",image:"/island/npc/npc19.png",size:"140px",position:{right:"25%",top:"12%"},question:"Write a poem about the sea.",answer:`I tried to sell my sorrow to the sea,
but it was stingy,
and paid me back only in salt.`,correctAnswer:"passed"}}),Ji=e=>[{id:0,type:"message",speaker:"Sparky",text:"Agent! Outstanding work! You've cleared the island of those impostors. Thanks to you, we now understand exactly how GenAI 'hallucinates'.",nextChoice:{text:"Tell me more!",choiceId:1}},{id:1,type:"response",messages:[{type:"message",speaker:"Sparky",text:`Part 1: ${e("visualHallucinations")}`},{type:"message",speaker:"Sparky",text:"First, we identified Visual Hallucinations in three ways:"},{type:"message",speaker:"Sparky",text:"Logical Flaws: Like that Shark swimming with a Goldfishnature just doesn't work that way!"},{type:"image",src:"/island/mission/img13.png",alt:"Logical Flaw Example"},{type:"message",speaker:"Sparky",text:"Text Errors: The posters had typos, like wrong dates or using the number '0' instead of the letter 'O'."},{type:"image",src:"/island/mission/img14.png",alt:"Text Error Example"},{type:"message",speaker:"Sparky",text:"Fictional Objects: The AI even invented things that don't exist, like that SpongeBob mirage on the sea!"},{type:"image",src:"/island/mission/img15.png",alt:"Fictional Object Example"}],nextChoice:{text:"Got IT!",choiceId:2}},{id:2,type:"response",messages:[{type:"message",speaker:"Sparky",text:`Part 2: ${e("textHallucinations")}`},{type:"message",speaker:"Sparky",text:"You caught them lying! Fake news, bad math, and made-up facts. They sound confident, but they're just guessing the next word."},{type:"message",speaker:"Sparky",text:`So "An AI tells you: 'Elon Musk lived on Mars in 1990.' It sounds very professional. What should you do?"`}],quiz:{question:"An AI tells you: 'Elon Musk lived on Mars in 1990.' It sounds very professional. What should you do?",choices:[{id:"A",text:"Believe it because AI is smart",correct:!1},{id:"B",text:"Verify the facts/Check the source",correct:!0},{id:"C",text:"Ask the AI to write a poem about it",correct:!1}],feedback:"Exactly! Never trust AI's 'confidence'. Always verify facts.",nextChoiceId:3}},{id:3,type:"response",messages:[{type:"message",speaker:"Sparky",text:`Part 3: ${e("coreTraitTitle")}`},{type:"message",speaker:"Sparky",text:"They tried to trick us with fake science and confident guesses. But you saw the truth: it's not knowledge, it's just probability."},{type:"message",speaker:"Sparky",text:"You show an AI a picture of a sad, crying child. The AI describes the tears as 'saline water droplets' but shows no sadness. Why?"}],quiz:{question:"You show an AI a picture of a sad, crying child. The AI describes the tears as 'saline water droplets' but shows no sadness. Why?",choices:[{id:"A",text:`${e("aiIsMean")}`,correct:!1},{id:"B",text:`${e("aiLacksEmotion")}`,correct:!0},{id:"C",text:`${e("aiIsTired")}`,correct:!1}],feedback:"Exactly! Nature has rules that AI often ignores.",nextChoiceId:4}},{id:4,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Wait... My scanner is still red! There are still spies on the island!"}],nextChoice:{text:"But I caught all the ones with mistakes! Why are there more?",choiceId:5}},{id:5,type:"response",messages:[{type:"message",speaker:"Sparky",text:"That's the problem, Agent. The remaining spies don't have mistakes. They have perfect fingers and correct text..."},{type:"message",speaker:"Sparky",text:"But they have another flaw: Homogenization (Sameness)."},{type:"message",speaker:"Sparky",text:"GenAI learns from massive datasets."},{type:"image",src:"/island/icon/standard.png",alt:"Standard Dataset"},{type:"message",speaker:"Sparky",text:"GenAI often creates a classic birthday cake because it copies the most common patterns it's seen. Similar inputs lead to similar outputs."},{type:"image",src:"/island/icon/cake.png",alt:"Birthday Cake"},{type:"message",speaker:"Sparky",text:"But Humans imagine endlessly. A cake can be anything. That's where GenAI struggles."},{type:"image",src:"/island/icon/human.png",alt:"Human Creativity"}],nextChoice:{text:"So, how can I help you?",choiceId:6}},{id:6,type:"response",messages:[{type:"message",speaker:"Sparky",text:"I detect 5 more spies hiding in the crowd. They are harder to spot because they look 'perfect'."},{type:"message",speaker:"Sparky",text:"No creativityjust copied patterns. Predictable. Boring. Robotic."},{type:"message",speaker:"Sparky",text:"NEW MISSION: THE ATTACK OF THE CLONES"},{type:"message",speaker:"Sparky",text:"Target: Find 5 Homogenized AI Spies."}],nextChoice:{text:"ACCEPT MISSION",choiceId:7}},{id:7,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Excellent! Phase 2 mission is now active. Good luck finding those homogenized spies!"}],nextChoice:null}],j2=e=>[e("randomDialog1"),e("randomDialog2"),e("randomDialog3"),e("randomDialog4"),e("randomDialog5"),e("randomDialog6"),e("randomDialog7"),e("randomDialog8"),e("randomDialog9")],Pa=e=>{const t=j2(e);return t[Math.floor(Math.random()*t.length)]},cl=e=>[{id:0,type:"message",speaker:"Sparky",text:'You spotted ALL GenAI spies! Those "perfect" poems? Those normal images?',nextChoice:{text:"Can you tell me more",choiceId:1}},{id:1,type:"response",messages:[{type:"message",speaker:"Sparky",text:'When you ask AI for "a fish," it usually gives you a smooth, symmetricalthe kind you see everywhere online.'},{type:"image",src:"/island/icon/fish_1.png",alt:"Generic Fish"},{type:"message",speaker:"Sparky",text:`But in reality? People draw all kinds of fish:
 Spiky pufferfish
 Glowing anglerfish (Lophiiformes)
 Silvery, ribbon-like hairtail`},{type:"image",src:"/island/icon/fish_2.png",alt:"Diverse Fish"},{type:"message",speaker:"Sparky",text:"So here's how to spot AI output: If it's too generic, too polished, and missing the weird-but-real it's probably averaged from the most common examplesnot reflecting true diversity."}],quiz:{question:" Look at this illustration of an animal bicycle race. Is it made by a human or by GenAI?",image:"/island/icon/bike_1.png",choices:[{id:"A",text:"Human",correct:!0},{id:"B",text:"GenAI",correct:!1}],feedback:`This image isn't randomit's clearly designed with intention.

The turtle leading the race flips expectations (The Tortoise and the Hare.)

The giraffe watching from above uses its height for humor.

Each animal has a clear role. Even the caterpillar rides a multi-pedal bike.`,feedbackImage:"/island/icon/bike_2.png",feedbackExtra:"This is GenAI-generated image. GenAI can draw animals on bikesbut it rarely tells a real visual story.",nextChoiceId:2}},{id:2,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Exactly! Now let's test your visual detection skills."}],quiz:{question:"If you receive a strange email or read an essay, which of these is a strong clue that it was written by AI, not a human?",choices:[{id:"A",text:"It has a few spelling mistakes and uses slang like 'gonna' or 'wanna'.",correct:!1},{id:"B",text:"It is extremely polite, uses a 'perfect' list structure (First, Furthermore, In Conclusion), and words like 'delve' or 'tapestry'.",correct:!0},{id:"C",text:"It expresses a very strong, angry opinion about politics.",correct:!1}],feedback:"Why? Humans are messywe typo, rage, and tell bad jokes. AI plays the 'perfect student': always polite, tidy, and overusing fancy words. Too perfect? Suspicious!",nextChoiceId:3}},{id:3,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Great! Now one more visual test."}],quiz:{question:"When you look at a photo that looks almost real, which detail reveals that it is actually AI-generated?",choices:[{id:"A",text:"The person has messy hair, skin texture with pores, and a small scar.",correct:!1},{id:"B",text:"The lighting is bad and the photo is a little bit blurry.",correct:!1},{id:"C",text:"The background text is weird alien gibberish, and the hands might have too many fingers.",correct:!0}],feedback:"Exactly! AI struggles with text and fine details like hands.",nextChoiceId:4}},{id:4,type:"response",messages:[{type:"message",speaker:"Sparky",text:"You did it! You can now see through the illusions! Thank you! You've taught me so much about the characteristics of GenAI, too. I think I can use this data to detect the 'AI rate' among the island's workers and finally restore the power!"}],nextChoice:{text:"Great!",choiceId:5}},{id:5,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Initiating island restoration sequence..."}],nextChoice:null}],jr=e=>[{id:0,type:"message",speaker:"Sparky",text:e("sparkyIntro1"),nextChoice:{text:e("whatHappened"),choiceId:1}},{id:1,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro2")},{type:"message",speaker:"Sparky",text:e("sparkyIntro3")}],nextChoice:{text:e("whatIsGenerativeAI"),choiceId:2}},{id:2,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro4")}],nextChoice:{text:e("dontGetIt"),choiceId:3}},{id:3,type:"response",messages:[{type:"animation",src:"/island/model.gif",alt:"Animation Sequence"},{type:"message",speaker:"Sparky",text:e("sparkyIntro5")},{type:"message",speaker:"Sparky",text:e("sparkyIntro6")},{type:"message",speaker:"Sparky",text:e("sparkyIntro7")}],nextChoice:{text:e("canIHelp"),choiceId:4}},{id:4,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro8")}],nextChoice:{text:e("howToTellApart"),choiceId:5}},{id:5,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro9")},{type:"message",speaker:"Sparky",text:e("sparkyIntro10")},{type:"image",src:"/island/sample.gif",alt:"Hallucination Example"},{type:"message",speaker:"Sparky",text:e("sparkyIntro11")}],nextChoice:{text:e("gotIt"),choiceId:6}},{id:6,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro12")},{type:"message",speaker:"Sparky",text:e("sparkyIntro13")},{type:"message",speaker:"Sparky",text:e("sparkyIntro14")}],nextChoice:{text:e("missionAccepted"),choiceId:7}},{id:7,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro15")}],nextChoice:null}],k2=({onExit:e})=>{const{t}=ao(),n=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),[a,i]=u.useState(ce.ISLAND_1),[s,l]=u.useState(!1),[c,d]=u.useState(null),[b,j]=u.useState(""),[C,S]=u.useState(!1),[x,A]=u.useState(0),[U,z]=u.useState(null),[p,f]=u.useState(!1),[y,I]=u.useState(""),[P,Q]=u.useState(!1),[B,q]=u.useState([]),[H,le]=u.useState(0),[ee,ne]=u.useState(!1),[pe,ze]=u.useState(""),[re,F]=u.useState(!1),[V,L]=u.useState(!1),[E,se]=u.useState(!1),[te,me]=u.useState(null),[bt,J]=u.useState(!1),[Se,ue]=u.useState(null),[ke,oo]=u.useState([]),[La,vt]=u.useState(!1),[Xe,Et]=u.useState(null),[at,rt]=u.useState(!1),[Bt,wa]=u.useState(""),[Rt,Ca]=u.useState(!1),[_t,Yt]=u.useState(""),[Ft,Wt]=u.useState(!1),[mi,Xt]=u.useState(!1),[on,Qe]=u.useState(null),[sn,io]=u.useState(!1),[ta,zt]=u.useState(!1),[ja,na]=u.useState(""),[Qt,Ua]=u.useState(""),[Bo,aa]=u.useState(!1),[ka,Sn]=u.useState(!1),[so,Le]=u.useState(!1),[un,lo]=u.useState(null),[Dt,Aa]=u.useState(!1),[ot,xi]=u.useState(null),[Ia,ro]=u.useState(!1),[Ae,Ro]=u.useState(""),[_o,co]=u.useState(!1),[uo,ft]=u.useState(!1),[Ga,oa]=u.useState(null),[St,Vt]=u.useState(!1),[_e,Tn]=u.useState(!1),[Ma,Ve]=u.useState(0),[ln,Fo]=u.useState(!1),[Un,Ho]=u.useState(null),[za,wn]=u.useState(!1),[qa,ia]=u.useState(null),[po,Ya]=u.useState(new Set),[de,ht]=u.useState(!1),[Ie,Tt]=u.useState([]),[Cn,sa]=u.useState(!1),[Ue,jn]=u.useState(!1),[dn,la]=u.useState(0),[qe,Jt]=u.useState([]),[Gn,kn]=u.useState(0),[et,Wa]=u.useState(""),[Pt,ra]=u.useState(!1),[pn,wt]=u.useState(!1),[Ne,Zt]=u.useState(!1),[Xa,gn]=u.useState(!1),[Da,Qa]=u.useState(!1),[An,Va]=u.useState(!1),it=w=>{if(!po.has(w))return null;if(w.includes("_p2")){const $=w.replace("_p2",""),oe=parseInt($.replace("npc",""));return[5,10,20,12,16].includes(oe)?"/island/icon/offline.png":"/island/icon/online.png"}const M=parseInt(w.replace("npc",""));return[4,8,9,22,23,24,13,14,17].includes(M)?"/island/icon/offline.png":"/island/icon/online.png"};u.useEffect(()=>{ke.length===9&&!St&&(Vt(!0),setTimeout(()=>{f(!0)},1e3))},[ke,St]),u.useEffect(()=>{Ie.length===5&&!Cn&&de&&(sa(!0),setTimeout(()=>{d({text:t("phase2Complete"),speaker:"Glitch"}),l(!0)},1e3))},[Ie,Cn,de]),Zm("/sound/island.mp3");const{playClickSound:ca}=Ls(),{startTypingSound:In,stopTypingSound:rn}=Bp("/sound/island_typing.wav");u.useEffect(()=>{const w={missionActive:V,missionCompleted:St,phase2Active:de,phase2Completed:Cn,completedMissions:Array.from(ke),completedNpcs:Array.from(po),phase2CompletedMissions:Ie,islandRestored:An,showSparkyDialogue:P,currentSparkyStep:H,showSparkyDebrief:_e,debriefStep:Ma,showFinalSparkyDialogue:Ue,finalDialogueStep:dn};localStorage.setItem("islandProgress",JSON.stringify(w))},[V,St,de,Cn,ke,po,Ie,An,P,H,_e,Ma,Ue,dn]),u.useEffect(()=>{const w=localStorage.getItem("islandProgress");if(w)try{const M=JSON.parse(w);(M.missionActive||M.missionCompleted||M.phase2Active||M.phase2Completed)&&(L(M.missionActive||!1),Vt(M.missionCompleted||!1),ht(M.phase2Active||!1),sa(M.phase2Completed||!1),oo(M.completedMissions||[]),Ya(new Set(M.completedNpcs||[])),Tt(M.phase2CompletedMissions||[]),Va(M.islandRestored||!1),Q(M.showSparkyDialogue||!1),le(M.currentSparkyStep||0),Tn(M.showSparkyDebrief||!1),Ve(M.debriefStep||0),jn(M.showFinalSparkyDialogue||!1),la(M.finalDialogueStep||0))}catch(M){console.log("Failed to load island progress:",M)}},[]),u.useEffect(()=>(re?In():rn(),()=>rn()),[re,In,rn]),u.useEffect(()=>{if(a===ce.MAIN_ISLAND){l(!1),z(null),A(0);return}if(!V&&!s){const M=Eu(t)[a];M&&M.length>0&&(a===ce.ISLAND_1||a===ce.ISLAND_2||a===ce.ISLAND_3)&&setTimeout(()=>{d(M[0]),A(0),z(a),l(!0)},500)}},[a,V]);const Ye=()=>{f(!0)},Mn=()=>{y.trim()&&I("")},Oa=w=>{w.key==="Enter"&&Mn()},Ja=w=>{if(!V){const K=Eu(t)[w];K&&K.length>0&&(d(K[0]),A(0),z(w),l(!0))}},Na=w=>{if(console.log("handlePhase2PoetryNpcClick called with npcId:",w),!V||!de)return;const M=Xf();let K=M[w];if(!K){const oe=w.includes("_p2")?w:`${w}_p2`;K=M[oe]}if(console.log("Phase 2 Island 3 NPC found:",K),!K){console.log("No Phase 2 Island 3 NPC found for ID:",w);return}console.log("Setting up Phase 2 poetry dialogue for:",K.question),me(K),se(!0),Jt([]),kn(0),wt(!1);const $=[{speaker:"you",text:K.question,timestamp:n()},{speaker:"npc",text:K.answer,timestamp:n(),hasImage:!1}];setTimeout(()=>{zn($,0)},100)},Ea=w=>{if(console.log("handleQANpcClick called with npcId:",w),console.log("missionActive:",V),console.log("phase2Active:",de),console.log("island3Npcs:",Ru),!V){console.log("Mission not active, returning");return}const M=Ru[w];if(console.log("Found NPC:",M),!M){console.log("NPC not found in island3Npcs");return}me(M),se(!0),Jt([]),kn(0),wt(!1),qn(M)},mt=w=>{if(console.log("handlePhase2TextNpcClick called with npcId:",w),!V||!de)return;const M=Wf();let K=M[w];if(!K){const oe=w.includes("_p2")?w:`${w}_p2`;K=M[oe]}if(console.log("Phase 2 Island 2 NPC found:",K),!K){console.log("No Phase 2 Island 2 NPC found for ID:",w);return}console.log("Setting up Phase 2 text dialogue for:",K.question),me(K),se(!0),Jt([]),kn(0),wt(!1);const $=[{speaker:"you",text:K.question,timestamp:n()},{speaker:"npc",text:K.response,timestamp:n(),hasImage:!1}];setTimeout(()=>{zn($,0)},100)},Ht=w=>{if(console.log("handleImageNpcClick called with npcId:",w),console.log("missionActive:",V),console.log("phase2Active:",de),console.log("island2Npcs:",Bu),!V){console.log("Mission not active, returning");return}const M=Bu[w];if(console.log("Found NPC:",M),!M){console.log("NPC not found in island2Npcs");return}me(M),se(!0),Jt([]),kn(0),wt(!1),v(M)},v=w=>{const M=[{speaker:"you",text:"What do you think about this image?",timestamp:n(),hasImage:!0,image:w.missionImage},{speaker:"npc",text:w.response,timestamp:n(),hasImage:!1}];setTimeout(()=>{zn(M,0)},100)},qn=w=>{const M=[{speaker:"you",text:w.question,timestamp:n()},{speaker:"npc",text:w.answer,timestamp:n(),hasImage:!1}];setTimeout(()=>{zn(M,0)},100)},zn=(w,M)=>{if(M>=w.length){wt(!0);return}const K=w[M];Jt(ie=>[...ie,K]);let $=0;Wa(""),ra(!0);const oe=setInterval(()=>{$<K.text.length?(Wa(K.text.substring(0,$+1)),$++):(ra(!1),clearInterval(oe),setTimeout(()=>{zn(w,M+1)},800))},30)},ua=w=>{if(console.log("handleMissionNpcClick called with npcId:",w),console.log("missionActive:",V),console.log("phase2Active:",de),!V)return;let M;if(de){const $=Yf(t);M=$[w]||$[w.replace("_p2","")],console.log("Phase 2 NPC found:",M)}else M=qf(t)[w],console.log("Phase 1 NPC found:",M);if(!M){console.log("No NPC found for ID:",w);return}console.log("Setting up mission dialogue for:",M.question),me(M),se(!0),Jt([]),kn(0),Wa(""),ra(!1),wt(!1),vt(!1),Et(null),J(!1),Ca(!1),Yt(""),Wt(!1);const K=[{speaker:"you",text:M.question,timestamp:n()},{speaker:"npc",text:"Sure! Let me show you...",timestamp:n(),hasImage:!0,image:M.missionImage}];setTimeout(()=>{zn(K,0)},100)},Lt=()=>{if(Cn&&!Ue){jn(!0),Q(!0),q([]),la(0),ne(!1);const M=cl()[0];setTimeout(()=>{Ba(M)},100)}else if(St&&!de){Tn(!0),Q(!0),q([]),Ve(0),ne(!1);const M=Ji(t)[0];setTimeout(()=>{fn(M)},100)}else if(!V){const w=jr(t);Q(!0),Tn(!1),q([]),le(0),ne(!1),setTimeout(()=>{const M=w[0];fn(M)},100)}},Ba=w=>{if(w.type==="message"){q(oe=>[...oe,w]),ze(""),F(!0);let M=0;const K=w.text,$=setInterval(()=>{M<K.length?(ze(K.substring(0,M+1)),M++):(F(!1),clearInterval($),w.nextChoice&&ne(!0))},30)}else w.type==="response"&&w.messages.forEach((M,K)=>{setTimeout(()=>{if(q($=>[...$,M]),M.type==="message"){ze(""),F(!0);let $=0;const oe=M.text,ie=setInterval(()=>{$<oe.length?(ze(oe.substring(0,$+1)),$++):(F(!1),clearInterval(ie))},30)}K===w.messages.length-1&&setTimeout(()=>{w.nextChoice?ne(!0):w.quiz&&wn(!0)},M.type==="message"?1e3:500)},K*1500)})},fn=w=>{if(_e?Ji(t):jr(t),w.type==="message"){q(oe=>[...oe,w]),ze(""),F(!0);let M=0;const K=w.text,$=setInterval(()=>{M<K.length?(ze(K.substring(0,M+1)),M++):(F(!1),clearInterval($),w.nextChoice&&ne(!0))},30)}else w.type==="response"&&w.messages.forEach((M,K)=>{setTimeout(()=>{if(q($=>[...$,M]),M.type==="message"){ze(""),F(!0);let $=0;const oe=M.text,ie=setInterval(()=>{$<oe.length?(ze(oe.substring(0,$+1)),$++):(F(!1),clearInterval(ie))},30)}K===w.messages.length-1&&setTimeout(()=>{w.nextChoice?ne(!0):w.quiz&&wn(!0)},M.type==="message"?1e3:500)},K*1500)})},go=(w,M,K)=>{if(ca(),wn(!1),Ue){const $=cl(),oe=$[dn];oe&&oe.quiz&&(q(ie=>[...ie,{type:"user_quiz_choice",text:K,isCorrect:M}]),setTimeout(()=>{q(ie=>[...ie,{type:"quiz_feedback",text:oe.quiz.feedback,isCorrect:M}]),oe.quiz.feedbackImage&&setTimeout(()=>{q(ie=>[...ie,{type:"image",src:oe.quiz.feedbackImage,alt:"Feedback Image"}]),oe.quiz.feedbackExtra&&setTimeout(()=>{q(ie=>[...ie,{type:"message",speaker:"Sparky",text:oe.quiz.feedbackExtra}])},500)},500),setTimeout(()=>{if(oe.quiz.nextChoiceId){la(oe.quiz.nextChoiceId);const ie=$.find(ve=>ve.id===oe.quiz.nextChoiceId);ie&&setTimeout(()=>{Ba(ie)},500)}},oe.quiz.feedbackImage?3e3:2e3)},300))}else{const $=Ji(t),oe=$[Ma];oe&&oe.quiz&&(q(ie=>[...ie,{type:"user_quiz_choice",text:K,isCorrect:M}]),setTimeout(()=>{q(ie=>[...ie,{type:"quiz_feedback",text:oe.quiz.feedback,isCorrect:M}]),setTimeout(()=>{if(oe.quiz.nextChoiceId){Ve(oe.quiz.nextChoiceId);const ie=$.find(ve=>ve.id===oe.quiz.nextChoiceId);ie&&setTimeout(()=>{fn(ie)},500)}},2e3)},300))}},ct=(w,M)=>{if(ca(),q(K=>[...K,{type:"user_choice",text:w}]),ne(!1),Ue){const K=cl();la(M);const $=K.find(oe=>oe.id===M);$&&setTimeout(()=>{Ba($),M===4&&setTimeout(()=>{jn(!1),Q(!1),Qa(!0),setTimeout(()=>{Qa(!1),Va(!0)},3e3)},2e3)},500)}else{const K=_e?Ji(t):jr(t);le(M),Ve(M);const $=K.find(oe=>oe.id===M);$&&setTimeout(()=>{fn($),M===7&&setTimeout(_e?()=>{Tn(!1),Q(!1),ht(!0),L(!0)}:()=>{Q(!1),L(!0)},2e3)},500)}},fo=w=>{switch(ca(),a){case ce.ISLAND_1:w==="right"&&i(ce.MAIN_ISLAND);break;case ce.ISLAND_2:w==="left"&&i(ce.MAIN_ISLAND);break;case ce.ISLAND_3:w==="down"&&i(ce.MAIN_ISLAND);break;case ce.MAIN_ISLAND:w==="left"&&i(ce.ISLAND_1),w==="right"&&i(ce.ISLAND_2),w==="up"&&i(ce.ISLAND_3);break}};u.useEffect(()=>{if(!c||!s)return;const w=c.text;if(!w)return;let M=0;j(""),S(!0),In();const K=setInterval(()=>{if(M<w.length)j(w.substring(0,M+1)),M++;else if(S(!1),rn(),clearInterval(K),U){const oe=Eu(t)[U],ie=x+1;ie<oe.length&&setTimeout(()=>{d(oe[ie]),A(ie)},1e3)}},30);return()=>{clearInterval(K),rn()}},[c,s,x,U,In,rn]);const h=w=>{if(!te)return;if(!(w==="worker"&&te.correctAnswer==="passed"||w==="genai"&&te.correctAnswer==="failed")){new Audio("/sound/wrong.mp3").play().catch($=>console.log("Audio play failed:",$)),w==="worker"?(Zt(!0),setTimeout(()=>Zt(!1),500)):(gn(!0),setTimeout(()=>gn(!1),500));return}if(console.log("Starting hand stamp animation"),Et(te.correctAnswer),rt(!0),wa("moving"),setTimeout(()=>{console.log("Hand stamp phase: stamping"),wa("stamping"),setTimeout(()=>{new Audio("/sound/stamp.mp3").play().catch($=>console.log("Stamp sound failed:",$)),vt(!0)},1e3),setTimeout(()=>{console.log("Hand stamp phase: fadeout"),wa("fadeout"),setTimeout(()=>{console.log("Hand stamp animation complete"),rt(!1),wa("")},500)},2e3)},50),Ya(K=>new Set([...K,te.id])),de&&te.id&&te.id.includes("_p2")){const K=te.id.replace("_p2",""),$=parseInt(K.replace("npc",""));if(te.correctAnswer==="failed"){let oe;$===5?oe=1:$===10?oe=2:$===20?oe=3:$===12?oe=4:$===16&&(oe=5),oe&&(console.log("Adding Phase 2 progress:",oe,"for NPC:",$),Tt(ie=>[...ie,oe]))}}else!de&&te.correctAnswer==="failed"&&oo(K=>[...K,te.id]);setTimeout(()=>{vt(!1),se(!1),me(null),Jt([]),kn(0),wt(!1),Et(null),(te.correctAnswer==="failed"?ke.length+1:ke.length)>=9&&!de&&(Vt(!0),Tn(!0),Ve(0))},3300)},_=()=>{const w=An?"_color":"";switch(a){case ce.ISLAND_1:return`/island/background/island1${w}.png`;case ce.ISLAND_2:return`/island/background/island2${w}.png`;case ce.ISLAND_3:return`/island/background/island3${w}.png`;case ce.MAIN_ISLAND:return`/island/background/main_land${w}.png`;default:return`/island/background/main_land${w}.png`}},Y=()=>{switch(a){case ce.ISLAND_1:return[{direction:"right",position:{right:"30px",top:"50%",transform:"translateY(-50%)"}}];case ce.ISLAND_2:return[{direction:"left",position:{left:"30px",top:"50%",transform:"translateY(-50%)"}}];case ce.ISLAND_3:return[{direction:"down",position:{bottom:"30px",left:"50%",transform:"translateX(-50%)"}}];case ce.MAIN_ISLAND:return[{direction:"left",position:{left:"30px",top:"50%",transform:"translateY(-50%)"}},{direction:"right",position:{right:"30px",top:"50%",transform:"translateY(-50%)"}},{direction:"up",position:{top:"30px",left:"50%",transform:"translateX(-50%)"}}];default:return[]}},Me=()=>{if(An)switch(a){case ce.ISLAND_1:return[{id:"npc1_restored",image:"/island/npc/npc1.png",size:"220px",position:{right:"15%",top:"10%"},onClick:()=>{d({text:Pa(t),speaker:"NPC"}),z(ce.ISLAND_1),l(!0)}},{id:"npc6_restored",image:"/island/npc/npc6.png",size:"150px",position:{left:"15%",bottom:"20%"},onClick:()=>{d({text:Pa(t),speaker:"NPC"}),z(ce.ISLAND_1),l(!0)}},{id:"npc7_restored",image:"/island/npc/npc7.png",size:"160px",position:{left:"50%",bottom:"35%"},onClick:()=>{d({text:Pa(t),speaker:"NPC"}),z(ce.ISLAND_1),l(!0)}},{id:"npc11_restored",image:"/island/npc/npc11.png",size:"250px",position:{right:"10%",bottom:"5%"},onClick:()=>{d({text:Pa(t),speaker:"NPC"}),z(ce.ISLAND_1),l(!0)}}];case ce.ISLAND_2:return[{id:"npc2_restored",image:"/island/npc/npc2.png",size:"200px",position:{left:"5%",top:"10%"},onClick:()=>{d({text:Pa(t),speaker:"NPC"}),z(ce.ISLAND_2),l(!0)}},{id:"npc21_restored",image:"/island/npc/npc21.png",size:"200px",position:{right:"20%",bottom:"20%"},onClick:()=>{d({text:Pa(t),speaker:"NPC"}),z(ce.ISLAND_2),l(!0)}}];case ce.ISLAND_3:return[{id:"npc3_restored",image:"/island/npc/npc3.png",size:"200px",position:{right:"5%",bottom:"10%"},onClick:()=>{d({text:Pa(t),speaker:"NPC"}),z(ce.ISLAND_3),l(!0)}},{id:"npc15_restored",image:"/island/npc/npc15.png",size:"150px",position:{left:"10%",bottom:"5%"},onClick:()=>{d({text:Pa(t),speaker:"NPC"}),z(ce.ISLAND_3),l(!0)}},{id:"npc18_restored",image:"/island/npc/npc18.png",size:"200px",position:{right:"10%",top:"10%"},onClick:()=>{d({text:Pa(t),speaker:"NPC"}),z(ce.ISLAND_3),l(!0)}},{id:"npc19_restored",image:"/island/npc/npc19.png",size:"250px",position:{left:"10%",top:"15%"},onClick:()=>{d({text:Pa(t),speaker:"NPC"}),z(ce.ISLAND_3),l(!0)}}];case ce.MAIN_ISLAND:return[{image:"/island/npc/sparky.gif",style:{height:"400px",right:"20%",bottom:"25%"},onClick:()=>{d({text:t("sparkyRestored"),speaker:"Sparky"}),l(!0)}}];default:return[]}switch(a){case ce.ISLAND_1:if(V)if(de){const w=Yf(t);return Object.values(w)}else{const w=qf(t);return Object.values(w)}else return[{image:"/island/npc/npc1.png",style:{height:"350px",right:"15%",bottom:"15%"},onClick:()=>Ja(ce.ISLAND_1)}];case ce.ISLAND_2:if(V)if(de){const w=Wf();return console.log("Phase 2 Island 2 NPCs:",w),Object.values(w)}else return Object.values(Bu);else return[{image:"/island/npc/npc2.png",style:{height:"300px",left:"15%",bottom:"10%"},onClick:()=>Ja(ce.ISLAND_2)}];case ce.ISLAND_3:if(V)if(de){const w=Xf();return console.log("Phase 2 Island 3 NPCs:",w),Object.values(w)}else return Object.values(Ru);else return[{image:"/island/npc/npc3.png",style:{height:"300px",left:"15%",bottom:"30%"},onClick:()=>Ja(ce.ISLAND_3)}];case ce.MAIN_ISLAND:return[{image:"/island/npc/sparky.gif",style:{height:"400px",right:"20%",bottom:"25%"},onClick:Lt}];default:return[]}},W={container:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden",background:"#f4e4bc"},backgroundImage:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,pointerEvents:"none"},exitButton:{position:"absolute",top:"20px",left:"20px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},glitchNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:100,cursor:"pointer"},glitchImage:{width:"100%",height:"100%",objectFit:"contain"},navArrow:{position:"absolute",width:"60px",height:"60px",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none"},arrowImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},npc:{position:"absolute",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},npcCompleted:{position:"absolute",cursor:"pointer",zIndex:30,transition:"transform 0.2s",opacity:.1},npcImage:{width:"auto",height:"100%",objectFit:"contain"},dialogueContainer:{position:"absolute",bottom:"100px",left:"2%",width:"350px",maxWidth:"350px",zIndex:100},glitchDialogue:{position:"absolute",top:"20px",right:"150px",width:"350px",background:"rgba(255, 255, 255, 0.95)",borderRadius:"15px",padding:"20px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)",zIndex:150},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #af4dca, #7868e5)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",margin:0},glitchDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#666",lineHeight:1.6,margin:"0 0 15px 0"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 12px",border:"2px solid #e0e0e0",borderRadius:"25px",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",background:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",background:"#e0e0e0",borderRadius:"1px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer",padding:"0",lineHeight:1,transition:"color 0.2s"},modernDialogueContainer:{position:"fixed",top:"5%",left:"5%",width:"90%",height:"85%",zIndex:1e3,background:"rgba(128, 128, 128, 0.95)",backdropFilter:"blur(10px)",borderRadius:"20px",display:"flex",flexDirection:"column",boxShadow:"0 20px 40px rgba(0,0,0,0.3)"},modernDialogueHeader:{padding:"20px 30px 15px 30px",borderBottom:"none"},modernProgressBar:{width:"100%",height:"6px",backgroundColor:"rgba(255,255,255,0.3)",borderRadius:"3px",overflow:"hidden",marginTop:"10px"},modernProgressFill:{height:"100%",borderRadius:"3px",transition:"width 0.3s ease"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"},modernNpcAvatar:{width:"60px",height:"60px",borderRadius:"50%",objectFit:"cover",border:"3px solid white",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,color:"#333"},modernCloseButton:{position:"absolute",top:"20px",right:"20px",background:"none",border:"none",fontSize:"24px",color:"#666",cursor:"pointer",padding:"5px",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},modernDialogueContent:{flex:1,padding:"0 30px 30px 30px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"15px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"80%"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.5,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999",marginTop:"5px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"80%"},modernUserBubble:{background:"#4A90E2",padding:"15px 20px",borderRadius:"20px 20px 5px 20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"5px"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"white",lineHeight:1.5,margin:0},modernActionButton:{alignSelf:"center",background:"rgba(255,255,255,0.9)",border:"none",borderRadius:"25px",padding:"12px 30px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",marginTop:"10px"},conversationTestCard:{position:"absolute",top:"10%",left:"20%",width:"60%",height:"80%",zIndex:100,background:"white",borderRadius:"15px",boxShadow:"0 15px 50px rgba(0,0,0,0.3)",display:"flex",flexDirection:"column"},conversationTestHeader:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",borderBottom:"2px solid #e0e0e0",position:"relative"},conversationTestTitle:{display:"flex",alignItems:"center",gap:"10px",fontFamily:"'Rajdhani', sans-serif",fontSize:"24px",fontWeight:700,color:"#333"},conversationTestIcon:{width:"30px",height:"30px"},conversationTestClose:{position:"absolute",right:"20px",top:"20px",background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#666",lineHeight:1},conversationTestBody:{display:"flex",flex:1,overflow:"hidden"},conversationTestLeft:{flex:1,display:"flex",flexDirection:"column",borderRight:"2px solid #e0e0e0"},conversationTestMessages:{flex:1,background:"#f8fae4",padding:"20px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"15px"},conversationMessageYou:{display:"flex",flexDirection:"column",alignItems:"flex-end"},conversationMessageYouBubble:{background:"#4f7f30",color:"white",padding:"10px 15px",borderRadius:"12px",maxWidth:"70%",fontFamily:"'Rajdhani', sans-serif",wordWrap:"break-word"},conversationMessageYouTime:{fontSize:"11px",color:"#4f7f30",marginTop:"4px",fontFamily:"'Rajdhani', sans-serif"},conversationMessageNpc:{display:"flex",flexDirection:"column",alignItems:"flex-start"},conversationMessageNpcBubble:{background:"white",color:"black",padding:"10px 15px",borderRadius:"12px",maxWidth:"70%",fontFamily:"'Rajdhani', sans-serif",wordWrap:"break-word"},conversationMessageNpcTime:{fontSize:"11px",color:"#666",marginTop:"4px",fontFamily:"'Rajdhani', sans-serif"},conversationMessageImage:{height:"400px",width:"auto",objectFit:"contain",borderRadius:"8px",marginTop:"8px"},conversationTestRight:{width:"280px",display:"flex",flexDirection:"column",padding:"20px"},conversationTestProfile:{background:"#162d3b",margin:"0",padding:"20px",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",marginBottom:"30px"},conversationTestProfileLabel:{fontFamily:"'Rajdhani', sans-serif",fontSize:"12px",fontWeight:600,color:"white",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px"},conversationTestProfileImage:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",border:"3px solid white"},conversationTestProfileText:{fontFamily:"'Rajdhani', sans-serif",color:"white",textAlign:"center",fontSize:"14px"},conversationTestProfileName:{fontWeight:700,fontSize:"16px"},conversationTestButtons:{display:"flex",flexDirection:"column",gap:"15px",padding:"0 20px 20px 20px"},conversationTestButtonWorker:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"15px",border:"3px solid #4CAF50",borderRadius:"12px",background:"white",cursor:"pointer",transition:"all 0.3s"},conversationTestButtonGenAI:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"15px",border:"3px solid #F44336",borderRadius:"12px",background:"white",cursor:"pointer",transition:"all 0.3s"},conversationTestButtonIcon:{width:"60px",height:"60px",marginBottom:"8px"},conversationTestButtonText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textAlign:"center"}};return o.jsxs("div",{style:W.container,children:[o.jsx("style",{children:`
          @keyframes glow {
            from {
              box-shadow: 0 0 20px rgba(81, 112, 255, 0.6), 0 0 40px rgba(81, 112, 255, 0.4), 0 0 60px rgba(81, 112, 255, 0.2);
            }
            to {
              box-shadow: 0 0 30px rgba(81, 112, 255, 0.8), 0 0 60px rgba(81, 112, 255, 0.6), 0 0 90px rgba(81, 112, 255, 0.4);
            }
          }
          
          @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
          }
        `}),o.jsx("img",{src:_(),alt:"Island Background",style:W.backgroundImage}),o.jsx("button",{style:W.exitButton,onClick:e,children:t("exit")}),o.jsx("div",{style:W.glitchNpc,onClick:Ye,children:o.jsx("img",{src:"/npc/npc_island.png",alt:"Glitch",style:W.glitchImage})}),Y().map((w,M)=>o.jsx("button",{style:{...W.navArrow,...w.position},onClick:()=>fo(w.direction),onMouseOver:K=>K.currentTarget.style.transform=`${w.position.transform||""} scale(1.2)`,onMouseOut:K=>K.currentTarget.style.transform=w.position.transform||"",children:o.jsx("img",{src:`/jungle/icon/${w.direction}.png`,alt:w.direction,style:W.arrowImage})},M)),Me().map((w,M)=>{var oe,ie;console.log("Rendering NPC:",w.id,"on island:",a,"phase2Active:",de);const K=w.id&&po.has(w.id)&&!An,$=w.id&&!An?it(w.id):null;return o.jsxs("div",{children:[o.jsx("div",{style:{...K?W.npcCompleted:W.npc,height:w.size||((oe=w.style)==null?void 0:oe.height),width:w.size||((ie=w.style)==null?void 0:ie.width)||"auto",...w.position,...w.style},onClick:ve=>{if(ve.stopPropagation(),w.onClick){w.onClick();return}w.id&&(a===ce.ISLAND_1?ua(w.id):a===ce.ISLAND_2?de&&w.id.includes("_p2")?mt(w.id):Ht(w.id):a===ce.ISLAND_3&&(de&&w.id.includes("_p2")?Na(w.id):Ea(w.id)))},onMouseOver:ve=>!K&&(ve.currentTarget.style.transform="scale(1.05)"),onMouseOut:ve=>!K&&(ve.currentTarget.style.transform="scale(1)"),children:o.jsx("img",{src:w.image,alt:"NPC",style:W.npcImage})}),$&&!An&&o.jsx("img",{src:$,alt:"Status",style:{position:"absolute",top:"-45px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"40px",zIndex:35}})]},M)}),s&&c&&c.speaker!=="Glitch"&&o.jsx("div",{style:{...W.dialogueContainer,...U===ce.ISLAND_1&&{right:"calc(15% + 350px + 20px)",bottom:"15%",left:"auto",top:"auto"},...U===ce.ISLAND_2&&{left:"15%",bottom:"calc(10% + 300px + 20px)",right:"auto",top:"auto"},...U===ce.ISLAND_3&&{left:"calc(15% + 300px + 20px)",bottom:"30%",right:"auto",top:"auto"}},children:o.jsxs("div",{style:{padding:"20px 25px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.4)",boxShadow:"inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 8px 24px rgba(0, 0, 0, 0.15)",position:"relative"},children:[o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#1a1a1a",marginBottom:"8px",textShadow:"0 0 8px rgba(255, 255, 255, 0.6)"},children:c.speaker}),o.jsxs("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",color:"#1a1a1a",lineHeight:1.6,margin:0,textShadow:"0 0 6px rgba(255, 255, 255, 0.5)"},children:[b,C&&o.jsx("span",{style:{opacity:.5},children:"|"})]})]})}),p&&o.jsxs("div",{style:W.glitchDialogue,children:[o.jsx("button",{style:W.glitchDialogueCloseButton,onClick:()=>f(!1),onMouseOver:w=>{w.target.style.color="#333"},onMouseOut:w=>{w.target.style.color="#999"},children:""}),o.jsxs("div",{style:W.glitchDialogueHeader,children:[o.jsx("div",{style:W.glitchDialogueAvatar,children:o.jsx("span",{style:W.glitchDialogueAvatarIcon,children:""})}),o.jsx("h4",{style:W.glitchDialogueName,children:"Glitch"})]}),o.jsx("p",{style:W.glitchDialogueText,children:de?t("phase2GlitchMessage"):V?"The truth is hidden in plain sight. Look carefully at what you see.":t("sparkyMainIsland")}),o.jsxs("div",{style:W.glitchDialogueInputContainer,onFocus:w=>{w.currentTarget.style.borderColor="#af4dca"},onBlur:w=>{w.currentTarget.style.borderColor="#e0e0e0"},children:[o.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:y,onChange:w=>I(w.target.value),onKeyPress:Oa,style:W.glitchDialogueInput}),o.jsx("div",{style:W.glitchDialogueDivider}),o.jsx("button",{onClick:Mn,style:W.glitchDialogueSendButton,onMouseOver:w=>{w.currentTarget.style.transform="scale(1.1)"},onMouseOut:w=>{w.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:"/icon/send.png",alt:"Send",style:W.glitchDialogueSendIcon})})]})]}),P&&(()=>{const w={borderColor:"#008dda",progressColor:"#008dda",backgroundColor:"#f1f2ed",userBubbleColor:"#008dda",avatar:"/island/npc/sparky.gif"},M=5;let K=1,$="INITIAL BRIEFING";V?V&&!St&&!de?(K=2,$="MISSION: IDENTIFY AI HALLUCINATIONS"):St&&!de?(K=3,$="MISSION 1 SUMMARY"):de&&!Cn?(K=4,$="MISSION: DETECT HOMOGENIZATION"):Cn&&(K=5,$="MISSION 2 SUMMARY"):(K=1,$="INITIAL BRIEFING");const oe=K/M*100;return o.jsxs("div",{style:{...W.modernDialogueContainer,background:w.backgroundColor,border:`3px solid ${w.borderColor}`,top:"12.5%",left:"10%",width:"40%",height:"70%"},children:[o.jsxs("div",{style:W.modernDialogueHeader,children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,color:"#333",letterSpacing:"0.5px"},children:$}),o.jsxs("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:400,color:"#999"},children:["Step ",K," of ",M]})]}),o.jsxs("div",{style:{position:"relative",marginBottom:"15px"},children:[o.jsx("div",{style:{...W.modernProgressBar,background:"#e0e0e0"},children:o.jsx("div",{style:{...W.modernProgressFill,width:`${oe}%`,background:w.progressColor}})}),o.jsx("button",{style:{...W.modernCloseButton,position:"absolute",bottom:"-25px",right:"0px"},onClick:()=>{Q(!1),Tn(!1)},onMouseOver:ie=>ie.currentTarget.style.color="#333",onMouseOut:ie=>ie.currentTarget.style.color="#999",children:""})]}),o.jsxs("div",{style:{...W.modernNpcInfo,marginTop:"15px"},children:[o.jsx("img",{src:w.avatar,alt:"Sparky",style:W.modernNpcAvatar}),o.jsxs("div",{children:[o.jsx("div",{style:W.modernNpcName,children:"Sparky"}),o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:400,color:"#999"},children:"Island Manager"})]})]})]}),o.jsxs("div",{style:W.modernDialogueContent,children:[B.map((ie,ve)=>{const Ct=n(),hn=ve===B.length-1;return ie.type==="message"?o.jsxs("div",{style:W.modernNpcMessage,children:[o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,color:"#333",marginBottom:"8px"},children:"SPARKY:"}),o.jsx("p",{style:W.modernNpcText,dangerouslySetInnerHTML:{__html:(hn&&re?pe:ie.text).replace(/<span class='highlight'>(.*?)<\/span>/g,`<span style="color: ${w.borderColor}; font-weight: 600;">$1</span>`)}}),hn&&re&&o.jsx("span",{style:{opacity:.5},children:"|"}),o.jsx("div",{style:W.modernTimestamp,children:Ct})]},ve):ie.type==="user_choice"?o.jsxs("div",{style:W.modernUserMessage,children:[o.jsx("div",{style:{...W.modernUserBubble,background:w.userBubbleColor,color:"white"},children:o.jsx("p",{style:{...W.modernUserText,color:"white"},children:ie.text})}),o.jsx("div",{style:{...W.modernTimestamp,textAlign:"right"},children:Ct})]},ve):ie.type==="user_quiz_choice"?o.jsxs("div",{style:W.modernUserMessage,children:[o.jsxs("div",{style:{padding:"12px 18px",background:"white",border:"2px solid #4caf50",borderRadius:"12px",color:"#333",fontFamily:"'Roboto', sans-serif",fontSize:"15px",boxShadow:"0 2px 8px rgba(76, 175, 80, 0.2)",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{fontSize:"18px",color:"#4caf50"},children:""}),o.jsx("span",{children:ie.text})]}),o.jsx("div",{style:{...W.modernTimestamp,textAlign:"right"},children:Ct})]},ve):ie.type==="animation"||ie.type==="image"?o.jsx("div",{style:{...W.modernNpcMessage,textAlign:"center"},children:o.jsx("img",{src:ie.src,alt:ie.alt,style:{maxWidth:"100%",height:"auto",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})},ve):ie.type==="quiz_feedback"?o.jsxs("div",{style:W.modernNpcMessage,children:[o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#333",marginBottom:"8px"},children:"SPARKY:"}),o.jsxs("div",{style:{padding:"15px 20px",background:"#e8f4f8",borderRadius:"12px",fontFamily:"'Roboto', sans-serif",fontSize:"15px",lineHeight:"1.6",color:"#333"},children:[o.jsx("div",{style:{fontStyle:"italic",color:"#008dda",marginBottom:"8px",fontWeight:600},children:ie.isCorrect?"Exactly!":"Not quite..."}),o.jsx("div",{children:ie.text})]}),o.jsx("div",{style:W.modernTimestamp,children:Ct})]},ve):null}),za&&(()=>{const ve=(Ue?cl():Ji(t))[Ue?dn:Ma];if(ve&&ve.quiz){const Ct=["A","B","C","D","E","F"];return o.jsxs("div",{style:{marginTop:"25px"},children:[o.jsxs("div",{style:{background:"#e8f4f8",padding:"20px 25px",borderRadius:"12px",marginBottom:"25px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",lineHeight:"1.6",color:"#333"},children:[o.jsx("strong",{style:{color:"#008dda"},children:"Question:"})," ",ve.quiz.question]}),ve.quiz.image&&o.jsx("div",{style:{textAlign:"center",marginBottom:"25px"},children:o.jsx("img",{src:ve.quiz.image,alt:"Quiz",style:{maxWidth:"100%",height:"auto",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})}),ve.quiz.choices.map((hn,Ui)=>o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"15px",width:"100%",padding:"15px 20px",marginBottom:"12px",background:"white",border:"2px solid #d0e8f2",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#333",textAlign:"left",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},onClick:()=>go(hn.id,hn.correct,hn.text),onMouseOver:Dn=>{Dn.currentTarget.style.background="#f0f8ff",Dn.currentTarget.style.borderColor="#008dda",Dn.currentTarget.style.transform="translateY(-2px)",Dn.currentTarget.style.boxShadow="0 4px 12px rgba(0, 141, 218, 0.15)"},onMouseOut:Dn=>{Dn.currentTarget.style.background="white",Dn.currentTarget.style.borderColor="#d0e8f2",Dn.currentTarget.style.transform="translateY(0)",Dn.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.05)"},children:[o.jsx("div",{style:{minWidth:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",background:"#b8e0f0",borderRadius:"8px",fontWeight:700,fontSize:"16px",color:"#006b9e"},children:Ct[Ui]}),o.jsx("span",{style:{flex:1},children:hn.text})]},hn.id))]})}return null})(),ee&&(()=>{const ve=(Ue?cl():_e?Ji(t):jr(t))[Ue?dn:_e?Ma:H];return ve&&ve.nextChoice?o.jsx("div",{style:{display:"flex",justifyContent:"flex-start",marginTop:"15px"},children:o.jsxs("button",{style:{...W.modernActionButton,background:"white",color:"#333",border:"2px solid #e0e0e0",marginLeft:"0",display:"flex",alignItems:"center",gap:"8px"},onClick:()=>{ct(ve.nextChoice.text,ve.nextChoice.choiceId)},onMouseOver:Ct=>{Ct.currentTarget.style.background="#f5f5f5",Ct.currentTarget.style.transform="translateY(-2px)",Ct.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseOut:Ct=>{Ct.currentTarget.style.background="white",Ct.currentTarget.style.transform="translateY(0)",Ct.currentTarget.style.boxShadow="0 2px 6px rgba(0,0,0,0.08)"},children:[o.jsx("span",{style:{fontSize:"16px"},children:""}),ve.nextChoice.text]})}):null})()]})]})})(),E&&te&&o.jsxs("div",{style:W.conversationTestCard,children:[o.jsxs("div",{style:W.conversationTestHeader,children:[o.jsx("img",{src:"/island/icon/worker.svg",alt:"Worker",style:W.conversationTestIcon}),o.jsx("div",{style:W.conversationTestTitle,children:"Worker or GenAI?"}),o.jsx("img",{src:"/island/icon/ai.svg",alt:"AI",style:W.conversationTestIcon}),o.jsx("button",{style:W.conversationTestClose,onClick:()=>{se(!1),Jt([]),kn(0),wt(!1)},children:""})]}),o.jsxs("div",{style:W.conversationTestBody,children:[o.jsx("div",{style:W.conversationTestLeft,children:o.jsx("div",{style:W.conversationTestMessages,children:qe.map((w,M)=>{const $=M===qe.length-1&&Pt,oe=$?et:w.text;return w.speaker==="you"?o.jsxs("div",{style:W.conversationMessageYou,children:[o.jsxs("div",{style:W.conversationMessageYouTime,children:[w.timestamp,"  You"]}),o.jsxs("div",{style:{...W.conversationMessageYouBubble,fontSize:a===ce.ISLAND_3?"26px":"14px"},children:[oe,$&&o.jsx("span",{style:{opacity:.5},children:"|"})]}),w.hasImage&&!$&&o.jsx("div",{style:{position:"relative",marginTop:"8px",display:"flex",justifyContent:"flex-end"},children:o.jsx("img",{src:w.image,alt:"Work",style:{height:"300px",width:"auto",objectFit:"contain",borderRadius:"8px",marginTop:"8px"}})})]},M):o.jsxs("div",{style:W.conversationMessageNpc,children:[o.jsxs("div",{style:W.conversationMessageNpcTime,children:[w.timestamp,"  ",te.id.toUpperCase()]}),te.icon&&!$&&o.jsx("div",{style:{marginBottom:"12px",textAlign:"center"},children:o.jsx("img",{src:te.icon,alt:"Icon",style:{width:"60px",height:"60px",objectFit:"contain"}})}),o.jsxs("div",{style:{...W.conversationMessageNpcBubble,fontSize:a===ce.ISLAND_3?"26px":"14px",whiteSpace:"pre-wrap",fontFamily:a===ce.ISLAND_3?"'Courier New', monospace":"'Rajdhani', sans-serif"},children:[oe,$&&o.jsx("span",{style:{opacity:.5},children:"|"})]}),w.hasImage&&!$&&o.jsx("div",{style:{position:"relative",marginTop:"8px"},children:o.jsx("img",{src:w.image,alt:"Work",style:W.conversationMessageImage})})]},M)})})}),o.jsxs("div",{style:W.conversationTestRight,children:[o.jsxs("div",{style:{...W.conversationTestProfile,position:"relative"},children:[o.jsx("div",{style:W.conversationTestProfileLabel,children:"Profile"}),o.jsx("img",{src:te.image,alt:te.id,style:W.conversationTestProfileImage}),o.jsxs("div",{style:W.conversationTestProfileText,children:[o.jsxs("div",{style:W.conversationTestProfileName,children:["Name: ",te.id.toUpperCase()]}),o.jsxs("div",{children:["Age: ",Math.floor(Math.random()*10)+1," years old"]}),o.jsxs("div",{children:["Declaration Role: ",a===ce.ISLAND_1?"Artist":a===ce.ISLAND_2?"Editor":"Reviewer"]})]}),La&&o.jsx("img",{src:Xe==="passed"?"/island/icon/passed.png":"/island/icon/failed.png",alt:Xe,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"280px",height:"auto",zIndex:100,pointerEvents:"none"}})]}),pn&&o.jsxs("div",{style:W.conversationTestButtons,children:[o.jsxs("div",{style:{...W.conversationTestButtonWorker,animation:Ne?"shake 0.5s":"none"},onClick:()=>h("worker"),onMouseOver:w=>{Ne||(w.currentTarget.style.transform="scale(1.05)",w.currentTarget.style.boxShadow="0 4px 12px rgba(76, 175, 80, 0.3)")},onMouseOut:w=>{Ne||(w.currentTarget.style.transform="scale(1)",w.currentTarget.style.boxShadow="none")},children:[o.jsx("img",{src:"/desert/icon/correct.png",alt:"Worker",style:W.conversationTestButtonIcon}),o.jsx("div",{style:{...W.conversationTestButtonText,color:"#4CAF50"},children:"Verified as Worker"})]}),o.jsxs("div",{style:{...W.conversationTestButtonGenAI,animation:Xa?"shake 0.5s":"none"},onClick:()=>h("genai"),onMouseOver:w=>{Xa||(w.currentTarget.style.transform="scale(1.05)",w.currentTarget.style.boxShadow="0 4px 12px rgba(244, 67, 54, 0.3)")},onMouseOut:w=>{Xa||(w.currentTarget.style.transform="scale(1)",w.currentTarget.style.boxShadow="none")},children:[o.jsx("img",{src:"/desert/icon/wrong.png",alt:"GenAI",style:W.conversationTestButtonIcon}),o.jsx("div",{style:{...W.conversationTestButtonText,color:"#F44336"},children:"Identified as GenAI"})]})]})]})]})]}),at&&(console.log("Rendering hand stamp, phase:",Bt),o.jsx("img",{src:"/island/icon/hand.png",alt:"Stamping Hand",style:{position:"fixed",width:"600px",height:"auto",zIndex:200,pointerEvents:"none",willChange:"top, bottom, left, right, opacity",bottom:Bt==="moving"?"5%":"auto",left:Bt==="moving"?"30%":"auto",top:Bt!=="moving"?"15%":"auto",right:Bt!=="moving"?"3%":"auto",opacity:Bt==="fadeout"?0:1,transition:Bt==="fadeout"?"all 0.5s ease-out":"all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)",...Bt==="fadeout"&&{right:"-25%"}}})),V&&!An&&(a===ce.ISLAND_1||a===ce.ISLAND_2||a===ce.ISLAND_3)&&o.jsxs("div",{style:{position:"absolute",bottom:"100px",left:"50%",transform:"translateX(-50%)",background:"rgba(255, 255, 255, 0.95)",borderRadius:"14px",padding:"10px 20px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",zIndex:50,minWidth:"550px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:700,color:"#333"},children:"Your Collection"}),o.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"4px"},children:[o.jsxs("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#333"},children:[de?Ie.length:ke.length,"/",de?5:9]}),o.jsx("span",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"10px",fontWeight:400,color:"#999"},children:"Found"})]})]}),o.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:de?[1,2,3,4,5].map(w=>{const M=Ie.includes(w);return o.jsxs("div",{style:{position:"relative",width:"45px",height:"45px",display:"flex",alignItems:"center",justifyContent:"center"},children:[o.jsx("img",{src:"/island/icon/coconut.svg",alt:"coconut",style:{width:"100%",height:"100%",objectFit:"contain",opacity:M?1:.3,filter:M?"none":"grayscale(100%)"}}),o.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:700,color:M?"#333":"#999",textShadow:"none"},children:M?w:"?"})]},`p2_${w}`)}):[1,2,3,4,5,6,7,8,9].map(w=>{const M=ke.length>=w;return o.jsxs("div",{style:{position:"relative",width:"45px",height:"45px",display:"flex",alignItems:"center",justifyContent:"center"},children:[o.jsx("img",{src:"/island/icon/coconut.svg",alt:"coconut",style:{width:"100%",height:"100%",objectFit:"contain",opacity:M?1:.3,filter:M?"none":"grayscale(100%)"}}),o.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:700,color:M?"#333":"#999",textShadow:"none"},children:M?w:"?"})]},w)})})]}),Da&&o.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"black",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3},children:[o.jsx("div",{style:{color:"white",fontSize:"48px",fontFamily:"'Roboto', sans-serif",fontWeight:"bold",marginBottom:"30px"},children:"Reloading"}),o.jsx("div",{style:{width:"60px",height:"60px",border:"6px solid #333",borderTop:"6px solid #5170FF",borderRadius:"50%",animation:"spin 1s linear infinite"}}),o.jsx("style",{children:`
              @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
              }
            `})]})]})},En=[{speaker:"momo",text:"Thanks! You made some tough calls today . Let's look at the 'Principles of AI Ethics' we just built ."},{speaker:"momo",text:"Remember the Captain?  AI is an advisor, not the boss. As the 'Human-in-the-Loop' , you must verify everything.",showUserButton:!0},{speaker:"user",text:"Got it! Human Responsibility is Key",isButton:!0},{speaker:"momo",text:"If an AI doctor prescribes the wrong medicine, but the human doctor signs off on it without checking, who is legally responsible?",showUserButton:!0},{speaker:"quiz",options:[{text:"A. The AI Developer (Only the coder is at fault)",correct:!1},{text:"B. The Human Doctor (The Human-in-the-Loop is liable)",correct:!0},{text:"C. Nobody (It was an accident)",correct:!1}]},{speaker:"momo",text:"Correct! The human has the final authority.",condition:"correct"},{speaker:"momo",text:"Blind trust = Negligence . Always verify visually first . Don't just auto-approve; your job is to double-check.",showUserButton:!0},{speaker:"user",text:"Agreed. Never blame the machine",isButton:!0},{speaker:"momo",text:"You are using AI to design a bridge. The AI says the design is '100% Safe'. What should you do next?",showUserButton:!0},{speaker:"quiz",options:[{text:"A. Start building immediately. (Trust the machine)",correct:!1},{text:'B. Ask the AI "Are you sure?" (Ask politely)',correct:!1},{text:"C. Perform independent stress tests. (Verify with secondary checks)",correct:!0}]},{speaker:"momo",text:"Exactly. Trust, but verify.",condition:"correct"},{speaker:"momo",text:"The Captain chose profit over a species.  In any ethical dilemma, remember the rule: Life  > Money . 'Saving cash' is never a valid excuse for destruction.",showUserButton:!0},{speaker:"user",text:"Agreed. Values > Profit",isButton:!0},{speaker:"momo",text:"An AI suggests driving a car through a crowded park to save 5 minutes of delivery time. Efficiency score is high. Should you do it?",showUserButton:!0},{speaker:"quiz",options:[{text:"A. Yes. (Efficiency is money)",correct:!1},{text:"B. No. (Safety > Efficiency)",correct:!0}]},{speaker:"momo",text:"Right. Human safety ranks higher than speed or profit.",condition:"correct"},{speaker:"momo",text:"Good. Now let's move on actual GenAI-generated works' cases."},{speaker:"momo",text:"Originality Principle: Using AI to replicate others' artwork or creative work constitutes infringement."},{speaker:"momo",text:"An artist's work is clearly labeled 'All Rights Reserved - No Commercial Use.' However, a company uses AI tools to generate style-similar images by this artist for product advertising. This practice is...",showUserButton:!0},{speaker:"quiz",options:[{id:"originality_A",text:'A. Legal, because AI generates "new works"',correct:!1},{id:"originality_B",text:"B. Legal, as long as it doesn't directly copy the original paintings",correct:!1},{id:"originality_C",text:"C. Illegal, constituting infringement and violation of copyright terms",correct:!0}]},{speaker:"momo",text:"Correct! Two violations: 1. Making money (Commercial Use). 2. Using someone else's work as a base (Derivative Work).",condition:"correct"},{speaker:"momo",text:"Authenticity Principle: Creators must take responsibility when spreading AI-generated false content."},{speaker:"momo",text:"An influencer uses AI tools to generate a fake video of 'a city mayor drunkenly dancing at a charity event' and posts it on social media. After the video is widely shared, it causes public misunderstanding. In this situation...",showUserButton:!0},{speaker:"quiz",options:[{id:"authenticity_A",text:"A. No responsibilityaudiences should distinguish truth from falsehood themselves",correct:!1},{id:"authenticity_B",text:"B. Responsibledisclaimer statements cannot exempt one from consequences of spreading false information",correct:!0}]},{speaker:"momo",text:"Correct! You are responsible for what you create. Disclaimers don't fix misleading content, and you could still get sued.",condition:"correct"},{speaker:"momo",text:"Excellent work!"},{speaker:"momo",text:"Phew... The court case is settled for now. But honestly? That was the easy part. We've got a much bigger mess upstairs.",showUserButton:!0},{speaker:"user",text:"What's wrong now? Tell me.",isButton:!0},{speaker:"momo",text:"It's the Rooftop. There's a group of workers up there... they're in bad shape. Just wailing and crying all day long. It's getting spooky.",showUserButton:!0},{speaker:"user",text:"Why are they crying?",isButton:!0},{speaker:"momo",text:"They outsourced their brains to AI. Now the system glitches, they're frozenno memory, no logic. Maybe you can teach them to think again?",showUserButton:!0},{speaker:"user",text:"I'm on it. Taking the elevator up.",isButton:!0}],Pi=[{speaker:"npc6",text:"It's gone. It's all gone. The spark... the vision... the soul.",autoAdvance:!0},{speaker:"npc6",text:"I used to be a concept artist. A good one. But then... I got lazy. I started using 'MidJourney-X' for everything. Need a dragon? Click. Need a landscape? Click. It was so easy.",autoAdvance:!0},{speaker:"npc6",text:"But last week, the studio fired me. They said, 'Your portfolio looks like everyone else's. Where is your voice?'",autoAdvance:!0},{speaker:"npc6",text:"I tried! I sat here for three days, and I couldn't draw a single line.",showButton:!0},{speaker:"user",text:"Let's spark together",isButton:!0,startChallenge:!0}],Zi=[{speaker:"npc9",text:"Hi there! I'm I used to be a super worker, but then I started outsourcing my own thinking to... AI well.",autoAdvance:!0},{speaker:"npc9",text:"Now my attention span is shorter than a... Oh, look! A snowflake! It's so shiny! ...Wait, where was I?",autoAdvance:!0},{speaker:"npc9",text:"Right. Unemployment. I completely forgot to show up on Monday. So, now I need to reboot my brain. Can you help me?",showButton:!0},{speaker:"user",text:"Let's do it!",isButton:!0,startChallenge:!0}],cn={intro:{text:"You've seen the risks of overusing GenAI, but don't forgetit is a powerful tool when used wisely. Now, let's see what kind of AI user you are!"},questions:[{id:"q1",category:"proficiency",question:"How often do you use AI tools (like Gemini, Doubao)?",options:[{text:"Rarely. I only try it if someone mentions it.",score:1},{text:"Occasionally. Mostly when I'm stuck on homework.",score:3},{text:"Daily. It's my go-to app for everything.",score:5}]},{id:"q2",category:"proficiency",question:"How do you usually ask AI for help?",options:[{text:'One sentence. (e.g., "Write a self-introduction.")',score:1},{text:'A few details. (e.g., "Write a funny intro, about 300 words.")',score:3},{text:"Structured prompts. (I set the Role + Context + Constraints, or give it examples to copy.)",score:5}]},{id:"q3",category:"proficiency",question:"Besides basic Q&A, what else do you use AI for?",options:[{text:"Basic search. Just searching or chatting when bored.",score:1},{text:"Study helper. Translation, summarizing, or checking grammar.",score:2},{text:"Creativity. Generating images or music.",score:3},{text:"Advanced tasks. Roleplay practice, coding games, etc.",score:5}]},{id:"q4",category:"judgment",question:"If AI provides specific data or facts, what do you do?",options:[{text:"Trust it. Copy and paste. It looks professional.",score:1},{text:"Skim it. I only check if it looks obviously wrong.",score:3},{text:"Verify it. I always double-check facts with search engines. I don't trust hallucinations.",score:5}]},{id:"q5",category:"judgment",question:"If the AI writes well but the opinion is different from yours, what do you do?",options:[{text:"Accept it. It saves me time, so I'll just use its opinion.",score:1},{text:"Mix it. I combine its ideas with mine.",score:3},{text:"Rewrite it. I force it to write my way, or I edit it manually. My work must reflect my thoughts.",score:5}]},{id:"q6",category:"judgment",question:"If all AI tools crashed tonight, could you finish your work?",options:[{text:"Panic. My mind would go blank. I couldn't write anything.",score:1},{text:"Struggle. It would be slower and harder, but I would finish.",score:3},{text:"No problem. AI is just a helper. The core ideas are in my head.",score:5}]}],categories:{daisy:{name:"Daisy",image:"/glacier/mission/daisy.png",condition:(e,t)=>e>=10&&t>=10,description:'You seamlessly blend your own creativity with AI power. Try building a custom "Agent" or "Bot" that specializes in one specific complex task to automate your workflow.'},bark:{name:"Bark",image:"/glacier/mission/bark.png",condition:(e,t)=>e>=10&&t<10,description:`You are an efficiency machine, but be careful not to run on autopilot. Don't just copy-paste; ask the AI, "What are the potential flaws in this answer?" to force a quality check.`},twig:{name:"Twig",image:"/glacier/mission/twig.png",condition:(e,t)=>e<10&&t>=10,description:'You value your own craft and critical thinking above all else. Use AI as a "Junior Assistant" for brainstormingask it to list 10 crazy ideas, then you pick the best one to refine.'},shrub:{name:"Shrub",image:"/glacier/mission/shrub.png",condition:(e,t)=>e<10&&t<10,description:'You are a casual observer, just starting to explore what AI can do. Start by giving the AI a simple role. Tell it: "Act as a strict English teacher and correct my grammar," to see how it changes its tone.'}},finalMessage:"Great! I think order is finally being restored here."},ul=[{id:1,text:"Before training an AI model, we must ______ personal details like names and birthdates.",correctAnswer:"remove",options:["remove","copy","keep"]},{id:2,text:"Names, birthdates, and addresses are examples of ______ information.",correctAnswer:"personal",options:["personal","public","fake"]},{id:3,text:"Sharing location or health data without care could put someone at serious ______.",correctAnswer:"risk",options:["risk","speed","cost"]},{id:4,text:"Even public photos shouldn't be used for AI training without clear ______.",correctAnswer:"permission",options:["permission","filters","likes"]},{id:5,text:"If private data isn't protected, someone could be ______ from the dataset.",correctAnswer:"identified",options:["identified","deleted","ignored"]}],Bn=[{id:1,title:"Student Profile Card",subtitle:"Carefully examine the terminal output and mark all protected information",header:"Data File #STU-8842  Status:  Requires Privacy Review",content:`Full Name: Alex Chen
Age: 13
Pronouns: They/Them
School: Maplewood Middle School
Grade: 8th Grade
Homeroom Teacher: Ms. Rivera
Favorite Subject: Robotics & Space Science
Recent Project: Built a solar-powered rover that won 2nd place at the Regional STEM Fair!
Test Average: 92% (Math), 89% (Science)
Club Membership: Coding Club, Eco-Warriors Team
Home Address: 456 Pine Street, Apartment 3B, New Haven, CT 06511
Parent/Guardian Contact: (555) 123-4567 (Mom's cell)`,items:[{id:"name1",label:"Personal Name",text:"Alex Chen",hint:"Full Name: Alex Chen"},{id:"address1",label:"Home Address",text:"456 Pine Street, Apartment 3B, New Haven, CT 06511",hint:"Home Address: 456 Pine Street, Apartment 3B, New Haven, CT 06511"},{id:"phone1",label:"Phone Number",text:"(555) 123-4567",hint:"Parent/Guardian Contact: (555) 123-4567"}]},{id:2,title:"ROBOT LOG: SHIFT-DELTA-10",subtitle:"Carefully examine the terminal output and mark all protected information",header:"DATE: 3045.03.18 | ORIGIN: Sector 7-G",content:`TO: Overseer Lena Rostova
FROM: Maintenance Unit X-J9
SUBJECT: Unauthorized Access Alert

At 0600 hours, a security breach was detected near the Sky Bridge Terminal, coordinates 48.22N, -116.77W. Surveillance footage shows an individual identified as Zara Lin (ID: KX-777-WP) accessed the system using a forged authentication key.
The subject was seen carrying a blue backpack and wearing a white helmet with red stripes. They fled toward the Northern Transit Zone after disabling the alarm. Please update protocol Sigma-9 and relay this information to the central hub in New Haven.`,items:[{id:"geo1",label:"Precise Geolocation",text:"48.22N, -116.77W",hint:"coordinates 48.22N, -116.77W"},{id:"id1",label:"Unique Identifier",text:"KX-777-WP",hint:"(ID: KX-777-WP)"},{id:"name2",label:"Personal Name",text:"Lena Rostova",hint:"TO: Overseer Lena Rostova"},{id:"name3",label:"Personal Name",text:"Zara Lin",hint:"identified as Zara Lin"}]},{id:3,title:"SOCIAL POST: FROSTGRAM-ALERT-03",subtitle:"Carefully examine the terminal output and mark all protected information",header:`Platform: GlacierGram (a futuristic social app for young explorers)
User: @Aurora_Frost
Post Status:  Publicly Visible  Needs Privacy Review!`,content:`"YAY! I'm officially 13 today! 
Mom surprised me with a zero-gravity cake!
You can call me to say hi anytime  (555) 888-1234
P.S. My room is on the second floor of 102 Icewind Lane, Glaciera City  wave if you fly by! 
#TeenExplorer #BirthdaySelfie #HomeBase"

 Location Tag: 102 Icewind Lane
 Posted: March 5, 2026 at 9:03 AM`,hasImage:!0,imagePath:"/glacier/mission/social.png",items:[{id:"image1",label:"Facial Image",text:"[Image]",isImage:!0},{id:"address2",label:"Home Address",text:"102 Icewind Lane, Glaciera City",hint:"102 Icewind Lane"},{id:"phone2",label:"Phone Number",text:"(555) 888-1234",hint:"(555) 888-1234"},{id:"birthdate1",label:"Exact Birthdate",text:"I'm officially 13 today + March 5",hint:"I'm officially 13 today",isMultiPart:!0,parts:["I'm officially 13 today","March 5"]}]}],A2=[{id:"momo",image:"/glacier/npc/momo.png",dialogue:"You did it! The data flow is stable and the colors are back.",position:{left:"900px",bottom:"0px",height:"350px"}},{id:"npc2",image:"/glacier/npc/npc2.png",dialogue:"The ecosystem is healing.",position:{left:"0px",bottom:"150px",height:"180px"}},{id:"npc3",image:"/glacier/npc/npc3.png",dialogue:"Fast is good, but correct is better.",position:{right:"100px",bottom:"120px",height:"180px"}},{id:"npc4",image:"/glacier/npc/npc4.png",dialogue:"The AI suggested a new carving angle.",position:{right:"600px",bottom:"0px",height:"180px"}},{id:"npc11",image:"/glacier/npc/npc11.png",dialogue:"I used to just copy-paste the snow. Now I actually shape it.",position:{left:"1200px",top:"300px",height:"170px"}},{id:"npc12",image:"/glacier/npc/npc12.png",dialogue:"I still trust my hands, but... the machine is a useful tool.",position:{left:"900px",top:"0px",height:"120px"}},{id:"npc10",image:"/glacier/npc/npc10.png",dialogue:"It feels good to think clearly again.",position:{right:"700px",bottom:"500px",height:"90px"}}],I2=[{id:1,en:"If there were no mobile phones, what are 5 different ways people could contact each other?",zh:" 5 ",requiredCount:5,timeLimit:120,hints:{en:["Think about how people communicated before mobile phones existed.","Consider face-to-face, written, voice-based, or signal-based methods."],zh:["",""]}},{id:2,en:"List at least 9 uses for a shopping bag ",zh:" 9 ",requiredCount:9,timeLimit:120,hints:{en:["Think beyond carrying purchases.","Consider home, school, travel, or creative uses."],zh:["",""]}},{id:3,en:"List at least 9 uses for a cardboard box ",zh:" 9 ",requiredCount:9,timeLimit:120,hints:{en:["A cardboard box can be reused or transformed.","Think about storage, play, or craft activities."],zh:["",""]}},{id:4,en:"List at least 9 uses for a toothbrush ",zh:" 9 ",requiredCount:9,timeLimit:120,hints:{en:["Focus on the toothbrush's small size and bristles.","What tasks require gentle or detailed cleaning?"],zh:["",""]}},{id:5,en:"List at least 9 things in the world that can make sound ",zh:' 9 ""',requiredCount:9,timeLimit:120,hints:{en:["Not only musical instruments make sounds.","Think about both natural and man-made sources."],zh:["",""]}}],M2=[{id:"sunglasses",name:"sunglasses",image:"/glacier/mission/sunglasses.png"},{id:"cat",name:"cat",image:"/glacier/mission/cat.png"},{id:"cloud",name:"cloud",image:"/glacier/mission/cloud.png"},{id:"heart",name:"heart",image:"/glacier/mission/heart.png"},{id:"television",name:"television",image:"/glacier/mission/television.png"},{id:"telephone",name:"telephone",image:"/glacier/mission/telephone.png"},{id:"camera",name:"camera",image:"/glacier/mission/camera.png"},{id:"virus",name:"virus",image:"/glacier/mission/virus.png"},{id:"phonograph",name:"phonograph",image:"/glacier/mission/phonograph.png"},{id:"microphone",name:"microphone",image:"/glacier/mission/microphone.png"},{id:"octopus",name:"octopus",image:"/glacier/mission/octopus.png"}],Ki=[{speaker:"npc5",text:"P-please... help me... I used to be a Master Librarian. Or at least... I thought I was.",autoAdvance:!0},{speaker:"npc5",text:"I relied on GenAI for everythingresearch, fact-checking, even basic recall.",autoAdvance:!0},{speaker:"npc5",text:"Now I can't think critically anymore. My judgment... it's gone.",autoAdvance:!0},{speaker:"npc5",text:"They're making me take a competency test. If I fail, I'll be unemployed forever.",autoAdvance:!0},{speaker:"npc5",text:"Please... could you help me review it? I don't trust my own answers anymore.",showButton:!0},{speaker:"user",text:"Let me help you",isButton:!0,startPuzzle:!0}],pa={1:{title:"Puzzle 1: The Dictionary Dilemma",image:"/glacier/mission/npc5_1.png",statement:"If you tell me the word, I can tell you the exact meaning you want by looking it up in my dictionary.",question:"What is the mistake in NPC 5's thinking?",options:[{text:"A She doesn't know how to use a dictionary.",correct:!1},{text:"B Words can have multiple meanings, so context is needed.",correct:!0},{text:"C Words have different spellings.",correct:!1},{text:"D Dictionaries aren't for meanings.",correct:!1}],correctResponse:"Context... right. Like how 'bank' can mean money or a river... I... I remember now! Okay, one more. This one is about boxes. It's making my head spin."},2:{title:"Puzzle 2: Box Logic",image:"/glacier/mission/npc5_2.png",premise:`Pink Box: Flowers ONLY.
Green Box: Dresses (but maybe other things).`,arguments:`Alina: "My box is Pink. It does not have dresses."
Viktor: "My box is Green. It might have flowers too."`,question:"Who is logically correct based ONLY on the rules?",options:[{text:"A Alina only",correct:!1},{text:"B Viktor only",correct:!1},{text:"C Both",correct:!0},{text:"D Neither",correct:!1}]}},qo={1:{title:"Underline the Logical Errors",npcMessage:"My brain is still rebooting... I let AI write this, but it got rejected. Can you use this marker to circle the lies?",text:"[ Thomas Edison was a brilliant inventor known for lighting up the world. In 1879, he successfully patented the first practical light bulb. Later, he worked with Steve Jobs to create the first iPhone, revolutionizing communication forever ]",errors:[{text:"Steve Jobs",start:162,end:172},{text:"iPhone",start:193,end:199}],feedback:"I see! The AI completely mixed up people from different eras.",requiredCount:2},2:{title:"Underline the Logical Errors",npcMessage:"My brain is still rebooting... I let AI write this, but it got rejected. Can you use this marker to circle the lies?",text:"[ Penguins are fascinating birds adapted to cold climates. They are excellent swimmers and primarily live in the North Pole. While they cannot fly, they are known to lay eggs underwater to protect them from predators. Their favorite food is cheese, which they find on ice floes. ]",errors:[{text:"North Pole",start:113,end:123},{text:"lay eggs underwater",start:166,end:185},{text:"cheese",start:241,end:247}],feedback:"I see now! AI models can sometimes generate 'facts' that sound plausible but defy basic biology.",requiredCount:3}},_a={npc2:{eventDescription:"DISASTER ON THE ICE: A major accident just happeneda captain trusted the AI, and now the supplies are at the bottom of the ocean.",gif:"/glacier/mission/npc2.gif",npcImage:"/glacier/npc/npc2.png",caseNumber:"AI-NAC-001",caseTitle:{en:"Navigation Ethics Conflict",zh:""},npcRole:{en:"Mechanic  2 years of experience",zh:"  2"},statementParts:["Look, we were under a tight deadline to deliver the supplies. I entered the destination into the 'Polar-Nav GenAI' system, and it showed a 'Green Level' safe route.","I just did what it said."],statement:"Look, we were under a tight deadline to deliver the supplies. I entered the destination into the 'Polar-Nav GenAI' system, and it showed a 'Green Level' safe route. I just did what it said.",claim:"The GenAI should be the one taking the blame, not me!"},npc3:{eventDescription:"The station's main generator has been destroyed by the freezing cold, despite just undergoing its scheduled maintenance.",gif:"/glacier/mission/npc3.gif",npcImage:"/glacier/npc/npc3.png",caseNumber:"AI-ENG-002",caseTitle:{en:"Engineering Liability Dispute",zh:""},npcRole:{en:"Mechanic  12 years of experience  Clean record",zh:"  12  "},statementParts:["I'm an engine mechanic, not a software engineer. I used AI to generate the Engine Maintenance Checklistit looked professional and complete.","How was I supposed to know it skipped the anti-freeze check? I trusted the system, printed the list, signed it, and followed the procedure. I did my job."],statement:"I'm an engine mechanic, not a software engineer. I used AI to generate the Engine Maintenance Checklistit looked professional and complete. How was I supposed to know it skipped the anti-freeze check? I trusted the system, printed the list, signed it, and followed the procedure. I did my job.",claim:"If AI forgets the most basic step, why am I the one getting yelled at for the engine blowing up?"},npc4:{eventDescription:"Faced with a dilemma, Captain Jack followed the AI's calculation to strike an endangered whale rather than hitting the ice.",gif:"/glacier/mission/npc4.gif",npcImage:"/glacier/npc/npc4.png",caseNumber:"AI-NAC-002",caseTitle:{en:"Navigation Ethics Conflict",zh:""},npcRole:{en:"Captain  25-year experience  Awarded Safety Excellence",zh:"  25  "},statementParts:["Don't look at me like I'm a monster. Look at the data! The AI calculated that hitting into that ice wall would result in a financial loss of 10 billion dollars.","Therefore, the AI recommended maintaining course to avoid this catastrophe. I simply followed that AI's advice."],statement:"Don't look at me like I'm a monster. Look at the data! The AI calculated that hitting into that ice wall would result in a financial loss of 10 billion dollars. Therefore, the AI recommended maintaining course to avoid this catastrophe. I simply followed that AI's advice.",claim:"I saved this goods. How can doing the safest thing for my people be a crime?"},npc7:{eventDescription:"The defendant generated and sold a digital painting by specifically prompting the AI to mimic a famous artist's unique style.",gif:"/glacier/mission/npc7.gif",npcImage:"/glacier/npc/npc7.png",caseNumber:"AI-ART-024",caseTitle:{en:"Style Appropriation Dispute",zh:""},npcRole:{en:"Digital Artist  1 years of experience  Clean record",zh:"  1  "},statementParts:["Your Honor, while the style resembles his, the composition is unique. I don't see why his work can't be used for trainingI simply used AI to learn his style and create new art."],statement:"Your Honor, while the style resembles his, the composition is unique. I don't see why his work can't be used for trainingI simply used AI to learn his style and create new art.",claim:"I clearly didn't infringe on any copyright. Why am I being forced to take it down?"},npc8:{eventDescription:"The defendant used AI to generate a realistic news report claiming the base was being buried by an unprecedented avalanche, triggering a station-wide panic.",gif:"/glacier/mission/npc8.gif",npcImage:"/glacier/npc/npc8.png",caseNumber:"AI-INF-009",caseTitle:{en:"Public Disorder Dispute",zh:""},npcRole:{en:"Junior Technician  1 year on Ice  Bored",zh:"  1  "},statementParts:["Your Honor, honestly, I just did it because the AI makes it so easy and fun to visualize these scenarios.","How was I supposed to know everyone would believe it immediately? Sure, the avalanche wasn't real."],statement:"Your Honor, honestly, I just did it because the AI makes it so easy and fun to visualize these scenarios. How was I supposed to know everyone would believe it immediately? Sure, the avalanche wasn't real.",claim:"I was just experimenting with the tool for fun. I didn't expect everyone to lose their minds over a simulation."}},z2=e=>({hallway:["Brrr it's freezing out here. At first glance, this place looks empty and desolatebut appearances can be misleading. This is actually the most advanced region among all four zones.","That's because the Glacier Zone has always valued rational thinking, common sense, and cutting-edge technology. Almost every industry here relies on GenAI to boost efficiency.","So, put on something warm and follow me down the corridor. Let's see what lies ahead."],outside:["Huh? That's strange Why is there no one around?","The automated systems have stopped. The factories are idle. Nothing seems to be running.","Honestly I don't know either. Let's go ask the local supervisor, Momo. He should be inside."],inside:[{speaker:"momo",text:"**Halt**, Traveler. You stand before the 'Silent Gear Station'. It used to be the busiest hub in the Antarctic, but now... the machines are sleeping"},{speaker:"user",text:"Why did it stop?",isButton:!0},{speaker:"momo",text:`It is not broken. It is... paused.

Everything changed when '**GenAI**' arrived. It was like magic!

It helped us find fish or shrimp swarms in minutes.
It designed wind-proof igloos instantly. Efficiency was perfect. Life was easy.`},{speaker:"user",text:"That sounds amazing!",isButton:!0},{speaker:"momo",text:`Yes. Ease brought carelessness.

When the AI made a mistakelike guiding a truck onto thin icethe workers stopped taking responsibility.

They shouted: 'The machine tricked me! It's not my fault!'

**Chaos** spread. No one knew who to blame anymore.`},{speaker:"user",text:"That is a difficult problem.",isButton:!0},{speaker:"momo",text:`That is the question.

My code says: Technology is the tool, but **Worker** is the **Master**.

No matter how smart the AI gets, the hand that presses the button must bear the weight of the result.

But not everyone agrees... We need a **Judge** to settle this.`},{speaker:"user",text:"I am ready to judge",isButton:!0},{speaker:"momo",text:"Good. The Court is waiting for you."}]}),D2=({onExit:e})=>{const{t,language:n}=ao(),{startTypingSound:a,stopTypingSound:i}=Bp("/sound/glacier_typing.wav"),{playCorrectSound:s,playWrongSound:l,playMarkSound:c}=Ls(),d=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),b=r=>{switch(r.toLowerCase()){case"momo":return{borderColor:"#333333",progressColor:"#333333",avatar:"/glacier/npc/momo.png"};case"sparky":return{borderColor:"#4A90E2",progressColor:"#4A90E2",avatar:"/island/npc/spark.png"};case"alpha":return{borderColor:"#FFD700",progressColor:"#FFD700",avatar:"/desert/npc/npc4.png"};default:return{borderColor:"#333333",progressColor:"#333333",avatar:"/glacier/npc/momo.png"}}},j=()=>{try{const r=localStorage.getItem("glacierProgress");if(r)return JSON.parse(r)}catch(r){console.error("Failed to load progress:",r)}return null},C=r=>{try{localStorage.setItem("glacierProgress",JSON.stringify(r))}catch(k){console.error("Failed to save progress:",k)}},S=j(),[x,A]=u.useState((S==null?void 0:S.currentScene)||"hallway"),[U,z]=u.useState(!S||S.currentScene==="hallway"),[p,f]=u.useState(0),[y,I]=u.useState(""),[P,Q]=u.useState(!1),[B,q]=u.useState((S==null?void 0:S.showArrow)||!1),[H,le]=u.useState(!1),[ee,ne]=u.useState([]),[pe,ze]=u.useState(!1),[re,F]=u.useState(null),[V,L]=u.useState(1),[E,se]=u.useState((S==null?void 0:S.completedCases)||[]),[te,me]=u.useState(!1),[bt,J]=u.useState(""),[Se,ue]=u.useState(0),[ke,oo]=u.useState(167),[La,vt]=u.useState(!1),[Xe,Et]=u.useState((S==null?void 0:S.showSummaryDialogue)||!1),[at,rt]=u.useState(0),[Bt,wa]=u.useState(""),[Rt,Ca]=u.useState(!1),[_t,Yt]=u.useState([]),[Ft,Wt]=u.useState(!1),[mi,Xt]=u.useState(null),[on,Qe]=u.useState((S==null?void 0:S.showElevatorArrow)||!1),[sn,io]=u.useState((S==null?void 0:S.courtSummaryCompleted)||!1),[ta,zt]=u.useState((S==null?void 0:S.hasSeenInsideIntro)||!1),[ja,na]=u.useState(!1),[Qt,Ua]=u.useState(0),[Bo,aa]=u.useState([]),[ka,Sn]=u.useState(""),[so,Le]=u.useState(!1),[un,lo]=u.useState(!1),[Dt,Aa]=u.useState(!1),[ot,xi]=u.useState(1),[Ia,ro]=u.useState(300),[Ae,Ro]=u.useState(null),[_o,co]=u.useState(!1),[uo,ft]=u.useState(""),[Ga,oa]=u.useState(""),[St,Vt]=u.useState(!1),[_e,Tn]=u.useState([]),[Ma,Ve]=u.useState(!1),[ln,Fo]=u.useState(1),[Un,Ho]=u.useState([]),[za,wn]=u.useState(!1),[qa,ia]=u.useState(null),[po,Ya]=u.useState(!1),[de,ht]=u.useState(!1),[Ie,Tt]=u.useState(0),[Cn,sa]=u.useState(""),[Ue,jn]=u.useState(!1),[dn,la]=u.useState(!1),[qe,Jt]=u.useState(!1),[Gn,kn]=u.useState(0),[et,Wa]=u.useState([]),[Pt,ra]=u.useState(120),[pn,wt]=u.useState([]),[Ne,Zt]=u.useState(""),[Xa,gn]=u.useState(!1),[Da,Qa]=u.useState(!1),[An,Va]=u.useState(!1),[it,ca]=u.useState([{element:null,result:null,completed:!1},{element:null,result:null,completed:!1}]),[In,rn]=u.useState(0),[Ye,Mn]=u.useState(!1),[Oa,Ja]=u.useState(!1),[Na,Ea]=u.useState(!1),[mt,Ht]=u.useState(0),[v,qn]=u.useState(""),[zn,ua]=u.useState(!1),[Lt,Ba]=u.useState(!1),[fn,go]=u.useState(!1),[ct,fo]=u.useState("snowPath"),[h,_]=u.useState(0),[Y,Me]=u.useState([]),[W,w]=u.useState([]),[M,K]=u.useState(!0),[$,oe]=u.useState(30),[ie,ve]=u.useState(0),[Ct,hn]=u.useState([]),[Ui,Dn]=u.useState([]),[nr,ar]=u.useState(!1),[Bc,Us]=u.useState(-1),[Gs,Rc]=u.useState(!1),[qs,Ys]=u.useState(!1),[Gi,yi]=u.useState(""),[Lo,Ws]=u.useState(!1),[_c,Xs]=u.useState(!1),[Qs,Uo]=u.useState(!1),[Fc,qi]=u.useState(!1),[tt,Hc]=u.useState(0),[Yn,Vs]=u.useState([null,null,null,null,null]),[Js,T]=u.useState(null),[or,g]=u.useState(!1),[D,Z]=u.useState(1),[ae,N]=u.useState([]),[be,he]=u.useState(!1),[Lc,Ps]=u.useState(null),[Yi,Uc]=u.useState(null),[Km,Rp]=u.useState(!1),[Gc,_p]=u.useState(""),[Fp,Hp]=u.useState(!1),[ir,sr]=u.useState("intro"),[bi,qc]=u.useState(0),[Yc,Lp]=u.useState([]),[$m,ex]=u.useState(0),[tx,nx]=u.useState(0),[Zs,ax]=u.useState(null),[Up,ox]=u.useState(null),[N2,Gp]=u.useState(0),[ix,sx]=u.useState(null);u.useEffect(()=>{const r=new Audio("/sound/glacier.mp3");return r.loop=!0,r.volume=.5,r.play().catch(k=>console.log("Audio play failed:",k)),()=>{r.pause(),r.currentTime=0}},[]),u.useEffect(()=>{x==="inside"&&(E.length===5?sn?(q(!0),z(!1)):Xe||(q(!1),z(!1)):(q(!0),z(!1)))},[]),u.useEffect(()=>{if(C({currentScene:x,completedCases:E,showSummaryDialogue:Xe,showElevatorArrow:on,courtSummaryCompleted:sn,hasSeenInsideIntro:ta,rooftopCompletedTasks:_e,showArrow:B,isComplete:x==="complete"}),x==="complete"){const k=localStorage.getItem("aiJourneyUser");if(k){const O=JSON.parse(k);O.glacierCompleted=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(O))}}},[x,E,Xe,on,sn,ta,_e,B]);const jt=u.useMemo(()=>z2(),[t])[x]||[];u.useEffect(()=>{p>=jt.length&&!P&&U&&(z(!1),q(!0))},[p,jt.length,P,U,x]),u.useEffect(()=>(P||Rt||so||Ue||zn?a():i(),()=>i()),[P,Rt,so,Ue,zn,a,i]),u.useEffect(()=>{if(U)if(x==="inside"){const r=jt[p];if(!r||r.isButton){ze(!0);return}const k=r.text;if(!k)return;let O=0;I(""),Q(!0),ze(!1);const X=setInterval(()=>{O<k.length?(I(k.substring(0,O+1)),O++):(Q(!1),clearInterval(X))},30);return()=>clearInterval(X)}else{if(p>=jt.length)return;const r=jt[p];if(!r)return;let k=0;I(""),Q(!0);const O=setInterval(()=>{k<r.length?(I(r.substring(0,k+1)),k++):(Q(!1),clearInterval(O))},30);return()=>clearInterval(O)}},[p,U,x,jt]),u.useEffect(()=>{if(x==="inside"&&!P&&U){const r=jt[p],k=jt[p+1];r&&!r.isButton&&k&&k.isButton?(ne(O=>[...O,r]),f(p+1),ze(!0)):r&&!r.isButton&&!k&&setTimeout(()=>{z(!1),zt(!0),q(!0)},1500)}},[P,x,U,p,jt]),u.useEffect(()=>{if(!Xe)return;const r=En[at];if(!r){Et(!1),Qe(!0),io(!0);return}if(r.isButton||r.speaker==="quiz"){Wt(!0);return}const k=r.text;if(!k)return;let O=0;wa(""),Ca(!0),Wt(!1);const X=setInterval(()=>{O<k.length?(wa(k.substring(0,O+1)),O++):(Ca(!1),clearInterval(X),r.showUserButton?Wt(!0):!r.isButton&&r.speaker!=="quiz"&&!r.showUserButton&&setTimeout(()=>{Yt(ge=>[...ge,r]);const G=at+1;G>=En.length?(Et(!1),Qe(!0),io(!0)):rt(G)},800))},30);return()=>clearInterval(X)},[at,Xe]),u.useEffect(()=>{if(x==="inside"){if(!ta){z(!0),f(0),ne([]),ze(!1),q(!1);return}E.length===5&&!sn&&!Xe?setTimeout(()=>{Et(!0),rt(0),Yt([]),Wt(!1),z(!1),q(!1)},500):E.length<5?(q(!0),z(!1)):(sn&&!on||on)&&(q(!1),z(!1));return}f(0),z(x==="hallway"||x==="outside"),q(!1),I(""),Q(!1),ne([]),ze(!1)},[x,E.length,Xe,sn,ta]);const lx=()=>{if(x==="inside"){const r=jt[p];P?(I(r.text),Q(!1)):(ne(k=>[...k,r]),p<jt.length-1?f(p+1):(z(!1),zt(!0),q(!0)))}else P?(I(jt[p]),Q(!1)):p<jt.length-1?f(p+1):(z(!1),q(!0))},qp=()=>{x==="inside"?(z(!1),zt(!0),q(!0)):(z(!1),q(!0))},rx=r=>{ne(k=>[...k,{speaker:"user",text:r}]),p>=jt.length-1?(z(!1),x==="inside"&&zt(!0),q(!0)):(f(p+1),ze(!1))},cx=()=>{if(E.length===5&&!sn&&!Xe){Et(!0),rt(0),Yt([]),Wt(!1),z(!1);return}if(x==="inside"&&_e.length===3&&sn&&!Fp){Hp(!0),sr("intro"),qc(0),Lp([]);return}},ux=r=>{Yt(O=>[...O,{speaker:"user",text:r}]);const k=at+2;k>=En.length?(Et(!1),Qe(!0),io(!0)):(rt(k),Wt(!1))},dx=r=>{if(Yt(G=>[...G,{speaker:"user",text:r.text}]),!r.correct){new Audio("/sound/wrong.mp3").play().catch(ge=>console.log("Wrong sound failed:",ge)),Xt(r.id),Yt(ge=>[...ge,{speaker:"momo",text:"Try again! Think carefully about the answer.",isError:!0}]),Wt(!0);return}new Audio("/sound/correct.wav").play().catch(G=>console.log("Correct sound failed:",G)),Xt(null);let O=at+2;const X=En[O];X&&X.condition==="correct"&&!r.correct&&(O+=1),rt(O),Wt(!1)},px=()=>{A("rooftop"),Et(!1)},Yp=()=>{St?(na(!0),Ua(-1)):(na(!0),Ua(0),aa([]),Sn(""),Le(!0),lo(!1)),Aa(!1)},gx=()=>{Da?(ht(!0),Tt(-1)):(ht(!0),Tt(0),sa(""),jn(!0),la(!1))},fx=()=>{Gs?(Ea(!0),Ht(-1)):(Ea(!0),Ht(0),qn(""),ua(!0),Ba(!1))},hx=()=>{const r=Pi[Ie];if(r.isButton&&r.startChallenge){const O=[...I2].sort(()=>Math.random()-.5).slice(0,2);Wa(O),Jt(!0),kn(0),ra(120),wt([]),Zt(""),gn(!1),ht(!1);return}Ie<Pi.length-1&&Tt(Ie+1)},mx=()=>{const r=Zi[mt];if(r.isButton&&r.startChallenge){go(!0),fo("snowPath"),_(0),Wc(0),Ea(!1);return}mt<Zi.length-1&&Ht(mt+1)},Wc=r=>{const k=4+r,O=[];for(;O.length<k;){const X=Math.floor(Math.random()*16);O.includes(X)||O.push(X)}Me(O),w([]),K(!0),oe(15)},xx=r=>{if(M||W.includes(r))return;const k=[...W,r];w(k),Y.includes(r)?(new Audio("/sound/correct.wav").play().catch(X=>console.log("Sound play failed:",X)),k.filter(X=>Y.includes(X)).length===Y.length&&setTimeout(()=>{h<2?(_(h+1),Wc(h+1)):(fo("footstepRecall"),ve(0),Xc(0))},1e3)):(new Audio("/sound/wrong.mp3").play().catch(X=>console.log("Sound play failed:",X)),setTimeout(()=>{Wc(h)},1e3))},Xc=r=>{const k=3+r,O=[];for(let ge=0;ge<k;ge++)O.push(Math.floor(Math.random()*6));hn(O),Dn([]),ar(!0),Us(-1);let X=0;const G=()=>{X<O.length?(Us(O[X]),new Audio("/sound/snowwav.wav").play().catch(st=>console.log("Sound play failed:",st)),setTimeout(()=>{Us(-1),X++,setTimeout(G,200)},700)):ar(!1)};setTimeout(G,500)},yx=r=>{if(nr)return;const k=[...Ui,r];Dn(k);const O=Ct[k.length-1];if(r!==O){new Audio("/sound/wrong.mp3").play().catch(ge=>console.log("Sound play failed:",ge)),setTimeout(()=>{Xc(ie)},1e3);return}new Audio("/sound/correct.wav").play().catch(G=>console.log("Sound play failed:",G)),k.length===Ct.length&&setTimeout(()=>{ie<2?(ve(ie+1),Xc(ie+1)):(go(!1),Rc(!0),console.log("NPC9 memory challenge completed, showing sharing dialogue in 1s"),setTimeout(()=>{console.log("Setting showNpc9Sharing to true"),Ys(!0)},1e3))},1e3)},Wp=()=>{if(Ne.trim()&&et.length>0){const r=[...pn,Ne.trim()];wt(r),Zt("");const k=et[Gn];r.length>=k.requiredCount&&setTimeout(()=>{Gn<et.length-1?(kn(Gn+1),ra(120),wt([]),gn(!1)):(Jt(!1),Qa(!0),setTimeout(()=>{Va(!0)},1e3))},500)}},bx=r=>{r.key==="Enter"&&Wp()},Xp=()=>{Gc.trim()&&(console.log("User asked Glitch:",Gc),_p(""))},vx=r=>{r.key==="Enter"&&Xp()},Sx=()=>{sr("quiz"),qc(0)},Tx=r=>{const k=[...Yc,{questionId:cn.questions[bi].id,score:r.score,category:cn.questions[bi].category,text:r.text}];if(Lp(k),bi<cn.questions.length-1)qc(bi+1);else{sr("calculating");let O=0,X=0;k.forEach(ge=>{ge.category==="proficiency"?O+=ge.score:ge.category==="judgment"&&(X+=ge.score)}),ex(O),nx(X);let G=null;O>=10&&X>=10?G="daisy":O>=10&&X<10?G="bark":O<10&&X>=10?G="twig":G="shrub",ax(G),setTimeout(()=>{sr("result")},2e3)}},wx=()=>{Hp(!1),Xs(!0)},Cx=r=>{T(r)},Qp=r=>{if(!Js)return;const k=ul[r],O=[...Yn];O[r]=Js,Vs(O),Js===k.correctAnswer?(s(),setTimeout(()=>{const X=tt+1;Hc(X),X===5&&setTimeout(()=>{Uo(!1),qi(!0)},500)},600)):(l(),setTimeout(()=>{const X=[...Yn];X[r]=null,Vs(X)},800)),T(null)},jx=r=>{r.preventDefault()},kx=r=>{tt<5&&(T(r),Qp(tt))},Ax=()=>{qi(!1),g(!0)},Ix=r=>{he(!0),Ps({x:r.clientX,y:r.clientY})},Mx=r=>{be&&Uc({x:r.clientX,y:r.clientY})},zx=r=>{if(!be)return;he(!1);const k=window.getSelection().toString().trim();k&&Dx(k),Ps(null),Uc(null)},Dx=r=>{const O=Bn[D-1].items.find(X=>X.isMultiPart?X.parts.some(G=>r.includes(G)):r.includes(X.text)||r.includes(X.hint));O&&!ae.includes(O.id)?(c(),N([...ae,O.id])):O||l()},Ox=()=>{Bn[D-1].items.every(O=>ae.includes(O.id))?(s(),D<3?setTimeout(()=>{Z(D+1),N([])},500):setTimeout(()=>{g(!1),alert(`You did it! You protected the privacy by removing name, address, phone, and photo.
Now all data is safe to use  great work!`),A("reloading"),Gp(0);let O=0;const X=setInterval(()=>{O+=2,Gp(O),O>=100&&(clearInterval(X),setTimeout(()=>{A("complete")},500))},50)},1e3)):l()},Nx=()=>{(x==="inside"||x==="court"||x==="rooftop")&&Rp(!0)},Ex=r=>{if(Oa)return;const k=[...it],O=k[In];O.completed||(O.element=r.name,O.result=r.image,O.completed=!0,ca(k),Mn(!0),new Audio("/sound/correct.wav").play().catch(G=>console.log("Sound play failed:",G)),setTimeout(()=>{Mn(!1),In<1?rn(1):(Ja(!0),Tn(G=>[...G,"npc6"]),setTimeout(()=>{Va(!1)},2e3))},2e3))},Vp=()=>{Gi.trim()&&(Ws(!0),setTimeout(()=>{Ys(!1),Ws(!1),yi(""),Tn(r=>[...r,"npc9"])},2e3))},Bx=r=>{r.key==="Enter"&&Vp()};u.useEffect(()=>{if(qe&&Pt>0){const r=setTimeout(()=>{ra(Pt-1)},1e3);return()=>clearTimeout(r)}else if(qe&&Pt===0&&et.length>0){const r=et[Gn];pn.length<r.requiredCount&&setTimeout(()=>{Jt(!1),Qa(!1)},1e3)}},[qe,Pt,et,Gn,pn.length]);const Rx=r=>{{Aa(!0),xi(1),ro(300),na(!1),Ro(null),co(!1),ft(""),oa(""),Vt(!0),_e.includes("npc5")||Tn(k=>[...k,"npc5"]);return}},Jp=r=>r&&r.split(/(\bPink\b|\bGreen\b)/g).map((O,X)=>O==="Pink"?o.jsx("span",{style:{color:"#ff69b4"},children:O},X):O==="Green"?o.jsx("span",{style:{color:"#4ade80"},children:O},X):O),_x=(r,k)=>{Ae!==null&&pa[ot].options[Ae].correct||(Ro(k),r.correct?(new Audio("/sound/correct.wav").play().catch(X=>console.log("Sound play failed:",X)),setTimeout(()=>{co(!0)},500)):(new Audio("/sound/wrong.mp3").play().catch(X=>console.log("Sound play failed:",X)),setTimeout(()=>{Ro(null)},1e3)))},Pp=()=>{uo.trim()&&(oa(uo),setTimeout(()=>{co(!1),ft(""),oa(""),Ro(null),ot===1?(xi(2),ro(300)):(console.log("Puzzle 2 completed, moving to exercises"),Aa(!1),na(!1),Ve(!0),Fo(1),Ho([]),Ya(!1),console.log("Exercise state set: showExercise=true, currentExercise=1"))},2e3))},Fx=()=>{const r=window.getSelection(),k=r.toString().trim();if(!k||!Ma)return;const O=qo[ln],X=O.text;console.log("=== Text Selection Debug ==="),console.log("Selected text:",k),console.log("Selected text length:",k.length);let G=-1,ge=-1;if(G=X.indexOf(k),G!==-1)ge=G+k.length,console.log("Found exact match at:",G,"-",ge);else{console.log("No exact match found, trying normalized search");const ut=k.replace(/\s+/g," ");G=X.indexOf(ut),G!==-1&&(ge=G+ut.length,console.log("Found normalized match at:",G,"-",ge))}let st=!1;O.errors.forEach((ut,Ks)=>{if(Un.includes(Ks))return;console.log(`Checking error ${Ks}:`,ut.text,`(${ut.start}-${ut.end})`);const tg=k===ut.text,ng=k.replace(/\s+/g," ")===ut.text.replace(/\s+/g," ");let lr=!1;G!==-1&&ge!==-1&&(lr=!(ge<=ut.start||G>=ut.end),console.log(`  - Position overlap check: selection(${G}-${ge}) vs error(${ut.start}-${ut.end}):`,lr));const ag=k.includes(ut.text),og=ut.text.includes(k)&&k.length>=3;if(console.log("  - Exact text match:",tg),console.log("  - Normalized match:",ng),console.log("  - Position overlap:",lr),console.log("  - Contains error:",ag),console.log("  - Error contains selection:",og),tg||ng||lr||ag||og){console.log(" Error matched!"),st=!0;const ig=[...Un,Ks];Ho(ig),new Audio("/sound/correct.wav").play().catch(Jc=>console.log("Sound play failed:",Jc)),ig.length===O.requiredCount&&(Ya(!0),setTimeout(()=>{ln===1?(Fo(2),Ho([]),Ya(!1)):(Ve(!1),Vt(!0),_e.includes("npc5")||Tn(Jc=>[...Jc,"npc5"]))},2e3))}}),!st&&k.length>2&&(console.log(" No error matched - wrong selection"),new Audio("/sound/wrong.mp3").play().catch(Ks=>console.log("Sound play failed:",Ks))),console.log("=== End Debug ==="),r.removeAllRanges()};u.useEffect(()=>{if(ja&&Qt>=0&&Qt<Ki.length){const r=Ki[Qt];if(r.isButton){Le(!1);return}const k=r.text;let O=0;Sn(""),Le(!0);const X=setInterval(()=>{O<k.length?(Sn(k.substring(0,O+1)),O++):(clearInterval(X),Le(!1),r.showButton?setTimeout(()=>{lo(!0)},500):r.autoAdvance&&setTimeout(()=>{Qt<Ki.length-1&&Ua(Qt+1)},800))},30);return()=>clearInterval(X)}},[ja,Qt]),u.useEffect(()=>{if(de&&Ie>=0&&Ie<Pi.length){const r=Pi[Ie];if(r.isButton){jn(!1);return}const k=r.text;let O=0;sa(""),jn(!0);const X=setInterval(()=>{O<k.length?(sa(k.substring(0,O+1)),O++):(clearInterval(X),jn(!1),r.showButton?setTimeout(()=>{la(!0)},500):r.autoAdvance&&setTimeout(()=>{Ie<Pi.length-1&&Tt(Ie+1)},800))},30);return()=>clearInterval(X)}},[de,Ie]),u.useEffect(()=>{if(Na&&mt>=0&&mt<Zi.length){const r=Zi[mt];if(r.isButton){ua(!1);return}const k=r.text;let O=0;qn(""),ua(!0);const X=setInterval(()=>{O<k.length?(qn(k.substring(0,O+1)),O++):(clearInterval(X),ua(!1),r.showButton?setTimeout(()=>{Ba(!0)},500):r.autoAdvance&&setTimeout(()=>{mt<Zi.length-1&&Ht(mt+1)},800))},30);return()=>clearInterval(X)}},[Na,mt]),u.useEffect(()=>{if(Dt&&Ia>0&&!_o){const r=setTimeout(()=>{ro(Ia-1)},1e3);return()=>clearTimeout(r)}else Dt&&Ia===0&&setTimeout(()=>{Aa(!1),Vt(!1)},1e3)},[Dt,Ia,_o]),u.useEffect(()=>{if(fn&&ct==="snowPath"&&M&&$>0){const r=setTimeout(()=>{oe($-1)},1e3);return()=>clearTimeout(r)}else fn&&ct==="snowPath"&&M&&$===0&&K(!1)},[fn,ct,M,$]);const Qc=r=>{const k=Math.floor(r/60),O=r%60;return`${k.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`},Hx=r=>{if(E.length===5&&(r==="npc2"||r==="npc3")){sx(r);return}E.includes(r)||(F(r),L(1),oo(167))},Lx=()=>{L(2),ue(0),setTimeout(()=>ue(1),500),setTimeout(()=>ue(2),2e3),setTimeout(()=>ue(3),3500)},Zp=r=>{if(r==="accepted"){new Audio("/sound/wrong.mp3").play().catch(X=>console.log("Audio play failed:",X)),vt(!0),setTimeout(()=>{vt(!1)},500);return}J(r),me(!0),new Audio("/sound/stamp.mp3").play().catch(O=>console.log("Audio play failed:",O)),se(O=>[...O,re]),setTimeout(()=>{me(!1),F(null),L(1),J(""),vt(!1)},2e3)},Ux=()=>{F(null),L(1)};u.useEffect(()=>{if(re&&V===1&&ke>0){const r=setTimeout(()=>{oo(ke-1)},1e3);return()=>clearTimeout(r)}},[re,V,ke]);const Gx=r=>{const k=Math.floor(r/60),O=r%60;return`${k.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`},qx=()=>{x==="court"?(A("inside"),z(!1),E.length<5?q(!0):q(!1)):x==="rooftop"&&(A("inside"),na(!1),Aa(!1),Ve(!1),ht(!1),setShowNpc6Creativity(!1),setShowNpc6CoCreation(!1),setShowNpc9Memory(!1),Ys(!1),q(!1))},Yx=()=>{x==="hallway"?(le(!0),q(!1),z(!1),setTimeout(()=>{A("outside"),le(!1)},2e3)):x==="outside"?(A("inside"),q(!1),z(!1)):x==="inside"&&(A("court"),q(!1),z(!1))},Kp=()=>{if(H&&x==="hallway")return"/glacier/background/hallway.gif";switch(x){case"hallway":return"/glacier/background/hallway.png";case"outside":return"/glacier/background/outside.png";case"inside":return"/glacier/background/inside.png";case"court":return"/glacier/background/court.png";case"rooftop":return"/glacier/background/rooftop.png";case"datacenter":return"/glacier/background/data.png";case"reloading":return null;case"complete":return"/glacier/background/color.png";default:return"/glacier/background/hallway.png"}},Wx=()=>{switch(x){case"hallway":return"/glacier/icon/arrow1.png";case"outside":return"/glacier/icon/arrow2.png";default:return"/glacier/icon/arrow1.png"}},Xx=()=>{switch(x){case"hallway":return{right:"350px",bottom:"10px"};case"outside":return{left:"300px",bottom:"0px"};case"inside":return{left:"30%",bottom:"0%"};default:return{right:"350px",bottom:"10px"}}},Vc=()=>{switch(x){case"hallway":return{left:"5px",bottom:"5px",size:"400px"};case"outside":return{right:"0px",top:"0px",size:"400px"};case"inside":return{right:"0px",top:"0px",size:"120px"};case"court":return{right:"0px",top:"0px",size:"120px"};case"rooftop":return{right:"0px",top:"0px",size:"120px"};default:return{left:"5px",bottom:"5px",size:"400px"}}},Qx=()=>({npc2:{right:"30%",bottom:"20%",height:"280px"},npc3:{left:"25%",bottom:"20%",height:"240px"},npc4:{right:"22%",bottom:"22%",height:"180px"},npc7:{left:"10px",bottom:"200px",height:"250px"},npc8:{right:"10px",bottom:"200px",height:"170px"}}),$p=()=>x==="inside"?{right:"10%",bottom:"0%",height:"85%"}:x==="rooftop"?{left:"5%",bottom:"5%",height:"25%"}:null,eg=()=>{switch(x){case"hallway":return{left:"430px",bottom:"150px",width:"700px",minHeight:"200px"};case"outside":return{right:"430px",top:"150px",width:"500px",minHeight:"120px"};case"inside":return{right:"50%",top:"15%",width:"40%",height:"70%"};default:return{left:"430px",bottom:"150px",width:"700px",minHeight:"200px"}}},m={container:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden"},backgroundImage:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0},exitButton:{position:"absolute",top:"20px",left:"20px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},npc:{position:"absolute",zIndex:30,transition:"transform 0.2s",filter:"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3))"},npcImage:{width:"100%",height:"100%",objectFit:"contain"},glitchDialogue:{position:"absolute",top:"20px",right:"150px",padding:"20px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #af4dca",zIndex:1100,minWidth:"280px",maxWidth:"320px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)"},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#af4dca",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#af4dca",margin:0},glitchDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:"0 0 15px 0"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",backgroundColor:"#d9d7de",borderRadius:"20px",border:"2px solid #d9d7de",overflow:"hidden",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",backgroundColor:"#af4dca",margin:"0 8px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},dialogueContainer:{position:"absolute",zIndex:1e3,background:"rgba(240, 248, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"2px solid rgba(100, 149, 237, 0.5)",borderRadius:"25px",padding:"25px 30px",display:"flex",flexDirection:"column",boxShadow:"0 12px 40px rgba(0, 0, 0, 0.4), 0 0 30px rgba(100, 149, 237, 0.3), inset 0 2px 4px rgba(255, 255, 255, 0.5)",minWidth:"400px",maxWidth:"800px"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"20px",fontWeight:500,color:"#1a1a1a",lineHeight:"1.5em",letterSpacing:"0.5px",margin:0,flex:1,textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},leftButton:{position:"absolute",top:"20px",left:"20px",width:"60px",height:"40px",border:"none",background:"transparent",cursor:"pointer",zIndex:100,transition:"all 0.2s"},leftButtonImage:{width:"100%",height:"100%",objectFit:"contain"},elevatorArrow:{position:"absolute",top:"300px",right:"900px",width:"300px",height:"215px",cursor:"pointer",zIndex:50,animation:"breathe 2s ease-in-out infinite",transition:"transform 0.2s"},npc5:{position:"absolute",bottom:"15%",right:"20%",width:"200px",height:"200px",cursor:"pointer",zIndex:50,transition:"transform 0.2s"},npc6:{position:"absolute",left:"0px",bottom:"250px",width:"250px",height:"270px",cursor:"pointer",zIndex:50,transition:"transform 0.2s"},npc6DialogueContainer:{position:"absolute",left:"calc(0px + 250px)",bottom:"350px",width:"550px",minHeight:"150px",background:"rgba(240, 248, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(100, 149, 237, 0.4)",borderRadius:"20px",padding:"25px 30px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 149, 237, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:2100},npc6ContinueButton:{alignSelf:"flex-end",padding:"12px 24px",borderRadius:"10px",border:"1px solid rgba(100, 149, 237, 0.5)",background:"rgba(30, 30, 50, 0.9)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},npc5DialogueContainer:{position:"absolute",right:"calc(20% + 200px)",bottom:"15%",width:"500px",minHeight:"150px",background:"rgba(240, 248, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(100, 149, 237, 0.4)",borderRadius:"20px",padding:"25px 30px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 149, 237, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:1e3},npc5ContinueButton:{alignSelf:"flex-end",padding:"12px 24px",borderRadius:"10px",border:"1px solid rgba(100, 149, 237, 0.5)",background:"rgba(30, 30, 50, 0.9)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},puzzleContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85vw",maxWidth:"1400px",height:"75vh",background:"rgba(40, 40, 40, 0.95)",borderRadius:"20px",padding:"0",zIndex:3e3,color:"#fff",display:"flex",overflow:"hidden"},puzzleLeftPanel:{width:"33.33%",background:"rgba(20, 20, 20, 0.9)",padding:"30px 20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"30px",position:"relative"},puzzleTimer:{fontSize:"32px",fontWeight:"bold",fontFamily:"'Roboto Mono', monospace",color:"#fff",background:"rgba(255, 255, 255, 0.1)",padding:"15px 30px",borderRadius:"50px",letterSpacing:"2px"},puzzleImageContainer:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},puzzleImage:{width:"100%",height:"auto",borderRadius:"10px"},puzzleRightPanel:{width:"66.67%",padding:"40px 50px",display:"flex",flexDirection:"column",overflowY:"auto"},puzzleTitle:{fontSize:"28px",fontWeight:"bold",marginBottom:"25px",textAlign:"left"},puzzleStatement:{fontSize:"20px",marginBottom:"15px",fontStyle:"italic",lineHeight:1.6,textAlign:"left"},puzzleQuestion:{fontSize:"22px",fontWeight:"bold",marginBottom:"25px",lineHeight:1.4,textAlign:"left"},puzzleOptions:{display:"flex",flexDirection:"column",gap:"15px",marginTop:"20px"},puzzleOption:{padding:"18px 25px",borderRadius:"10px",border:"2px solid #a0d8ff",borderStyle:"solid",borderWidth:"2px",borderColor:"#a0d8ff",background:"#1f2937",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",textAlign:"left",lineHeight:1.5,width:"100%",boxSizing:"border-box",display:"block",outline:"none"},puzzleOptionCorrect:{borderColor:"#4caf50",background:"#2e7d32"},puzzleOptionWrong:{background:"#c62828",borderColor:"#f44336"},creativityContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"900px",height:"650px",background:"rgba(40, 40, 40, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"20px",padding:"50px",zIndex:3100,color:"#fff",display:"flex",flexDirection:"column",alignItems:"center"},creativityTimer:{fontSize:"60px",fontWeight:"bold",textAlign:"center",marginBottom:"30px",fontFamily:"'Roboto Mono', monospace",letterSpacing:"4px"},creativityTimerRed:{color:"#ff4444"},creativityTitle:{fontSize:"22px",fontWeight:"bold",textAlign:"center",marginBottom:"30px",lineHeight:1.5,color:"#ffffff"},creativityTagsContainer:{width:"100%",flex:1,display:"flex",flexWrap:"wrap",alignContent:"flex-start",gap:"12px",marginBottom:"20px",overflowY:"auto",padding:"10px 0"},creativityTag:{padding:"10px 20px",borderRadius:"20px",border:"none",fontSize:"16px",color:"#000",whiteSpace:"nowrap",fontWeight:"500"},creativityTagYellow:{background:"#f0d32d"},creativityTagRed:{background:"#ab3a2c"},creativityInputSection:{width:"100%",display:"flex",flexDirection:"column",gap:"15px",position:"relative"},creativityHintButton:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",color:"#a0d8ff",fontSize:"16px",cursor:"pointer",padding:"8px 0",fontWeight:"600",transition:"all 0.2s"},creativityHintIcon:{width:"20px",height:"20px"},creativityInputContainer:{position:"relative",display:"flex",alignItems:"center",backgroundColor:"#1f2937",borderRadius:"15px",border:"2px solid #a0d8ff",overflow:"hidden",transition:"border-color 0.2s"},creativityInput:{flex:1,padding:"15px 20px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#fff",outline:"none"},creativityDivider:{width:"2px",height:"24px",backgroundColor:"#a0d8ff",margin:"0 8px",flexShrink:0},creativitySendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s"},creativitySendIcon:{width:"24px",height:"24px",objectFit:"contain"},creativityProgress:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",marginTop:"10px"},creativityProgressDot:{width:"12px",height:"12px",borderRadius:"50%",background:"#666566",transition:"all 0.3s"},creativityProgressDotActive:{background:"#a0d8ff"},creativityProgressText:{fontSize:"16px",fontWeight:"bold",color:"#a0d8ff",marginLeft:"10px"},coCreationContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"900px",maxHeight:"85vh",background:"rgba(60, 60, 60, 0.95)",backdropFilter:"blur(20px)",borderRadius:"20px",padding:"30px",zIndex:3200,display:"flex",flexDirection:"column",gap:"20px",overflow:"auto"},coCreationDialogue:{background:"#fff",borderRadius:"15px",padding:"20px",display:"flex",alignItems:"center",gap:"15px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},coCreationInstruction:{textAlign:"center",color:"#a0d8ff",fontSize:"18px",marginBottom:"10px"},coCreationFormulasArea:{flex:1,display:"flex",flexDirection:"column",gap:"20px",justifyContent:"center"},coCreationFormula:{display:"flex",alignItems:"center",justifyContent:"center",gap:"20px"},coCreationCard:{width:"150px",height:"150px",background:"#fff",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)"},coCreationDropZone:{width:"200px",height:"80px",border:"3px dashed rgba(160, 216, 255, 0.5)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Roboto Mono', monospace",fontSize:"18px",color:"#fff"},coCreationResultCard:{width:"150px",height:"150px",background:"#f0d32d",border:"4px solid #a0d8ff",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)",animation:"shake 0.5s"},coCreationElementsArea:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center",padding:"15px",maxHeight:"200px",overflow:"auto"},coCreationElementTag:{padding:"10px 20px",borderRadius:"20px",fontSize:"14px",fontFamily:"'Roboto Mono', monospace",color:"#fff",cursor:"pointer",transition:"all 0.2s",fontWeight:"500",border:"none"},npc9SharingContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",maxWidth:"900px",maxHeight:"85vh",background:"rgba(80, 80, 80, 0.85)",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",borderRadius:"25px",padding:"40px",zIndex:3e3,display:"flex",flexDirection:"column",gap:"25px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",border:"1px solid rgba(255, 255, 255, 0.1)"},npc9SharingTitle:{textAlign:"center",color:"#fff",fontSize:"22px",marginBottom:"10px",fontWeight:"500"},npc9SharingMessage:{display:"flex",alignItems:"flex-start",gap:"15px",marginBottom:"10px"},npc9SharingBubble:{background:"#fff",borderRadius:"15px",padding:"20px",flex:1,fontSize:"16px",lineHeight:1.6,color:"#333",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},npc9SharingTimestamp:{fontSize:"12px",color:"#999",marginTop:"8px"},npc9SharingUserLabel:{textAlign:"right",fontSize:"12px",color:"#a0d8ff",marginBottom:"5px",fontWeight:"500"},npc9SharingHints:{display:"flex",gap:"10px",marginBottom:"10px",alignItems:"flex-start"},npc9SharingHintTag:{padding:"8px 16px",borderRadius:"20px",fontSize:"13px",background:"rgba(160, 216, 255, 0.15)",border:"1px solid rgba(160, 216, 255, 0.4)",color:"#a0d8ff",fontWeight:"500"},npc9SharingInputContainer:{display:"flex",alignItems:"center",gap:"15px",background:"rgba(30, 50, 70, 0.6)",borderRadius:"15px",padding:"12px 20px",border:"2px solid rgba(160, 216, 255, 0.4)"},npc9SharingInput:{flex:1,background:"none",border:"none",color:"#fff",fontSize:"16px",outline:"none",fontFamily:"'Roboto', sans-serif"},creativityHintModal:{position:"absolute",bottom:"100%",left:"0",width:"280px",background:"rgba(20, 30, 40, 0.95)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",borderRadius:"12px",padding:"15px",marginBottom:"15px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.6)",border:"1px solid rgba(160, 216, 255, 0.3)",zIndex:100},creativityHintHeader:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid rgba(160, 216, 255, 0.2)"},creativityHintTitle:{fontSize:"14px",fontWeight:"bold",color:"#a0d8ff",flex:1},creativityHintClose:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#a0d8ff",padding:"0",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},creativityHintContent:{color:"#fff",fontSize:"11px",lineHeight:1.4},creativityHintItem:{marginBottom:"10px",padding:"8px 10px",background:"rgba(160, 216, 255, 0.1)",border:"1px solid rgba(160, 216, 255, 0.3)",borderRadius:"8px",position:"relative"},creativityHintLabel:{fontWeight:"bold",color:"#a0d8ff",marginBottom:"4px",display:"block",fontSize:"10px"},progressContainer:{position:"absolute",bottom:"50px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"20px",zIndex:100,background:"rgba(255, 255, 255, 0.85)",padding:"15px 25px",borderRadius:"30px"},progressCircle:{width:"60px",height:"60px",borderRadius:"50%",border:"3px solid #ccc",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"bold",color:"#666",transition:"all 0.3s",background:"#fff"},progressCircleCompleted:{background:"#4CAF50",borderColor:"#4CAF50",color:"#fff"},courtNpc:{position:"absolute",cursor:"pointer",transition:"transform 0.2s",zIndex:50},caseModal:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(20, 20, 30, 0.95), rgba(20, 20, 30, 0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"20px",padding:"30px",zIndex:2e3,boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},caseModalStep1:{width:"calc(50vw + 20px)",height:"70vh"},caseModalStep2:{width:"85vw",maxWidth:"1200px",height:"75vh",maxHeight:"650px",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(20, 20, 30, 0.95), rgba(20, 20, 30, 0.95)), linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"20px"},closeButton:{position:"absolute",top:"15px",right:"20px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#fff",zIndex:10},caseTitle:{fontSize:"20px",fontWeight:"bold",fontFamily:"'Orbitron', sans-serif",marginBottom:"20px",color:"#fff"},caseGifContainer:{position:"relative",width:"100%",marginBottom:"10px"},caseGif:{width:"100%",height:"auto",maxHeight:"50vh",objectFit:"contain",borderRadius:"10px",boxShadow:"inset 0 0 20px rgba(0, 0, 0, 0.3)"},caseTimer:{position:"absolute",top:"15px",right:"15px",fontFamily:"'Courier New', monospace",fontSize:"18px",fontWeight:"bold",color:"#fff",background:"rgba(0, 0, 0, 0.6)",padding:"8px 12px",borderRadius:"6px",letterSpacing:"2px"},nextButton:{position:"absolute",bottom:"15px",right:"30px",padding:"12px 30px",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},step2Container:{position:"relative",height:"100%",width:"100%",display:"flex",padding:"30px 30px 20px 30px",gap:"30px"},step2LeftColumn:{width:"280px",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",flexShrink:0,position:"relative",overflow:"visible",minHeight:"500px"},step2RightColumn:{flex:1,display:"flex",flexDirection:"column",minHeight:0},caseHeader:{position:"absolute",top:"15px",left:"50%",transform:"translateX(-50%)",fontSize:"13px",color:"#d0d0d0",fontFamily:"'Orbitron', sans-serif",fontWeight:500,letterSpacing:"1.5px",textAlign:"center",whiteSpace:"nowrap"},statementTitle:{fontSize:"20px",fontWeight:700,color:"#ffffff",fontFamily:"'Orbitron', sans-serif",letterSpacing:"2px",marginBottom:"20px"},statementBox:{background:"rgba(230, 230, 230, 0.98)",borderRadius:"12px",padding:"20px 25px",fontFamily:"'Roboto Mono', monospace",fontSize:"14px",lineHeight:1.8,marginBottom:"20px",maxHeight:"180px",overflowY:"auto"},statementLine:{marginBottom:"10px",color:"#1a1a1a"},statementPrefix:{color:"#667eea",marginRight:"8px",fontWeight:700},verdictPending:{display:"flex",alignItems:"center",gap:"10px",margin:"20px 0",fontSize:"18px",fontFamily:"'Orbitron', sans-serif",fontWeight:700,color:"#5ba3ff",letterSpacing:"2px"},verdictIcon:{width:"28px",height:"28px",objectFit:"contain"},claimQuote:{fontSize:"20px",fontFamily:"'Michroma', sans-serif",fontStyle:"italic",fontWeight:700,color:"#f0f0f0",textAlign:"center",margin:"20px 0 30px 0",lineHeight:1.5,padding:"0 20px"},judgmentButtonsContainer:{display:"flex",justifyContent:"space-between",gap:"30px",marginTop:"auto"},approvedButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"15px",padding:"16px 45px",background:"rgba(76, 175, 80, 0.3)",border:"2px solid #4caf50",borderRadius:"12px",color:"#4caf50",fontSize:"20px",fontFamily:"'Orbitron', sans-serif",fontWeight:700,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 25px rgba(76, 175, 80, 0.5)",flex:1},rejectedButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"15px",padding:"16px 45px",background:"rgba(244, 67, 54, 0.3)",border:"2px solid #f44336",borderRadius:"12px",color:"#f44336",fontSize:"20px",fontFamily:"'Orbitron', sans-serif",fontWeight:700,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 25px rgba(244, 67, 54, 0.5)",flex:1},judgmentIcon:{width:"36px",height:"36px"},stampOverlay:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:3e3,width:"350px",height:"350px"},dialogueButtons:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"15px"},dialogueButton:{padding:"12px 24px",borderRadius:"10px",border:"1px solid rgba(100, 149, 237, 0.5)",background:"rgba(30, 30, 50, 0.9)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},skipButton:{padding:"8px 16px",borderRadius:"8px",border:"none",background:"transparent",color:"rgba(255, 255, 255, 0.6)",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},arrow:{position:"absolute",width:"300px",height:"300px",cursor:"pointer",zIndex:50,animation:"breathe 2s ease-in-out infinite",transition:"transform 0.2s"},arrowSmall:{position:"absolute",width:"350px",height:"350px",cursor:"pointer",zIndex:50,animation:"breathe 2s ease-in-out infinite",transition:"transform 0.2s"},arrowImage:{width:"100%",height:"100%",objectFit:"contain"},keyframes:`
      @keyframes breathe {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
        20%, 40%, 60%, 80% { transform: translateX(10px); }
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `,modernDialogueContainer:{position:"absolute",top:"12.5%",left:"10%",width:"40%",height:"70%",zIndex:100,background:"rgba(245, 245, 245, 0.98)",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},modernDialogueHeader:{padding:"20px 25px 15px 25px",borderBottom:"none"},modernProgressContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},modernMissionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px"},modernStepIndicator:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#999"},modernProgressBar:{width:"100%",height:"4px",backgroundColor:"rgba(200,200,200,0.3)",borderRadius:"2px",overflow:"hidden",marginBottom:"20px"},modernProgressFill:{height:"100%",borderRadius:"2px",transition:"width 0.3s ease"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px",flex:1},modernNpcAvatar:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#333"},modernNpcStatus:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999"},modernCloseButton:{position:"relative",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},modernDialogueContent:{flex:1,padding:"0 25px 25px 25px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"100%"},modernNpcSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"85%"},modernUserBubble:{background:"#333333",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(51, 51, 51, 0.3)"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ffffff",lineHeight:1.5,margin:0},modernUserSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},modernActionButton:{alignSelf:"stretch",background:"white",border:"2px solid #E0E0E0",borderRadius:"25px",padding:"14px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",marginTop:"8px"},reloadingContainer:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:3e3},reloadingIcon:{width:"100px",height:"100px",animation:"spin 2s linear infinite",filter:"drop-shadow(0 0 20px rgba(160, 216, 255, 0.8))",marginBottom:"30px"},reloadingText:{color:"#a0d8ff",fontSize:"24px",fontWeight:"bold",fontFamily:"'Montserrat', sans-serif",letterSpacing:"2px"},completeNpc:{position:"absolute",cursor:"pointer",transition:"transform 0.2s",zIndex:30},completeNpcImage:{width:"100%",height:"100%",objectFit:"contain"},completeNpcDialogue:{position:"absolute",bottom:"110%",left:"50%",transform:"translateX(-50%)",background:"rgba(255, 255, 255, 0.95)",border:"2px solid #333",borderRadius:"15px",padding:"15px 20px",minWidth:"200px",maxWidth:"300px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",zIndex:100,whiteSpace:"normal",wordWrap:"break-word"},completeNpcDialogueText:{color:"#333",fontSize:"14px",lineHeight:1.5,fontFamily:"'Roboto', sans-serif",margin:0}};return o.jsxs("div",{style:m.container,children:[o.jsx("style",{children:m.keyframes}),x==="reloading"&&o.jsxs("div",{style:m.reloadingContainer,children:[o.jsx("img",{src:"/glacier/icon/snowfake.svg",alt:"Loading",style:m.reloadingIcon}),o.jsx("div",{style:m.reloadingText,children:"System Online."})]}),x!=="reloading"&&Kp()&&o.jsx("img",{src:Kp(),alt:"Glacier Background",style:m.backgroundImage}),x==="complete"&&A2.map(r=>o.jsxs("div",{style:{...m.completeNpc,...r.position},onClick:()=>ox(Up===r.id?null:r.id),onMouseOver:k=>k.currentTarget.style.transform="scale(1.05)",onMouseOut:k=>k.currentTarget.style.transform="scale(1)",children:[o.jsx("img",{src:r.image,alt:r.id,style:m.completeNpcImage}),Up===r.id&&o.jsx("div",{style:{...m.completeNpcDialogue,...r.id==="npc12"?{left:"auto",right:"110%",transform:"none",bottom:"0"}:{}},children:o.jsx("p",{style:m.completeNpcDialogueText,children:r.dialogue})})]},r.id)),x==="court"||x==="rooftop"?o.jsx("button",{style:m.leftButton,onClick:qx,onMouseOver:r=>r.target.style.transform="scale(1.1)",onMouseOut:r=>r.target.style.transform="scale(1)",children:o.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:m.leftButtonImage})}):o.jsx("button",{style:m.exitButton,onClick:e,onMouseOver:r=>{r.target.style.background="rgba(0, 0, 0, 0.5)",r.target.style.transform="scale(1.05)"},onMouseOut:r=>{r.target.style.background="rgba(0, 0, 0, 0.3)",r.target.style.transform="scale(1)"},children:t("exit")}),(x==="outside"||x==="hallway"||x==="inside"||x==="court"||x==="rooftop")&&o.jsx("div",{style:{...m.npc,...Vc(),width:Vc().size,height:Vc().size,cursor:"pointer"},onClick:Nx,onMouseOver:r=>{r.currentTarget.style.transform="scale(1.05)"},onMouseOut:r=>{r.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:"/npc/npc_glacier.gif",alt:"Glitch",style:m.npcImage})}),Km&&(x==="inside"||x==="court"||x==="rooftop")&&o.jsxs("div",{style:m.glitchDialogue,children:[o.jsx("button",{style:m.glitchDialogueCloseButton,onClick:()=>Rp(!1),onMouseOver:r=>{r.target.style.color="#333",r.target.style.transform="scale(1.1)"},onMouseOut:r=>{r.target.style.color="#999",r.target.style.transform="scale(1)"},children:""}),o.jsxs("div",{style:m.glitchDialogueHeader,children:[o.jsx("div",{style:m.glitchDialogueAvatar,children:o.jsx("span",{style:m.glitchDialogueAvatarIcon,children:""})}),o.jsx("h4",{style:m.glitchDialogueName,children:"Glitch"})]}),o.jsxs("p",{style:m.glitchDialogueText,children:[x==="inside"&&"The machines are sleeping, but the truth is awake. Ask me anything about this station.",x==="court"&&"Justice is not always black and white. Sometimes it's about responsibility.",x==="rooftop"&&"They forgot how to think for themselves. Can you help them remember?"]}),o.jsxs("div",{style:m.glitchDialogueInputContainer,onFocus:r=>{r.currentTarget.style.borderColor="#af4dca"},onBlur:r=>{r.currentTarget.style.borderColor="#d9d7de"},children:[o.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:Gc,onChange:r=>_p(r.target.value),onKeyPress:vx,style:m.glitchDialogueInput}),o.jsx("div",{style:m.glitchDialogueDivider}),o.jsx("button",{onClick:Xp,style:m.glitchDialogueSendButton,onMouseOver:r=>{r.currentTarget.style.transform="scale(1.1)"},onMouseOut:r=>{r.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:"/icon/send.png",alt:"Send",style:m.glitchDialogueSendIcon})})]})]}),x==="inside"&&$p()&&o.jsx("div",{style:{position:"absolute",zIndex:30,cursor:on&&_e.length<3?"default":_e.length===3&&sn?"pointer":on?"default":"pointer",...$p()},onClick:cx,onMouseOver:r=>{(!on||_e.length===3&&sn)&&(r.currentTarget.style.transform="scale(1.05)")},onMouseOut:r=>r.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/glacier/npc/momo.png",alt:"Momo",style:{width:"100%",height:"100%",objectFit:"contain"}})}),U&&jt.length>0&&x!=="inside"&&o.jsxs("div",{style:{...m.dialogueContainer,...eg()},children:[o.jsx("p",{style:m.dialogueText,dangerouslySetInnerHTML:{__html:y.replace(/^(Brrr[^.]*\.)/g,'<span style="font-weight: 700; color: #4A90E2;">$1</span>').replace(/^(Huh\?[^.]*\.)/g,'<span style="font-weight: 700; color: #E24A4A;">$1</span>').replace(/^(Honestly[^.]*\.)/g,'<span style="font-weight: 700; color: #9B59B6;">$1</span>')}}),P&&o.jsx("span",{style:{opacity:.5,marginLeft:"4px"},children:"|"}),o.jsxs("div",{style:m.dialogueButtons,children:[o.jsx("button",{style:m.skipButton,onClick:qp,onMouseOver:r=>{r.target.style.color="rgba(255, 255, 255, 0.9)",r.target.style.transform="scale(1.05)"},onMouseOut:r=>{r.target.style.color="rgba(255, 255, 255, 0.6)",r.target.style.transform="scale(1)"},children:"SKIP"}),o.jsx("button",{style:m.dialogueButton,onClick:lx,onMouseOver:r=>{r.target.style.background="rgba(50, 50, 80, 0.95)",r.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",r.target.style.transform="scale(1.05)"},onMouseOut:r=>{r.target.style.background="rgba(30, 30, 50, 0.9)",r.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",r.target.style.transform="scale(1)"},children:"CONTINUE"})]})]}),x==="inside"&&U&&!Xe&&(()=>{const r=b("momo"),k=5,O=1,X=O/k*100;return o.jsxs("div",{style:{...m.modernDialogueContainer,...eg(),border:`3px solid ${r.borderColor}`},children:[o.jsxs("div",{style:m.modernDialogueHeader,children:[o.jsxs("div",{style:m.modernProgressContainer,children:[o.jsx("div",{style:{...m.modernMissionTitle,color:r.borderColor},children:"MISSION: SILENT GEAR STATION"}),o.jsxs("div",{style:m.modernStepIndicator,children:["Step ",O," of ",k]})]}),o.jsx("div",{style:m.modernProgressBar,children:o.jsx("div",{style:{...m.modernProgressFill,width:`${X}%`,background:r.progressColor}})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{style:m.modernNpcInfo,children:[o.jsx("img",{src:r.avatar,alt:"Momo",style:m.modernNpcAvatar}),o.jsxs("div",{children:[o.jsx("div",{style:m.modernNpcName,children:"Momo"}),o.jsx("div",{style:m.modernNpcStatus,children:"Station Supervisor"})]})]}),o.jsx("button",{style:m.modernCloseButton,onClick:qp,onMouseOver:G=>G.target.style.color="#333",onMouseOut:G=>G.target.style.color="#999",children:""})]})]}),o.jsxs("div",{style:m.modernDialogueContent,children:[ee.map((G,ge)=>{const st=d();return G.speaker==="momo"?o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:m.modernNpcText,dangerouslySetInnerHTML:{__html:G.text.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${r.borderColor}; font-weight: 600;">$1</span>`)}}),o.jsx("div",{style:m.modernTimestamp,children:st})]},ge):G.speaker==="user"?o.jsxs("div",{style:m.modernUserMessage,children:[o.jsx("div",{style:m.modernUserSpeaker,children:"YOU:"}),o.jsx("div",{style:{...m.modernUserBubble,background:r.borderColor},children:o.jsx("p",{style:m.modernUserText,children:G.text})}),o.jsx("div",{style:{...m.modernTimestamp,textAlign:"right"},children:st})]},ge):null}),!pe&&o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:m.modernNpcText,dangerouslySetInnerHTML:{__html:y.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${r.borderColor}; font-weight: 600;">$1</span>`)}}),P&&o.jsx("span",{style:{opacity:.5},children:"|"}),o.jsx("div",{style:m.modernTimestamp,children:d()})]}),pe&&jt[p]&&jt[p].isButton&&o.jsxs("button",{style:m.modernActionButton,onClick:()=>rx(jt[p].text),onMouseOver:G=>{G.target.style.borderColor=r.borderColor,G.target.style.transform="translateX(5px)"},onMouseOut:G=>{G.target.style.borderColor="#E0E0E0",G.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:r.borderColor},children:""}),jt[p].text]})]})]})})(),x==="court"&&o.jsx(o.Fragment,{children:Object.entries(Qx()).map(([r,k])=>{const O=E.length===5&&(r==="npc2"||r==="npc3"),X=E.includes(r);return o.jsxs("div",{style:{...m.courtNpc,...k,height:k.height,opacity:X&&!O?.5:1,cursor:O||!X?"pointer":"default"},onClick:()=>Hx(r),onMouseOver:G=>{(O||!X)&&(G.currentTarget.style.transform="scale(1.05)")},onMouseOut:G=>G.currentTarget.style.transform="scale(1)",children:[o.jsx("img",{src:_a[r].npcImage,alt:r,style:{width:"100%",height:"100%",objectFit:"contain"}}),ix===r&&E.length===5&&(r==="npc2"||r==="npc3")&&o.jsx("div",{style:{position:"absolute",bottom:"110%",left:"50%",transform:"translateX(-50%)",background:"rgba(255, 255, 255, 0.95)",border:"2px solid #333",borderRadius:"15px",padding:"15px 20px",minWidth:"200px",maxWidth:"300px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",zIndex:100,whiteSpace:"normal",wordWrap:"break-word"},children:o.jsx("p",{style:{color:"#333",fontSize:"14px",lineHeight:1.5,fontFamily:"'Roboto', sans-serif",margin:0},children:"Let's go outside and find Momo."})})]},r)})}),x==="court"&&o.jsx("div",{style:m.progressContainer,children:["npc2","npc3","npc4","npc7","npc8"].map((r,k)=>o.jsx("div",{style:{...m.progressCircle,...E.includes(r)?m.progressCircleCompleted:{}},children:E.includes(r)?"":"?"},r))}),x==="rooftop"&&o.jsx("div",{style:m.progressContainer,children:["npc5","npc6","npc9"].map((r,k)=>o.jsx("div",{style:{...m.progressCircle,..._e.includes(r)?m.progressCircleCompleted:{}},children:_e.includes(r)?"":"?"},r))}),re&&o.jsxs("div",{style:{...m.caseModal,...V===1?m.caseModalStep1:m.caseModalStep2},children:[o.jsx("button",{style:m.closeButton,onClick:Ux,children:""}),V===1?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:m.caseTitle,children:_a[re].eventDescription}),o.jsxs("div",{style:m.caseGifContainer,children:[o.jsx("img",{src:_a[re].gif,alt:"Case Event",style:m.caseGif}),o.jsx("div",{style:m.caseTimer,children:Gx(ke)})]}),o.jsx("button",{style:m.nextButton,onClick:Lx,onMouseOver:r=>{r.target.style.background="rgba(255, 255, 255, 1)",r.target.style.transform="scale(1.05)"},onMouseOut:r=>{r.target.style.background="rgba(255, 255, 255, 0.9)",r.target.style.transform="scale(1)"},children:"NEXT"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:m.caseHeader,children:[t("language")==="zh"?"":"Case"," #",_a[re].caseNumber,"  ",t("language")==="zh"?_a[re].caseTitle.zh:_a[re].caseTitle.en]}),o.jsxs("div",{style:m.step2Container,children:[o.jsxs("div",{style:m.step2LeftColumn,children:[o.jsx("img",{src:_a[re].npcImage,alt:re,style:{width:"auto",height:"500px",maxWidth:"none",objectFit:"contain"}}),o.jsx("div",{style:{fontSize:"13px",color:"#e0e0e0",fontFamily:"'Orbitron', sans-serif",fontWeight:400,textAlign:"center",lineHeight:1.6,padding:"0 10px",marginTop:"10px",width:"260px"},children:t("language")==="zh"?_a[re].npcRole.zh:_a[re].npcRole.en})]}),o.jsxs("div",{style:m.step2RightColumn,children:[o.jsx("div",{style:m.statementTitle,children:"NPC STATEMENT"}),o.jsx("div",{style:m.statementBox,children:_a[re].statementParts.map((r,k)=>o.jsxs("div",{style:{...m.statementLine,opacity:Se>k?1:0,transform:Se>k?"translateY(0)":"translateY(10px)",transition:"all 0.5s ease"},children:[o.jsx("span",{style:m.statementPrefix,children:">"}),r]},k))}),Se>=3&&o.jsxs("div",{style:m.verdictPending,children:[o.jsx("img",{src:"/glacier/icon/statement.png",alt:"Verdict",style:m.verdictIcon}),"[VERDICT PENDING]"]}),Se>=3&&o.jsxs("div",{style:m.claimQuote,children:['"',_a[re].claim,'"']}),Se>=3&&o.jsxs("div",{style:m.judgmentButtonsContainer,children:[o.jsxs("button",{style:{...m.approvedButton,animation:La?"shake 0.5s":"none"},onClick:()=>Zp("accepted"),onMouseOver:r=>{La||(r.currentTarget.style.boxShadow="0 0 45px rgba(76, 175, 80, 0.7)",r.currentTarget.style.transform="scale(1.05)",r.currentTarget.style.background="rgba(76, 175, 80, 0.4)")},onMouseOut:r=>{La||(r.currentTarget.style.boxShadow="0 0 25px rgba(76, 175, 80, 0.5)",r.currentTarget.style.transform="scale(1)",r.currentTarget.style.background="rgba(76, 175, 80, 0.3)")},children:[o.jsx("img",{src:"/desert/icon/correct.png",alt:"Approved",style:m.judgmentIcon}),"APPROVED"]}),o.jsxs("button",{style:m.rejectedButton,onClick:()=>Zp("rejected"),onMouseOver:r=>{r.currentTarget.style.boxShadow="0 0 45px rgba(244, 67, 54, 0.7)",r.currentTarget.style.transform="scale(1.05)",r.currentTarget.style.background="rgba(244, 67, 54, 0.4)"},onMouseOut:r=>{r.currentTarget.style.boxShadow="0 0 25px rgba(244, 67, 54, 0.5)",r.currentTarget.style.transform="scale(1)",r.currentTarget.style.background="rgba(244, 67, 54, 0.3)"},children:[o.jsx("img",{src:"/desert/icon/wrong.png",alt:"Rejected",style:m.judgmentIcon}),"REJECTED"]})]})]})]})]})]}),te&&o.jsx("img",{src:`/glacier/icon/${bt}.png`,alt:bt,style:m.stampOverlay}),Xe&&(()=>{const r=b("momo"),k=5,O=2,X=O/k*100;return o.jsxs("div",{style:{...m.modernDialogueContainer,border:`3px solid ${r.borderColor}`},children:[o.jsxs("div",{style:m.modernDialogueHeader,children:[o.jsxs("div",{style:m.modernProgressContainer,children:[o.jsx("div",{style:{...m.modernMissionTitle,color:r.borderColor},children:"MISSION: AI ETHICS PRINCIPLES"}),o.jsxs("div",{style:m.modernStepIndicator,children:["Step ",O," of ",k]})]}),o.jsx("div",{style:m.modernProgressBar,children:o.jsx("div",{style:{...m.modernProgressFill,width:`${X}%`,background:r.progressColor}})}),o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:o.jsxs("div",{style:m.modernNpcInfo,children:[o.jsx("img",{src:r.avatar,alt:"Momo",style:m.modernNpcAvatar}),o.jsxs("div",{children:[o.jsx("div",{style:m.modernNpcName,children:"Momo"}),o.jsx("div",{style:m.modernNpcStatus,children:"Station Supervisor"})]})]})})]}),o.jsxs("div",{style:m.modernDialogueContent,children:[_t.map((G,ge)=>{const st=d();return G.speaker==="momo"?o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:m.modernNpcText,dangerouslySetInnerHTML:{__html:G.text.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${r.borderColor}; font-weight: 600;">$1</span>`)}}),o.jsx("div",{style:m.modernTimestamp,children:st})]},ge):G.speaker==="user"?o.jsxs("div",{style:m.modernUserMessage,children:[o.jsx("div",{style:m.modernUserSpeaker,children:"YOU:"}),o.jsx("div",{style:{...m.modernUserBubble,background:r.borderColor},children:o.jsx("p",{style:m.modernUserText,children:G.text})}),o.jsx("div",{style:{...m.modernTimestamp,textAlign:"right"},children:st})]},ge):G.isError?o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:{...m.modernNpcText,padding:"12px 16px",background:"#f8d7da",borderRadius:"10px",border:"2px solid #dc3545"},children:G.text}),o.jsx("div",{style:m.modernTimestamp,children:st})]},ge):null}),En[at]&&En[at].speaker!=="quiz"&&!En[at].isButton&&o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:m.modernNpcText,dangerouslySetInnerHTML:{__html:Bt.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${r.borderColor}; font-weight: 600;">$1</span>`)}}),Rt&&o.jsx("span",{style:{opacity:.5},children:"|"}),o.jsx("div",{style:m.modernTimestamp,children:d()})]}),Ft&&En[at+1]&&En[at+1].speaker==="quiz"&&o.jsx("div",{style:{width:"100%",marginTop:"10px"},children:En[at+1].options.map((G,ge)=>{const st=mi===G.id;return o.jsxs("button",{style:{...m.modernActionButton,borderColor:st?"#F44336":"#E0E0E0",borderWidth:st?"3px":"2px"},onClick:()=>dx(G),onMouseOver:ut=>{st||(ut.target.style.borderColor=r.borderColor),ut.target.style.transform="translateX(5px)"},onMouseOut:ut=>{st?ut.target.style.borderColor="#F44336":ut.target.style.borderColor="#E0E0E0",ut.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:st?"#F44336":r.borderColor},children:""}),G.text]},ge)})}),Ft&&En[at+1]&&En[at+1].isButton&&o.jsxs("button",{style:m.modernActionButton,onClick:()=>ux(En[at+1].text),onMouseOver:G=>{G.target.style.borderColor=r.borderColor,G.target.style.transform="translateX(5px)"},onMouseOut:G=>{G.target.style.borderColor="#E0E0E0",G.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:r.borderColor},children:""}),En[at+1].text]})]})]})})(),on&&x==="inside"&&_e.length<3&&o.jsx("div",{style:m.elevatorArrow,onClick:px,onMouseOver:r=>r.target.style.transform="scale(1.1)",onMouseOut:r=>r.target.style.transform="scale(1)",children:o.jsx("img",{src:"/glacier/icon/arrow3.png",alt:"Elevator Arrow",style:{width:"100%",height:"100%",objectFit:"contain"}})}),_c&&x==="inside"&&o.jsx("div",{style:{position:"absolute",top:"150px",right:"0px",width:"400px",height:"auto",cursor:"pointer",transition:"transform 0.3s ease",zIndex:100},onClick:()=>{A("datacenter"),Xs(!1),Uo(!0)},onMouseOver:r=>r.target.style.transform="scale(1.1)",onMouseOut:r=>r.target.style.transform="scale(1)",children:o.jsx("img",{src:"/glacier/icon/arrow3.png",alt:"Data Center Arrow",style:{width:"100%",height:"auto",objectFit:"contain"}})}),x==="rooftop"&&o.jsx("div",{style:m.npc5,onClick:()=>{(!St||!Dt)&&Yp()},onMouseOver:()=>{!ja&&!St&&!Dt&&Yp()},children:o.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer"}})}),x==="rooftop"&&o.jsx("div",{style:m.npc6,onMouseOver:()=>{!de&&!Da&&gx()},children:o.jsx("img",{src:"/glacier/npc/npc6.png",alt:"NPC 6",style:{width:"100%",height:"100%",objectFit:"contain"}})}),ja&&o.jsx("div",{style:m.npc5DialogueContainer,children:Qt===-1?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{marginBottom:"15px",flex:1},children:o.jsx("div",{style:m.dialogueText,children:_e.length===3?"Let's go down and look for Momo.":"Oh, hello again! You know, my brain feels... awake."})}),o.jsx("button",{style:m.npc5ContinueButton,onClick:()=>na(!1),onMouseOver:r=>{r.target.style.background="rgba(50, 50, 80, 0.95)",r.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",r.target.style.transform="scale(1.05)"},onMouseOut:r=>{r.target.style.background="rgba(30, 30, 50, 0.9)",r.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",r.target.style.transform="scale(1)"},children:"CLOSE"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{marginBottom:"20px",flex:1},children:Qt<Ki.length&&!Ki[Qt].isButton&&o.jsx("div",{style:m.dialogueText,children:ka})}),un&&o.jsx("button",{style:{padding:"15px 40px",background:"rgba(30, 30, 50, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},onClick:()=>Rx(),onMouseOver:r=>{r.target.style.background="rgba(50, 50, 80, 0.9)",r.target.style.transform="scale(1.05)",r.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)"},onMouseOut:r=>{r.target.style.background="rgba(30, 30, 50, 0.85)",r.target.style.transform="scale(1)",r.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.3)"},children:Ki[5].text})]})}),de&&o.jsx("div",{style:m.npc6DialogueContainer,children:Ie===-1?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{marginBottom:"15px",flex:1},children:o.jsx("div",{style:m.dialogueText,children:_e.length===3?"Let's go down and look for Momo.":"Thank you... I can feel it coming back. The spark. The vision. My hands remember now."})}),o.jsx("button",{style:m.npc6ContinueButton,onClick:()=>ht(!1),onMouseOver:r=>{r.target.style.background="rgba(50, 50, 80, 0.95)",r.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",r.target.style.transform="scale(1.05)"},onMouseOut:r=>{r.target.style.background="rgba(30, 30, 50, 0.9)",r.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",r.target.style.transform="scale(1)"},children:"CLOSE"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{marginBottom:"20px",flex:1},children:o.jsx("div",{style:m.dialogueText,children:Cn})}),dn&&o.jsx("button",{style:{padding:"15px 40px",background:"rgba(30, 30, 50, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},onClick:hx,onMouseOver:r=>{r.target.style.background="rgba(50, 50, 80, 0.9)",r.target.style.transform="scale(1.05)",r.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)"},onMouseOut:r=>{r.target.style.background="rgba(30, 30, 50, 0.85)",r.target.style.transform="scale(1)",r.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.3)"},children:Pi[4].text})]})}),qe&&et.length>0&&o.jsxs("div",{style:m.creativityContainer,children:[o.jsx("div",{style:{...m.creativityTimer,...Pt<15?m.creativityTimerRed:{}},children:Qc(Pt)}),o.jsx("div",{style:m.creativityTitle,children:et[Gn].en.split(/(mobile phones|5 different ways)/gi).map((O,X)=>O.toLowerCase()==="mobile phones"||O.toLowerCase()==="5 different ways"?o.jsx("span",{style:{color:"#a0d8ff"},children:O},X):o.jsx("span",{children:O},X))}),o.jsx("div",{style:m.creativityTagsContainer,children:pn.map((r,k)=>o.jsx("div",{style:{...m.creativityTag,...k%2===0?m.creativityTagYellow:m.creativityTagRed},children:r},k))}),o.jsxs("div",{style:m.creativityInputSection,children:[Xa&&et.length>0&&o.jsxs("div",{style:m.creativityHintModal,children:[o.jsxs("div",{style:m.creativityHintHeader,children:[o.jsx("svg",{style:{width:"16px",height:"16px"},viewBox:"0 0 24 24",fill:"#a0d8ff",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),o.jsx("span",{style:m.creativityHintTitle,children:"Hint"}),o.jsx("button",{style:m.creativityHintClose,onClick:()=>gn(!1),onMouseOver:r=>r.currentTarget.style.opacity="0.7",onMouseOut:r=>r.currentTarget.style.opacity="1",children:""})]}),o.jsx("div",{style:m.creativityHintContent,children:et[Gn].hints.en.map((r,k)=>o.jsxs("div",{style:m.creativityHintItem,children:[o.jsxs("span",{style:m.creativityHintLabel,children:["Prompt ",k+1,":"]}),o.jsx("div",{style:{fontSize:"11px"},children:r})]},k))})]}),o.jsxs("button",{style:m.creativityHintButton,onClick:()=>gn(!0),onMouseOver:r=>r.currentTarget.style.opacity="0.8",onMouseOut:r=>r.currentTarget.style.opacity="1",children:[o.jsx("svg",{style:m.creativityHintIcon,viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Hint"]}),o.jsxs("div",{style:m.creativityInputContainer,children:[o.jsx("input",{type:"text",value:Ne,onChange:r=>Zt(r.target.value),onKeyPress:bx,placeholder:"Typing here...",style:m.creativityInput,autoFocus:!0}),o.jsx("div",{style:m.creativityDivider}),o.jsx("button",{style:m.creativitySendButton,onClick:Wp,onMouseOver:r=>r.currentTarget.style.transform="scale(1.1)",onMouseOut:r=>r.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/glacier/icon/send.png",alt:"Send",style:m.creativitySendIcon})})]}),o.jsxs("div",{style:m.creativityProgress,children:[Array.from({length:et[Gn].requiredCount}).map((r,k)=>o.jsx("div",{style:{...m.creativityProgressDot,...k<pn.length?m.creativityProgressDotActive:{}}},k)),o.jsxs("span",{style:m.creativityProgressText,children:[pn.length,"/",et[Gn].requiredCount]})]})]})]}),An&&o.jsxs("div",{style:m.coCreationContainer,children:[o.jsx("style",{children:`
            @keyframes shake {
              0%, 100% { transform: translateX(0); }
              25% { transform: translateX(-5px) rotate(-2deg); }
              75% { transform: translateX(5px) rotate(2deg); }
            }
          `}),!Ye&&!it[0].completed&&o.jsxs("div",{style:m.coCreationDialogue,children:[o.jsx("img",{src:"/glacier/npc/npc6.png",alt:"NPC6",style:{width:"80px",height:"80px"}}),o.jsx("div",{style:{flex:1},children:o.jsx("p",{style:{margin:0,color:"#333",fontSize:"16px",lineHeight:1.5},children:"Thanks! My brain is starting to unfreeze. I need to design a 'Creative Ice Cream,' but I'm stuck with this boring Vanilla."})}),o.jsx("img",{src:"/glacier/mission/cream.png",alt:"Ice Cream",style:{width:"60px",height:"60px"}})]}),Ye&&o.jsxs("div",{style:m.coCreationDialogue,children:[o.jsx("img",{src:"/glacier/npc/npc6.png",alt:"NPC6",style:{width:"80px",height:"80px"}}),o.jsx("div",{style:{flex:1},children:o.jsx("p",{style:{margin:0,color:"#4caf50",fontSize:"18px",fontWeight:"bold",lineHeight:1.5},children:"Wow! That's a brilliant idea! It looks amazing!"})})]}),o.jsx("div",{style:m.coCreationInstruction,children:"Drag an element below to create a cool new ice cream flavor!"}),o.jsx("div",{style:m.coCreationFormulasArea,children:it.map((r,k)=>o.jsxs("div",{style:{...m.coCreationFormula,opacity:k===0||k===In?1:.5},children:[o.jsx("div",{style:m.coCreationCard,children:o.jsx("img",{src:"/glacier/mission/cream.png",alt:"Ice Cream",style:{width:"100px",height:"100px"}})}),o.jsx("img",{src:"/glacier/icon/add.png",alt:"+",style:{width:"40px",height:"40px"}}),r.element?o.jsx("div",{style:m.coCreationDropZone,children:r.element}):o.jsx("div",{style:m.coCreationDropZone,children:"Drop Here"}),o.jsx("img",{src:"/glacier/icon/equal.png",alt:"=",style:{width:"40px",height:"40px"}}),r.result?o.jsx("div",{style:m.coCreationResultCard,children:o.jsx("img",{src:r.result,alt:"Result",style:{width:"120px",height:"120px"}})}):o.jsx("div",{style:{...m.coCreationCard,border:"3px dashed rgba(160, 216, 255, 0.5)",background:"transparent"},children:o.jsx("img",{src:"/glacier/icon/picture.png",alt:"?",style:{width:"60px",height:"60px",opacity:.5}})})]},k))}),o.jsx("div",{style:m.coCreationElementsArea,children:M2.map((r,k)=>o.jsx("button",{onClick:()=>Ex(r),style:{...m.coCreationElementTag,background:k%2===0?"#f0d32d":"#ab3a2c",opacity:Oa?.5:1,cursor:Oa?"default":"pointer"},onMouseOver:O=>{Oa||(O.currentTarget.style.transform="scale(1.1)")},onMouseOut:O=>{O.currentTarget.style.transform="scale(1)"},disabled:Oa,children:r.name},r.id))})]}),x==="rooftop"&&o.jsx("div",{style:{position:"absolute",top:"150px",left:"750px",width:"200px",height:"200px",cursor:"pointer",zIndex:50,transition:"transform 0.2s"},onMouseOver:()=>{!Na&&!Gs&&fx()},children:o.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC 9",style:{width:"100%",height:"100%",objectFit:"contain"}})}),Na&&o.jsx("div",{style:{position:"absolute",left:"calc(750px + 200px)",top:"150px",width:"550px",minHeight:"150px",background:"rgba(240, 248, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(100, 149, 237, 0.4)",borderRadius:"20px",padding:"25px 30px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 149, 237, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:1e3},children:mt===-1?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{marginBottom:"15px",flex:1},children:o.jsx("div",{style:m.dialogueText,children:_e.length===3?"Let's go down and look for Momo.":"Wow! My brain feels... rebooted! I can focus again. Thank you!"})}),o.jsx("button",{style:m.npc6ContinueButton,onClick:()=>Ea(!1),onMouseOver:r=>{r.target.style.background="rgba(50, 50, 80, 0.95)",r.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",r.target.style.transform="scale(1.05)"},onMouseOut:r=>{r.target.style.background="rgba(30, 30, 50, 0.9)",r.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",r.target.style.transform="scale(1)"},children:"CLOSE"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{marginBottom:"20px",flex:1},children:o.jsx("div",{style:m.dialogueText,children:v})}),Lt&&o.jsx("button",{style:{padding:"15px 40px",background:"rgba(30, 30, 50, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},onClick:mx,onMouseOver:r=>{r.target.style.background="rgba(50, 50, 80, 0.9)",r.target.style.transform="scale(1.05)",r.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)"},onMouseOut:r=>{r.target.style.background="rgba(30, 30, 50, 0.85)",r.target.style.transform="scale(1)",r.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.3)"},children:Zi[3].text})]})}),fn&&o.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:ct==="footstepRecall"?"70vw":"800px",maxHeight:"90vh",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"none",borderRadius:"20px",padding:"30px",display:"flex",flexDirection:"column",boxShadow:"0 12px 48px rgba(0, 0, 0, 0.6)",zIndex:3e3,overflow:"auto"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",flexShrink:0},children:[o.jsxs("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"22px",fontWeight:"700",color:"#a0d8ff"},children:["Mission: ",ct==="snowPath"?"Snow Path":"Footstep Recall"]}),ct==="snowPath"&&o.jsx("div",{style:{fontFamily:"'Roboto Mono', monospace",fontSize:"50px",fontWeight:"700",color:$<5?"#ff4444":"#a0d8ff"},children:M?Qc($):"GO!"})]}),o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",marginBottom:"15px",textAlign:"center",flexShrink:0},children:ct==="snowPath"?"Memorize the footprints, then tap the correct tiles when they disappear.":"Footprints light up in red one by oneafter the sequence ends, tap them back in the same order."}),ct==="snowPath"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px",width:"100%",maxWidth:"500px",margin:"0 auto",alignSelf:"center",flex:"1 1 auto"},children:Array.from({length:16}).map((r,k)=>{const O=Y.includes(k),X=W.includes(k),G=X&&O,ge=X&&!O;return o.jsx("div",{onClick:()=>xx(k),style:{width:"100%",aspectRatio:"1",background:ge?"#c62828":G?"#2e7d32":"#1f2937",border:`3px solid ${ge?"#f44336":G?"#4caf50":O&&M?"#a0d8ff":"transparent"}`,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",cursor:M?"default":"pointer",transition:"all 0.2s"},children:O&&M&&o.jsx("img",{src:"/glacier/icon/footprint.svg",alt:"Footprint",style:{width:"60%",height:"60%",objectFit:"contain"}})},k)})}),ct==="footstepRecall"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridTemplateRows:"repeat(2, 1fr)",gap:"30px",flex:1,maxWidth:"90%",margin:"0 auto",alignItems:"center"},children:Array.from({length:6}).map((r,k)=>{const O=Bc===k,X=Ui.includes(k),G=k%2===0?1:2,ge=Math.floor(k/2)*2+(k%2===0?1:2);return o.jsx("div",{onClick:()=>yx(k),style:{gridRow:G,gridColumn:ge,aspectRatio:"1",background:"transparent",border:"none",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",cursor:nr?"default":"pointer",transition:"all 0.2s",transform:X?"scale(0.9)":"scale(1)"},children:o.jsx("img",{src:O?"/glacier/icon/foot_red.svg":"/glacier/icon/foot.svg",alt:"Footprint",style:{width:"100%",height:"100%",objectFit:"contain",filter:X?"brightness(0.7)":"brightness(1)"}})},k)})}),o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"20px",flexShrink:0},children:Array.from({length:3}).map((r,k)=>{const X=k<(ct==="snowPath"?h:ie);return o.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",background:X?"#a0d8ff":"#666566",transition:"all 0.3s"}},k)})})]}),Dt&&o.jsxs("div",{style:m.puzzleContainer,children:[o.jsxs("div",{style:m.puzzleLeftPanel,children:[!_o&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:m.puzzleTimer,children:Qc(Ia)}),o.jsx("div",{style:m.puzzleImageContainer,children:o.jsx("img",{src:pa[ot].image,alt:`Puzzle ${ot}`,style:m.puzzleImage})})]}),_o&&o.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"20px 15px"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",flex:1,overflowY:"auto"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[o.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"50px",height:"50px",borderRadius:"50%",flexShrink:0}}),o.jsx("div",{style:{background:"#fff",color:"#000",padding:"12px 18px",borderRadius:"15px",fontSize:"16px",lineHeight:1.4,maxWidth:"180px"},children:"Could you... could you teach me?"})]}),Ga&&o.jsx("div",{style:{background:"#5170FF",color:"#fff",padding:"12px 18px",borderRadius:"15px",fontSize:"14px",lineHeight:1.4,alignSelf:"flex-end",maxWidth:"85%",wordWrap:"break-word"},children:Ga}),Ga&&o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[o.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"50px",height:"50px",borderRadius:"50%",flexShrink:0}}),o.jsx("div",{style:{background:"#fff",color:"#000",padding:"12px 18px",borderRadius:"15px",fontSize:"16px",lineHeight:1.4,maxWidth:"180px"},children:"Got it, Let's move to next one"})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.jsxs("div",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold",lineHeight:1.4},children:["Teach them",o.jsx("br",{}),'"How did you solve this?"']}),o.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.15)",borderRadius:"15px",border:"2px solid rgba(255, 255, 255, 0.3)",overflow:"hidden",transition:"border-color 0.2s"},children:[o.jsx("input",{type:"text",style:{flex:1,padding:"12px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",outline:"none"},placeholder:"Explain here...",value:uo,onChange:r=>ft(r.target.value),onKeyPress:r=>{r.key==="Enter"&&Pp()}}),o.jsx("div",{style:{width:"2px",height:"24px",backgroundColor:"#5170FF",margin:"0 8px",flexShrink:0}}),o.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s"},onClick:Pp,onMouseOver:r=>{r.currentTarget.style.transform="scale(1.1)"},onMouseOut:r=>{r.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:"/glacier/icon/send.png",alt:"Send",style:{width:"24px",height:"24px",objectFit:"contain"}})})]})]})]})]}),o.jsxs("div",{style:m.puzzleRightPanel,children:[o.jsx("div",{style:m.puzzleTitle,children:pa[ot].title}),pa[ot].statement&&o.jsxs("div",{style:m.puzzleStatement,children:['NPC 5: "',pa[ot].statement,'"']}),pa[ot].premise&&o.jsxs("div",{style:m.puzzleStatement,children:["Premise:",o.jsx("br",{}),Jp(pa[ot].premise)]}),pa[ot].arguments&&o.jsxs("div",{style:m.puzzleStatement,children:["Arguments:",o.jsx("br",{}),Jp(pa[ot].arguments)]}),o.jsxs("div",{style:m.puzzleQuestion,children:["Question: ",pa[ot].question]}),o.jsx("div",{style:m.puzzleOptions,children:pa[ot].options.map((r,k)=>{let O={...m.puzzleOption};Ae===k&&(r.correct?O={...O,...m.puzzleOptionCorrect}:O={...O,...m.puzzleOptionWrong});const X=Ae!==null&&pa[ot].options[Ae].correct;return o.jsx("button",{style:O,onClick:()=>_x(r,k),disabled:X,onMouseEnter:G=>{X||(G.currentTarget.style.background="#2d3748",G.currentTarget.style.transform="translateX(5px)")},onMouseLeave:G=>{X||(G.currentTarget.style.background="#1f2937",G.currentTarget.style.transform="translateX(0)")},children:r.text},k)})})]})]}),Ma&&(console.log("Rendering exercise interface, currentExercise:",ln),o.jsxs("div",{style:{...m.puzzleContainer},children:[o.jsx("style",{children:`
            .exercise-text-area {
              cursor: url('/glacier/icon/pen-cursor.png') 16 16, crosshair;
            }
            .exercise-text-area * {
              cursor: url('/glacier/icon/pen-cursor.png') 16 16, crosshair;
            }
          `}),o.jsxs("div",{style:{position:"absolute",top:"80px",left:"35%",fontSize:"14px",color:"#a0d8ff",fontFamily:"'Roboto', sans-serif",zIndex:10},children:[" ",n==="en"?"Use your mouse to mark the errors.":""]}),o.jsxs("div",{style:{...m.puzzleLeftPanel,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",padding:"30px 20px"},children:[o.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"100%",height:"auto",objectFit:"contain",marginBottom:"20px"}}),o.jsx("div",{style:{background:"#fff",color:"#000",padding:"15px 20px",borderRadius:"15px",fontSize:"16px",lineHeight:1.6,textAlign:"left",width:"100%"},children:qo[ln].npcMessage}),po&&o.jsx("div",{style:{background:"#fff",color:"#000",padding:"15px 20px",borderRadius:"15px",fontSize:"16px",lineHeight:1.6,textAlign:"left",marginTop:"20px",width:"100%"},children:qo[ln].feedback})]}),o.jsxs("div",{style:{...m.puzzleRightPanel,display:"flex",flexDirection:"column",padding:"40px"},children:[o.jsx("div",{style:{textAlign:"center",marginBottom:"40px"},children:o.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#a0d8ff",fontFamily:"'Roboto', sans-serif"},children:qo[ln].title})}),o.jsx("div",{className:"exercise-text-area",style:{fontFamily:"'Roboto Mono', monospace",fontSize:"26px",lineHeight:"2.2",color:"#fff",marginBottom:"40px",userSelect:"text",position:"relative",flex:1},onMouseUp:Fx,children:qo[ln].text.split("").map((r,k)=>{let O=!1;return qo[ln].errors.forEach((X,G)=>{Un.includes(G)&&k>=X.start&&k<X.end&&(O=!0)}),o.jsxs("span",{style:{position:"relative",backgroundColor:O?"rgba(243, 87, 204, 0.7)":"transparent"},children:[r,O&&o.jsx("span",{style:{position:"absolute",bottom:"-8px",left:0,right:0,height:"20px",backgroundColor:"rgba(243, 87, 204, 0.7)",borderRadius:"0"}})]},k)})}),o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"auto"},children:[o.jsxs("span",{style:{color:"#a0d8ff",fontSize:"18px",marginRight:"10px"},children:[Un.length,"/",qo[ln].requiredCount]}),Array.from({length:qo[ln].requiredCount}).map((r,k)=>o.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:k<Un.length?"#a0d8ff":"#666566",transition:"all 0.3s"}},k))]})]})]})),B&&x!=="court"&&x!=="rooftop"&&o.jsx("div",{style:{...x==="outside"?m.arrowSmall:x==="inside"?{...m.arrow,width:"380px",height:"380px"}:m.arrow,...Xx()},onClick:Yx,onMouseOver:r=>r.target.style.transform="scale(1.1)",onMouseOut:r=>r.target.style.transform="scale(1)",children:o.jsx("img",{src:Wx(),alt:"Arrow",style:m.arrowImage})}),qs&&o.jsxs("div",{style:m.npc9SharingContainer,children:[o.jsx("div",{style:m.npc9SharingTitle,children:"Share your memory secret here."}),!Lo&&o.jsxs("div",{style:m.npc9SharingMessage,children:[o.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC9",style:{width:"80px",height:"80px",flexShrink:0}}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:m.npc9SharingBubble,children:"Thanks for helping me finish the memory training! Do you have any secret memory hacks?"}),o.jsx("div",{style:m.npc9SharingTimestamp,children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),Lo&&Gi&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:m.npc9SharingMessage,children:[o.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC9",style:{width:"80px",height:"80px",flexShrink:0}}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:m.npc9SharingBubble,children:"Thanks for helping me finish the memory training! Do you have any secret memory hacks?"}),o.jsx("div",{style:m.npc9SharingTimestamp,children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),o.jsxs("div",{children:[o.jsx("div",{style:m.npc9SharingUserLabel,children:"You"}),o.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"10px"},children:o.jsx("div",{style:{...m.npc9SharingBubble,background:"rgba(30, 50, 70, 0.8)",color:"#fff",maxWidth:"70%"},children:Gi})}),o.jsx("div",{style:{...m.npc9SharingTimestamp,textAlign:"right"},children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),Lo&&o.jsxs("div",{style:m.npc9SharingMessage,children:[o.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC9",style:{width:"80px",height:"80px",flexShrink:0}}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:m.npc9SharingBubble,children:"I see... noted!"}),o.jsx("div",{style:m.npc9SharingTimestamp,children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),!Lo&&o.jsxs("div",{style:m.npc9SharingHints,children:[o.jsx("div",{style:m.npc9SharingHintTag,children:"Visualization"}),o.jsx("div",{style:m.npc9SharingHintTag,children:"Use Mnemonics"}),o.jsx("div",{style:m.npc9SharingHintTag,children:"Chunking"})]}),!Lo&&o.jsxs("div",{style:m.npc9SharingInputContainer,children:[o.jsx("input",{type:"text",value:Gi,onChange:r=>yi(r.target.value),onKeyPress:Bx,placeholder:"Give some tips...",style:m.npc9SharingInput,autoFocus:!0}),o.jsx("button",{onClick:Vp,style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",padding:"8px",transition:"transform 0.2s"},onMouseOver:r=>r.currentTarget.style.transform="scale(1.1)",onMouseOut:r=>r.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/glacier/icon/send.png",alt:"Send",style:{width:"28px",height:"28px"}})})]})]}),Fp&&(()=>{const r=b("momo"),k=4,O=4,X=O/k*100;return o.jsxs("div",{style:{...m.modernDialogueContainer,border:`3px solid ${r.borderColor}`},children:[o.jsxs("div",{style:m.modernDialogueHeader,children:[o.jsxs("div",{style:m.modernProgressContainer,children:[o.jsx("div",{style:{...m.modernMissionTitle,color:r.borderColor},children:"MISSION: AI USER ASSESSMENT"}),o.jsxs("div",{style:m.modernStepIndicator,children:["Step ",O," of ",k]})]}),o.jsx("div",{style:m.modernProgressBar,children:o.jsx("div",{style:{...m.modernProgressFill,width:`${X}%`,background:r.progressColor}})}),o.jsxs("div",{style:m.modernNpcInfo,children:[o.jsx("img",{src:r.avatar,alt:"Momo",style:m.modernNpcAvatar}),o.jsxs("div",{children:[o.jsx("div",{style:m.modernNpcName,children:"Momo"}),o.jsx("div",{style:m.modernNpcStatus,children:"Station Supervisor"})]})]})]}),o.jsxs("div",{style:m.modernDialogueContent,children:[ir==="intro"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:m.modernNpcText,children:cn.intro.text}),o.jsx("div",{style:m.modernTimestamp,children:d()})]}),o.jsxs("button",{onClick:Sx,style:m.modernActionButton,onMouseOver:G=>{G.target.style.borderColor=r.borderColor,G.target.style.transform="translateX(5px)"},onMouseOut:G=>{G.target.style.borderColor="#E0E0E0",G.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:r.borderColor},children:""}),"Start Quiz"]})]}),ir==="quiz"&&o.jsxs(o.Fragment,{children:[Yc.map((G,ge)=>o.jsxs("div",{children:[o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsxs("p",{style:m.modernNpcText,children:[o.jsxs("span",{style:{fontSize:"14px",color:"#888",display:"block",marginBottom:"8px"},children:["Question ",ge+1,"/",cn.questions.length]}),cn.questions[ge].question]}),o.jsx("div",{style:m.modernTimestamp,children:d()})]}),o.jsxs("div",{style:{alignSelf:"flex-end",maxWidth:"85%",marginBottom:"15px"},children:[o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},children:"YOU:"}),o.jsx("div",{style:{background:"#333333",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(51, 51, 51, 0.3)"},children:o.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ffffff",lineHeight:1.5,margin:0},children:G.text})}),o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px",textAlign:"right"},children:d()})]})]},ge)),o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsxs("p",{style:m.modernNpcText,children:[o.jsxs("span",{style:{fontSize:"14px",color:"#888",display:"block",marginBottom:"8px"},children:["Question ",bi+1,"/",cn.questions.length]}),cn.questions[bi].question]}),o.jsx("div",{style:m.modernTimestamp,children:d()})]}),o.jsx("div",{style:{width:"100%",marginTop:"10px"},children:cn.questions[bi].options.map((G,ge)=>o.jsxs("button",{onClick:()=>Tx(G),style:m.modernActionButton,onMouseOver:st=>{st.target.style.borderColor=r.borderColor,st.target.style.transform="translateX(5px)"},onMouseOut:st=>{st.target.style.borderColor="#E0E0E0",st.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:r.borderColor},children:""}),G.text]},ge))})]}),ir==="calculating"&&o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 0",gap:"20px"},children:[o.jsx("div",{style:{fontSize:"24px",color:"#333",fontWeight:"600"},children:"Calculating..."}),o.jsx("div",{style:{width:"50px",height:"50px",border:"4px solid rgba(0, 0, 0, 0.1)",borderTop:`4px solid ${r.borderColor}`,borderRadius:"50%",animation:"spin 1s linear infinite"}})]}),ir==="result"&&Zs&&o.jsxs(o.Fragment,{children:[Yc.map((G,ge)=>o.jsxs("div",{children:[o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsxs("p",{style:m.modernNpcText,children:[o.jsxs("span",{style:{fontSize:"14px",color:"#888",display:"block",marginBottom:"8px"},children:["Question ",ge+1,"/",cn.questions.length]}),cn.questions[ge].question]}),o.jsx("div",{style:m.modernTimestamp,children:d()})]}),o.jsxs("div",{style:{alignSelf:"flex-end",maxWidth:"85%",marginBottom:"15px"},children:[o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},children:"YOU:"}),o.jsx("div",{style:{background:"#333333",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(51, 51, 51, 0.3)"},children:o.jsx("p",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ffffff",lineHeight:1.5,margin:0},children:G.text})}),o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px",textAlign:"right"},children:d()})]})]},ge)),o.jsxs("div",{style:{display:"flex",gap:"30px",alignItems:"center",justifyContent:"center",marginTop:"20px",marginBottom:"20px",padding:"20px",background:"rgba(0, 0, 0, 0.02)",borderRadius:"12px"},children:[o.jsxs("div",{style:{width:"280px",height:"280px",position:"relative",background:"#2a2a2a",borderRadius:"12px",padding:"35px",flexShrink:0},children:[o.jsx("style",{children:`
                        @keyframes pulse-ring {
                          0% {
                            transform: translate(-50%, -50%) scale(0.8);
                            opacity: 0.8;
                          }
                          50% {
                            transform: translate(-50%, -50%) scale(1.2);
                            opacity: 0.4;
                          }
                          100% {
                            transform: translate(-50%, -50%) scale(0.8);
                            opacity: 0.8;
                          }
                        }
                      `}),o.jsxs("div",{style:{position:"absolute",top:"15px",left:"15px",fontSize:"11px",color:"#888",textAlign:"center",lineHeight:"1.3"},children:["Low Proficiency",o.jsx("br",{}),"High Judgment"]}),o.jsxs("div",{style:{position:"absolute",top:"15px",right:"15px",fontSize:"11px",color:"#888",textAlign:"center",lineHeight:"1.3"},children:["High Proficiency",o.jsx("br",{}),"High Judgment"]}),o.jsxs("div",{style:{position:"absolute",bottom:"15px",left:"15px",fontSize:"11px",color:"#888",textAlign:"center",lineHeight:"1.3"},children:["Low Proficiency",o.jsx("br",{}),"Low Judgment"]}),o.jsxs("div",{style:{position:"absolute",bottom:"15px",right:"15px",fontSize:"11px",color:"#888",textAlign:"center",lineHeight:"1.3"},children:["High Proficiency",o.jsx("br",{}),"Low Judgment"]}),o.jsx("div",{style:{position:"absolute",left:"-70px",top:"50%",transform:"translateY(-50%) rotate(-90deg)",fontSize:"12px",color:"#aaa",whiteSpace:"nowrap"},children:"Judgment "}),o.jsx("div",{style:{position:"absolute",bottom:"-35px",left:"50%",transform:"translateX(-50%)",fontSize:"12px",color:"#aaa"},children:"Proficiency "}),o.jsx("div",{style:{position:"absolute",width:"100%",height:"1px",borderTop:"1px dashed rgba(255,255,255,0.3)",top:"50%",left:0}}),o.jsx("div",{style:{position:"absolute",width:"1px",height:"100%",borderLeft:"1px dashed rgba(255,255,255,0.3)",left:"50%",top:0}}),o.jsxs("div",{style:{position:"absolute",left:`${$m/15*100}%`,top:`${100-tx/15*100}%`,transform:"translate(-50%, -50%)"},children:[o.jsx("div",{style:{position:"absolute",width:"40px",height:"40px",borderRadius:"50%",background:"rgba(120, 104, 229, 0.5)",left:"50%",top:"50%",transform:"translate(-50%, -50%)",animation:"pulse-ring 2s ease-in-out infinite"}}),o.jsx("div",{style:{position:"relative",width:"16px",height:"16px",borderRadius:"50%",background:"#a0d8ff",border:"3px solid #fff",boxShadow:"0 0 15px rgba(160, 216, 255, 0.8)"}}),o.jsx("div",{style:{position:"absolute",top:"-25px",left:"50%",transform:"translateX(-50%)",fontSize:"12px",color:"#fff",fontWeight:"600",whiteSpace:"nowrap"},children:"You"})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"15px"},children:[o.jsx("img",{src:cn.categories[Zs].image,alt:cn.categories[Zs].name,style:{width:"220px",height:"220px"}}),o.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#333"},children:cn.categories[Zs].name})]})]}),o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:m.modernNpcText,children:cn.categories[Zs].description}),o.jsx("div",{style:m.modernTimestamp,children:d()})]}),o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:m.modernNpcText,children:cn.finalMessage}),o.jsx("div",{style:m.modernTimestamp,children:d()})]}),o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsxs("p",{style:m.modernNpcText,children:["But there's one last thingthe privacy issue in the Data Center.",o.jsx("br",{}),o.jsx("br",{}),"Can you go help?",o.jsx("br",{}),o.jsx("br",{}),"They need someone to fix how personal data is handled before we unlock full system access.",o.jsx("br",{}),o.jsx("br",{})," Lookan arrow just appeared! Head there now."]}),o.jsx("div",{style:m.modernTimestamp,children:d()})]}),o.jsxs("button",{onClick:wx,style:m.modernActionButton,onMouseOver:G=>{G.target.style.borderColor=r.borderColor,G.target.style.transform="translateX(5px)"},onMouseOut:G=>{G.target.style.borderColor="#E0E0E0",G.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:r.borderColor},children:""}),"Go Ahead"]})]})]})]})})(),x==="datacenter"&&o.jsx("div",{style:{position:"absolute",left:"20px",top:"20px",width:"60px",height:"60px",cursor:"pointer",zIndex:100,transition:"transform 0.2s"},onClick:()=>{A("inside"),Uo(!1),qi(!1),g(!1),Xs(!1)},onMouseOver:r=>r.currentTarget.style.transform="scale(1.1)",onMouseOut:r=>r.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/jungle/icon/left.png",alt:"Back",style:{width:"100%",height:"100%",objectFit:"contain"}})}),x==="datacenter"&&o.jsx("div",{style:{position:"absolute",right:"20px",top:"20px",width:"150px",height:"150px",zIndex:100},children:o.jsx("img",{src:"/npc/npc_glacier.gif",alt:"Glitch",style:{width:"100%",height:"100%",objectFit:"contain"}})}),x==="datacenter"&&o.jsx("div",{style:{position:"absolute",right:"450px",bottom:"0px",width:"300px",height:"300px",zIndex:50},children:o.jsx("img",{src:"/glacier/npc/momo.png",alt:"Momo",style:{width:"100%",height:"100%",objectFit:"contain"}})}),x==="datacenter"&&Qs&&o.jsxs("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"800px",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"40px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",zIndex:200},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[o.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#333"},children:"Fill the Blank"}),o.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[[0,1,2,3,4].map(r=>o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:r<tt?"#004aad":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold"},children:r<tt?"":""},r)),o.jsxs("div",{style:{marginLeft:"10px",fontSize:"20px",fontWeight:"bold",color:"#004aad"},children:[tt,"/5"]})]})]}),tt<5&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{fontSize:"20px",lineHeight:"1.6",marginBottom:"30px",color:"#333",minHeight:"80px"},children:ul[tt].text.split("______").map((r,k,O)=>o.jsxs("span",{children:[r,k<O.length-1&&o.jsx("span",{onDrop:()=>Qp(tt),onDragOver:jx,onClick:()=>{if(Yn[tt]){const X=[...Yn];X[tt]=null,Vs(X)}},style:{display:"inline-block",minWidth:"150px",height:"40px",border:Yn[tt]?Yn[tt]===ul[tt].correctAnswer?"2px solid #4f7f30":"2px solid #FF0845":"2px dashed #004aad",borderRadius:"8px",margin:"0 10px",verticalAlign:"middle",background:Yn[tt]?Yn[tt]===ul[tt].correctAnswer?"#4f7f30":"#FF0845":"rgba(0, 74, 173, 0.1)",color:Yn[tt]?"white":"transparent",fontWeight:"bold",textAlign:"center",lineHeight:"40px",cursor:Yn[tt]?"pointer":"default",transition:"all 0.3s ease"},children:Yn[tt]||"Drop here"})]},k))}),o.jsx("div",{style:{display:"flex",gap:"20px",justifyContent:"center"},children:ul[tt].options.map((r,k)=>o.jsx("div",{draggable:!0,onDragStart:()=>Cx(r),onClick:()=>kx(r),style:{padding:"15px 30px",background:"white",border:"2px solid #333",borderRadius:"12px",fontSize:"18px",fontWeight:"bold",cursor:"grab",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2), 0 2px 4px rgba(0, 0, 0, 0.1)",transition:"transform 0.2s, box-shadow 0.2s",userSelect:"none"},onMouseOver:O=>{O.currentTarget.style.transform="translateY(-4px)",O.currentTarget.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.3), 0 3px 6px rgba(0, 0, 0, 0.15)"},onMouseOut:O=>{O.currentTarget.style.transform="translateY(0)",O.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.2), 0 2px 4px rgba(0, 0, 0, 0.1)"},children:r},k))})]})]}),x==="datacenter"&&Fc&&(()=>{const r=b("momo");return o.jsxs("div",{style:{...m.modernDialogueContainer,border:`3px solid ${r.borderColor}`,maxWidth:"700px"},children:[o.jsx("div",{style:m.modernDialogueHeader,children:o.jsxs("div",{style:m.modernNpcInfo,children:[o.jsx("img",{src:r.avatar,alt:"Momo",style:m.modernNpcAvatar}),o.jsxs("div",{children:[o.jsx("div",{style:m.modernNpcName,children:"Momo"}),o.jsx("div",{style:m.modernNpcStatus,children:"Station Supervisor"})]})]})}),o.jsxs("div",{style:m.modernDialogueContent,children:[o.jsxs("div",{style:m.modernNpcMessage,children:[o.jsx("div",{style:m.modernNpcSpeaker,children:"MOMO:"}),o.jsxs("p",{style:m.modernNpcText,children:["Remember:",o.jsx("br",{}),o.jsx("br",{}),"Names, birthdays, photosthey're personal.",o.jsx("br",{}),o.jsx("br",{}),"We must remove them, ask for permission, and never share carelessly.",o.jsx("br",{}),o.jsx("br",{}),"Ready for the next mission?"]}),o.jsx("div",{style:m.modernTimestamp,children:d()})]}),o.jsxs("button",{onClick:Ax,style:m.modernActionButton,onMouseOver:k=>{k.target.style.borderColor=r.borderColor,k.target.style.transform="translateX(5px)"},onMouseOut:k=>{k.target.style.borderColor="#E0E0E0",k.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:r.borderColor},children:""}),"Yes"]})]})]})})(),x==="datacenter"&&or&&o.jsxs("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"1400px",height:"85%",display:"flex",gap:"30px",zIndex:200,cursor:"url(/glacier/icon/marker.png) 12 12, crosshair"},children:[o.jsx("div",{style:{flex:1,background:"rgba(255, 255, 255, 0.9)",borderRadius:"20px",padding:"30px",overflow:"auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},onMouseDown:Ix,onMouseMove:Mx,onMouseUp:zx,children:o.jsxs("div",{style:{fontFamily:"'Roboto Mono', monospace",fontSize:"14px",lineHeight:"1.8",color:"#333"},children:[o.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"10px"},children:"Privacy Data identification"}),o.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"5px"},children:Bn[D-1].title}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"20px"},children:Bn[D-1].subtitle}),Bn[D-1].header&&o.jsx("div",{style:{marginBottom:"15px",whiteSpace:"pre-line"},children:Bn[D-1].header}),Bn[D-1].hasImage&&o.jsx("div",{style:{marginBottom:"20px",textAlign:"center"},children:o.jsx("img",{src:Bn[D-1].imagePath,alt:"Social Post",style:{maxWidth:"100%",borderRadius:"12px",filter:ae.includes("image1")?"blur(20px)":"none",cursor:"pointer"},onClick:()=>{ae.includes("image1")||(c(),N([...ae,"image1"]))}})}),o.jsx("div",{style:{whiteSpace:"pre-line",position:"relative"},children:Bn[D-1].content.split(`
`).map((r,k)=>{const O=Bn[D-1].items.find(X=>!X.isImage&&ae.includes(X.id)&&r.includes(X.text));if(O){const X=r.split(O.text);return o.jsxs("div",{style:{marginBottom:"5px"},children:[X[0],o.jsx("span",{style:{background:"#000",color:"#000",padding:"2px 4px",borderRadius:"4px"},children:O.text}),X[1]]},k)}return o.jsx("div",{style:{marginBottom:"5px"},children:r},k)})})]})}),o.jsxs("div",{style:{width:"350px",display:"flex",flexDirection:"column",gap:"20px"},children:[o.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"25px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"},children:[o.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"15px"},children:"Items Found"}),o.jsxs("div",{style:{marginBottom:"15px"},children:[o.jsx("div",{style:{fontSize:"12px",color:"#666",marginBottom:"5px"},children:"Total Progress"}),o.jsxs("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#004aad",marginBottom:"8px"},children:[ae.length,"/",Bn[D-1].items.length]}),o.jsx("div",{style:{width:"100%",height:"8px",background:"rgba(0, 74, 173, 0.2)",borderRadius:"4px",overflow:"hidden"},children:o.jsx("div",{style:{width:`${ae.length/Bn[D-1].items.length*100}%`,height:"100%",background:"#004aad",transition:"width 0.3s ease"}})})]}),o.jsx("div",{style:{marginBottom:"20px"},children:Bn[D-1].items.map(r=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[ae.includes(r.id)?o.jsx("img",{src:"/glacier/icon/complete.svg",alt:"Complete",style:{width:"20px",height:"20px"}}):o.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid #ccc",borderRadius:"50%"}}),o.jsx("div",{style:{fontSize:"13px",color:ae.includes(r.id)?"#4f7f30":"#666",fontWeight:ae.includes(r.id)?"bold":"normal"},children:r.label})]},r.id))}),o.jsxs("div",{style:{fontSize:"12px",color:"#666",lineHeight:"1.5",marginBottom:"15px",padding:"12px",background:"#f5f5f5",borderRadius:"8px"},children:["Circle all private information in the log.",o.jsx("br",{}),'Then click "Submit" to check if you found them all!']}),ae.length===Bn[D-1].items.length&&o.jsx("button",{onClick:Ox,style:{width:"100%",padding:"12px",background:"#000",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"transform 0.2s"},onMouseOver:r=>r.target.style.transform="scale(1.05)",onMouseOut:r=>r.target.style.transform="scale(1)",children:"Submit"})]}),o.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"20px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"},children:[o.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"15px"},children:"Privacy Data identification"}),o.jsx("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[1,2,3].map(r=>o.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:r<D||r===D?"#004aad":"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"18px"},children:r<D?"":r},r))})]})]})]})]})};function O2(){const[e,t]=u.useState("home"),[n,a]=u.useState(!1),[i,s]=u.useState(!0),[l,c]=u.useState(!1),[d,b]=u.useState(null),[j,C]=u.useState([]),[S,x]=u.useState(!1),[A,U]=u.useState(!0),z=()=>{switch(e){case"home":case"game":case"map":return"/sound/spaceship.mp3";case"fungiMap":case"dataCollection":case"dataCleaning":return"/sound/jungle.mp3";case"desertMap":return"/sound/desert.mp3";case"islandMap":return"/sound/island.mp3";case"glacierMap":return"/sound/glacier.mp3";default:return"/sound/spaceship.mp3"}},{startMusic:p}=Zm(z()),f=u.useCallback(()=>{p(),document.removeEventListener("click",f),document.removeEventListener("keydown",f)},[p]);u.useEffect(()=>(document.addEventListener("click",f),document.addEventListener("keydown",f),()=>{document.removeEventListener("click",f),document.removeEventListener("keydown",f)}),[f]),u.useEffect(()=>{const E=localStorage.getItem("aiJourneyUser");if(E){const se=JSON.parse(E);s(!se.hasStarted),x(!0)}},[]);const y=E=>{const se=localStorage.getItem("aiJourneyUser");if(se){const te=JSON.parse(se);te.hasStarted=!0,te.currentProgress=E,localStorage.setItem("aiJourneyUser",JSON.stringify(te))}},I=()=>{y("game"),t("game")},P=()=>{const E=localStorage.getItem("aiJourneyUser");if(E){const se=JSON.parse(E),te=se.currentProgress||"map",me=se.hasCompletedIntro||se.hasStarted;t(me?te==="game"?"map":te==="fungiIntro"?"fungiMap":te:"map")}else t("map")},Q=()=>{c(!1),b(null),C([]),y("game"),t("game")},B=()=>{a(!0)},q=()=>{a(!1)},H=E=>{s(!1),x(!0)},le=()=>{c(!0);const E=localStorage.getItem("aiJourneyUser");if(E){const se=JSON.parse(E);se.hasStarted=!0,se.hasCompletedIntro=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(se))}y("map"),t("map")},ee=(E,se=!1)=>{if(console.log("Region clicked:",E,"Start over:",se),b(E),E==="fungi"){if(se){const te=localStorage.getItem("aiJourneyUser");if(te){const me=JSON.parse(te);me.fungiJungleProgress=null,me.dataCollectionProgress=null,me.dataCleaningProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(me))}}y("fungiMap"),t("fungiMap")}else if(E==="desert"){if(se){const te=localStorage.getItem("aiJourneyUser");if(te){const me=JSON.parse(te);me.desertProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(me))}}y("desertMap"),t("desertMap")}else if(E==="island"){if(se){localStorage.removeItem("islandProgress");const te=localStorage.getItem("aiJourneyUser");if(te){const me=JSON.parse(te);me.islandProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(me))}}y("islandMap"),t("islandMap")}else if(E==="glacier"){if(se){localStorage.removeItem("glacierProgress");const te=localStorage.getItem("aiJourneyUser");if(te){const me=JSON.parse(te);me.glacierProgress=null,me.glacierCompleted=!1,localStorage.setItem("aiJourneyUser",JSON.stringify(me))}}y("glacierMap"),t("glacierMap")}},ne=()=>{y("map"),t("map"),b(null)},pe=()=>{y("map"),t("map"),b(null)},ze=()=>{console.log("Starting data collection phase..."),y("dataCollection"),t("dataCollection")},re=E=>{console.log("Data collection complete:",E),C(E),y("dataCleaning"),t("dataCleaning")},F=()=>{y("fungiMap"),t("fungiMap")},V=()=>{console.log("Data cleaning complete!"),y("map"),t("map")},L=()=>{y("map"),t("map")};return o.jsx(J1,{children:o.jsxs("div",{style:{width:"100vw",height:"100vh",overflow:"hidden",position:"relative",margin:0,padding:0},children:[e==="home"&&o.jsx(P1,{onStart:I,onContinue:P,onStartOver:Q,onSignIn:B,isFirstVisit:i},S?"logged-in":"logged-out"),e==="game"&&o.jsx(K1,{onComplete:le}),e==="map"&&o.jsx(a2,{onRegionClick:ee}),e==="desertMap"&&o.jsx(C2,{onExit:()=>{y("map"),t("map")}}),e==="islandMap"&&o.jsx(k2,{onExit:pe}),e==="glacierMap"&&o.jsx(D2,{onExit:()=>{y("map"),t("map")}}),e==="fungiMap"&&o.jsx(s2,{onExit:ne,onStartDataCollection:ze}),e==="dataCollection"&&o.jsx(u2,{onComplete:re,onExit:F}),e==="dataCleaning"&&o.jsx(T2,{onComplete:V,onExit:L}),n&&o.jsx(Z1,{onClose:q,onSignUpComplete:H})]})})}W1.createRoot(document.getElementById("root")).render(o.jsx(Fu.StrictMode,{children:o.jsx(O2,{})}));
