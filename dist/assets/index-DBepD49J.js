(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Vf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jf={exports:{}},jr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=Symbol.for("react.transitional.element"),Nm=Symbol.for("react.fragment");function Zf(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:Em,type:e,key:a,ref:t!==void 0?t:null,props:n}}jr.Fragment=Nm;jr.jsx=Zf;jr.jsxs=Zf;Jf.exports=jr;var o=Jf.exports,Kf={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.transitional.element"),Bm=Symbol.for("react.portal"),Rm=Symbol.for("react.fragment"),_m=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),Fm=Symbol.for("react.consumer"),Lm=Symbol.for("react.context"),Um=Symbol.for("react.forward_ref"),Gm=Symbol.for("react.suspense"),qm=Symbol.for("react.memo"),Pf=Symbol.for("react.lazy"),Ym=Symbol.for("react.activity"),op=Symbol.iterator;function Wm(e){return e===null||typeof e!="object"?null:(e=op&&e[op]||e["@@iterator"],typeof e=="function"?e:null)}var $f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eg=Object.assign,tg={};function tl(e,t,n){this.props=e,this.context=t,this.refs=tg,this.updater=n||$f}tl.prototype.isReactComponent={};tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ng(){}ng.prototype=tl.prototype;function Bu(e,t,n){this.props=e,this.context=t,this.refs=tg,this.updater=n||$f}var Ru=Bu.prototype=new ng;Ru.constructor=Bu;eg(Ru,tl.prototype);Ru.isPureReactComponent=!0;var lp=Array.isArray;function _c(){}var Fe={H:null,A:null,T:null,S:null},ag=Object.prototype.hasOwnProperty;function _u(e,t,n){var a=n.ref;return{$$typeof:Nu,type:e,key:t,ref:a!==void 0?a:null,props:n}}function Xm(e,t){return _u(e.type,t,e.props)}function Hu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nu}function Qm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sp=/\/+/g;function $r(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qm(""+e.key):t.toString(36)}function Vm(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(_c,_c):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function To(e,t,n,a,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(l){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Nu:case Bm:s=!0;break;case Pf:return s=e._init,To(s(e._payload),t,n,a,i)}}if(s)return i=i(e),s=a===""?"."+$r(e,0):a,lp(i)?(n="",s!=null&&(n=s.replace(sp,"$&/")+"/"),To(i,t,n,"",function(m){return m})):i!=null&&(Hu(i)&&(i=Xm(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(sp,"$&/")+"/")+s)),t.push(i)),1;s=0;var r=a===""?".":a+":";if(lp(e))for(var c=0;c<e.length;c++)a=e[c],l=r+$r(a,c),s+=To(a,t,n,l,i);else if(c=Wm(e),typeof c=="function")for(e=c.call(e),c=0;!(a=e.next()).done;)a=a.value,l=r+$r(a,c++),s+=To(a,t,n,l,i);else if(l==="object"){if(typeof e.then=="function")return To(Vm(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function ys(e,t,n){if(e==null)return e;var a=[],i=0;return To(e,a,"","",function(l){return t.call(n,l,i++)}),a}function Jm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zm={map:ys,forEach:function(e,t,n){ys(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ys(e,function(){t++}),t},toArray:function(e){return ys(e,function(t){return t})||[]},only:function(e){if(!Hu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Activity=Ym;ue.Children=Zm;ue.Component=tl;ue.Fragment=Rm;ue.Profiler=Hm;ue.PureComponent=Bu;ue.StrictMode=_m;ue.Suspense=Gm;ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Fe;ue.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Fe.H.useMemoCache(e)}};ue.cache=function(e){return function(){return e.apply(null,arguments)}};ue.cacheSignal=function(){return null};ue.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=eg({},e.props),i=e.key;if(t!=null)for(l in t.key!==void 0&&(i=""+t.key),t)!ag.call(t,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&t.ref===void 0||(a[l]=t[l]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var s=Array(l),r=0;r<l;r++)s[r]=arguments[r+2];a.children=s}return _u(e.type,i,a)};ue.createContext=function(e){return e={$$typeof:Lm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Fm,_context:e},e};ue.createElement=function(e,t,n){var a,i={},l=null;if(t!=null)for(a in t.key!==void 0&&(l=""+t.key),t)ag.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var r=Array(s),c=0;c<s;c++)r[c]=arguments[c+2];i.children=r}if(e&&e.defaultProps)for(a in s=e.defaultProps,s)i[a]===void 0&&(i[a]=s[a]);return _u(e,l,i)};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:Um,render:e}};ue.isValidElement=Hu;ue.lazy=function(e){return{$$typeof:Pf,_payload:{_status:-1,_result:e},_init:Jm}};ue.memo=function(e,t){return{$$typeof:qm,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Fe.T,n={};Fe.T=n;try{var a=e(),i=Fe.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(_c,rp)}catch(l){rp(l)}finally{t!==null&&n.types!==null&&(t.types=n.types),Fe.T=t}};ue.unstable_useCacheRefresh=function(){return Fe.H.useCacheRefresh()};ue.use=function(e){return Fe.H.use(e)};ue.useActionState=function(e,t,n){return Fe.H.useActionState(e,t,n)};ue.useCallback=function(e,t){return Fe.H.useCallback(e,t)};ue.useContext=function(e){return Fe.H.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e,t){return Fe.H.useDeferredValue(e,t)};ue.useEffect=function(e,t){return Fe.H.useEffect(e,t)};ue.useEffectEvent=function(e){return Fe.H.useEffectEvent(e)};ue.useId=function(){return Fe.H.useId()};ue.useImperativeHandle=function(e,t,n){return Fe.H.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return Fe.H.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return Fe.H.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return Fe.H.useMemo(e,t)};ue.useOptimistic=function(e,t){return Fe.H.useOptimistic(e,t)};ue.useReducer=function(e,t,n){return Fe.H.useReducer(e,t,n)};ue.useRef=function(e){return Fe.H.useRef(e)};ue.useState=function(e){return Fe.H.useState(e)};ue.useSyncExternalStore=function(e,t,n){return Fe.H.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return Fe.H.useTransition()};ue.version="19.2.3";Kf.exports=ue;var u=Kf.exports;const Hc=Vf(u);var ig={exports:{}},Ar={},og={exports:{}},lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,I){var N=L.length;L.push(I);e:for(;0<N;){var te=N-1>>>1,ae=L[te];if(0<i(ae,I))L[te]=I,L[N]=ae,N=te;else break e}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var I=L[0],N=L.pop();if(N!==I){L[0]=N;e:for(var te=0,ae=L.length,se=ae>>>1;te<se;){var de=2*(te+1)-1,tt=L[de],_=de+1,ye=L[_];if(0>i(tt,N))_<ae&&0>i(ye,tt)?(L[te]=ye,L[_]=N,te=_):(L[te]=tt,L[de]=N,te=de);else if(_<ae&&0>i(ye,N))L[te]=ye,L[_]=N,te=_;else break e}}return I}function i(L,I){var N=L.sortIndex-I.sortIndex;return N!==0?N:L.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var s=Date,r=s.now();e.unstable_now=function(){return s.now()-r}}var c=[],m=[],w=1,T=null,y=3,S=!1,A=!1,H=!1,z=!1,p=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;function j(L){for(var I=n(m);I!==null;){if(I.callback===null)a(m);else if(I.startTime<=L)a(m),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(m)}}function G(L){if(H=!1,j(L),!A)if(n(c)!==null)A=!0,Z||(Z=!0,ne());else{var I=n(m);I!==null&&ge(G,I.startTime-L)}}var Z=!1,k=-1,W=5,K=-1;function Y(){return z?!0:!(e.unstable_now()-K<W)}function X(){if(z=!1,Z){var L=e.unstable_now();K=L;var I=!0;try{e:{A=!1,H&&(H=!1,f(k),k=-1),S=!0;var N=y;try{t:{for(j(L),T=n(c);T!==null&&!(T.expirationTime>L&&Y());){var te=T.callback;if(typeof te=="function"){T.callback=null,y=T.priorityLevel;var ae=te(T.expirationTime<=L);if(L=e.unstable_now(),typeof ae=="function"){T.callback=ae,j(L),I=!0;break t}T===n(c)&&a(c),j(L)}else a(c);T=n(c)}if(T!==null)I=!0;else{var se=n(m);se!==null&&ge(G,se.startTime-L),I=!1}}break e}finally{T=null,y=N,S=!1}I=void 0}}finally{I?ne():Z=!1}}}var ne;if(typeof h=="function")ne=function(){h(X)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Se=$.port2;$.port1.onmessage=X,ne=function(){Se.postMessage(null)}}else ne=function(){p(X,0)};function ge(L,I){k=p(function(){L(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(L){switch(y){case 1:case 2:case 3:var I=3;break;default:I=y}var N=y;y=I;try{return L()}finally{y=N}},e.unstable_requestPaint=function(){z=!0},e.unstable_runWithPriority=function(L,I){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var N=y;y=L;try{return I()}finally{y=N}},e.unstable_scheduleCallback=function(L,I,N){var te=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?te+N:te):N=te,L){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=N+ae,L={id:w++,callback:I,priorityLevel:L,startTime:N,expirationTime:ae,sortIndex:-1},N>te?(L.sortIndex=N,t(m,L),n(c)===null&&L===n(m)&&(H?(f(k),k=-1):H=!0,ge(G,N-te))):(L.sortIndex=ae,t(c,L),A||S||(A=!0,Z||(Z=!0,ne()))),L},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(L){var I=y;return function(){var N=y;y=I;try{return L.apply(this,arguments)}finally{y=N}}}})(lg);og.exports=lg;var Km=og.exports,sg={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=u;function rg(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function li(){}var Vt={d:{f:li,r:function(){throw Error(rg(522))},D:li,C:li,L:li,m:li,X:li,S:li,M:li},p:0,findDOMNode:null},$m=Symbol.for("react.portal");function ex(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$m,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Il=Pm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ir(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Vt;Jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(rg(299));return ex(e,t,null,n)};Jt.flushSync=function(e){var t=Il.T,n=Vt.p;try{if(Il.T=null,Vt.p=2,e)return e()}finally{Il.T=t,Vt.p=n,Vt.d.f()}};Jt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Vt.d.C(e,t))};Jt.prefetchDNS=function(e){typeof e=="string"&&Vt.d.D(e)};Jt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Ir(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,l=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Vt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:l}):n==="script"&&Vt.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:l,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Jt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ir(t.as,t.crossOrigin);Vt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Vt.d.M(e)};Jt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Ir(n,t.crossOrigin);Vt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Jt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ir(t.as,t.crossOrigin);Vt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Vt.d.m(e)};Jt.requestFormReset=function(e){Vt.d.r(e)};Jt.unstable_batchedUpdates=function(e,t){return e(t)};Jt.useFormState=function(e,t,n){return Il.H.useFormState(e,t,n)};Jt.useFormStatus=function(){return Il.H.useHostTransitionStatus()};Jt.version="19.2.3";function cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cg)}catch(e){console.error(e)}}cg(),sg.exports=Jt;var tx=sg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mt=Km,ug=u,nx=tx;function E(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function dg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ns(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fg(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cp(e){if(ns(e)!==e)throw Error(E(188))}function ax(e){var t=e.alternate;if(!t){if(t=ns(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return cp(i),e;if(l===a)return cp(i),t;l=l.sibling}throw Error(E(188))}if(n.return!==a.return)n=i,a=l;else{for(var s=!1,r=i.child;r;){if(r===n){s=!0,n=i,a=l;break}if(r===a){s=!0,a=i,n=l;break}r=r.sibling}if(!s){for(r=l.child;r;){if(r===n){s=!0,n=l,a=i;break}if(r===a){s=!0,a=l,n=i;break}r=r.sibling}if(!s)throw Error(E(189))}}if(n.alternate!==a)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function gg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=gg(e),t!==null)return t;e=e.sibling}return null}var Le=Object.assign,ix=Symbol.for("react.element"),bs=Symbol.for("react.transitional.element"),Cl=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),hg=Symbol.for("react.strict_mode"),Fc=Symbol.for("react.profiler"),mg=Symbol.for("react.consumer"),Fa=Symbol.for("react.context"),Fu=Symbol.for("react.forward_ref"),Lc=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),Lu=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),Gc=Symbol.for("react.activity"),ox=Symbol.for("react.memo_cache_sentinel"),up=Symbol.iterator;function pl(e){return e===null||typeof e!="object"?null:(e=up&&e[up]||e["@@iterator"],typeof e=="function"?e:null)}var lx=Symbol.for("react.client.reference");function qc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lx?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ko:return"Fragment";case Fc:return"Profiler";case hg:return"StrictMode";case Lc:return"Suspense";case Uc:return"SuspenseList";case Gc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Cl:return"Portal";case Fa:return e.displayName||"Context";case mg:return(e._context.displayName||"Context")+".Consumer";case Fu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lu:return t=e.displayName||null,t!==null?t:qc(e.type)||"Memo";case ri:t=e._payload,e=e._init;try{return qc(e(t))}catch{}}return null}var wl=Array.isArray,oe=ug.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke=nx.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qi={pending:!1,data:null,method:null,action:null},Yc=[],jo=-1;function ba(e){return{current:e}}function Ct(e){0>jo||(e.current=Yc[jo],Yc[jo]=null,jo--)}function Ne(e,t){jo++,Yc[jo]=e.current,e.current=t}var ya=ba(null),Gl=ba(null),bi=ba(null),Ks=ba(null);function Ps(e,t){switch(Ne(bi,t),Ne(Gl,e),Ne(ya,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?xf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=xf(t),e=R0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ct(ya),Ne(ya,e)}function Yo(){Ct(ya),Ct(Gl),Ct(bi)}function Wc(e){e.memoizedState!==null&&Ne(Ks,e);var t=ya.current,n=R0(t,e.type);t!==n&&(Ne(Gl,e),Ne(ya,n))}function $s(e){Gl.current===e&&(Ct(ya),Ct(Gl)),Ks.current===e&&(Ct(Ks),$l._currentValue=Qi)}var ec,dp;function qi(e){if(ec===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ec=t&&t[1]||"",dp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ec+e+dp}var tc=!1;function nc(e,t){if(!e||tc)return"";tc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var T=function(){throw Error()};if(Object.defineProperty(T.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(T,[])}catch(S){var y=S}Reflect.construct(e,[],T)}else{try{T.call()}catch(S){y=S}e.call(T.prototype)}}else{try{throw Error()}catch(S){y=S}(T=e())&&typeof T.catch=="function"&&T.catch(function(){})}}catch(S){if(S&&y&&typeof S.stack=="string")return[S.stack,y.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=a.DetermineComponentFrameRoot(),s=l[0],r=l[1];if(s&&r){var c=s.split(`
`),m=r.split(`
`);for(i=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;i<m.length&&!m[i].includes("DetermineComponentFrameRoot");)i++;if(a===c.length||i===m.length)for(a=c.length-1,i=m.length-1;1<=a&&0<=i&&c[a]!==m[i];)i--;for(;1<=a&&0<=i;a--,i--)if(c[a]!==m[i]){if(a!==1||i!==1)do if(a--,i--,0>i||c[a]!==m[i]){var w=`
`+c[a].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=a&&0<=i);break}}}finally{tc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?qi(n):""}function sx(e,t){switch(e.tag){case 26:case 27:case 5:return qi(e.type);case 16:return qi("Lazy");case 13:return e.child!==t&&t!==null?qi("Suspense Fallback"):qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return nc(e.type,!1);case 11:return nc(e.type.render,!1);case 1:return nc(e.type,!0);case 31:return qi("Activity");default:return""}}function pp(e){try{var t="",n=null;do t+=sx(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Xc=Object.prototype.hasOwnProperty,Uu=mt.unstable_scheduleCallback,ac=mt.unstable_cancelCallback,rx=mt.unstable_shouldYield,cx=mt.unstable_requestPaint,wn=mt.unstable_now,ux=mt.unstable_getCurrentPriorityLevel,xg=mt.unstable_ImmediatePriority,yg=mt.unstable_UserBlockingPriority,er=mt.unstable_NormalPriority,dx=mt.unstable_LowPriority,bg=mt.unstable_IdlePriority,px=mt.log,fx=mt.unstable_setDisableYieldValue,as=null,kn=null;function gi(e){if(typeof px=="function"&&fx(e),kn&&typeof kn.setStrictMode=="function")try{kn.setStrictMode(as,e)}catch{}}var jn=Math.clz32?Math.clz32:mx,gx=Math.log,hx=Math.LN2;function mx(e){return e>>>=0,e===0?32:31-(gx(e)/hx|0)|0}var vs=256,Ss=262144,Ts=4194304;function Yi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Mr(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,l=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var r=a&134217727;return r!==0?(a=r&~l,a!==0?i=Yi(a):(s&=r,s!==0?i=Yi(s):n||(n=r&~e,n!==0&&(i=Yi(n))))):(r=a&~l,r!==0?i=Yi(r):s!==0?i=Yi(s):n||(n=a&~e,n!==0&&(i=Yi(n)))),i===0?0:t!==0&&t!==i&&!(t&l)&&(l=i&-i,n=t&-t,l>=n||l===32&&(n&4194048)!==0)?t:i}function is(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function xx(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vg(){var e=Ts;return Ts<<=1,!(Ts&62914560)&&(Ts=4194304),e}function ic(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function os(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yx(e,t,n,a,i,l){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,c=e.expirationTimes,m=e.hiddenUpdates;for(n=s&~n;0<n;){var w=31-jn(n),T=1<<w;r[w]=0,c[w]=-1;var y=m[w];if(y!==null)for(m[w]=null,w=0;w<y.length;w++){var S=y[w];S!==null&&(S.lane&=-536870913)}n&=~T}a!==0&&Sg(e,a,0),l!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=l&~(s&~t))}function Sg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-jn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Tg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-jn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Cg(e,t){var n=t&-t;return n=n&42?1:Gu(n),n&(e.suspendedLanes|t)?0:n}function Gu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function wg(){var e=ke.p;return e!==0?e:(e=window.event,e===void 0?32:Q0(e.type))}function fp(e,t){var n=ke.p;try{return ke.p=e,t()}finally{ke.p=n}}var Di=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Di,dn="__reactProps$"+Di,nl="__reactContainer$"+Di,Qc="__reactEvents$"+Di,bx="__reactListeners$"+Di,vx="__reactHandles$"+Di,gp="__reactResources$"+Di,ls="__reactMarker$"+Di;function Yu(e){delete e[Bt],delete e[dn],delete e[Qc],delete e[bx],delete e[vx]}function Ao(e){var t=e[Bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nl]||n[Bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tf(e);e!==null;){if(n=e[Bt])return n;e=Tf(e)}return t}e=n,n=e.parentNode}return null}function al(e){if(e=e[Bt]||e[nl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function kl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(E(33))}function _o(e){var t=e[gp];return t||(t=e[gp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Tt(e){e[ls]=!0}var kg=new Set,jg={};function ao(e,t){Wo(e,t),Wo(e+"Capture",t)}function Wo(e,t){for(jg[e]=t,e=0;e<t.length;e++)kg.add(t[e])}var Sx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hp={},mp={};function Tx(e){return Xc.call(mp,e)?!0:Xc.call(hp,e)?!1:Sx.test(e)?mp[e]=!0:(hp[e]=!0,!1)}function Rs(e,t,n){if(Tx(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Cs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Oa(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ag(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cx(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,l=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,l.call(this,s)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vc(e){if(!e._valueTracker){var t=Ag(e)?"checked":"value";e._valueTracker=Cx(e,t,""+e[t])}}function Ig(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Ag(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function tr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wx=/[\n"\\]/g;function Gn(e){return e.replace(wx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Jc(e,t,n,a,i,l,s,r){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Fn(t)):e.value!==""+Fn(t)&&(e.value=""+Fn(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?Zc(e,s,Fn(t)):n!=null?Zc(e,s,Fn(n)):a!=null&&e.removeAttribute("value"),i==null&&l!=null&&(e.defaultChecked=!!l),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+Fn(r):e.removeAttribute("name")}function Mg(e,t,n,a,i,l,s,r){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||t!=null)){Vc(e);return}n=n!=null?""+Fn(n):"",t=t!=null?""+Fn(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=r?e.checked:!!a,e.defaultChecked=!!a,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),Vc(e)}function Zc(e,t,n){t==="number"&&tr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ho(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Fn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zg(e,t,n){if(t!=null&&(t=""+Fn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Fn(n):""}function Og(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(E(92));if(wl(a)){if(1<a.length)throw Error(E(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Fn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Vc(e)}function Xo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var kx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xp(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||kx.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Dg(e,t,n){if(t!=null&&typeof t!="object")throw Error(E(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&xp(e,i,a)}else for(var l in t)t.hasOwnProperty(l)&&xp(e,l,t[l])}function Wu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ax=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(e){return Ax.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function La(){}var Kc=null;function Xu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Io=null,Fo=null;function yp(e){var t=al(e);if(t&&(e=t.stateNode)){var n=e[dn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Jc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Gn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[dn]||null;if(!i)throw Error(E(90));Jc(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Ig(a)}break e;case"textarea":zg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ho(e,!!n.multiple,t,!1)}}}var oc=!1;function Eg(e,t,n){if(oc)return e(t,n);oc=!0;try{var a=e(t);return a}finally{if(oc=!1,(Io!==null||Fo!==null)&&(Ur(),Io&&(t=Io,e=Fo,Fo=Io=null,yp(t),e)))for(t=0;t<e.length;t++)yp(e[t])}}function ql(e,t){var n=e.stateNode;if(n===null)return null;var a=n[dn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=!1;if(Wa)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){Pc=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{Pc=!1}var hi=null,Qu=null,Hs=null;function Ng(){if(Hs)return Hs;var e,t=Qu,n=t.length,a,i="value"in hi?hi.value:hi.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(a=1;a<=s&&t[n-a]===i[l-a];a++);return Hs=i.slice(e,1<a?1-a:void 0)}function Fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function bp(){return!1}function pn(e){function t(n,a,i,l,s){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(l):l[r]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ws:bp,this.isPropagationStopped=bp,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),t}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zr=pn(io),ss=Le({},io,{view:0,detail:0}),Ix=pn(ss),lc,sc,gl,Or=Le({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gl&&(gl&&e.type==="mousemove"?(lc=e.screenX-gl.screenX,sc=e.screenY-gl.screenY):sc=lc=0,gl=e),lc)},movementY:function(e){return"movementY"in e?e.movementY:sc}}),vp=pn(Or),Mx=Le({},Or,{dataTransfer:0}),zx=pn(Mx),Ox=Le({},ss,{relatedTarget:0}),rc=pn(Ox),Dx=Le({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),Ex=pn(Dx),Nx=Le({},io,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bx=pn(Nx),Rx=Le({},io,{data:0}),Sp=pn(Rx),_x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fx[e])?!!t[e]:!1}function Vu(){return Lx}var Ux=Le({},ss,{key:function(e){if(e.key){var t=_x[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vu,charCode:function(e){return e.type==="keypress"?Fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gx=pn(Ux),qx=Le({},Or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tp=pn(qx),Yx=Le({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vu}),Wx=pn(Yx),Xx=Le({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qx=pn(Xx),Vx=Le({},Or,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jx=pn(Vx),Zx=Le({},io,{newState:0,oldState:0}),Kx=pn(Zx),Px=[9,13,27,32],Ju=Wa&&"CompositionEvent"in window,Ml=null;Wa&&"documentMode"in document&&(Ml=document.documentMode);var $x=Wa&&"TextEvent"in window&&!Ml,Bg=Wa&&(!Ju||Ml&&8<Ml&&11>=Ml),Cp=" ",wp=!1;function Rg(e,t){switch(e){case"keyup":return Px.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _g(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mo=!1;function ey(e,t){switch(e){case"compositionend":return _g(t);case"keypress":return t.which!==32?null:(wp=!0,Cp);case"textInput":return e=t.data,e===Cp&&wp?null:e;default:return null}}function ty(e,t){if(Mo)return e==="compositionend"||!Ju&&Rg(e,t)?(e=Ng(),Hs=Qu=hi=null,Mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bg&&t.locale!=="ko"?null:t.data;default:return null}}var ny={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ny[e.type]:t==="textarea"}function Hg(e,t,n,a){Io?Fo?Fo.push(a):Fo=[a]:Io=a,t=br(t,"onChange"),0<t.length&&(n=new zr("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var zl=null,Yl=null;function ay(e){E0(e,0)}function Dr(e){var t=kl(e);if(Ig(t))return e}function jp(e,t){if(e==="change")return t}var Fg=!1;if(Wa){var cc;if(Wa){var uc="oninput"in document;if(!uc){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),uc=typeof Ap.oninput=="function"}cc=uc}else cc=!1;Fg=cc&&(!document.documentMode||9<document.documentMode)}function Ip(){zl&&(zl.detachEvent("onpropertychange",Lg),Yl=zl=null)}function Lg(e){if(e.propertyName==="value"&&Dr(Yl)){var t=[];Hg(t,Yl,e,Xu(e)),Eg(ay,t)}}function iy(e,t,n){e==="focusin"?(Ip(),zl=t,Yl=n,zl.attachEvent("onpropertychange",Lg)):e==="focusout"&&Ip()}function oy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dr(Yl)}function ly(e,t){if(e==="click")return Dr(t)}function sy(e,t){if(e==="input"||e==="change")return Dr(t)}function ry(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var In=typeof Object.is=="function"?Object.is:ry;function Wl(e,t){if(In(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Xc.call(t,i)||!In(e[i],t[i]))return!1}return!0}function Mp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zp(e,t){var n=Mp(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mp(n)}}function Ug(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ug(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=tr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=tr(e.document)}return t}function Zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var cy=Wa&&"documentMode"in document&&11>=document.documentMode,zo=null,$c=null,Ol=null,eu=!1;function Op(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eu||zo==null||zo!==tr(a)||(a=zo,"selectionStart"in a&&Zu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ol&&Wl(Ol,a)||(Ol=a,a=br($c,"onSelect"),0<a.length&&(t=new zr("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=zo)))}function Ui(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oo={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},dc={},qg={};Wa&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function oo(e){if(dc[e])return dc[e];if(!Oo[e])return e;var t=Oo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qg)return dc[e]=t[n];return e}var Yg=oo("animationend"),Wg=oo("animationiteration"),Xg=oo("animationstart"),uy=oo("transitionrun"),dy=oo("transitionstart"),py=oo("transitioncancel"),Qg=oo("transitionend"),Vg=new Map,tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tu.push("scrollEnd");function na(e,t){Vg.set(e,t),ao(t,[e])}var nr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Hn=[],Do=0,Ku=0;function Er(){for(var e=Do,t=Ku=Do=0;t<e;){var n=Hn[t];Hn[t++]=null;var a=Hn[t];Hn[t++]=null;var i=Hn[t];Hn[t++]=null;var l=Hn[t];if(Hn[t++]=null,a!==null&&i!==null){var s=a.pending;s===null?i.next=i:(i.next=s.next,s.next=i),a.pending=i}l!==0&&Jg(n,i,l)}}function Nr(e,t,n,a){Hn[Do++]=e,Hn[Do++]=t,Hn[Do++]=n,Hn[Do++]=a,Ku|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Pu(e,t,n,a){return Nr(e,t,n,a),ar(e)}function lo(e,t){return Nr(e,null,null,t),ar(e)}function Jg(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,l=e.return;l!==null;)l.childLanes|=n,a=l.alternate,a!==null&&(a.childLanes|=n),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(i=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,i&&t!==null&&(i=31-jn(n),e=l.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),l):null}function ar(e){if(50<Ll)throw Ll=0,Tu=null,Error(E(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Eo={};function fy(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,t,n,a){return new fy(e,t,n,a)}function $u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ga(e,t){var n=e.alternate;return n===null?(n=Tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Zg(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ls(e,t,n,a,i,l){var s=0;if(a=e,typeof e=="function")$u(e)&&(s=1);else if(typeof e=="string")s=yb(e,n,ya.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Gc:return e=Tn(31,n,t,i),e.elementType=Gc,e.lanes=l,e;case ko:return Vi(n.children,i,l,t);case hg:s=8,i|=24;break;case Fc:return e=Tn(12,n,t,i|2),e.elementType=Fc,e.lanes=l,e;case Lc:return e=Tn(13,n,t,i),e.elementType=Lc,e.lanes=l,e;case Uc:return e=Tn(19,n,t,i),e.elementType=Uc,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fa:s=10;break e;case mg:s=9;break e;case Fu:s=11;break e;case Lu:s=14;break e;case ri:s=16,a=null;break e}s=29,n=Error(E(130,e===null?"null":typeof e,"")),a=null}return t=Tn(s,n,t,i),t.elementType=e,t.type=a,t.lanes=l,t}function Vi(e,t,n,a){return e=Tn(7,e,a,t),e.lanes=n,e}function pc(e,t,n){return e=Tn(6,e,null,t),e.lanes=n,e}function Kg(e){var t=Tn(18,null,null,0);return t.stateNode=e,t}function fc(e,t,n){return t=Tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Dp=new WeakMap;function qn(e,t){if(typeof e=="object"&&e!==null){var n=Dp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:pp(t)},Dp.set(e,t),t)}return{value:e,source:t,stack:pp(t)}}var No=[],Bo=0,ir=null,Xl=0,Ln=[],Un=0,Ii=null,ha=1,ma="";function Ra(e,t){No[Bo++]=Xl,No[Bo++]=ir,ir=e,Xl=t}function Pg(e,t,n){Ln[Un++]=ha,Ln[Un++]=ma,Ln[Un++]=Ii,Ii=e;var a=ha;e=ma;var i=32-jn(a)-1;a&=~(1<<i),n+=1;var l=32-jn(t)+i;if(30<l){var s=i-i%5;l=(a&(1<<s)-1).toString(32),a>>=s,i-=s,ha=1<<32-jn(t)+i|n<<i|a,ma=l+e}else ha=1<<l|n<<i|a,ma=e}function ed(e){e.return!==null&&(Ra(e,1),Pg(e,1,0))}function td(e){for(;e===ir;)ir=No[--Bo],No[Bo]=null,Xl=No[--Bo],No[Bo]=null;for(;e===Ii;)Ii=Ln[--Un],Ln[Un]=null,ma=Ln[--Un],Ln[Un]=null,ha=Ln[--Un],Ln[Un]=null}function $g(e,t){Ln[Un++]=ha,Ln[Un++]=ma,Ln[Un++]=Ii,ha=t.id,ma=t.overflow,Ii=e}var Rt=null,He=null,ve=!1,vi=null,Yn=!1,nu=Error(E(519));function Mi(e){var t=Error(E(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(qn(t,e)),nu}function Ep(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Bt]=e,t[dn]=a,n){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(n=0;n<Kl.length;n++)he(Kl[n],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),Mg(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),Og(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||B0(t.textContent,n)?(a.popover!=null&&(he("beforetoggle",t),he("toggle",t)),a.onScroll!=null&&he("scroll",t),a.onScrollEnd!=null&&he("scrollend",t),a.onClick!=null&&(t.onclick=La),t=!0):t=!1,t||Mi(e,!0)}function Np(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Rt=Rt.return}}function go(e){if(e!==Rt)return!1;if(!ve)return Np(e),ve=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Au(e.type,e.memoizedProps)),n=!n),n&&He&&Mi(e),Np(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));He=Sf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));He=Sf(e)}else t===27?(t=He,Ei(e.type)?(e=Ou,Ou=null,He=e):He=t):He=Rt?Xn(e.stateNode.nextSibling):null;return!0}function Pi(){He=Rt=null,ve=!1}function gc(){var e=vi;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),vi=null),e}function Ql(e){vi===null?vi=[e]:vi.push(e)}var au=ba(null),so=null,Ua=null;function ui(e,t,n){Ne(au,t._currentValue),t._currentValue=n}function qa(e){e._currentValue=au.current,Ct(au)}function iu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function ou(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){var s=i.child;l=l.firstContext;e:for(;l!==null;){var r=l;l=i;for(var c=0;c<t.length;c++)if(r.context===t[c]){l.lanes|=n,r=l.alternate,r!==null&&(r.lanes|=n),iu(l.return,n,e),a||(s=null);break e}l=r.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(E(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),iu(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function il(e,t,n,a){e=null;for(var i=t,l=!1;i!==null;){if(!l){if(i.flags&524288)l=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(E(387));if(s=s.memoizedProps,s!==null){var r=i.type;In(i.pendingProps.value,s.value)||(e!==null?e.push(r):e=[r])}}else if(i===Ks.current){if(s=i.alternate,s===null)throw Error(E(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push($l):e=[$l])}i=i.return}e!==null&&ou(t,e,n,a),t.flags|=262144}function or(e){for(e=e.firstContext;e!==null;){if(!In(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $i(e){so=e,Ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return eh(so,e)}function ks(e,t){return so===null&&$i(e),eh(e,t)}function eh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ua===null){if(e===null)throw Error(E(308));Ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ua=Ua.next=t;return n}var gy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},hy=mt.unstable_scheduleCallback,my=mt.unstable_NormalPriority,ot={$$typeof:Fa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new gy,data:new Map,refCount:0}}function rs(e){e.refCount--,e.refCount===0&&hy(my,function(){e.controller.abort()})}var Dl=null,lu=0,Qo=0,Lo=null;function xy(e,t){if(Dl===null){var n=Dl=[];lu=0,Qo=Ad(),Lo={status:"pending",value:void 0,then:function(a){n.push(a)}}}return lu++,t.then(Bp,Bp),t}function Bp(){if(--lu===0&&Dl!==null){Lo!==null&&(Lo.status="fulfilled");var e=Dl;Dl=null,Qo=0,Lo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yy(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Rp=oe.S;oe.S=function(e,t){g0=wn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&xy(e,t),Rp!==null&&Rp(e,t)};var Ji=ba(null);function ad(){var e=Ji.current;return e!==null?e:Ee.pooledCache}function Us(e,t){t===null?Ne(Ji,Ji.current):Ne(Ji,t.pool)}function th(){var e=ad();return e===null?null:{parent:ot._currentValue,pool:e}}var ol=Error(E(460)),id=Error(E(474)),Br=Error(E(542)),lr={then:function(){}};function _p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function nh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(La,La),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fp(e),e;default:if(typeof t.status=="string")t.then(La,La);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(E(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fp(e),e}throw Zi=t,ol}}function Wi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Zi=n,ol):n}}var Zi=null;function Hp(){if(Zi===null)throw Error(E(459));var e=Zi;return Zi=null,e}function Fp(e){if(e===ol||e===Br)throw Error(E(483))}var Uo=null,Vl=0;function js(e){var t=Vl;return Vl+=1,Uo===null&&(Uo=[]),nh(Uo,e,t)}function hl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function As(e,t){throw t.$$typeof===ix?Error(E(525)):(e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ah(e){function t(p,f){if(e){var h=p.deletions;h===null?(p.deletions=[f],p.flags|=16):h.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function a(p){for(var f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function i(p,f){return p=Ga(p,f),p.index=0,p.sibling=null,p}function l(p,f,h){return p.index=h,e?(h=p.alternate,h!==null?(h=h.index,h<f?(p.flags|=67108866,f):h):(p.flags|=67108866,f)):(p.flags|=1048576,f)}function s(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function r(p,f,h,j){return f===null||f.tag!==6?(f=pc(h,p.mode,j),f.return=p,f):(f=i(f,h),f.return=p,f)}function c(p,f,h,j){var G=h.type;return G===ko?w(p,f,h.props.children,j,h.key):f!==null&&(f.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===ri&&Wi(G)===f.type)?(f=i(f,h.props),hl(f,h),f.return=p,f):(f=Ls(h.type,h.key,h.props,null,p.mode,j),hl(f,h),f.return=p,f)}function m(p,f,h,j){return f===null||f.tag!==4||f.stateNode.containerInfo!==h.containerInfo||f.stateNode.implementation!==h.implementation?(f=fc(h,p.mode,j),f.return=p,f):(f=i(f,h.children||[]),f.return=p,f)}function w(p,f,h,j,G){return f===null||f.tag!==7?(f=Vi(h,p.mode,j,G),f.return=p,f):(f=i(f,h),f.return=p,f)}function T(p,f,h){if(typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint")return f=pc(""+f,p.mode,h),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case bs:return h=Ls(f.type,f.key,f.props,null,p.mode,h),hl(h,f),h.return=p,h;case Cl:return f=fc(f,p.mode,h),f.return=p,f;case ri:return f=Wi(f),T(p,f,h)}if(wl(f)||pl(f))return f=Vi(f,p.mode,h,null),f.return=p,f;if(typeof f.then=="function")return T(p,js(f),h);if(f.$$typeof===Fa)return T(p,ks(p,f),h);As(p,f)}return null}function y(p,f,h,j){var G=f!==null?f.key:null;if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return G!==null?null:r(p,f,""+h,j);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case bs:return h.key===G?c(p,f,h,j):null;case Cl:return h.key===G?m(p,f,h,j):null;case ri:return h=Wi(h),y(p,f,h,j)}if(wl(h)||pl(h))return G!==null?null:w(p,f,h,j,null);if(typeof h.then=="function")return y(p,f,js(h),j);if(h.$$typeof===Fa)return y(p,f,ks(p,h),j);As(p,h)}return null}function S(p,f,h,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return p=p.get(h)||null,r(f,p,""+j,G);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case bs:return p=p.get(j.key===null?h:j.key)||null,c(f,p,j,G);case Cl:return p=p.get(j.key===null?h:j.key)||null,m(f,p,j,G);case ri:return j=Wi(j),S(p,f,h,j,G)}if(wl(j)||pl(j))return p=p.get(h)||null,w(f,p,j,G,null);if(typeof j.then=="function")return S(p,f,h,js(j),G);if(j.$$typeof===Fa)return S(p,f,h,ks(f,j),G);As(f,j)}return null}function A(p,f,h,j){for(var G=null,Z=null,k=f,W=f=0,K=null;k!==null&&W<h.length;W++){k.index>W?(K=k,k=null):K=k.sibling;var Y=y(p,k,h[W],j);if(Y===null){k===null&&(k=K);break}e&&k&&Y.alternate===null&&t(p,k),f=l(Y,f,W),Z===null?G=Y:Z.sibling=Y,Z=Y,k=K}if(W===h.length)return n(p,k),ve&&Ra(p,W),G;if(k===null){for(;W<h.length;W++)k=T(p,h[W],j),k!==null&&(f=l(k,f,W),Z===null?G=k:Z.sibling=k,Z=k);return ve&&Ra(p,W),G}for(k=a(k);W<h.length;W++)K=S(k,p,W,h[W],j),K!==null&&(e&&K.alternate!==null&&k.delete(K.key===null?W:K.key),f=l(K,f,W),Z===null?G=K:Z.sibling=K,Z=K);return e&&k.forEach(function(X){return t(p,X)}),ve&&Ra(p,W),G}function H(p,f,h,j){if(h==null)throw Error(E(151));for(var G=null,Z=null,k=f,W=f=0,K=null,Y=h.next();k!==null&&!Y.done;W++,Y=h.next()){k.index>W?(K=k,k=null):K=k.sibling;var X=y(p,k,Y.value,j);if(X===null){k===null&&(k=K);break}e&&k&&X.alternate===null&&t(p,k),f=l(X,f,W),Z===null?G=X:Z.sibling=X,Z=X,k=K}if(Y.done)return n(p,k),ve&&Ra(p,W),G;if(k===null){for(;!Y.done;W++,Y=h.next())Y=T(p,Y.value,j),Y!==null&&(f=l(Y,f,W),Z===null?G=Y:Z.sibling=Y,Z=Y);return ve&&Ra(p,W),G}for(k=a(k);!Y.done;W++,Y=h.next())Y=S(k,p,W,Y.value,j),Y!==null&&(e&&Y.alternate!==null&&k.delete(Y.key===null?W:Y.key),f=l(Y,f,W),Z===null?G=Y:Z.sibling=Y,Z=Y);return e&&k.forEach(function(ne){return t(p,ne)}),ve&&Ra(p,W),G}function z(p,f,h,j){if(typeof h=="object"&&h!==null&&h.type===ko&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case bs:e:{for(var G=h.key;f!==null;){if(f.key===G){if(G=h.type,G===ko){if(f.tag===7){n(p,f.sibling),j=i(f,h.props.children),j.return=p,p=j;break e}}else if(f.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===ri&&Wi(G)===f.type){n(p,f.sibling),j=i(f,h.props),hl(j,h),j.return=p,p=j;break e}n(p,f);break}else t(p,f);f=f.sibling}h.type===ko?(j=Vi(h.props.children,p.mode,j,h.key),j.return=p,p=j):(j=Ls(h.type,h.key,h.props,null,p.mode,j),hl(j,h),j.return=p,p=j)}return s(p);case Cl:e:{for(G=h.key;f!==null;){if(f.key===G)if(f.tag===4&&f.stateNode.containerInfo===h.containerInfo&&f.stateNode.implementation===h.implementation){n(p,f.sibling),j=i(f,h.children||[]),j.return=p,p=j;break e}else{n(p,f);break}else t(p,f);f=f.sibling}j=fc(h,p.mode,j),j.return=p,p=j}return s(p);case ri:return h=Wi(h),z(p,f,h,j)}if(wl(h))return A(p,f,h,j);if(pl(h)){if(G=pl(h),typeof G!="function")throw Error(E(150));return h=G.call(h),H(p,f,h,j)}if(typeof h.then=="function")return z(p,f,js(h),j);if(h.$$typeof===Fa)return z(p,f,ks(p,h),j);As(p,h)}return typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint"?(h=""+h,f!==null&&f.tag===6?(n(p,f.sibling),j=i(f,h),j.return=p,p=j):(n(p,f),j=pc(h,p.mode,j),j.return=p,p=j),s(p)):n(p,f)}return function(p,f,h,j){try{Vl=0;var G=z(p,f,h,j);return Uo=null,G}catch(k){if(k===ol||k===Br)throw k;var Z=Tn(29,k,null,p.mode);return Z.lanes=j,Z.return=p,Z}finally{}}}var eo=ah(!0),ih=ah(!1),ci=!1;function od(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function su(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Si(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,we&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=ar(e),Jg(e,null,n),t}return Nr(e,a,t,n),ar(e)}function El(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Tg(e,n)}}function hc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?i=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ru=!1;function Nl(){if(ru){var e=Lo;if(e!==null)throw e}}function Bl(e,t,n,a){ru=!1;var i=e.updateQueue;ci=!1;var l=i.firstBaseUpdate,s=i.lastBaseUpdate,r=i.shared.pending;if(r!==null){i.shared.pending=null;var c=r,m=c.next;c.next=null,s===null?l=m:s.next=m,s=c;var w=e.alternate;w!==null&&(w=w.updateQueue,r=w.lastBaseUpdate,r!==s&&(r===null?w.firstBaseUpdate=m:r.next=m,w.lastBaseUpdate=c))}if(l!==null){var T=i.baseState;s=0,w=m=c=null,r=l;do{var y=r.lane&-536870913,S=y!==r.lane;if(S?(xe&y)===y:(a&y)===y){y!==0&&y===Qo&&(ru=!0),w!==null&&(w=w.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var A=e,H=r;y=t;var z=n;switch(H.tag){case 1:if(A=H.payload,typeof A=="function"){T=A.call(z,T,y);break e}T=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=H.payload,y=typeof A=="function"?A.call(z,T,y):A,y==null)break e;T=Le({},T,y);break e;case 2:ci=!0}}y=r.callback,y!==null&&(e.flags|=64,S&&(e.flags|=8192),S=i.callbacks,S===null?i.callbacks=[y]:S.push(y))}else S={lane:y,tag:r.tag,payload:r.payload,callback:r.callback,next:null},w===null?(m=w=S,c=T):w=w.next=S,s|=y;if(r=r.next,r===null){if(r=i.shared.pending,r===null)break;S=r,r=S.next,S.next=null,i.lastBaseUpdate=S,i.shared.pending=null}}while(!0);w===null&&(c=T),i.baseState=c,i.firstBaseUpdate=m,i.lastBaseUpdate=w,l===null&&(i.shared.lanes=0),Oi|=s,e.lanes=s,e.memoizedState=T}}function oh(e,t){if(typeof e!="function")throw Error(E(191,e));e.call(t)}function lh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)oh(n[e],t)}var Vo=ba(null),sr=ba(0);function Lp(e,t){e=Ja,Ne(sr,e),Ne(Vo,t),Ja=e|t.baseLanes}function cu(){Ne(sr,Ja),Ne(Vo,Vo.current)}function ld(){Ja=sr.current,Ct(Vo),Ct(sr)}var Mn=ba(null),Wn=null;function di(e){var t=e.alternate;Ne($e,$e.current&1),Ne(Mn,e),Wn===null&&(t===null||Vo.current!==null||t.memoizedState!==null)&&(Wn=e)}function uu(e){Ne($e,$e.current),Ne(Mn,e),Wn===null&&(Wn=e)}function sh(e){e.tag===22?(Ne($e,$e.current),Ne(Mn,e),Wn===null&&(Wn=e)):pi()}function pi(){Ne($e,$e.current),Ne(Mn,Mn.current)}function Sn(e){Ct(Mn),Wn===e&&(Wn=null),Ct($e)}var $e=ba(0);function rr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Mu(n)||zu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xa=0,fe=null,De=null,at=null,cr=!1,Go=!1,to=!1,ur=0,Jl=0,qo=null,by=0;function Ke(){throw Error(E(321))}function sd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!In(e[n],t[n]))return!1;return!0}function rd(e,t,n,a,i,l){return Xa=l,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oe.H=e===null||e.memoizedState===null?Hh:bd,to=!1,l=n(a,i),to=!1,Go&&(l=ch(t,n,a,i)),rh(e),l}function rh(e){oe.H=Zl;var t=De!==null&&De.next!==null;if(Xa=0,at=De=fe=null,cr=!1,Jl=0,qo=null,t)throw Error(E(300));e===null||lt||(e=e.dependencies,e!==null&&or(e)&&(lt=!0))}function ch(e,t,n,a){fe=e;var i=0;do{if(Go&&(qo=null),Jl=0,Go=!1,25<=i)throw Error(E(301));if(i+=1,at=De=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}oe.H=Fh,l=t(n,a)}while(Go);return l}function vy(){var e=oe.H,t=e.useState()[0];return t=typeof t.then=="function"?cs(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(fe.flags|=1024),t}function cd(){var e=ur!==0;return ur=0,e}function ud(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function dd(e){if(cr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cr=!1}Xa=0,at=De=fe=null,Go=!1,Jl=ur=0,qo=null}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?fe.memoizedState=at=e:at=at.next=e,at}function et(){if(De===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=at===null?fe.memoizedState:at.next;if(t!==null)at=t,De=e;else{if(e===null)throw fe.alternate===null?Error(E(467)):Error(E(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},at===null?fe.memoizedState=at=e:at=at.next=e}return at}function Rr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cs(e){var t=Jl;return Jl+=1,qo===null&&(qo=[]),e=nh(qo,e,t),t=fe,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,oe.H=t===null||t.memoizedState===null?Hh:bd),e}function _r(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cs(e);if(e.$$typeof===Fa)return _t(e)}throw Error(E(438,String(e)))}function pd(e){var t=null,n=fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=fe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Rr(),fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=ox;return t.index++,n}function Qa(e,t){return typeof t=="function"?t(e):t}function Gs(e){var t=et();return fd(t,De,e)}function fd(e,t,n){var a=e.queue;if(a===null)throw Error(E(311));a.lastRenderedReducer=n;var i=e.baseQueue,l=a.pending;if(l!==null){if(i!==null){var s=i.next;i.next=l.next,l.next=s}t.baseQueue=i=l,a.pending=null}if(l=e.baseState,i===null)e.memoizedState=l;else{t=i.next;var r=s=null,c=null,m=t,w=!1;do{var T=m.lane&-536870913;if(T!==m.lane?(xe&T)===T:(Xa&T)===T){var y=m.revertLane;if(y===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),T===Qo&&(w=!0);else if((Xa&y)===y){m=m.next,y===Qo&&(w=!0);continue}else T={lane:0,revertLane:m.revertLane,gesture:null,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null},c===null?(r=c=T,s=l):c=c.next=T,fe.lanes|=y,Oi|=y;T=m.action,to&&n(l,T),l=m.hasEagerState?m.eagerState:n(l,T)}else y={lane:T,revertLane:m.revertLane,gesture:m.gesture,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null},c===null?(r=c=y,s=l):c=c.next=y,fe.lanes|=T,Oi|=T;m=m.next}while(m!==null&&m!==t);if(c===null?s=l:c.next=r,!In(l,e.memoizedState)&&(lt=!0,w&&(n=Lo,n!==null)))throw n;e.memoizedState=l,e.baseState=s,e.baseQueue=c,a.lastRenderedState=l}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function mc(e){var t=et(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do l=e(l,s.action),s=s.next;while(s!==i);In(l,t.memoizedState)||(lt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function uh(e,t,n){var a=fe,i=et(),l=ve;if(l){if(n===void 0)throw Error(E(407));n=n()}else n=t();var s=!In((De||i).memoizedState,n);if(s&&(i.memoizedState=n,lt=!0),i=i.queue,gd(fh.bind(null,a,i,e),[e]),i.getSnapshot!==t||s||at!==null&&at.memoizedState.tag&1){if(a.flags|=2048,Jo(9,{destroy:void 0},ph.bind(null,a,i,n,t),null),Ee===null)throw Error(E(349));l||Xa&127||dh(a,t,n)}return n}function dh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t=Rr(),fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ph(e,t,n,a){t.value=n,t.getSnapshot=a,gh(t)&&hh(e)}function fh(e,t,n){return n(function(){gh(t)&&hh(e)})}function gh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!In(e,n)}catch{return!0}}function hh(e){var t=lo(e,2);t!==null&&un(t,e,2)}function du(e){var t=Qt();if(typeof e=="function"){var n=e;if(e=n(),to){gi(!0);try{n()}finally{gi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:e},t}function mh(e,t,n,a){return e.baseState=n,fd(e,De,typeof a=="function"?a:Qa)}function Sy(e,t,n,a,i){if(Fr(e))throw Error(E(485));if(e=t.action,e!==null){var l={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){l.listeners.push(s)}};oe.T!==null?n(!0):l.isTransition=!1,a(l),n=t.pending,n===null?(l.next=t.pending=l,xh(t,l)):(l.next=n.next,t.pending=n.next=l)}}function xh(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var l=oe.T,s={};oe.T=s;try{var r=n(i,a),c=oe.S;c!==null&&c(s,r),Up(e,t,r)}catch(m){pu(e,t,m)}finally{l!==null&&s.types!==null&&(l.types=s.types),oe.T=l}}else try{l=n(i,a),Up(e,t,l)}catch(m){pu(e,t,m)}}function Up(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Gp(e,t,a)},function(a){return pu(e,t,a)}):Gp(e,t,n)}function Gp(e,t,n){t.status="fulfilled",t.value=n,yh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,xh(e,n)))}function pu(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,yh(t),t=t.next;while(t!==a)}e.action=null}function yh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function bh(e,t){return t}function qp(e,t){if(ve){var n=Ee.formState;if(n!==null){e:{var a=fe;if(ve){if(He){t:{for(var i=He,l=Yn;i.nodeType!==8;){if(!l){i=null;break t}if(i=Xn(i.nextSibling),i===null){i=null;break t}}l=i.data,i=l==="F!"||l==="F"?i:null}if(i){He=Xn(i.nextSibling),a=i.data==="F!";break e}}Mi(a)}a=!1}a&&(t=n[0])}}return n=Qt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bh,lastRenderedState:t},n.queue=a,n=Bh.bind(null,fe,a),a.dispatch=n,a=du(!1),l=yd.bind(null,fe,!1,a.queue),a=Qt(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=Sy.bind(null,fe,i,l,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Yp(e){var t=et();return vh(t,De,e)}function vh(e,t,n){if(t=fd(e,t,bh)[0],e=Gs(Qa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=cs(t)}catch(s){throw s===ol?Br:s}else a=t;t=et();var i=t.queue,l=i.dispatch;return n!==t.memoizedState&&(fe.flags|=2048,Jo(9,{destroy:void 0},Ty.bind(null,i,n),null)),[a,l,e]}function Ty(e,t){e.action=t}function Wp(e){var t=et(),n=De;if(n!==null)return vh(t,n,e);et(),t=t.memoizedState,n=et();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Jo(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=fe.updateQueue,t===null&&(t=Rr(),fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Sh(){return et().memoizedState}function qs(e,t,n,a){var i=Qt();fe.flags|=e,i.memoizedState=Jo(1|t,{destroy:void 0},n,a===void 0?null:a)}function Hr(e,t,n,a){var i=et();a=a===void 0?null:a;var l=i.memoizedState.inst;De!==null&&a!==null&&sd(a,De.memoizedState.deps)?i.memoizedState=Jo(t,l,n,a):(fe.flags|=e,i.memoizedState=Jo(1|t,l,n,a))}function Xp(e,t){qs(8390656,8,e,t)}function gd(e,t){Hr(2048,8,e,t)}function Cy(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=Rr(),fe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Th(e){var t=et().memoizedState;return Cy({ref:t,nextImpl:e}),function(){if(we&2)throw Error(E(440));return t.impl.apply(void 0,arguments)}}function Ch(e,t){return Hr(4,2,e,t)}function wh(e,t){return Hr(4,4,e,t)}function kh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jh(e,t,n){n=n!=null?n.concat([e]):null,Hr(4,4,kh.bind(null,t,e),n)}function hd(){}function Ah(e,t){var n=et();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&sd(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ih(e,t){var n=et();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&sd(t,a[1]))return a[0];if(a=e(),to){gi(!0);try{e()}finally{gi(!1)}}return n.memoizedState=[a,t],a}function md(e,t,n){return n===void 0||Xa&1073741824&&!(xe&261930)?e.memoizedState=t:(e.memoizedState=n,e=m0(),fe.lanes|=e,Oi|=e,n)}function Mh(e,t,n,a){return In(n,t)?n:Vo.current!==null?(e=md(e,n,a),In(e,t)||(lt=!0),e):!(Xa&42)||Xa&1073741824&&!(xe&261930)?(lt=!0,e.memoizedState=n):(e=m0(),fe.lanes|=e,Oi|=e,t)}function zh(e,t,n,a,i){var l=ke.p;ke.p=l!==0&&8>l?l:8;var s=oe.T,r={};oe.T=r,yd(e,!1,t,n);try{var c=i(),m=oe.S;if(m!==null&&m(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var w=yy(c,a);Rl(e,t,w,An(e))}else Rl(e,t,a,An(e))}catch(T){Rl(e,t,{then:function(){},status:"rejected",reason:T},An())}finally{ke.p=l,s!==null&&r.types!==null&&(s.types=r.types),oe.T=s}}function wy(){}function fu(e,t,n,a){if(e.tag!==5)throw Error(E(476));var i=Oh(e).queue;zh(e,i,t,Qi,n===null?wy:function(){return Dh(e),n(a)})}function Oh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Qi,baseState:Qi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:Qi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dh(e){var t=Oh(e);t.next===null&&(t=e.alternate.memoizedState),Rl(e,t.next.queue,{},An())}function xd(){return _t($l)}function Eh(){return et().memoizedState}function Nh(){return et().memoizedState}function ky(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=An();e=Si(n);var a=Ti(t,e,n);a!==null&&(un(a,t,n),El(a,t,n)),t={cache:nd()},e.payload=t;return}t=t.return}}function jy(e,t,n){var a=An();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fr(e)?Rh(t,n):(n=Pu(e,t,n,a),n!==null&&(un(n,e,a),_h(n,t,a)))}function Bh(e,t,n){var a=An();Rl(e,t,n,a)}function Rl(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fr(e))Rh(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,r=l(s,n);if(i.hasEagerState=!0,i.eagerState=r,In(r,s))return Nr(e,t,i,0),Ee===null&&Er(),!1}catch{}finally{}if(n=Pu(e,t,i,a),n!==null)return un(n,e,a),_h(n,t,a),!0}return!1}function yd(e,t,n,a){if(a={lane:2,revertLane:Ad(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fr(e)){if(t)throw Error(E(479))}else t=Pu(e,n,a,2),t!==null&&un(t,e,2)}function Fr(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Rh(e,t){Go=cr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _h(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Tg(e,n)}}var Zl={readContext:_t,use:_r,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Zl.useEffectEvent=Ke;var Hh={readContext:_t,use:_r,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:Xp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,qs(4194308,4,kh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qs(4194308,4,e,t)},useInsertionEffect:function(e,t){qs(4,2,e,t)},useMemo:function(e,t){var n=Qt();t=t===void 0?null:t;var a=e();if(to){gi(!0);try{e()}finally{gi(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Qt();if(n!==void 0){var i=n(t);if(to){gi(!0);try{n(t)}finally{gi(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=jy.bind(null,fe,e),[a.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:function(e){e=du(e);var t=e.queue,n=Bh.bind(null,fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:hd,useDeferredValue:function(e,t){var n=Qt();return md(n,e,t)},useTransition:function(){var e=du(!1);return e=zh.bind(null,fe,e.queue,!0,!1),Qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=fe,i=Qt();if(ve){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),Ee===null)throw Error(E(349));xe&127||dh(a,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,Xp(fh.bind(null,a,l,e),[e]),a.flags|=2048,Jo(9,{destroy:void 0},ph.bind(null,a,l,n,t),null),n},useId:function(){var e=Qt(),t=Ee.identifierPrefix;if(ve){var n=ma,a=ha;n=(a&~(1<<32-jn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ur++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=by++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xd,useFormState:qp,useActionState:qp,useOptimistic:function(e){var t=Qt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=yd.bind(null,fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:pd,useCacheRefresh:function(){return Qt().memoizedState=ky.bind(null,fe)},useEffectEvent:function(e){var t=Qt(),n={impl:e};return t.memoizedState=n,function(){if(we&2)throw Error(E(440));return n.impl.apply(void 0,arguments)}}},bd={readContext:_t,use:_r,useCallback:Ah,useContext:_t,useEffect:gd,useImperativeHandle:jh,useInsertionEffect:Ch,useLayoutEffect:wh,useMemo:Ih,useReducer:Gs,useRef:Sh,useState:function(){return Gs(Qa)},useDebugValue:hd,useDeferredValue:function(e,t){var n=et();return Mh(n,De.memoizedState,e,t)},useTransition:function(){var e=Gs(Qa)[0],t=et().memoizedState;return[typeof e=="boolean"?e:cs(e),t]},useSyncExternalStore:uh,useId:Eh,useHostTransitionStatus:xd,useFormState:Yp,useActionState:Yp,useOptimistic:function(e,t){var n=et();return mh(n,De,e,t)},useMemoCache:pd,useCacheRefresh:Nh};bd.useEffectEvent=Th;var Fh={readContext:_t,use:_r,useCallback:Ah,useContext:_t,useEffect:gd,useImperativeHandle:jh,useInsertionEffect:Ch,useLayoutEffect:wh,useMemo:Ih,useReducer:mc,useRef:Sh,useState:function(){return mc(Qa)},useDebugValue:hd,useDeferredValue:function(e,t){var n=et();return De===null?md(n,e,t):Mh(n,De.memoizedState,e,t)},useTransition:function(){var e=mc(Qa)[0],t=et().memoizedState;return[typeof e=="boolean"?e:cs(e),t]},useSyncExternalStore:uh,useId:Eh,useHostTransitionStatus:xd,useFormState:Wp,useActionState:Wp,useOptimistic:function(e,t){var n=et();return De!==null?mh(n,De,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pd,useCacheRefresh:Nh};Fh.useEffectEvent=Th;function xc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gu={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=An(),i=Si(a);i.payload=t,n!=null&&(i.callback=n),t=Ti(e,i,a),t!==null&&(un(t,e,a),El(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=An(),i=Si(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ti(e,i,a),t!==null&&(un(t,e,a),El(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=An(),a=Si(n);a.tag=2,t!=null&&(a.callback=t),t=Ti(e,a,n),t!==null&&(un(t,e,n),El(t,e,n))}};function Qp(e,t,n,a,i,l,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,l,s):t.prototype&&t.prototype.isPureReactComponent?!Wl(n,a)||!Wl(i,l):!0}function Vp(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&gu.enqueueReplaceState(t,t.state,null)}function no(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Le({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function Lh(e){nr(e)}function Uh(e){console.error(e)}function Gh(e){nr(e)}function dr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Jp(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function hu(e,t,n){return n=Si(n),n.tag=3,n.payload={element:null},n.callback=function(){dr(e,t)},n}function qh(e){return e=Si(e),e.tag=3,e}function Yh(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var l=a.value;e.payload=function(){return i(l)},e.callback=function(){Jp(t,n,a)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Jp(t,n,a),typeof i!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var r=a.stack;this.componentDidCatch(a.value,{componentStack:r!==null?r:""})})}function Ay(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&il(t,n,i,!0),n=Mn.current,n!==null){switch(n.tag){case 31:case 13:return Wn===null?mr():n.alternate===null&&Pe===0&&(Pe=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===lr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Ic(e,a,i)),!1;case 22:return n.flags|=65536,a===lr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Ic(e,a,i)),!1}throw Error(E(435,n.tag))}return Ic(e,a,i),mr(),!1}if(ve)return t=Mn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==nu&&(e=Error(E(422),{cause:a}),Ql(qn(e,n)))):(a!==nu&&(t=Error(E(423),{cause:a}),Ql(qn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=qn(a,n),i=hu(e.stateNode,a,i),hc(e,i),Pe!==4&&(Pe=2)),!1;var l=Error(E(520),{cause:a});if(l=qn(l,n),Fl===null?Fl=[l]:Fl.push(l),Pe!==4&&(Pe=2),t===null)return!0;a=qn(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=hu(n.stateNode,a,e),hc(n,e),!1;case 1:if(t=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))))return n.flags|=65536,i&=-i,n.lanes|=i,i=qh(i),Yh(i,e,n,a),hc(n,i),!1}n=n.return}while(n!==null);return!1}var vd=Error(E(461)),lt=!1;function Nt(e,t,n,a){t.child=e===null?ih(t,null,n,a):eo(t,e.child,n,a)}function Zp(e,t,n,a,i){n=n.render;var l=t.ref;if("ref"in a){var s={};for(var r in a)r!=="ref"&&(s[r]=a[r])}else s=a;return $i(t),a=rd(e,t,n,s,l,i),r=cd(),e!==null&&!lt?(ud(e,t,i),Va(e,t,i)):(ve&&r&&ed(t),t.flags|=1,Nt(e,t,a,i),t.child)}function Kp(e,t,n,a,i){if(e===null){var l=n.type;return typeof l=="function"&&!$u(l)&&l.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=l,Wh(e,t,l,a,i)):(e=Ls(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!Sd(e,i)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:Wl,n(s,a)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,e=Ga(l,a),e.ref=t.ref,e.return=t,t.child=e}function Wh(e,t,n,a,i){if(e!==null){var l=e.memoizedProps;if(Wl(l,a)&&e.ref===t.ref)if(lt=!1,t.pendingProps=a=l,Sd(e,i))e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,Va(e,t,i)}return mu(e,t,n,a,i)}function Xh(e,t,n,a){var i=a.children,l=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(l=l!==null?l.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~l}else a=0,t.child=null;return Pp(e,t,l,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Us(t,l!==null?l.cachePool:null),l!==null?Lp(t,l):cu(),sh(t);else return a=t.lanes=536870912,Pp(e,t,l!==null?l.baseLanes|n:n,n,a)}else l!==null?(Us(t,l.cachePool),Lp(t,l),pi(),t.memoizedState=null):(e!==null&&Us(t,null),cu(),pi());return Nt(e,t,i,n),t.child}function jl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Pp(e,t,n,a,i){var l=ad();return l=l===null?null:{parent:ot._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&Us(t,null),cu(),sh(t),e!==null&&il(e,t,a,!0),t.childLanes=i,null}function Ys(e,t){return t=pr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function $p(e,t,n){return eo(t,e.child,null,n),e=Ys(t,t.pendingProps),e.flags|=2,Sn(t),t.memoizedState=null,e}function Iy(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(a.mode==="hidden")return e=Ys(t,a),t.lanes=536870912,jl(null,e);if(uu(t),(e=He)?(e=H0(e,Yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ii!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},n=Kg(e),n.return=t,t.child=n,Rt=t,He=null)):e=null,e===null)throw Mi(t);return t.lanes=536870912,null}return Ys(t,a)}var l=e.memoizedState;if(l!==null){var s=l.dehydrated;if(uu(t),i)if(t.flags&256)t.flags&=-257,t=$p(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(E(558));else if(lt||il(e,t,n,!1),i=(n&e.childLanes)!==0,lt||i){if(a=Ee,a!==null&&(s=Cg(a,n),s!==0&&s!==l.retryLane))throw l.retryLane=s,lo(e,s),un(a,e,s),vd;mr(),t=$p(e,t,n)}else e=l.treeContext,He=Xn(s.nextSibling),Rt=t,ve=!0,vi=null,Yn=!1,e!==null&&$g(t,e),t=Ys(t,a),t.flags|=4096;return t}return e=Ga(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ws(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(E(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function mu(e,t,n,a,i){return $i(t),n=rd(e,t,n,a,void 0,i),a=cd(),e!==null&&!lt?(ud(e,t,i),Va(e,t,i)):(ve&&a&&ed(t),t.flags|=1,Nt(e,t,n,i),t.child)}function ef(e,t,n,a,i,l){return $i(t),t.updateQueue=null,n=ch(t,a,n,i),rh(e),a=cd(),e!==null&&!lt?(ud(e,t,l),Va(e,t,l)):(ve&&a&&ed(t),t.flags|=1,Nt(e,t,n,l),t.child)}function tf(e,t,n,a,i){if($i(t),t.stateNode===null){var l=Eo,s=n.contextType;typeof s=="object"&&s!==null&&(l=_t(s)),l=new n(a,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=gu,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=a,l.state=t.memoizedState,l.refs={},od(t),s=n.contextType,l.context=typeof s=="object"&&s!==null?_t(s):Eo,l.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(xc(t,n,s,a),l.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(s=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),s!==l.state&&gu.enqueueReplaceState(l,l.state,null),Bl(t,a,l,i),Nl(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){l=t.stateNode;var r=t.memoizedProps,c=no(n,r);l.props=c;var m=l.context,w=n.contextType;s=Eo,typeof w=="object"&&w!==null&&(s=_t(w));var T=n.getDerivedStateFromProps;w=typeof T=="function"||typeof l.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,w||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r||m!==s)&&Vp(t,l,a,s),ci=!1;var y=t.memoizedState;l.state=y,Bl(t,a,l,i),Nl(),m=t.memoizedState,r||y!==m||ci?(typeof T=="function"&&(xc(t,n,T,a),m=t.memoizedState),(c=ci||Qp(t,n,c,a,y,m,s))?(w||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=m),l.props=a,l.state=m,l.context=s,a=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,su(e,t),s=t.memoizedProps,w=no(n,s),l.props=w,T=t.pendingProps,y=l.context,m=n.contextType,c=Eo,typeof m=="object"&&m!==null&&(c=_t(m)),r=n.getDerivedStateFromProps,(m=typeof r=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==T||y!==c)&&Vp(t,l,a,c),ci=!1,y=t.memoizedState,l.state=y,Bl(t,a,l,i),Nl();var S=t.memoizedState;s!==T||y!==S||ci||e!==null&&e.dependencies!==null&&or(e.dependencies)?(typeof r=="function"&&(xc(t,n,r,a),S=t.memoizedState),(w=ci||Qp(t,n,w,a,y,S,c)||e!==null&&e.dependencies!==null&&or(e.dependencies))?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,S,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,S,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=S),l.props=a,l.state=S,l.context=c,a=w):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),a=!1)}return l=a,Ws(e,t),a=(t.flags&128)!==0,l||a?(l=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&a?(t.child=eo(t,e.child,null,i),t.child=eo(t,null,n,i)):Nt(e,t,n,i),t.memoizedState=l.state,e=t.child):e=Va(e,t,i),e}function nf(e,t,n,a){return Pi(),t.flags|=256,Nt(e,t,n,a),t.child}var yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bc(e){return{baseLanes:e,cachePool:th()}}function vc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Cn),e}function Qh(e,t,n){var a=t.pendingProps,i=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:($e.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(i?di(t):pi(),(e=He)?(e=H0(e,Yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ii!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},n=Kg(e),n.return=t,t.child=n,Rt=t,He=null)):e=null,e===null)throw Mi(t);return zu(e)?t.lanes=32:t.lanes=536870912,null}var r=a.children;return a=a.fallback,i?(pi(),i=t.mode,r=pr({mode:"hidden",children:r},i),a=Vi(a,i,n,null),r.return=t,a.return=t,r.sibling=a,t.child=r,a=t.child,a.memoizedState=bc(n),a.childLanes=vc(e,s,n),t.memoizedState=yc,jl(null,a)):(di(t),xu(t,r))}var c=e.memoizedState;if(c!==null&&(r=c.dehydrated,r!==null)){if(l)t.flags&256?(di(t),t.flags&=-257,t=Sc(e,t,n)):t.memoizedState!==null?(pi(),t.child=e.child,t.flags|=128,t=null):(pi(),r=a.fallback,i=t.mode,a=pr({mode:"visible",children:a.children},i),r=Vi(r,i,n,null),r.flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,eo(t,e.child,null,n),a=t.child,a.memoizedState=bc(n),a.childLanes=vc(e,s,n),t.memoizedState=yc,t=jl(null,a));else if(di(t),zu(r)){if(s=r.nextSibling&&r.nextSibling.dataset,s)var m=s.dgst;s=m,a=Error(E(419)),a.stack="",a.digest=s,Ql({value:a,source:null,stack:null}),t=Sc(e,t,n)}else if(lt||il(e,t,n,!1),s=(n&e.childLanes)!==0,lt||s){if(s=Ee,s!==null&&(a=Cg(s,n),a!==0&&a!==c.retryLane))throw c.retryLane=a,lo(e,a),un(s,e,a),vd;Mu(r)||mr(),t=Sc(e,t,n)}else Mu(r)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,He=Xn(r.nextSibling),Rt=t,ve=!0,vi=null,Yn=!1,e!==null&&$g(t,e),t=xu(t,a.children),t.flags|=4096);return t}return i?(pi(),r=a.fallback,i=t.mode,c=e.child,m=c.sibling,a=Ga(c,{mode:"hidden",children:a.children}),a.subtreeFlags=c.subtreeFlags&65011712,m!==null?r=Ga(m,r):(r=Vi(r,i,n,null),r.flags|=2),r.return=t,a.return=t,a.sibling=r,t.child=a,jl(null,a),a=t.child,r=e.child.memoizedState,r===null?r=bc(n):(i=r.cachePool,i!==null?(c=ot._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=th(),r={baseLanes:r.baseLanes|n,cachePool:i}),a.memoizedState=r,a.childLanes=vc(e,s,n),t.memoizedState=yc,jl(e.child,a)):(di(t),n=e.child,e=n.sibling,n=Ga(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function xu(e,t){return t=pr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function pr(e,t){return e=Tn(22,e,null,t),e.lanes=0,e}function Sc(e,t,n){return eo(t,e.child,null,n),e=xu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function af(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),iu(e.return,t,n)}function Tc(e,t,n,a,i,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=i,s.treeForkCount=l)}function Vh(e,t,n){var a=t.pendingProps,i=a.revealOrder,l=a.tail;a=a.children;var s=$e.current,r=(s&2)!==0;if(r?(s=s&1|2,t.flags|=128):s&=1,Ne($e,s),Nt(e,t,a,n),a=ve?Xl:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&af(e,n,t);else if(e.tag===19)af(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rr(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Tc(t,!1,i,n,l,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rr(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Tc(t,!0,n,null,l,a);break;case"together":Tc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Va(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Oi|=t.lanes,!(n&t.childLanes))if(e!==null){if(il(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=Ga(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ga(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Sd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&or(e)))}function My(e,t,n){switch(t.tag){case 3:Ps(t,t.stateNode.containerInfo),ui(t,ot,e.memoizedState.cache),Pi();break;case 27:case 5:Wc(t);break;case 4:Ps(t,t.stateNode.containerInfo);break;case 10:ui(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,uu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(di(t),t.flags|=128,null):n&t.child.childLanes?Qh(e,t,n):(di(t),e=Va(e,t,n),e!==null?e.sibling:null);di(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(il(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Vh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne($e,$e.current),a)break;return null;case 22:return t.lanes=0,Xh(e,t,n,t.pendingProps);case 24:ui(t,ot,e.memoizedState.cache)}return Va(e,t,n)}function Jh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)lt=!0;else{if(!Sd(e,n)&&!(t.flags&128))return lt=!1,My(e,t,n);lt=!!(e.flags&131072)}else lt=!1,ve&&t.flags&1048576&&Pg(t,Xl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Wi(t.elementType),t.type=e,typeof e=="function")$u(e)?(a=no(e,a),t.tag=1,t=tf(null,t,e,a,n)):(t.tag=0,t=mu(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===Fu){t.tag=11,t=Zp(null,t,e,a,n);break e}else if(i===Lu){t.tag=14,t=Kp(null,t,e,a,n);break e}}throw t=qc(e)||e,Error(E(306,t,""))}}return t;case 0:return mu(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=no(a,t.pendingProps),tf(e,t,a,i,n);case 3:e:{if(Ps(t,t.stateNode.containerInfo),e===null)throw Error(E(387));a=t.pendingProps;var l=t.memoizedState;i=l.element,su(e,t),Bl(t,a,null,n);var s=t.memoizedState;if(a=s.cache,ui(t,ot,a),a!==l.cache&&ou(t,[ot],n,!0),Nl(),a=s.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=nf(e,t,a,n);break e}else if(a!==i){i=qn(Error(E(424)),t),Ql(i),t=nf(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Xn(e.firstChild),Rt=t,ve=!0,vi=null,Yn=!0,n=ih(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Pi(),a===i){t=Va(e,t,n);break e}Nt(e,t,a,n)}t=t.child}return t;case 26:return Ws(e,t),e===null?(n=wf(t.type,null,t.pendingProps,null))?t.memoizedState=n:ve||(n=t.type,e=t.pendingProps,a=vr(bi.current).createElement(n),a[Bt]=t,a[dn]=e,Ht(a,n,e),Tt(a),t.stateNode=a):t.memoizedState=wf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Wc(t),e===null&&ve&&(a=t.stateNode=F0(t.type,t.pendingProps,bi.current),Rt=t,Yn=!0,i=He,Ei(t.type)?(Ou=i,He=Xn(a.firstChild)):He=i),Nt(e,t,t.pendingProps.children,n),Ws(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((i=a=He)&&(a=ob(a,t.type,t.pendingProps,Yn),a!==null?(t.stateNode=a,Rt=t,He=Xn(a.firstChild),Yn=!1,i=!0):i=!1),i||Mi(t)),Wc(t),i=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,a=l.children,Au(i,l)?a=null:s!==null&&Au(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=rd(e,t,vy,null,null,n),$l._currentValue=i),Ws(e,t),Nt(e,t,a,n),t.child;case 6:return e===null&&ve&&((e=n=He)&&(n=lb(n,t.pendingProps,Yn),n!==null?(t.stateNode=n,Rt=t,He=null,e=!0):e=!1),e||Mi(t)),null;case 13:return Qh(e,t,n);case 4:return Ps(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=eo(t,null,a,n):Nt(e,t,a,n),t.child;case 11:return Zp(e,t,t.type,t.pendingProps,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ui(t,t.type,a.value),Nt(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,$i(t),i=_t(i),a=a(i),t.flags|=1,Nt(e,t,a,n),t.child;case 14:return Kp(e,t,t.type,t.pendingProps,n);case 15:return Wh(e,t,t.type,t.pendingProps,n);case 19:return Vh(e,t,n);case 31:return Iy(e,t,n);case 22:return Xh(e,t,n,t.pendingProps);case 24:return $i(t),a=_t(ot),e===null?(i=ad(),i===null&&(i=Ee,l=nd(),i.pooledCache=l,l.refCount++,l!==null&&(i.pooledCacheLanes|=n),i=l),t.memoizedState={parent:a,cache:i},od(t),ui(t,ot,i)):(e.lanes&n&&(su(e,t),Bl(t,null,null,n),Nl()),i=e.memoizedState,l=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),ui(t,ot,a)):(a=l.cache,ui(t,ot,a),a!==i.cache&&ou(t,[ot],n,!0))),Nt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(E(156,t.tag))}function Da(e){e.flags|=4}function Cc(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(b0())e.flags|=8192;else throw Zi=lr,id}else e.flags&=-16777217}function of(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!G0(t))if(b0())e.flags|=8192;else throw Zi=lr,id}function Is(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?vg():536870912,e.lanes|=t,Zo|=t)}function ml(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function zy(e,t,n){var a=t.pendingProps;switch(td(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Re(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),qa(ot),Yo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(go(t)?Da(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gc())),Re(t),null;case 26:var i=t.type,l=t.memoizedState;return e===null?(Da(t),l!==null?(Re(t),of(t,l)):(Re(t),Cc(t,i,null,a,n))):l?l!==e.memoizedState?(Da(t),Re(t),of(t,l)):(Re(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Da(t),Re(t),Cc(t,i,e,a,n)),null;case 27:if($s(t),n=bi.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Da(t);else{if(!a){if(t.stateNode===null)throw Error(E(166));return Re(t),null}e=ya.current,go(t)?Ep(t):(e=F0(i,a,n),t.stateNode=e,Da(t))}return Re(t),null;case 5:if($s(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Da(t);else{if(!a){if(t.stateNode===null)throw Error(E(166));return Re(t),null}if(l=ya.current,go(t))Ep(t);else{var s=vr(bi.current);switch(l){case 1:l=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:l=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":l=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":l=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":l=s.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof a.is=="string"?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?l.multiple=!0:a.size&&(l.size=a.size);break;default:l=typeof a.is=="string"?s.createElement(i,{is:a.is}):s.createElement(i)}}l[Bt]=t,l[dn]=a;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)l.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=l;e:switch(Ht(l,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Da(t)}}return Re(t),Cc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Da(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(E(166));if(e=bi.current,go(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Rt,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Bt]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||B0(e.nodeValue,n)),e||Mi(t,!0)}else e=vr(e).createTextNode(a),e[Bt]=t,t.stateNode=e}return Re(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=go(t),n!==null){if(e===null){if(!a)throw Error(E(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(557));e[Bt]=t}else Pi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),e=!1}else n=gc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Sn(t),t):(Sn(t),null);if(t.flags&128)throw Error(E(558))}return Re(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=go(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Bt]=t}else Pi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),i=!1}else i=gc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Sn(t),t):(Sn(t),null)}return Sn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Is(t,t.updateQueue),Re(t),null);case 4:return Yo(),e===null&&Id(t.stateNode.containerInfo),Re(t),null;case 10:return qa(t.type),Re(t),null;case 19:if(Ct($e),a=t.memoizedState,a===null)return Re(t),null;if(i=(t.flags&128)!==0,l=a.rendering,l===null)if(i)ml(a,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=rr(e),l!==null){for(t.flags|=128,ml(a,!1),e=l.updateQueue,t.updateQueue=e,Is(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Zg(n,e),n=n.sibling;return Ne($e,$e.current&1|2),ve&&Ra(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&wn()>gr&&(t.flags|=128,i=!0,ml(a,!1),t.lanes=4194304)}else{if(!i)if(e=rr(l),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Is(t,e),ml(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!ve)return Re(t),null}else 2*wn()-a.renderingStartTime>gr&&n!==536870912&&(t.flags|=128,i=!0,ml(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(e=a.last,e!==null?e.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=wn(),e.sibling=null,n=$e.current,Ne($e,i?n&1|2:n&1),ve&&Ra(t,a.treeForkCount),e):(Re(t),null);case 22:case 23:return Sn(t),ld(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),n=t.updateQueue,n!==null&&Is(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&Ct(Ji),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),qa(ot),Re(t),null;case 25:return null;case 30:return null}throw Error(E(156,t.tag))}function Oy(e,t){switch(td(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qa(ot),Yo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $s(t),null;case 31:if(t.memoizedState!==null){if(Sn(t),t.alternate===null)throw Error(E(340));Pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Sn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct($e),null;case 4:return Yo(),null;case 10:return qa(t.type),null;case 22:case 23:return Sn(t),ld(),e!==null&&Ct(Ji),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return qa(ot),null;case 25:return null;default:return null}}function Zh(e,t){switch(td(t),t.tag){case 3:qa(ot),Yo();break;case 26:case 27:case 5:$s(t);break;case 4:Yo();break;case 31:t.memoizedState!==null&&Sn(t);break;case 13:Sn(t);break;case 19:Ct($e);break;case 10:qa(t.type);break;case 22:case 23:Sn(t),ld(),e!==null&&Ct(Ji);break;case 24:qa(ot)}}function us(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var l=n.create,s=n.inst;a=l(),s.destroy=a}n=n.next}while(n!==i)}}catch(r){Ie(t,t.return,r)}}function zi(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var l=i.next;a=l;do{if((a.tag&e)===e){var s=a.inst,r=s.destroy;if(r!==void 0){s.destroy=void 0,i=t;var c=n,m=r;try{m()}catch(w){Ie(i,c,w)}}}a=a.next}while(a!==l)}}catch(w){Ie(t,t.return,w)}}function Kh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{lh(t,n)}catch(a){Ie(e,e.return,a)}}}function Ph(e,t,n){n.props=no(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Ie(e,t,a)}}function _l(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){Ie(e,t,i)}}function xa(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){Ie(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ie(e,t,i)}else n.current=null}function $h(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){Ie(e,e.return,i)}}function wc(e,t,n){try{var a=e.stateNode;$y(a,e.type,n,t),a[dn]=t}catch(i){Ie(e,e.return,i)}}function e0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ei(e.type)||e.tag===4}function kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||e0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ei(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=La));else if(a!==4&&(a===27&&Ei(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yu(e,t,n),e=e.sibling;e!==null;)yu(e,t,n),e=e.sibling}function fr(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Ei(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(fr(e,t,n),e=e.sibling;e!==null;)fr(e,t,n),e=e.sibling}function t0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ht(t,a,n),t[Bt]=e,t[dn]=n}catch(l){Ie(e,e.return,l)}}var Ha=!1,it=!1,jc=!1,lf=typeof WeakSet=="function"?WeakSet:Set,St=null;function Dy(e,t){if(e=e.containerInfo,ku=wr,e=Gg(e),Zu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,r=-1,c=-1,m=0,w=0,T=e,y=null;t:for(;;){for(var S;T!==n||i!==0&&T.nodeType!==3||(r=s+i),T!==l||a!==0&&T.nodeType!==3||(c=s+a),T.nodeType===3&&(s+=T.nodeValue.length),(S=T.firstChild)!==null;)y=T,T=S;for(;;){if(T===e)break t;if(y===n&&++m===i&&(r=s),y===l&&++w===a&&(c=s),(S=T.nextSibling)!==null)break;T=y,y=T.parentNode}T=S}n=r===-1||c===-1?null:{start:r,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ju={focusedElem:e,selectionRange:n},wr=!1,St=t;St!==null;)if(t=St,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,St=e;else for(;St!==null;){switch(t=St,l=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&l!==null){e=void 0,n=t,i=l.memoizedProps,l=l.memoizedState,a=n.stateNode;try{var A=no(n.type,i);e=a.getSnapshotBeforeUpdate(A,l),a.__reactInternalSnapshotBeforeUpdate=e}catch(H){Ie(n,n.return,H)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Iu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Iu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(E(163))}if(e=t.sibling,e!==null){e.return=t.return,St=e;break}St=t.return}}function n0(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Na(e,n),a&4&&us(5,n);break;case 1:if(Na(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Ie(n,n.return,s)}else{var i=no(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Ie(n,n.return,s)}}a&64&&Kh(n),a&512&&_l(n,n.return);break;case 3:if(Na(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{lh(e,t)}catch(s){Ie(n,n.return,s)}}break;case 27:t===null&&a&4&&t0(n);case 26:case 5:Na(e,n),t===null&&a&4&&$h(n),a&512&&_l(n,n.return);break;case 12:Na(e,n);break;case 31:Na(e,n),a&4&&o0(e,n);break;case 13:Na(e,n),a&4&&l0(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Uy.bind(null,n),sb(e,n))));break;case 22:if(a=n.memoizedState!==null||Ha,!a){t=t!==null&&t.memoizedState!==null||it,i=Ha;var l=it;Ha=a,(it=t)&&!l?Ba(e,n,(n.subtreeFlags&8772)!==0):Na(e,n),Ha=i,it=l}break;case 30:break;default:Na(e,n)}}function a0(e){var t=e.alternate;t!==null&&(e.alternate=null,a0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,rn=!1;function Ea(e,t,n){for(n=n.child;n!==null;)i0(e,t,n),n=n.sibling}function i0(e,t,n){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(as,n)}catch{}switch(n.tag){case 26:it||xa(n,t),Ea(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:it||xa(n,t);var a=qe,i=rn;Ei(n.type)&&(qe=n.stateNode,rn=!1),Ea(e,t,n),Ul(n.stateNode),qe=a,rn=i;break;case 5:it||xa(n,t);case 6:if(a=qe,i=rn,qe=null,Ea(e,t,n),qe=a,rn=i,qe!==null)if(rn)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(n.stateNode)}catch(l){Ie(n,t,l)}else try{qe.removeChild(n.stateNode)}catch(l){Ie(n,t,l)}break;case 18:qe!==null&&(rn?(e=qe,bf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),el(e)):bf(qe,n.stateNode));break;case 4:a=qe,i=rn,qe=n.stateNode.containerInfo,rn=!0,Ea(e,t,n),qe=a,rn=i;break;case 0:case 11:case 14:case 15:zi(2,n,t),it||zi(4,n,t),Ea(e,t,n);break;case 1:it||(xa(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Ph(n,t,a)),Ea(e,t,n);break;case 21:Ea(e,t,n);break;case 22:it=(a=it)||n.memoizedState!==null,Ea(e,t,n),it=a;break;default:Ea(e,t,n)}}function o0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{el(e)}catch(n){Ie(t,t.return,n)}}}function l0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{el(e)}catch(n){Ie(t,t.return,n)}}function Ey(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lf),t;default:throw Error(E(435,e.tag))}}function Ms(e,t){var n=Ey(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=Gy.bind(null,e,a);a.then(i,i)}})}function on(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],l=e,s=t,r=s;e:for(;r!==null;){switch(r.tag){case 27:if(Ei(r.type)){qe=r.stateNode,rn=!1;break e}break;case 5:qe=r.stateNode,rn=!1;break e;case 3:case 4:qe=r.stateNode.containerInfo,rn=!0;break e}r=r.return}if(qe===null)throw Error(E(160));i0(l,s,i),qe=null,rn=!1,l=i.alternate,l!==null&&(l.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)s0(t,e),t=t.sibling}var ta=null;function s0(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(t,e),ln(e),a&4&&(zi(3,e,e.return),us(3,e),zi(5,e,e.return));break;case 1:on(t,e),ln(e),a&512&&(it||n===null||xa(n,n.return)),a&64&&Ha&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=ta;if(on(t,e),ln(e),a&512&&(it||n===null||xa(n,n.return)),a&4){var l=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":l=i.getElementsByTagName("title")[0],(!l||l[ls]||l[Bt]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=i.createElement(a),i.head.insertBefore(l,i.querySelector("head > title"))),Ht(l,a,n),l[Bt]=e,Tt(l),a=l;break e;case"link":var s=jf("link","href",i).get(a+(n.href||""));if(s){for(var r=0;r<s.length;r++)if(l=s[r],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(r,1);break t}}l=i.createElement(a),Ht(l,a,n),i.head.appendChild(l);break;case"meta":if(s=jf("meta","content",i).get(a+(n.content||""))){for(r=0;r<s.length;r++)if(l=s[r],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(r,1);break t}}l=i.createElement(a),Ht(l,a,n),i.head.appendChild(l);break;default:throw Error(E(468,a))}l[Bt]=e,Tt(l),a=l}e.stateNode=a}else Af(i,e.type,e.stateNode);else e.stateNode=kf(i,a,e.memoizedProps);else l!==a?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,a===null?Af(i,e.type,e.stateNode):kf(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&wc(e,e.memoizedProps,n.memoizedProps)}break;case 27:on(t,e),ln(e),a&512&&(it||n===null||xa(n,n.return)),n!==null&&a&4&&wc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(on(t,e),ln(e),a&512&&(it||n===null||xa(n,n.return)),e.flags&32){i=e.stateNode;try{Xo(i,"")}catch(A){Ie(e,e.return,A)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,wc(e,i,n!==null?n.memoizedProps:i)),a&1024&&(jc=!0);break;case 6:if(on(t,e),ln(e),a&4){if(e.stateNode===null)throw Error(E(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(A){Ie(e,e.return,A)}}break;case 3:if(Vs=null,i=ta,ta=Sr(t.containerInfo),on(t,e),ta=i,ln(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{el(t.containerInfo)}catch(A){Ie(e,e.return,A)}jc&&(jc=!1,r0(e));break;case 4:a=ta,ta=Sr(e.stateNode.containerInfo),on(t,e),ln(e),ta=a;break;case 12:on(t,e),ln(e);break;case 31:on(t,e),ln(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ms(e,a)));break;case 13:on(t,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Lr=wn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ms(e,a)));break;case 22:i=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,m=Ha,w=it;if(Ha=m||i,it=w||c,on(t,e),it=w,Ha=m,ln(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||c||Ha||it||Xi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(l=c.stateNode,i)s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{r=c.stateNode;var T=c.memoizedProps.style,y=T!=null&&T.hasOwnProperty("display")?T.display:null;r.style.display=y==null||typeof y=="boolean"?"":(""+y).trim()}}catch(A){Ie(c,c.return,A)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(A){Ie(c,c.return,A)}}}else if(t.tag===18){if(n===null){c=t;try{var S=c.stateNode;i?vf(S,!0):vf(c.stateNode,!1)}catch(A){Ie(c,c.return,A)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ms(e,n))));break;case 19:on(t,e),ln(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ms(e,a)));break;case 30:break;case 21:break;default:on(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(e0(a)){n=a;break}a=a.return}if(n==null)throw Error(E(160));switch(n.tag){case 27:var i=n.stateNode,l=kc(e);fr(e,l,i);break;case 5:var s=n.stateNode;n.flags&32&&(Xo(s,""),n.flags&=-33);var r=kc(e);fr(e,r,s);break;case 3:case 4:var c=n.stateNode.containerInfo,m=kc(e);yu(e,m,c);break;default:throw Error(E(161))}}catch(w){Ie(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function r0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;r0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Na(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)n0(e,t.alternate,t),t=t.sibling}function Xi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zi(4,t,t.return),Xi(t);break;case 1:xa(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Ph(t,t.return,n),Xi(t);break;case 27:Ul(t.stateNode);case 26:case 5:xa(t,t.return),Xi(t);break;case 22:t.memoizedState===null&&Xi(t);break;case 30:Xi(t);break;default:Xi(t)}e=e.sibling}}function Ba(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,l=t,s=l.flags;switch(l.tag){case 0:case 11:case 15:Ba(i,l,n),us(4,l);break;case 1:if(Ba(i,l,n),a=l,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(m){Ie(a,a.return,m)}if(a=l,i=a.updateQueue,i!==null){var r=a.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)oh(c[i],r)}catch(m){Ie(a,a.return,m)}}n&&s&64&&Kh(l),_l(l,l.return);break;case 27:t0(l);case 26:case 5:Ba(i,l,n),n&&a===null&&s&4&&$h(l),_l(l,l.return);break;case 12:Ba(i,l,n);break;case 31:Ba(i,l,n),n&&s&4&&o0(i,l);break;case 13:Ba(i,l,n),n&&s&4&&l0(i,l);break;case 22:l.memoizedState===null&&Ba(i,l,n),_l(l,l.return);break;case 30:break;default:Ba(i,l,n)}t=t.sibling}}function Td(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&rs(n))}function Cd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rs(e))}function $n(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c0(e,t,n,a),t=t.sibling}function c0(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$n(e,t,n,a),i&2048&&us(9,t);break;case 1:$n(e,t,n,a);break;case 3:$n(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rs(e)));break;case 12:if(i&2048){$n(e,t,n,a),e=t.stateNode;try{var l=t.memoizedProps,s=l.id,r=l.onPostCommit;typeof r=="function"&&r(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Ie(t,t.return,c)}}else $n(e,t,n,a);break;case 31:$n(e,t,n,a);break;case 13:$n(e,t,n,a);break;case 23:break;case 22:l=t.stateNode,s=t.alternate,t.memoizedState!==null?l._visibility&2?$n(e,t,n,a):Hl(e,t):l._visibility&2?$n(e,t,n,a):(l._visibility|=2,Co(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Td(s,t);break;case 24:$n(e,t,n,a),i&2048&&Cd(t.alternate,t);break;default:$n(e,t,n,a)}}function Co(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var l=e,s=t,r=n,c=a,m=s.flags;switch(s.tag){case 0:case 11:case 15:Co(l,s,r,c,i),us(8,s);break;case 23:break;case 22:var w=s.stateNode;s.memoizedState!==null?w._visibility&2?Co(l,s,r,c,i):Hl(l,s):(w._visibility|=2,Co(l,s,r,c,i)),i&&m&2048&&Td(s.alternate,s);break;case 24:Co(l,s,r,c,i),i&&m&2048&&Cd(s.alternate,s);break;default:Co(l,s,r,c,i)}t=t.sibling}}function Hl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:Hl(n,a),i&2048&&Td(a.alternate,a);break;case 24:Hl(n,a),i&2048&&Cd(a.alternate,a);break;default:Hl(n,a)}t=t.sibling}}var Al=8192;function ho(e,t,n){if(e.subtreeFlags&Al)for(e=e.child;e!==null;)u0(e,t,n),e=e.sibling}function u0(e,t,n){switch(e.tag){case 26:ho(e,t,n),e.flags&Al&&e.memoizedState!==null&&bb(n,ta,e.memoizedState,e.memoizedProps);break;case 5:ho(e,t,n);break;case 3:case 4:var a=ta;ta=Sr(e.stateNode.containerInfo),ho(e,t,n),ta=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Al,Al=16777216,ho(e,t,n),Al=a):ho(e,t,n));break;default:ho(e,t,n)}}function d0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];St=a,f0(a,e)}d0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)p0(e),e=e.sibling}function p0(e){switch(e.tag){case 0:case 11:case 15:xl(e),e.flags&2048&&zi(9,e,e.return);break;case 3:xl(e);break;case 12:xl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xs(e)):xl(e);break;default:xl(e)}}function Xs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];St=a,f0(a,e)}d0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zi(8,t,t.return),Xs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Xs(t));break;default:Xs(t)}e=e.sibling}}function f0(e,t){for(;St!==null;){var n=St;switch(n.tag){case 0:case 11:case 15:zi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:rs(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,St=a;else e:for(n=e;St!==null;){a=St;var i=a.sibling,l=a.return;if(a0(a),a===n){St=null;break e}if(i!==null){i.return=l,St=i;break e}St=l}}}var Ny={getCacheForType:function(e){var t=_t(ot),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return _t(ot).controller.signal}},By=typeof WeakMap=="function"?WeakMap:Map,we=0,Ee=null,me=null,xe=0,je=0,vn=null,mi=!1,ll=!1,wd=!1,Ja=0,Pe=0,Oi=0,Ki=0,kd=0,Cn=0,Zo=0,Fl=null,cn=null,bu=!1,Lr=0,g0=0,gr=1/0,hr=null,Ci=null,ht=0,wi=null,Ko=null,Ya=0,vu=0,Su=null,h0=null,Ll=0,Tu=null;function An(){return we&2&&xe!==0?xe&-xe:oe.T!==null?Ad():wg()}function m0(){if(Cn===0)if(!(xe&536870912)||ve){var e=Ss;Ss<<=1,!(Ss&3932160)&&(Ss=262144),Cn=e}else Cn=536870912;return e=Mn.current,e!==null&&(e.flags|=32),Cn}function un(e,t,n){(e===Ee&&(je===2||je===9)||e.cancelPendingCommit!==null)&&(Po(e,0),xi(e,xe,Cn,!1)),os(e,n),(!(we&2)||e!==Ee)&&(e===Ee&&(!(we&2)&&(Ki|=n),Pe===4&&xi(e,xe,Cn,!1)),va(e))}function x0(e,t,n){if(we&6)throw Error(E(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||is(e,t),i=a?Hy(e,t):Ac(e,t,!0),l=a;do{if(i===0){ll&&!a&&xi(e,t,0,!1);break}else{if(n=e.current.alternate,l&&!Ry(n)){i=Ac(e,t,!1),l=!1;continue}if(i===2){if(l=t,e.errorRecoveryDisabledLanes&l)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var r=e;i=Fl;var c=r.current.memoizedState.isDehydrated;if(c&&(Po(r,s).flags|=256),s=Ac(r,s,!1),s!==2){if(wd&&!c){r.errorRecoveryDisabledLanes|=l,Ki|=l,i=4;break e}l=cn,cn=i,l!==null&&(cn===null?cn=l:cn.push.apply(cn,l))}i=s}if(l=!1,i!==2)continue}}if(i===1){Po(e,0),xi(e,t,0,!0);break}e:{switch(a=e,l=i,l){case 0:case 1:throw Error(E(345));case 4:if((t&4194048)!==t)break;case 6:xi(a,t,Cn,!mi);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(E(329))}if((t&62914560)===t&&(i=Lr+300-wn(),10<i)){if(xi(a,t,Cn,!mi),Mr(a,0,!0)!==0)break e;Ya=t,a.timeoutHandle=_0(sf.bind(null,a,n,cn,hr,bu,t,Cn,Ki,Zo,mi,l,"Throttled",-0,0),i);break e}sf(a,n,cn,hr,bu,t,Cn,Ki,Zo,mi,l,null,-0,0)}}break}while(!0);va(e)}function sf(e,t,n,a,i,l,s,r,c,m,w,T,y,S){if(e.timeoutHandle=-1,T=t.subtreeFlags,T&8192||(T&16785408)===16785408){T={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:La},u0(t,l,T);var A=(l&62914560)===l?Lr-wn():(l&4194048)===l?g0-wn():0;if(A=vb(T,A),A!==null){Ya=l,e.cancelPendingCommit=A(cf.bind(null,e,t,l,n,a,i,s,r,c,w,T,null,y,S)),xi(e,l,s,!m);return}}cf(e,t,l,n,a,i,s,r,c)}function Ry(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],l=i.getSnapshot;i=i.value;try{if(!In(l(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xi(e,t,n,a){t&=~kd,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var l=31-jn(i),s=1<<l;a[l]=-1,i&=~s}n!==0&&Sg(e,n,t)}function Ur(){return we&6?!0:(ds(0),!1)}function jd(){if(me!==null){if(je===0)var e=me.return;else e=me,Ua=so=null,dd(e),Uo=null,Vl=0,e=me;for(;e!==null;)Zh(e.alternate,e),e=e.return;me=null}}function Po(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,nb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ya=0,jd(),Ee=e,me=n=Ga(e.current,null),xe=t,je=0,vn=null,mi=!1,ll=is(e,t),wd=!1,Zo=Cn=kd=Ki=Oi=Pe=0,cn=Fl=null,bu=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-jn(a),l=1<<i;t|=e[i],a&=~l}return Ja=t,Er(),n}function y0(e,t){fe=null,oe.H=Zl,t===ol||t===Br?(t=Hp(),je=3):t===id?(t=Hp(),je=4):je=t===vd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,vn=t,me===null&&(Pe=1,dr(e,qn(t,e.current)))}function b0(){var e=Mn.current;return e===null?!0:(xe&4194048)===xe?Wn===null:(xe&62914560)===xe||xe&536870912?e===Wn:!1}function v0(){var e=oe.H;return oe.H=Zl,e===null?Zl:e}function S0(){var e=oe.A;return oe.A=Ny,e}function mr(){Pe=4,mi||(xe&4194048)!==xe&&Mn.current!==null||(ll=!0),!(Oi&134217727)&&!(Ki&134217727)||Ee===null||xi(Ee,xe,Cn,!1)}function Ac(e,t,n){var a=we;we|=2;var i=v0(),l=S0();(Ee!==e||xe!==t)&&(hr=null,Po(e,t)),t=!1;var s=Pe;e:do try{if(je!==0&&me!==null){var r=me,c=vn;switch(je){case 8:jd(),s=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(t=!0);var m=je;if(je=0,vn=null,Ro(e,r,c,m),n&&ll){s=0;break e}break;default:m=je,je=0,vn=null,Ro(e,r,c,m)}}_y(),s=Pe;break}catch(w){y0(e,w)}while(!0);return t&&e.shellSuspendCounter++,Ua=so=null,we=a,oe.H=i,oe.A=l,me===null&&(Ee=null,xe=0,Er()),s}function _y(){for(;me!==null;)T0(me)}function Hy(e,t){var n=we;we|=2;var a=v0(),i=S0();Ee!==e||xe!==t?(hr=null,gr=wn()+500,Po(e,t)):ll=is(e,t);e:do try{if(je!==0&&me!==null){t=me;var l=vn;t:switch(je){case 1:je=0,vn=null,Ro(e,t,l,1);break;case 2:case 9:if(_p(l)){je=0,vn=null,rf(t);break}t=function(){je!==2&&je!==9||Ee!==e||(je=7),va(e)},l.then(t,t);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:_p(l)?(je=0,vn=null,rf(t)):(je=0,vn=null,Ro(e,t,l,7));break;case 5:var s=null;switch(me.tag){case 26:s=me.memoizedState;case 5:case 27:var r=me;if(s?G0(s):r.stateNode.complete){je=0,vn=null;var c=r.sibling;if(c!==null)me=c;else{var m=r.return;m!==null?(me=m,Gr(m)):me=null}break t}}je=0,vn=null,Ro(e,t,l,5);break;case 6:je=0,vn=null,Ro(e,t,l,6);break;case 8:jd(),Pe=6;break e;default:throw Error(E(462))}}Fy();break}catch(w){y0(e,w)}while(!0);return Ua=so=null,oe.H=a,oe.A=i,we=n,me!==null?0:(Ee=null,xe=0,Er(),Pe)}function Fy(){for(;me!==null&&!rx();)T0(me)}function T0(e){var t=Jh(e.alternate,e,Ja);e.memoizedProps=e.pendingProps,t===null?Gr(e):me=t}function rf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ef(n,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=ef(n,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:dd(t);default:Zh(n,t),t=me=Zg(t,Ja),t=Jh(n,t,Ja)}e.memoizedProps=e.pendingProps,t===null?Gr(e):me=t}function Ro(e,t,n,a){Ua=so=null,dd(t),Uo=null,Vl=0;var i=t.return;try{if(Ay(e,i,t,n,xe)){Pe=1,dr(e,qn(n,e.current)),me=null;return}}catch(l){if(i!==null)throw me=i,l;Pe=1,dr(e,qn(n,e.current)),me=null;return}t.flags&32768?(ve||a===1?e=!0:ll||xe&536870912?e=!1:(mi=e=!0,(a===2||a===9||a===3||a===6)&&(a=Mn.current,a!==null&&a.tag===13&&(a.flags|=16384))),C0(t,e)):Gr(t)}function Gr(e){var t=e;do{if(t.flags&32768){C0(t,mi);return}e=t.return;var n=zy(t.alternate,t,Ja);if(n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);Pe===0&&(Pe=5)}function C0(e,t){do{var n=Oy(e.alternate,e);if(n!==null){n.flags&=32767,me=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=n}while(e!==null);Pe=6,me=null}function cf(e,t,n,a,i,l,s,r,c){e.cancelPendingCommit=null;do qr();while(ht!==0);if(we&6)throw Error(E(327));if(t!==null){if(t===e.current)throw Error(E(177));if(l=t.lanes|t.childLanes,l|=Ku,yx(e,n,l,s,r,c),e===Ee&&(me=Ee=null,xe=0),Ko=t,wi=e,Ya=n,vu=l,Su=i,h0=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,qy(er,function(){return I0(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=oe.T,oe.T=null,i=ke.p,ke.p=2,s=we,we|=4;try{Dy(e,t,n)}finally{we=s,ke.p=i,oe.T=a}}ht=1,w0(),k0(),j0()}}function w0(){if(ht===1){ht=0;var e=wi,t=Ko,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=oe.T,oe.T=null;var a=ke.p;ke.p=2;var i=we;we|=4;try{s0(t,e);var l=ju,s=Gg(e.containerInfo),r=l.focusedElem,c=l.selectionRange;if(s!==r&&r&&r.ownerDocument&&Ug(r.ownerDocument.documentElement,r)){if(c!==null&&Zu(r)){var m=c.start,w=c.end;if(w===void 0&&(w=m),"selectionStart"in r)r.selectionStart=m,r.selectionEnd=Math.min(w,r.value.length);else{var T=r.ownerDocument||document,y=T&&T.defaultView||window;if(y.getSelection){var S=y.getSelection(),A=r.textContent.length,H=Math.min(c.start,A),z=c.end===void 0?H:Math.min(c.end,A);!S.extend&&H>z&&(s=z,z=H,H=s);var p=zp(r,H),f=zp(r,z);if(p&&f&&(S.rangeCount!==1||S.anchorNode!==p.node||S.anchorOffset!==p.offset||S.focusNode!==f.node||S.focusOffset!==f.offset)){var h=T.createRange();h.setStart(p.node,p.offset),S.removeAllRanges(),H>z?(S.addRange(h),S.extend(f.node,f.offset)):(h.setEnd(f.node,f.offset),S.addRange(h))}}}}for(T=[],S=r;S=S.parentNode;)S.nodeType===1&&T.push({element:S,left:S.scrollLeft,top:S.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<T.length;r++){var j=T[r];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}wr=!!ku,ju=ku=null}finally{we=i,ke.p=a,oe.T=n}}e.current=t,ht=2}}function k0(){if(ht===2){ht=0;var e=wi,t=Ko,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=oe.T,oe.T=null;var a=ke.p;ke.p=2;var i=we;we|=4;try{n0(e,t.alternate,t)}finally{we=i,ke.p=a,oe.T=n}}ht=3}}function j0(){if(ht===4||ht===3){ht=0,cx();var e=wi,t=Ko,n=Ya,a=h0;t.subtreeFlags&10256||t.flags&10256?ht=5:(ht=0,Ko=wi=null,A0(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ci=null),qu(n),t=t.stateNode,kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(as,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=oe.T,i=ke.p,ke.p=2,oe.T=null;try{for(var l=e.onRecoverableError,s=0;s<a.length;s++){var r=a[s];l(r.value,{componentStack:r.stack})}}finally{oe.T=t,ke.p=i}}Ya&3&&qr(),va(e),i=e.pendingLanes,n&261930&&i&42?e===Tu?Ll++:(Ll=0,Tu=e):Ll=0,ds(0)}}function A0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rs(t)))}function qr(){return w0(),k0(),j0(),I0()}function I0(){if(ht!==5)return!1;var e=wi,t=vu;vu=0;var n=qu(Ya),a=oe.T,i=ke.p;try{ke.p=32>n?32:n,oe.T=null,n=Su,Su=null;var l=wi,s=Ya;if(ht=0,Ko=wi=null,Ya=0,we&6)throw Error(E(331));var r=we;if(we|=4,p0(l.current),c0(l,l.current,s,n),we=r,ds(0,!1),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(as,l)}catch{}return!0}finally{ke.p=i,oe.T=a,A0(e,t)}}function uf(e,t,n){t=qn(n,t),t=hu(e.stateNode,t,2),e=Ti(e,t,2),e!==null&&(os(e,2),va(e))}function Ie(e,t,n){if(e.tag===3)uf(e,e,n);else for(;t!==null;){if(t.tag===3){uf(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ci===null||!Ci.has(a))){e=qn(n,e),n=qh(2),a=Ti(t,n,2),a!==null&&(Yh(n,a,t,e),os(a,2),va(a));break}}t=t.return}}function Ic(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new By;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(wd=!0,i.add(n),e=Ly.bind(null,e,t,n),t.then(e,e))}function Ly(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ee===e&&(xe&n)===n&&(Pe===4||Pe===3&&(xe&62914560)===xe&&300>wn()-Lr?!(we&2)&&Po(e,0):kd|=n,Zo===xe&&(Zo=0)),va(e)}function M0(e,t){t===0&&(t=vg()),e=lo(e,t),e!==null&&(os(e,t),va(e))}function Uy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),M0(e,n)}function Gy(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(E(314))}a!==null&&a.delete(t),M0(e,n)}function qy(e,t){return Uu(e,t)}var xr=null,wo=null,Cu=!1,yr=!1,Mc=!1,yi=0;function va(e){e!==wo&&e.next===null&&(wo===null?xr=wo=e:wo=wo.next=e),yr=!0,Cu||(Cu=!0,Wy())}function ds(e,t){if(!Mc&&yr){Mc=!0;do for(var n=!1,a=xr;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var l=0;else{var s=a.suspendedLanes,r=a.pingedLanes;l=(1<<31-jn(42|e)+1)-1,l&=i&~(s&~r),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,df(a,l))}else l=xe,l=Mr(a,a===Ee?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(l&3)||is(a,l)||(n=!0,df(a,l));a=a.next}while(n);Mc=!1}}function Yy(){z0()}function z0(){yr=Cu=!1;var e=0;yi!==0&&tb()&&(e=yi);for(var t=wn(),n=null,a=xr;a!==null;){var i=a.next,l=O0(a,t);l===0?(a.next=null,n===null?xr=i:n.next=i,i===null&&(wo=n)):(n=a,(e!==0||l&3)&&(yr=!0)),a=i}ht!==0&&ht!==5||ds(e),yi!==0&&(yi=0)}function O0(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var s=31-jn(l),r=1<<s,c=i[s];c===-1?(!(r&n)||r&a)&&(i[s]=xx(r,t)):c<=t&&(e.expiredLanes|=r),l&=~r}if(t=Ee,n=xe,n=Mr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(je===2||je===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ac(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||is(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ac(a),qu(n)){case 2:case 8:n=yg;break;case 32:n=er;break;case 268435456:n=bg;break;default:n=er}return a=D0.bind(null,e),n=Uu(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ac(a),e.callbackPriority=2,e.callbackNode=null,2}function D0(e,t){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(qr()&&e.callbackNode!==n)return null;var a=xe;return a=Mr(e,e===Ee?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(x0(e,a,t),O0(e,wn()),e.callbackNode!=null&&e.callbackNode===n?D0.bind(null,e):null)}function df(e,t){if(qr())return null;x0(e,t,!0)}function Wy(){ab(function(){we&6?Uu(xg,Yy):z0()})}function Ad(){if(yi===0){var e=Qo;e===0&&(e=vs,vs<<=1,!(vs&261888)&&(vs=256)),yi=e}return yi}function pf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_s(""+e)}function ff(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Xy(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var l=pf((i[dn]||null).action),s=a.submitter;s&&(t=(t=s[dn]||null)?pf(t.formAction):s.getAttribute("formAction"),t!==null&&(l=t,s=null));var r=new zr("action","action",null,a,i);e.push({event:r,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(yi!==0){var c=s?ff(i,s):new FormData(i);fu(n,{pending:!0,data:c,method:i.method,action:l},null,c)}}else typeof l=="function"&&(r.preventDefault(),c=s?ff(i,s):new FormData(i),fu(n,{pending:!0,data:c,method:i.method,action:l},l,c))},currentTarget:i}]})}}for(var zc=0;zc<tu.length;zc++){var Oc=tu[zc],Qy=Oc.toLowerCase(),Vy=Oc[0].toUpperCase()+Oc.slice(1);na(Qy,"on"+Vy)}na(Yg,"onAnimationEnd");na(Wg,"onAnimationIteration");na(Xg,"onAnimationStart");na("dblclick","onDoubleClick");na("focusin","onFocus");na("focusout","onBlur");na(uy,"onTransitionRun");na(dy,"onTransitionStart");na(py,"onTransitionCancel");na(Qg,"onTransitionEnd");Wo("onMouseEnter",["mouseout","mouseover"]);Wo("onMouseLeave",["mouseout","mouseover"]);Wo("onPointerEnter",["pointerout","pointerover"]);Wo("onPointerLeave",["pointerout","pointerover"]);ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function E0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var s=a.length-1;0<=s;s--){var r=a[s],c=r.instance,m=r.currentTarget;if(r=r.listener,c!==l&&i.isPropagationStopped())break e;l=r,i.currentTarget=m;try{l(i)}catch(w){nr(w)}i.currentTarget=null,l=c}else for(s=0;s<a.length;s++){if(r=a[s],c=r.instance,m=r.currentTarget,r=r.listener,c!==l&&i.isPropagationStopped())break e;l=r,i.currentTarget=m;try{l(i)}catch(w){nr(w)}i.currentTarget=null,l=c}}}}function he(e,t){var n=t[Qc];n===void 0&&(n=t[Qc]=new Set);var a=e+"__bubble";n.has(a)||(N0(t,e,2,!1),n.add(a))}function Dc(e,t,n){var a=0;t&&(a|=4),N0(n,e,a,t)}var zs="_reactListening"+Math.random().toString(36).slice(2);function Id(e){if(!e[zs]){e[zs]=!0,kg.forEach(function(n){n!=="selectionchange"&&(Jy.has(n)||Dc(n,!1,e),Dc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zs]||(t[zs]=!0,Dc("selectionchange",!1,t))}}function N0(e,t,n,a){switch(Q0(t)){case 2:var i=Cb;break;case 8:i=wb;break;default:i=Dd}n=i.bind(null,t,n,e),i=void 0,!Pc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ec(e,t,n,a,i){var l=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var r=a.stateNode.containerInfo;if(r===i)break;if(s===4)for(s=a.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;r!==null;){if(s=Ao(r),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){a=l=s;continue e}r=r.parentNode}}a=a.return}Eg(function(){var m=l,w=Xu(n),T=[];e:{var y=Vg.get(e);if(y!==void 0){var S=zr,A=e;switch(e){case"keypress":if(Fs(n)===0)break e;case"keydown":case"keyup":S=Gx;break;case"focusin":A="focus",S=rc;break;case"focusout":A="blur",S=rc;break;case"beforeblur":case"afterblur":S=rc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=zx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Wx;break;case Yg:case Wg:case Xg:S=Ex;break;case Qg:S=Qx;break;case"scroll":case"scrollend":S=Ix;break;case"wheel":S=Jx;break;case"copy":case"cut":case"paste":S=Bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Tp;break;case"toggle":case"beforetoggle":S=Kx}var H=(t&4)!==0,z=!H&&(e==="scroll"||e==="scrollend"),p=H?y!==null?y+"Capture":null:y;H=[];for(var f=m,h;f!==null;){var j=f;if(h=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||h===null||p===null||(j=ql(f,p),j!=null&&H.push(Pl(f,j,h))),z)break;f=f.return}0<H.length&&(y=new S(y,A,null,n,w),T.push({event:y,listeners:H}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",y&&n!==Kc&&(A=n.relatedTarget||n.fromElement)&&(Ao(A)||A[nl]))break e;if((S||y)&&(y=w.window===w?w:(y=w.ownerDocument)?y.defaultView||y.parentWindow:window,S?(A=n.relatedTarget||n.toElement,S=m,A=A?Ao(A):null,A!==null&&(z=ns(A),H=A.tag,A!==z||H!==5&&H!==27&&H!==6)&&(A=null)):(S=null,A=m),S!==A)){if(H=vp,j="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(H=Tp,j="onPointerLeave",p="onPointerEnter",f="pointer"),z=S==null?y:kl(S),h=A==null?y:kl(A),y=new H(j,f+"leave",S,n,w),y.target=z,y.relatedTarget=h,j=null,Ao(w)===m&&(H=new H(p,f+"enter",A,n,w),H.target=h,H.relatedTarget=z,j=H),z=j,S&&A)t:{for(H=Zy,p=S,f=A,h=0,j=p;j;j=H(j))h++;j=0;for(var G=f;G;G=H(G))j++;for(;0<h-j;)p=H(p),h--;for(;0<j-h;)f=H(f),j--;for(;h--;){if(p===f||f!==null&&p===f.alternate){H=p;break t}p=H(p),f=H(f)}H=null}else H=null;S!==null&&gf(T,y,S,H,!1),A!==null&&z!==null&&gf(T,z,A,H,!0)}}e:{if(y=m?kl(m):window,S=y.nodeName&&y.nodeName.toLowerCase(),S==="select"||S==="input"&&y.type==="file")var Z=jp;else if(kp(y))if(Fg)Z=sy;else{Z=oy;var k=iy}else S=y.nodeName,!S||S.toLowerCase()!=="input"||y.type!=="checkbox"&&y.type!=="radio"?m&&Wu(m.elementType)&&(Z=jp):Z=ly;if(Z&&(Z=Z(e,m))){Hg(T,Z,n,w);break e}k&&k(e,y,m),e==="focusout"&&m&&y.type==="number"&&m.memoizedProps.value!=null&&Zc(y,"number",y.value)}switch(k=m?kl(m):window,e){case"focusin":(kp(k)||k.contentEditable==="true")&&(zo=k,$c=m,Ol=null);break;case"focusout":Ol=$c=zo=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,Op(T,n,w);break;case"selectionchange":if(cy)break;case"keydown":case"keyup":Op(T,n,w)}var W;if(Ju)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else Mo?Rg(e,n)&&(K="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(K="onCompositionStart");K&&(Bg&&n.locale!=="ko"&&(Mo||K!=="onCompositionStart"?K==="onCompositionEnd"&&Mo&&(W=Ng()):(hi=w,Qu="value"in hi?hi.value:hi.textContent,Mo=!0)),k=br(m,K),0<k.length&&(K=new Sp(K,e,null,n,w),T.push({event:K,listeners:k}),W?K.data=W:(W=_g(n),W!==null&&(K.data=W)))),(W=$x?ey(e,n):ty(e,n))&&(K=br(m,"onBeforeInput"),0<K.length&&(k=new Sp("onBeforeInput","beforeinput",null,n,w),T.push({event:k,listeners:K}),k.data=W)),Xy(T,e,m,n,w)}E0(T,t)})}function Pl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function br(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,l=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||l===null||(i=ql(e,n),i!=null&&a.unshift(Pl(e,i,l)),i=ql(e,t),i!=null&&a.push(Pl(e,i,l))),e.tag===3)return a;e=e.return}return[]}function Zy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gf(e,t,n,a,i){for(var l=t._reactName,s=[];n!==null&&n!==a;){var r=n,c=r.alternate,m=r.stateNode;if(r=r.tag,c!==null&&c===a)break;r!==5&&r!==26&&r!==27||m===null||(c=m,i?(m=ql(n,l),m!=null&&s.unshift(Pl(n,m,c))):i||(m=ql(n,l),m!=null&&s.push(Pl(n,m,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ky=/\r\n?/g,Py=/\u0000|\uFFFD/g;function hf(e){return(typeof e=="string"?e:""+e).replace(Ky,`
`).replace(Py,"")}function B0(e,t){return t=hf(t),hf(e)===t}function Oe(e,t,n,a,i,l){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Xo(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Xo(e,""+a);break;case"className":Cs(e,"class",a);break;case"tabIndex":Cs(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(e,n,a);break;case"style":Dg(e,a,l);break;case"data":if(t!=="object"){Cs(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=_s(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(t!=="input"&&Oe(e,t,"name",i.name,i,null),Oe(e,t,"formEncType",i.formEncType,i,null),Oe(e,t,"formMethod",i.formMethod,i,null),Oe(e,t,"formTarget",i.formTarget,i,null)):(Oe(e,t,"encType",i.encType,i,null),Oe(e,t,"method",i.method,i,null),Oe(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=_s(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=La);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(E(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(E(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=_s(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":he("beforetoggle",e),he("toggle",e),Rs(e,"popover",a);break;case"xlinkActuate":Oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Oa(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Oa(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Oa(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Oa(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Rs(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=jx.get(n)||n,Rs(e,n,a))}}function wu(e,t,n,a,i,l){switch(n){case"style":Dg(e,a,l);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(E(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(E(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Xo(e,a):(typeof a=="number"||typeof a=="bigint")&&Xo(e,""+a);break;case"onScroll":a!=null&&he("scroll",e);break;case"onScrollEnd":a!=null&&he("scrollend",e);break;case"onClick":a!=null&&(e.onclick=La);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jg.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),l=e[dn]||null,l=l!=null?l[n]:null,typeof l=="function"&&e.removeEventListener(t,l,i),typeof a=="function")){typeof l!="function"&&l!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Rs(e,n,a)}}}function Ht(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var a=!1,i=!1,l;for(l in n)if(n.hasOwnProperty(l)){var s=n[l];if(s!=null)switch(l){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(E(137,t));default:Oe(e,t,l,s,n,null)}}i&&Oe(e,t,"srcSet",n.srcSet,n,null),a&&Oe(e,t,"src",n.src,n,null);return;case"input":he("invalid",e);var r=l=s=i=null,c=null,m=null;for(a in n)if(n.hasOwnProperty(a)){var w=n[a];if(w!=null)switch(a){case"name":i=w;break;case"type":s=w;break;case"checked":c=w;break;case"defaultChecked":m=w;break;case"value":l=w;break;case"defaultValue":r=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(E(137,t));break;default:Oe(e,t,a,w,n,null)}}Mg(e,l,r,c,m,s,i,!1);return;case"select":he("invalid",e),a=s=l=null;for(i in n)if(n.hasOwnProperty(i)&&(r=n[i],r!=null))switch(i){case"value":l=r;break;case"defaultValue":s=r;break;case"multiple":a=r;default:Oe(e,t,i,r,n,null)}t=l,n=s,e.multiple=!!a,t!=null?Ho(e,!!a,t,!1):n!=null&&Ho(e,!!a,n,!0);return;case"textarea":he("invalid",e),l=i=a=null;for(s in n)if(n.hasOwnProperty(s)&&(r=n[s],r!=null))switch(s){case"value":a=r;break;case"defaultValue":i=r;break;case"children":l=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(E(91));break;default:Oe(e,t,s,r,n,null)}Og(e,a,i,l);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Oe(e,t,c,a,n,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(a=0;a<Kl.length;a++)he(Kl[a],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(m in n)if(n.hasOwnProperty(m)&&(a=n[m],a!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(E(137,t));default:Oe(e,t,m,a,n,null)}return;default:if(Wu(t)){for(w in n)n.hasOwnProperty(w)&&(a=n[w],a!==void 0&&wu(e,t,w,a,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(a=n[r],a!=null&&Oe(e,t,r,a,n,null))}function $y(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,l=null,s=null,r=null,c=null,m=null,w=null;for(S in n){var T=n[S];if(n.hasOwnProperty(S)&&T!=null)switch(S){case"checked":break;case"value":break;case"defaultValue":c=T;default:a.hasOwnProperty(S)||Oe(e,t,S,null,a,T)}}for(var y in a){var S=a[y];if(T=n[y],a.hasOwnProperty(y)&&(S!=null||T!=null))switch(y){case"type":l=S;break;case"name":i=S;break;case"checked":m=S;break;case"defaultChecked":w=S;break;case"value":s=S;break;case"defaultValue":r=S;break;case"children":case"dangerouslySetInnerHTML":if(S!=null)throw Error(E(137,t));break;default:S!==T&&Oe(e,t,y,S,a,T)}}Jc(e,s,r,c,m,w,l,i);return;case"select":S=s=r=y=null;for(l in n)if(c=n[l],n.hasOwnProperty(l)&&c!=null)switch(l){case"value":break;case"multiple":S=c;default:a.hasOwnProperty(l)||Oe(e,t,l,null,a,c)}for(i in a)if(l=a[i],c=n[i],a.hasOwnProperty(i)&&(l!=null||c!=null))switch(i){case"value":y=l;break;case"defaultValue":r=l;break;case"multiple":s=l;default:l!==c&&Oe(e,t,i,l,a,c)}t=r,n=s,a=S,y!=null?Ho(e,!!n,y,!1):!!a!=!!n&&(t!=null?Ho(e,!!n,t,!0):Ho(e,!!n,n?[]:"",!1));return;case"textarea":S=y=null;for(r in n)if(i=n[r],n.hasOwnProperty(r)&&i!=null&&!a.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:Oe(e,t,r,null,a,i)}for(s in a)if(i=a[s],l=n[s],a.hasOwnProperty(s)&&(i!=null||l!=null))switch(s){case"value":y=i;break;case"defaultValue":S=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(E(91));break;default:i!==l&&Oe(e,t,s,i,a,l)}zg(e,y,S);return;case"option":for(var A in n)if(y=n[A],n.hasOwnProperty(A)&&y!=null&&!a.hasOwnProperty(A))switch(A){case"selected":e.selected=!1;break;default:Oe(e,t,A,null,a,y)}for(c in a)if(y=a[c],S=n[c],a.hasOwnProperty(c)&&y!==S&&(y!=null||S!=null))switch(c){case"selected":e.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Oe(e,t,c,y,a,S)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var H in n)y=n[H],n.hasOwnProperty(H)&&y!=null&&!a.hasOwnProperty(H)&&Oe(e,t,H,null,a,y);for(m in a)if(y=a[m],S=n[m],a.hasOwnProperty(m)&&y!==S&&(y!=null||S!=null))switch(m){case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(E(137,t));break;default:Oe(e,t,m,y,a,S)}return;default:if(Wu(t)){for(var z in n)y=n[z],n.hasOwnProperty(z)&&y!==void 0&&!a.hasOwnProperty(z)&&wu(e,t,z,void 0,a,y);for(w in a)y=a[w],S=n[w],!a.hasOwnProperty(w)||y===S||y===void 0&&S===void 0||wu(e,t,w,y,a,S);return}}for(var p in n)y=n[p],n.hasOwnProperty(p)&&y!=null&&!a.hasOwnProperty(p)&&Oe(e,t,p,null,a,y);for(T in a)y=a[T],S=n[T],!a.hasOwnProperty(T)||y===S||y==null&&S==null||Oe(e,t,T,y,a,S)}function mf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],l=i.transferSize,s=i.initiatorType,r=i.duration;if(l&&r&&mf(s)){for(s=0,r=i.responseEnd,a+=1;a<n.length;a++){var c=n[a],m=c.startTime;if(m>r)break;var w=c.transferSize,T=c.initiatorType;w&&mf(T)&&(c=c.responseEnd,s+=w*(c<r?1:(r-m)/(c-m)))}if(--a,t+=8*(l+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ku=null,ju=null;function vr(e){return e.nodeType===9?e:e.ownerDocument}function xf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nc=null;function tb(){var e=window.event;return e&&e.type==="popstate"?e===Nc?!1:(Nc=e,!0):(Nc=null,!1)}var _0=typeof setTimeout=="function"?setTimeout:void 0,nb=typeof clearTimeout=="function"?clearTimeout:void 0,yf=typeof Promise=="function"?Promise:void 0,ab=typeof queueMicrotask=="function"?queueMicrotask:typeof yf<"u"?function(e){return yf.resolve(null).then(e).catch(ib)}:_0;function ib(e){setTimeout(function(){throw e})}function Ei(e){return e==="head"}function bf(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),el(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ul(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ul(n);for(var l=n.firstChild;l;){var s=l.nextSibling,r=l.nodeName;l[ls]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=s}}else n==="body"&&Ul(e.ownerDocument.body);n=i}while(n);el(t)}function vf(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function Iu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Iu(n),Yu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ob(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ls])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=Xn(e.nextSibling),e===null)break}return null}function lb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xn(e.nextSibling),e===null))return null;return e}function H0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xn(e.nextSibling),e===null))return null;return e}function Mu(e){return e.data==="$?"||e.data==="$~"}function zu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function sb(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ou=null;function Sf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Xn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Tf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function F0(e,t,n){switch(t=vr(n),e){case"html":if(e=t.documentElement,!e)throw Error(E(452));return e;case"head":if(e=t.head,!e)throw Error(E(453));return e;case"body":if(e=t.body,!e)throw Error(E(454));return e;default:throw Error(E(451))}}function Ul(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yu(e)}var Qn=new Map,Cf=new Set;function Sr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Za=ke.d;ke.d={f:rb,r:cb,D:ub,C:db,L:pb,m:fb,X:hb,S:gb,M:mb};function rb(){var e=Za.f(),t=Ur();return e||t}function cb(e){var t=al(e);t!==null&&t.tag===5&&t.type==="form"?Dh(t):Za.r(e)}var sl=typeof document>"u"?null:document;function L0(e,t,n){var a=sl;if(a&&typeof t=="string"&&t){var i=Gn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Cf.has(i)||(Cf.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Ht(t,"link",e),Tt(t),a.head.appendChild(t)))}}function ub(e){Za.D(e),L0("dns-prefetch",e,null)}function db(e,t){Za.C(e,t),L0("preconnect",e,t)}function pb(e,t,n){Za.L(e,t,n);var a=sl;if(a&&e&&t){var i='link[rel="preload"][as="'+Gn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Gn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Gn(n.imageSizes)+'"]')):i+='[href="'+Gn(e)+'"]';var l=i;switch(t){case"style":l=$o(e);break;case"script":l=rl(e)}Qn.has(l)||(e=Le({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Qn.set(l,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(ps(l))||t==="script"&&a.querySelector(fs(l))||(t=a.createElement("link"),Ht(t,"link",e),Tt(t),a.head.appendChild(t)))}}function fb(e,t){Za.m(e,t);var n=sl;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Gn(a)+'"][href="'+Gn(e)+'"]',l=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=rl(e)}if(!Qn.has(l)&&(e=Le({rel:"modulepreload",href:e},t),Qn.set(l,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(fs(l)))return}a=n.createElement("link"),Ht(a,"link",e),Tt(a),n.head.appendChild(a)}}}function gb(e,t,n){Za.S(e,t,n);var a=sl;if(a&&e){var i=_o(a).hoistableStyles,l=$o(e);t=t||"default";var s=i.get(l);if(!s){var r={loading:0,preload:null};if(s=a.querySelector(ps(l)))r.loading=5;else{e=Le({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Qn.get(l))&&Md(e,n);var c=s=a.createElement("link");Tt(c),Ht(c,"link",e),c._p=new Promise(function(m,w){c.onload=m,c.onerror=w}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Qs(s,t,a)}s={type:"stylesheet",instance:s,count:1,state:r},i.set(l,s)}}}function hb(e,t){Za.X(e,t);var n=sl;if(n&&e){var a=_o(n).hoistableScripts,i=rl(e),l=a.get(i);l||(l=n.querySelector(fs(i)),l||(e=Le({src:e,async:!0},t),(t=Qn.get(i))&&zd(e,t),l=n.createElement("script"),Tt(l),Ht(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(i,l))}}function mb(e,t){Za.M(e,t);var n=sl;if(n&&e){var a=_o(n).hoistableScripts,i=rl(e),l=a.get(i);l||(l=n.querySelector(fs(i)),l||(e=Le({src:e,async:!0,type:"module"},t),(t=Qn.get(i))&&zd(e,t),l=n.createElement("script"),Tt(l),Ht(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},a.set(i,l))}}function wf(e,t,n,a){var i=(i=bi.current)?Sr(i):null;if(!i)throw Error(E(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=$o(n.href),n=_o(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=$o(n.href);var l=_o(i).hoistableStyles,s=l.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,s),(l=i.querySelector(ps(e)))&&!l._p&&(s.instance=l,s.state.loading=5),Qn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Qn.set(e,n),l||xb(i,e,n,s.state))),t&&a===null)throw Error(E(528,""));return s}if(t&&a!==null)throw Error(E(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=rl(n),n=_o(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(E(444,e))}}function $o(e){return'href="'+Gn(e)+'"'}function ps(e){return'link[rel="stylesheet"]['+e+"]"}function U0(e){return Le({},e,{"data-precedence":e.precedence,precedence:null})}function xb(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ht(t,"link",n),Tt(t),e.head.appendChild(t))}function rl(e){return'[src="'+Gn(e)+'"]'}function fs(e){return"script[async]"+e}function kf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Gn(n.href)+'"]');if(a)return t.instance=a,Tt(a),a;var i=Le({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Tt(a),Ht(a,"style",i),Qs(a,n.precedence,e),t.instance=a;case"stylesheet":i=$o(n.href);var l=e.querySelector(ps(i));if(l)return t.state.loading|=4,t.instance=l,Tt(l),l;a=U0(n),(i=Qn.get(i))&&Md(a,i),l=(e.ownerDocument||e).createElement("link"),Tt(l);var s=l;return s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),Ht(l,"link",a),t.state.loading|=4,Qs(l,n.precedence,e),t.instance=l;case"script":return l=rl(n.src),(i=e.querySelector(fs(l)))?(t.instance=i,Tt(i),i):(a=n,(i=Qn.get(l))&&(a=Le({},n),zd(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Tt(i),Ht(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(E(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Qs(a,n.precedence,e));return t.instance}function Qs(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,l=i,s=0;s<a.length;s++){var r=a[s];if(r.dataset.precedence===t)l=r;else if(l!==i)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Md(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function zd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Vs=null;function jf(e,t,n){if(Vs===null){var a=new Map,i=Vs=new Map;i.set(n,a)}else i=Vs,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var l=n[i];if(!(l[ls]||l[Bt]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var s=l.getAttribute(t)||"";s=e+s;var r=a.get(s);r?r.push(l):a.set(s,[l])}}return a}function Af(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function yb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function G0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function bb(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=$o(a.href),l=t.querySelector(ps(i));if(l){t=l._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Tr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=l,Tt(l);return}l=t.ownerDocument||t,a=U0(a),(i=Qn.get(i))&&Md(a,i),l=l.createElement("link"),Tt(l);var s=l;s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),Ht(l,"link",a),n.instance=l}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Tr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Bc=0;function vb(e,t){return e.stylesheets&&e.count===0&&Js(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Js(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4+t);0<e.imgBytes&&Bc===0&&(Bc=62500*eb());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Js(e,e.stylesheets),e.unsuspend)){var l=e.unsuspend;e.unsuspend=null,l()}},(e.imgBytes>Bc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Tr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Js(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cr=null;function Js(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cr=new Map,t.forEach(Sb,e),Cr=null,Tr.call(e))}function Sb(e,t){if(!(t.state.loading&4)){var n=Cr.get(e);if(n)var a=n.get(null);else{n=new Map,Cr.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<i.length;l++){var s=i[l];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}i=t.instance,s=i.getAttribute("data-precedence"),l=n.get(s)||a,l===a&&n.set(null,i),n.set(s,i),this.count++,a=Tr.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),l?l.parentNode.insertBefore(i,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var $l={$$typeof:Fa,Provider:null,Consumer:null,_currentValue:Qi,_currentValue2:Qi,_threadCount:0};function Tb(e,t,n,a,i,l,s,r,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.hiddenUpdates=ic(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=l,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function q0(e,t,n,a,i,l,s,r,c,m,w,T){return e=new Tb(e,t,n,s,c,m,w,T,r),t=1,l===!0&&(t|=24),l=Tn(3,null,null,t),e.current=l,l.stateNode=e,t=nd(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:a,isDehydrated:n,cache:t},od(l),e}function Y0(e){return e?(e=Eo,e):Eo}function W0(e,t,n,a,i,l){i=Y0(i),a.context===null?a.context=i:a.pendingContext=i,a=Si(t),a.payload={element:n},l=l===void 0?null:l,l!==null&&(a.callback=l),n=Ti(e,a,t),n!==null&&(un(n,e,t),El(n,e,t))}function If(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Od(e,t){If(e,t),(e=e.alternate)&&If(e,t)}function X0(e){if(e.tag===13||e.tag===31){var t=lo(e,67108864);t!==null&&un(t,e,67108864),Od(e,67108864)}}function Mf(e){if(e.tag===13||e.tag===31){var t=An();t=Gu(t);var n=lo(e,t);n!==null&&un(n,e,t),Od(e,t)}}var wr=!0;function Cb(e,t,n,a){var i=oe.T;oe.T=null;var l=ke.p;try{ke.p=2,Dd(e,t,n,a)}finally{ke.p=l,oe.T=i}}function wb(e,t,n,a){var i=oe.T;oe.T=null;var l=ke.p;try{ke.p=8,Dd(e,t,n,a)}finally{ke.p=l,oe.T=i}}function Dd(e,t,n,a){if(wr){var i=Du(a);if(i===null)Ec(e,t,a,kr,n),zf(e,a);else if(jb(i,e,t,n,a))a.stopPropagation();else if(zf(e,a),t&4&&-1<kb.indexOf(e)){for(;i!==null;){var l=al(i);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var s=Yi(l.pendingLanes);if(s!==0){var r=l;for(r.pendingLanes|=2,r.entangledLanes|=2;s;){var c=1<<31-jn(s);r.entanglements[1]|=c,s&=~c}va(l),!(we&6)&&(gr=wn()+500,ds(0))}}break;case 31:case 13:r=lo(l,2),r!==null&&un(r,l,2),Ur(),Od(l,2)}if(l=Du(a),l===null&&Ec(e,t,a,kr,n),l===i)break;i=l}i!==null&&a.stopPropagation()}else Ec(e,t,a,null,n)}}function Du(e){return e=Xu(e),Ed(e)}var kr=null;function Ed(e){if(kr=null,e=Ao(e),e!==null){var t=ns(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=pg(t),e!==null)return e;e=null}else if(n===31){if(e=fg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return kr=e,null}function Q0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ux()){case xg:return 2;case yg:return 8;case er:case dx:return 32;case bg:return 268435456;default:return 32}default:return 32}}var Eu=!1,ki=null,ji=null,Ai=null,es=new Map,ts=new Map,fi=[],kb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zf(e,t){switch(e){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(t.pointerId)}}function yl(e,t,n,a,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[i]},t!==null&&(t=al(t),t!==null&&X0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jb(e,t,n,a,i){switch(t){case"focusin":return ki=yl(ki,e,t,n,a,i),!0;case"dragenter":return ji=yl(ji,e,t,n,a,i),!0;case"mouseover":return Ai=yl(Ai,e,t,n,a,i),!0;case"pointerover":var l=i.pointerId;return es.set(l,yl(es.get(l)||null,e,t,n,a,i)),!0;case"gotpointercapture":return l=i.pointerId,ts.set(l,yl(ts.get(l)||null,e,t,n,a,i)),!0}return!1}function V0(e){var t=Ao(e.target);if(t!==null){var n=ns(t);if(n!==null){if(t=n.tag,t===13){if(t=pg(n),t!==null){e.blockedOn=t,fp(e.priority,function(){Mf(n)});return}}else if(t===31){if(t=fg(n),t!==null){e.blockedOn=t,fp(e.priority,function(){Mf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Du(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Kc=a,n.target.dispatchEvent(a),Kc=null}else return t=al(n),t!==null&&X0(t),e.blockedOn=n,!1;t.shift()}return!0}function Of(e,t,n){Zs(e)&&n.delete(t)}function Ab(){Eu=!1,ki!==null&&Zs(ki)&&(ki=null),ji!==null&&Zs(ji)&&(ji=null),Ai!==null&&Zs(Ai)&&(Ai=null),es.forEach(Of),ts.forEach(Of)}function Os(e,t){e.blockedOn===t&&(e.blockedOn=null,Eu||(Eu=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,Ab)))}var Ds=null;function Df(e){Ds!==e&&(Ds=e,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,function(){Ds===e&&(Ds=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(Ed(a||n)===null)continue;break}var l=al(n);l!==null&&(e.splice(t,3),t-=3,fu(l,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function el(e){function t(c){return Os(c,e)}ki!==null&&Os(ki,e),ji!==null&&Os(ji,e),Ai!==null&&Os(Ai,e),es.forEach(t),ts.forEach(t);for(var n=0;n<fi.length;n++){var a=fi[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)V0(n),n.blockedOn===null&&fi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],l=n[a+1],s=i[dn]||null;if(typeof l=="function")s||Df(n);else if(s){var r=null;if(l&&l.hasAttribute("formAction")){if(i=l,s=l[dn]||null)r=s.formAction;else if(Ed(i)!==null)continue}else r=s.action;typeof r=="function"?n[a+1]=r:(n.splice(a,3),a-=3),Df(n)}}}function J0(){function e(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Nd(e){this._internalRoot=e}Yr.prototype.render=Nd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));var n=t.current,a=An();W0(n,a,e,t,null,null)};Yr.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;W0(e.current,2,null,e,null,null),Ur(),t[nl]=null}};function Yr(e){this._internalRoot=e}Yr.prototype.unstable_scheduleHydration=function(e){if(e){var t=wg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fi.length&&t!==0&&t<fi[n].priority;n++);fi.splice(n,0,e),n===0&&V0(e)}};var Ef=ug.version;if(Ef!=="19.2.3")throw Error(E(527,Ef,"19.2.3"));ke.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=ax(t),e=e!==null?gg(e):null,e=e===null?null:e.stateNode,e};var Ib={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{as=Es.inject(Ib),kn=Es}catch{}}Ar.createRoot=function(e,t){if(!dg(e))throw Error(E(299));var n=!1,a="",i=Lh,l=Uh,s=Gh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=q0(e,1,!1,null,null,n,a,null,i,l,s,J0),e[nl]=t.current,Id(e),new Nd(t)};Ar.hydrateRoot=function(e,t,n){if(!dg(e))throw Error(E(299));var a=!1,i="",l=Lh,s=Uh,r=Gh,c=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=q0(e,1,!0,t,n??null,a,i,c,l,s,r,J0),t.context=Y0(null),n=t.current,a=An(),a=Gu(a),i=Si(a),i.callback=null,Ti(n,i,a),n=a,t.current.lanes=n,os(t,n),va(t),e[nl]=t.current,Id(e),new Yr(t)};Ar.version="19.2.3";function Z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z0)}catch(e){console.error(e)}}Z0(),ig.exports=Ar;var Mb=ig.exports;const zb=Vf(Mb),gs=()=>{const e=u.useCallback((s,r=.5)=>{try{const c=new Audio(s);c.volume=r,c.play().catch(m=>{console.log("Could not play sound effect:",m)})}catch(c){console.log("Error creating audio:",c)}},[]),t=u.useCallback(()=>{e("/sound/click.mp3",.6)},[e]),n=u.useCallback(()=>{e("/sound/camera.mp3",.7)},[e]),a=u.useCallback(()=>{e("/sound/stamp.mp3",.8)},[e]),i=u.useCallback(()=>{e("/sound/safe.mp3",.7)},[e]),l=u.useCallback(()=>{e("/sound/alert.mp3",.7)},[e]);return{playSound:e,playClickSound:t,playCameraSound:n,playStampSound:a,playSafeSound:i,playAlertSound:l}},Ob={exit:"Exit",continue:"CONTINUE",skip:"Skip",passed:"PASSED",failed:"FAILED",welcome:"Welcome!",aiJourneyTitle:"AI JOURNEY",aiJourneySubtitle:"An Interactive Journey into AI Literacy",start:"Start",continueGame:"Continue",startOver:"Start Over",signIn:"Sign In",signInTitle:"Sign In",signUpTitle:"Sign Up",userName:"User Name",userNameEmail:"User Name/ Email",password:"Password",email:"Email",enterUsername:"Enter username",enterUsernameOrEmail:"Enter username or email",enterPassword:"Enter password",enterEmail:"Enter email address",done:"Done",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",signUp:"Sign Up",invalidCredentials:"Invalid username/email or password",noAccountFound:"No account found. Please sign up first.",userAlreadyExists:"User already exists. Please sign in instead.",selectRegion:"Select a Region",fungiJungle:"FUNGA JUNGLE",desert:"AETHER DESERT",island:"NEXUS ISLAND",glacier:"CORE GLACIER",fungiDescription:"Welcome to the Fungi Jungle! The guardian here is a green robot named Ranger Moss. He usually keeps everything running smoothly. Let's look for him first!",desertDescription:"Welcome back! The guardian here is a yellow robot named 'Alpha'. He is usually responsible for the castle's security system, but something is wrong. Let's find him and ask.",islandDescription:"Welcome to NEXUS ISLAND! Recently, a large number of spies disguised as workers have arrived the island. Before things spiral out of control, go find Sparky and learn how to identify these impostors hiding among the workforce.",glacierDescription:"The most advanced and economically developed region, where GenAI is widely used to optimize resources and decision-making. Explore complex ethical challenges around societal impact, autonomy, and fairness.",easyDifficulty:" (Easy / Introductory)",intermediateDifficulty:" (Intermediate)",advancedDifficulty:" (Advanced)",comingSoon:"Coming Soon",sparkyEnergyManager:"Sparky - Energy Manager",npcConversation:"NPC Conversation",imageEvaluation:"Image Evaluation",questionAndAnswer:"QUESTION AND ANSWER",missionAccepted:"Mission Accepted!",sparkyIntro1:"Bzzzt... System recalibrating... Systems Online. Oh, thank goodness a human is here! I am Sparky, the island's energy manager.",sparkyIntro2:"We have been infiltrated! Do you see those workers wandering around? Many of them aren't real elves.",sparkyIntro3:"They are Generative AI Agents in disguise. They look like us, but they are flooding our grid with bad data.",sparkyIntro4:"Technically speaking, Generative AI is a type of artificial intelligence technology that uses machine learning to create new contentincluding text, imagery, audio, and synthetic datainstead of just analyzing existing data.",sparkyIntro5:"Let me explain simply. Generative AI is like a super-fast student.",sparkyIntro6:"It has read every book and seen every picture in the world. When you ask it to draw, write, or sing, it doesn't 'think' like you do.",sparkyIntro7:"It just guesses what comes next based on patterns. It's like a very clever parrot mimicking humans!",sparkyIntro8:"Yes! Please! I need you to find these AI impostors and remove them from the system.",sparkyIntro9:"Good question. Even though they are smart, they have big weaknesses. Listen carefully.",sparkyIntro10:"First is Hallucinations (The 'Daydreaming').",sparkyIntro11:"Sometimes, they get too confident and just make things up. They might draw hands with six fingers, or tell you facts that are total lies. If it looks or sounds impossible, it's a hallucination!",sparkyIntro12:"Perfect. Here is your mission:",sparkyIntro13:"Go talk to the workers on the islands. Ask them to show you their photos or writing.",sparkyIntro14:"If you spot mistakes or copies, mark them down. There are 9 spies hidden in total. Good luck, Agent!",sparkyIntro15:"Excellent! Your mission is now active. Good luck, Agent!",whatHappened:"What happened here?",whatIsGenerativeAI:"What is Generative AI?",dontGetIt:"I don't get it...",canIHelp:"Can I help you fix it?",howToTellApart:"How do I tell them apart?",gotIt:"Got it.",showPictureWork:"Can you show me a picture of where you work?",showPoster:"Can you show me a poster you have made?",showPhenomenon:"Can you show me some interesting phenomenon here?",whatThinkImage:"What do you think of this image?",sureLetMeShow:"Sure! Let me show you...",sparkyMainIsland:"Sparky is on the Main Island!",lookCloser:"Look closer! Don't be fooled.",checkDetails:"Check the details. Read the text.",checkFacts:"Check the facts. Is that logical?",fakeNews:"AI models often invent 'Fake News' just to sound important.",visualHallucinations:"Visual Hallucinations",textHallucinations:"Text Hallucinations",coreTraitTitle:"The Core Trait",aiIsMean:"The AI is mean",aiLacksEmotion:"AI lacks emotion and common sense",aiIsTired:"The AI is tired",language:"EN/",setting:"SETTING",controlPanel:"CONTROL PANEL",languageSelection:"LANGUAGE SELECTION",systemVolume:"SYSTEM VOLUME",reset:"Reset",applyChanges:"Apply Changes",npc1Island1Dialog1:"Hey! You! Be careful out there.",npc1Island1Dialog2:"I don't know what's going on. A lot of new workers arrived, but they look... wrong.",npc1Island1Dialog3:"You should go to the Main Island . Sparky will know what to do.",npc2Island2Dialog1:"This is a disaster! The new workers are ruining our archives!",npc2Island2Dialog2:"They sound so confident, but they just make things up! Please, head to the Main Island. Find Sparky. He controls the grid!",npc3Island3Dialog1:"It's so boring lately... so eerily boring.",npc3Island3Dialog2:"The new guys? They all look the same.",npc3Island3Dialog3:"Go  find Sparky on the Main Island. He's the only one who can fix this mess.",randomDialog1:"Phew... I am absolutely drained today.",randomDialog2:"My back is killing me...",randomDialog3:"Work, work, work. It never ends.",randomDialog4:"I need a vacation from this island.",randomDialog5:"Yay! Now I can finally charge my phone.",randomDialog6:"Finally! The lights are back on!",randomDialog7:"Thanks for the fix, buddy! It was getting spooky in the dark.",randomDialog8:"Is it lunch time yet?",randomDialog9:"My shell is aching...",sparkyRestored:"Systems online! Oh, that sweet, sweet electricity!",phase2Complete:"Yo! High five! Go Back to the MAIN LAND",phase2GlitchMessage:"Task 2: Spot the GenAI NPC You should talk to all the NPCs before making your decision.",phase1Complete:"System purged! 6/6 Spies caught. Return to Sparky for debrief."},Db={exit:"",continue:"",skip:"",passed:"",failed:"",welcome:"",aiJourneyTitle:"AI ",aiJourneySubtitle:"",start:"",continueGame:"",startOver:"",signIn:"",signInTitle:"",signUpTitle:"",userName:"",userNameEmail:"/",password:"",email:"",enterUsername:"",enterUsernameOrEmail:"",enterPassword:"",enterEmail:"",done:"",alreadyHaveAccount:"",dontHaveAccount:"",signUp:"",invalidCredentials:"/",noAccountFound:"",userAlreadyExists:"",selectRegion:"",fungiJungle:"",desert:"",island:"NEXUS ISLAND",glacier:"",fungiDescription:"",desertDescription:"''",islandDescription:"NEXUS ISLANDSparky",glacierDescription:"AI",easyDifficulty:" ( / )",intermediateDifficulty:" ()",advancedDifficulty:" ()",comingSoon:"",sparkyEnergyManager:"Sparky - ",npcConversation:"NPC",imageEvaluation:"",questionAndAnswer:"",missionAccepted:"",sparkyIntro1:"......Sparky",sparkyIntro2:"",sparkyIntro3:"AI",sparkyIntro4:"AI",sparkyIntro5:"AI",sparkyIntro6:"''",sparkyIntro7:"",sparkyIntro8:"AI",sparkyIntro9:"",sparkyIntro10:"''",sparkyIntro11:"",sparkyIntro12:"",sparkyIntro13:"",sparkyIntro14:"9",sparkyIntro15:"",whatHappened:"",whatIsGenerativeAI:"AI",dontGetIt:"...",canIHelp:"",howToTellApart:"",gotIt:"",showPictureWork:"",showPoster:"",showPhenomenon:"",whatThinkImage:"",sureLetMeShow:"...",sparkyMainIsland:"Sparky",lookCloser:"",checkDetails:"",checkFacts:"",fakeNews:"AI''",visualHallucinations:"",textHallucinations:"",coreTraitTitle:"",aiIsMean:"AI",aiLacksEmotion:"AI",aiIsTired:"AI",language:"EN/",setting:"",controlPanel:"",languageSelection:"",systemVolume:"",reset:"",applyChanges:"",npc1Island1Dialog1:"",npc1Island1Dialog2:"...",npc1Island1Dialog3:" Sparky",npc2Island2Dialog1:"",npc2Island2Dialog2:" Sparky",npc3Island3Dialog1:"...",npc3Island3Dialog2:"",npc3Island3Dialog3:"  Sparky",randomDialog1:"...",randomDialog2:"...",randomDialog3:"",randomDialog4:"",randomDialog5:"",randomDialog6:"",randomDialog7:"",randomDialog8:"",randomDialog9:"...",sparkyRestored:"",phase2Complete:"",phase2GlitchMessage:"2AI NPC NPC",phase1Complete:"6/6 Sparky"},Nf={en:Ob,zh:Db},Eb=(e,t)=>{var n;return((n=Nf[e])==null?void 0:n[t])||Nf.en[t]||t},K0=u.createContext(),Sa=()=>{const e=u.useContext(K0);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},Nb=({children:e})=>{const[t,n]=u.useState("en");u.useEffect(()=>{const s=localStorage.getItem("aiJourneyLanguage");s&&(s==="en"||s==="zh")&&n(s)},[]);const l={language:t,changeLanguage:s=>{n(s),localStorage.setItem("aiJourneyLanguage",s)},t:s=>Eb(t,s)};return o.jsx(K0.Provider,{value:l,children:e})},Bb=({onStart:e,onContinue:t,onSignIn:n,onStartOver:a})=>{const{t:i}=Sa(),[l,s]=u.useState(!1),[r,c]=u.useState(""),{playClickSound:m}=gs();u.useEffect(()=>{const A=localStorage.getItem("aiJourneyUser");if(A){const H=JSON.parse(A);c(H.username||""),s(H.hasStarted===!0)}},[]);const w=()=>{m();const A=localStorage.getItem("aiJourneyUser");if(A){const H=JSON.parse(A);H.hasStarted=!1,H.currentProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(H))}a?a():e()},T=()=>{m(),e()},y=()=>{m(),t?t():e()},S={container:{width:"100vw",height:"100vh",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",margin:0,padding:0,cursor:"url(/icon/spaceship.svg), auto"},backgroundGif:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0},welcome:{position:"absolute",top:"30px",left:"40px",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:400,color:"#fff",zIndex:3},signInButton:{position:"absolute",top:"25px",right:"40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:400,color:"#fff",background:"transparent",border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"8px",padding:"10px 25px",cursor:"pointer",zIndex:3,transition:"all 0.3s ease"},content:{position:"relative",zIndex:2,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},title:{fontFamily:"'Montserrat', sans-serif",fontSize:"90px",fontWeight:800,color:"#fff",marginBottom:"10px",textAlign:"center",letterSpacing:"8px",textShadow:"0 4px 20px rgba(0,0,0,0.5)"},subtitle:{fontFamily:"'Roboto', sans-serif",fontSize:"22px",fontWeight:300,color:"#fff",marginBottom:"50px",textAlign:"center",opacity:.9,textShadow:"0 2px 10px rgba(0,0,0,0.5)"},continueButton:{fontFamily:"'Montserrat', sans-serif",fontSize:"32px",fontWeight:700,color:"#fff",backgroundColor:"#000",border:"3px solid transparent",backgroundImage:"linear-gradient(#000, #000), linear-gradient(90deg, #5170FF, #FF6B9D)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",padding:"25px 120px",borderRadius:"15px",cursor:"pointer",letterSpacing:"3px",transition:"all 0.3s ease",marginBottom:"25px"},startOverButton:{fontFamily:"'Montserrat', sans-serif",fontSize:"22px",fontWeight:600,color:"#fff",background:"transparent",border:"none",padding:"10px 30px",cursor:"pointer",letterSpacing:"2px",opacity:.9,transition:"opacity 0.3s ease",textShadow:"0 2px 10px rgba(0,0,0,0.5)"},cardWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 80px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.18)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)",position:"relative",overflow:"hidden",animation:"floatCard 3s ease-in-out infinite"},cardGradientOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(100, 149, 237, 0.2), rgba(75, 0, 130, 0.15))",borderRadius:"25px",zIndex:0,pointerEvents:"none"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"72px",fontWeight:800,color:"#fff",marginBottom:"16px",textAlign:"center",letterSpacing:"2px",textShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",position:"relative",zIndex:1},cardSubtitle:{fontFamily:"'Roboto', sans-serif",fontSize:"20px",fontWeight:300,color:"#fff",marginBottom:"40px",textAlign:"center",opacity:.95,textShadow:"0 1px 4px rgba(0, 0, 0, 0.3)",position:"relative",zIndex:1},startButton:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:500,color:"#fff",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"16px 60px",borderRadius:"30px",cursor:"pointer",textTransform:"lowercase",letterSpacing:"2px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",position:"relative",zIndex:1},footer:{position:"absolute",bottom:"20px",right:"30px",fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:300,color:"#fff",opacity:.7,zIndex:3,textAlign:"right"},keyframes:`
      @keyframes floatCard {
        0%, 100% { 
          transform: translateY(0px); 
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        50% { 
          transform: translateY(-8px); 
          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
      }
    `};return o.jsxs("div",{style:S.container,children:[o.jsx("style",{children:S.keyframes}),o.jsx("img",{src:"/background/home.gif",alt:"Background",style:S.backgroundGif}),o.jsx("span",{style:S.welcome,children:r?`${i("welcome").replace("!","")}, ${r}!`:i("welcome")}),o.jsx("button",{style:S.signInButton,onClick:n,onMouseOver:A=>{A.target.style.borderColor="#fff",A.target.style.background="rgba(255,255,255,0.1)"},onMouseOut:A=>{A.target.style.borderColor="rgba(255, 255, 255, 0.5)",A.target.style.background="transparent"},children:i("signIn")}),l?o.jsxs("div",{style:S.content,children:[o.jsx("h1",{style:S.title,children:i("aiJourneyTitle")}),o.jsx("p",{style:S.subtitle,children:i("aiJourneySubtitle")}),o.jsx("button",{style:S.continueButton,onClick:y,onMouseOver:A=>{A.target.style.transform="scale(1.05)",A.target.style.boxShadow="0 10px 40px rgba(81, 112, 255, 0.4)"},onMouseOut:A=>{A.target.style.transform="scale(1)",A.target.style.boxShadow="none"},children:i("continueGame")}),o.jsx("button",{style:S.startOverButton,onClick:w,onMouseOver:A=>A.target.style.opacity="0.6",onMouseOut:A=>A.target.style.opacity="0.9",children:i("startOver")})]}):o.jsxs("div",{style:S.cardWrapper,children:[o.jsx("div",{style:S.cardGradientOverlay}),o.jsx("h1",{style:S.cardTitle,children:i("aiJourneyTitle")}),o.jsx("p",{style:S.cardSubtitle,children:i("aiJourneySubtitle")}),o.jsx("button",{style:S.startButton,onClick:T,onMouseOver:A=>{A.target.style.background="rgba(0, 0, 0, 0.8)",A.target.style.transform="scale(1.05)",A.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)"},onMouseOut:A=>{A.target.style.background="rgba(0, 0, 0, 0.6)",A.target.style.transform="scale(1)",A.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:i("start")})]}),o.jsxs("div",{style:S.footer,children:[o.jsx("div",{children:"Ver 0.8.0 Beta"}),o.jsx("div",{children:" 2026 Zhihui ZHANG All Rights Reserved."})]})]})},Rb=({onClose:e,onSignUpComplete:t})=>{const{t:n}=Sa(),[a,i]=u.useState(!1),[l,s]=u.useState({username:"",password:"",email:""}),[r,c]=u.useState(""),[m,w]=u.useState(null),{playClickSound:T}=gs(),y=p=>{const{name:f,value:h}=p.target;s(j=>({...j,[f]:h})),c("")},S=p=>{p.preventDefault(),T();const f=localStorage.getItem("aiJourneyUser");if(f){const h=JSON.parse(f);(h.username===l.username||h.email===l.username)&&h.password===l.password?(console.log("Sign in successful:",h),t&&t(h),e()):c(n("invalidCredentials"))}else c(n("noAccountFound"))},A=p=>{p.preventDefault(),T();const f=localStorage.getItem("aiJourneyUser");if(f){const j=JSON.parse(f);if(j.username===l.username||j.email===l.email){c(n("userAlreadyExists"));return}}console.log("Sign up data:",l);const h={username:l.username,email:l.email,password:l.password,hasStarted:!1,currentProgress:null,createdAt:Date.now()};localStorage.setItem("aiJourneyUser",JSON.stringify(h)),t&&t(h),e()},H=()=>{T(),i(!a),s({username:"",password:"",email:""}),c("")},z={overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{position:"relative",width:"560px",padding:"40px 50px",borderRadius:"25px",background:"rgba(0, 0, 10, 0.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.18)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(81, 112, 255, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1)",animation:"scaleIn 0.3s ease-out"},title:{fontFamily:"'Roboto', sans-serif",fontSize:"24px",fontWeight:400,color:"#fff",textAlign:"center",marginBottom:"35px"},form:{display:"flex",flexDirection:"column",gap:"20px"},inputRow:{display:"flex",alignItems:"center",gap:"20px",position:"relative"},label:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:400,color:"#fff",width:"120px",textAlign:"right",flexShrink:0},inputWrapper:{flex:1,position:"relative",display:"flex",alignItems:"center"},input:{flex:1,fontFamily:"'Roboto', sans-serif",fontSize:"16px",padding:"12px 16px",borderRadius:"25px",border:"2px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(0, 0, 0, 0.3)",color:"#fff",outline:"none",transition:"all 0.3s"},spaceshipIcon:{position:"absolute",right:"15px",width:"24px",height:"24px",opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"},submitButton:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:500,color:"#fff",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",padding:"16px 60px",borderRadius:"30px",cursor:"pointer",letterSpacing:"2px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",marginTop:"15px",position:"relative"},toggleButton:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:400,color:"#5170FF",background:"transparent",border:"none",padding:"10px 15px",cursor:"pointer",textAlign:"center",transition:"opacity 0.2s",textDecoration:"underline"},error:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#ff6b6b",textAlign:"center",marginTop:"10px"},toggleText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",textAlign:"center",marginTop:"20px",opacity:.8}};return o.jsx("div",{style:z.overlay,onClick:e,children:o.jsxs("div",{style:z.modal,onClick:p=>p.stopPropagation(),children:[o.jsx("h2",{style:z.title,children:n(a?"signUpTitle":"signInTitle")}),o.jsxs("form",{style:z.form,onSubmit:a?A:S,children:[o.jsxs("div",{style:z.inputRow,children:[o.jsx("label",{style:z.label,children:n(a?"userName":"userNameEmail")}),o.jsxs("div",{style:z.inputWrapper,children:[o.jsx("input",{type:"text",name:"username",value:l.username,onChange:y,style:z.input,placeholder:n(a?"enterUsername":"enterUsernameOrEmail"),onMouseEnter:()=>w("username"),onMouseLeave:()=>w(null),onFocus:p=>{p.target.style.borderColor="#5170FF",p.target.style.backgroundColor="rgba(0, 0, 0, 0.5)",p.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.5)"},onBlur:p=>{p.target.style.borderColor="rgba(255, 255, 255, 0.3)",p.target.style.backgroundColor="rgba(0, 0, 0, 0.3)",p.target.style.boxShadow="none"},required:!0}),o.jsx("img",{src:"/icon/spaceship.svg",alt:"spaceship",style:{...z.spaceshipIcon,opacity:m==="username"?1:0}})]})]}),o.jsxs("div",{style:z.inputRow,children:[o.jsx("label",{style:z.label,children:n("password")}),o.jsxs("div",{style:z.inputWrapper,children:[o.jsx("input",{type:"password",name:"password",value:l.password,onChange:y,style:z.input,placeholder:n("enterPassword"),onMouseEnter:()=>w("password"),onMouseLeave:()=>w(null),onFocus:p=>{p.target.style.borderColor="#5170FF",p.target.style.backgroundColor="rgba(0, 0, 0, 0.5)",p.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.5)"},onBlur:p=>{p.target.style.borderColor="rgba(255, 255, 255, 0.3)",p.target.style.backgroundColor="rgba(0, 0, 0, 0.3)",p.target.style.boxShadow="none"},required:!0}),o.jsx("img",{src:"/icon/spaceship.svg",alt:"spaceship",style:{...z.spaceshipIcon,opacity:m==="password"?1:0}})]})]}),a&&o.jsxs("div",{style:z.inputRow,children:[o.jsx("label",{style:z.label,children:n("email")}),o.jsxs("div",{style:z.inputWrapper,children:[o.jsx("input",{type:"email",name:"email",value:l.email,onChange:y,style:z.input,placeholder:n("enterEmail"),onMouseEnter:()=>w("email"),onMouseLeave:()=>w(null),onFocus:p=>{p.target.style.borderColor="#5170FF",p.target.style.backgroundColor="rgba(0, 0, 0, 0.5)",p.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.5)"},onBlur:p=>{p.target.style.borderColor="rgba(255, 255, 255, 0.3)",p.target.style.backgroundColor="rgba(0, 0, 0, 0.3)",p.target.style.boxShadow="none"},required:!0}),o.jsx("img",{src:"/icon/spaceship.svg",alt:"spaceship",style:{...z.spaceshipIcon,opacity:m==="email"?1:0}})]})]}),r&&o.jsx("div",{style:z.error,children:r}),o.jsx("button",{type:"submit",style:z.submitButton,onMouseOver:p=>{p.target.style.background="rgba(0, 0, 0, 0.8)",p.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)",p.target.style.transform="translateY(-2px)"},onMouseOut:p=>{p.target.style.background="rgba(0, 0, 0, 0.6)",p.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)",p.target.style.transform="translateY(0)"},children:n("done")})]}),o.jsxs("div",{style:z.toggleText,children:[n(a?"alreadyHaveAccount":"dontHaveAccount"),o.jsx("button",{style:z.toggleButton,onClick:H,onMouseOver:p=>p.target.style.opacity="0.7",onMouseOut:p=>p.target.style.opacity="1",children:n(a?"signInTitle":"signUp")})]})]})})},Gi=[{text:"System reconnecting... Connection established! Signal stable! ly, you're here! Oh, I forgot to introduce myself. Hello there, Human! I'm Glitch. I used to be the fastest Data Sprite in this city!",highlights:["System reconnecting","Connection established","Signal stable","Glitch","Data Sprite"]},{text:"But ever since the Great Blackout, the entire city has been paralyzed. Everyone is trapped. The big robots are frozen without power, and creatures like me... well, I can only fly for short bursts on my emergency battery reserves.",highlights:["Great Blackout","paralyzed","trapped","frozen without power","emergency battery reserves"]},{text:"Our world consumes massive amounts of energy, which comes from four outer regions. To save the city, we need to inspect those areas and restart the main 'Energy Core'.",highlights:["massive amounts of energy","four outer regions","Energy Core"]},{text:"Please, will you help us? If we don't act now, our world will fade into permanent darkness. Here are the four regions... I suggest we start by checking the Fungi Jungle.",highlights:["help us","permanent darkness","four regions","Fungi Jungle"]}],_b=({onComplete:e})=>{var H;const[t,n]=u.useState(0),[a,i]=u.useState(""),[l,s]=u.useState(!0),[r,c]=u.useState(!0),[m,w]=u.useState(!1);u.useEffect(()=>{const z=setTimeout(()=>{w(!0)},2e3);return()=>clearTimeout(z)},[]),u.useEffect(()=>{if(t>=Gi.length||!m)return;const z=Gi[t].text;let p=0;i(""),s(!0);const f=setInterval(()=>{p<z.length?(i(z.substring(0,p+1)),p++):(s(!1),clearInterval(f))},30);return()=>clearInterval(f)},[t,m]),u.useEffect(()=>{const z=setInterval(()=>{c(p=>!p)},500);return()=>clearInterval(z)},[]);const T=()=>{l?(i(Gi[t].text),s(!1)):t<Gi.length-1?n(z=>z+1):e()},y=()=>{e()},S=(z,p)=>{let f=z;return p.forEach(h=>{const j=new RegExp(`(${h})`,"gi");f=f.replace(j,'<span style="color: #FFBBC4; font-weight: 500;">$1</span>')}),o.jsx("span",{dangerouslySetInnerHTML:{__html:f}})},A={container:{width:"100%",height:"100vh",position:"relative",display:"flex",alignItems:"flex-end",overflow:"hidden",background:"#1a1a2e"},backgroundGif:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,opacity:.8},npcContainer:{position:"absolute",bottom:"50px",left:"50px",zIndex:2,opacity:m?1:0,transition:"opacity 0.5s ease-in-out"},npcImage:{width:"300px",height:"auto",filter:"drop-shadow(0 0 20px rgba(81, 112, 255, 0.5))"},dialogueContainer:{position:"absolute",bottom:"80px",left:"380px",right:"80px",zIndex:3,opacity:m?1:0,transition:"opacity 0.5s ease-in-out"},dialogueBox:{padding:"30px 40px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.18)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)",position:"relative"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:400,color:"#fff",lineHeight:1.7,marginBottom:"20px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},cursor:{display:"inline-block",width:"2px",height:"20px",backgroundColor:"#fff",marginLeft:"2px",verticalAlign:"middle",opacity:r&&l?1:0},buttonContainer:{display:"flex",gap:"15px",justifyContent:"flex-end"},continueButton:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#fff",background:"linear-gradient(135deg, rgba(81, 112, 255, 0.6), rgba(75, 0, 130, 0.6))",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(100, 149, 237, 0.5)",padding:"10px 30px",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 0 15px rgba(81, 112, 255, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},skipButton:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#fff",background:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.4)",padding:"10px 30px",borderRadius:"20px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},progressIndicator:{position:"absolute",top:"15px",right:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"rgba(255, 255, 255, 0.5)"}};return o.jsxs("div",{style:A.container,children:[o.jsx("img",{src:"/background/story.gif",alt:"Background",style:A.backgroundGif}),m&&o.jsx("div",{style:A.npcContainer,children:o.jsx("img",{src:"/npc/npc.gif",alt:"Glitch NPC",style:A.npcImage})}),m&&o.jsx("div",{style:A.dialogueContainer,children:o.jsxs("div",{style:A.dialogueBox,children:[o.jsxs("span",{style:A.progressIndicator,children:[t+1," / ",Gi.length]}),o.jsxs("p",{style:A.dialogueText,children:[S(a,((H=Gi[t])==null?void 0:H.highlights)||[]),o.jsx("span",{style:A.cursor})]}),o.jsxs("div",{style:A.buttonContainer,children:[o.jsx("button",{style:A.skipButton,onClick:y,onMouseOver:z=>{z.target.style.background="rgba(255, 255, 255, 0.4)",z.target.style.borderColor="rgba(255, 255, 255, 0.6)",z.target.style.transform="scale(1.02)"},onMouseOut:z=>{z.target.style.background="rgba(255, 255, 255, 0.3)",z.target.style.borderColor="rgba(255, 255, 255, 0.4)",z.target.style.transform="scale(1)"},children:"Skip"}),o.jsx("button",{style:A.continueButton,onClick:T,onMouseOver:z=>{z.target.style.background="linear-gradient(135deg, rgba(81, 112, 255, 0.8), rgba(75, 0, 130, 0.8))",z.target.style.boxShadow="0 0 20px rgba(81, 112, 255, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.3)",z.target.style.transform="scale(1.02)"},onMouseOut:z=>{z.target.style.background="linear-gradient(135deg, rgba(81, 112, 255, 0.6), rgba(75, 0, 130, 0.6))",z.target.style.boxShadow="0 0 15px rgba(81, 112, 255, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2)",z.target.style.transform="scale(1)"},children:t<Gi.length-1?"Continue":"Enter Map"})]})]})})]})};class Hb{constructor(){this.volume=85,this.isMuted=!1,this.listeners=new Set,this.audioElements=new Set;const t=localStorage.getItem("systemVolume");t&&(this.volume=parseInt(t))}registerAudio(t){t&&(this.audioElements.add(t),this.updateAudioVolume(t))}unregisterAudio(t){t&&this.audioElements.delete(t)}setVolume(t){this.volume=Math.max(0,Math.min(100,t)),localStorage.setItem("systemVolume",this.volume.toString()),this.updateAllAudioVolumes(),this.notifyListeners()}getVolume(){return this.volume}toggleMute(){this.isMuted=!this.isMuted,this.updateAllAudioVolumes(),this.notifyListeners()}isMutedStatus(){return this.isMuted}updateAudioVolume(t){if(t){const n=this.isMuted?0:this.volume/100;t.volume=n}}updateAllAudioVolumes(){this.audioElements.forEach(t=>{this.updateAudioVolume(t)})}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notifyListeners(){this.listeners.forEach(t=>{t({volume:this.volume,isMuted:this.isMuted})})}}const _a=new Hb,Fb=({position:e="topLeft"})=>{const{language:t,changeLanguage:n,t:a}=Sa(),[i,l]=u.useState(!1),[s,r]=u.useState(_a.getVolume()),[c,m]=u.useState(_a.getVolume()),[w,T]=u.useState(_a.isMutedStatus());u.useEffect(()=>_a.subscribe(({volume:j,isMuted:G})=>{r(j),T(G)}),[]),u.useEffect(()=>{i&&m(s)},[i,s]);const y=()=>{switch(e){case"topLeft":return{top:"5%",left:"5%"};case"topRight":return{top:"20px",right:"20px"};default:return{top:"5%",left:"5%"}}},S=h=>{n(h)},A=h=>{m(parseInt(h.target.value))},H=()=>{_a.toggleMute()},z=()=>{m(85)},p=()=>{_a.setVolume(c),l(!1)},f={container:{position:"absolute",...y(),zIndex:100},settingButton:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",backdropFilter:"blur(5px)"},settingIcon:{width:"18px",height:"18px",objectFit:"contain"},panel:{position:"absolute",top:"50px",left:"0",width:"320px",padding:"20px",borderRadius:"15px",background:"#e5e6e0",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",animation:"slideDown 0.3s ease-out"},panelHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"15px",borderBottom:"1px solid rgba(0, 0, 0, 0.1)"},panelTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#333",margin:0},closeButton:{background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},section:{marginBottom:"20px"},sectionHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},sectionHeaderLeft:{display:"flex",alignItems:"center",gap:"8px"},sectionIcon:{width:"20px",height:"20px",objectFit:"contain"},sectionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",fontWeight:600,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",margin:0},languageButtons:{display:"flex",gap:"10px"},languageButton:{flex:1,padding:"10px",borderRadius:"10px",border:"none",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",background:"rgba(255, 255, 255, 0.5)",color:"#333"},languageButtonActive:{background:"rgba(0, 0, 0, 0.9)",color:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},volumeControl:{display:"flex",alignItems:"center",gap:"12px"},volumeValue:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",minWidth:"50px",textAlign:"right"},muteButton:{background:"none",border:"none",cursor:"pointer",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},muteIcon:{width:"24px",height:"24px",objectFit:"contain"},volumeIcon:{width:"24px",height:"24px",objectFit:"contain",flexShrink:0},sliderWrapper:{flex:1,display:"flex",alignItems:"center",position:"relative"},slider:{flex:1,height:"8px",borderRadius:"4px",background:"#d9d7de",outline:"none",WebkitAppearance:"none",appearance:"none",cursor:"pointer",margin:"0"},actionButtons:{display:"flex",gap:"10px",marginTop:"20px"},resetButton:{flex:"0 0 35%",padding:"10px",borderRadius:"10px",border:"1px solid rgba(0, 0, 0, 0.2)",background:"rgba(255, 255, 255, 0.5)",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s"},applyButton:{flex:"0 0 60%",padding:"10px",borderRadius:"10px",border:"none",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#fff",cursor:"pointer",transition:"all 0.2s"},keyframes:`
      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    `};return o.jsxs("div",{style:f.container,children:[o.jsx("style",{children:f.keyframes}),o.jsx("style",{children:`
        input[type="range"] {
          -webkit-appearance: none;
          appearance: none;
        }
        input[type="range"]::-webkit-slider-thumb {
          -webkit-appearance: none;
          appearance: none;
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #000;
          cursor: pointer;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
          margin-top: -6px;
        }
        input[type="range"]::-moz-range-thumb {
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #000;
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }
        input[type="range"]::-webkit-slider-runnable-track {
          height: 8px;
          border-radius: 4px;
          background: linear-gradient(to right, #4c4cef 0%, #4c4cef ${c}%, #d9d7de ${c}%, #d9d7de 100%);
        }
        input[type="range"]::-moz-range-track {
          height: 8px;
          border-radius: 4px;
          background: #d9d7de;
        }
        input[type="range"]::-moz-range-progress {
          height: 8px;
          border-radius: 4px;
          background: #4c4cef;
        }
      `}),o.jsxs("button",{style:f.settingButton,onClick:()=>l(!i),onMouseOver:h=>{h.currentTarget.style.background="rgba(0, 0, 0, 0.5)",h.currentTarget.style.transform="scale(1.05)"},onMouseOut:h=>{h.currentTarget.style.background="rgba(0, 0, 0, 0.3)",h.currentTarget.style.transform="scale(1)"},children:[o.jsx("img",{src:"/icon/setting.png",alt:"Settings",style:f.settingIcon}),o.jsx("span",{children:a("setting")})]}),i&&o.jsxs("div",{style:f.panel,children:[o.jsxs("div",{style:f.panelHeader,children:[o.jsx("h3",{style:f.panelTitle,children:a("controlPanel")}),o.jsx("button",{style:f.closeButton,onClick:()=>l(!1),onMouseOver:h=>{h.target.style.color="#333",h.target.style.transform="scale(1.1)"},onMouseOut:h=>{h.target.style.color="#999",h.target.style.transform="scale(1)"},children:""})]}),o.jsxs("div",{style:f.section,children:[o.jsxs("div",{style:f.sectionHeader,children:[o.jsx("img",{src:"/icon/language.png",alt:"Language",style:f.sectionIcon}),o.jsx("h4",{style:f.sectionTitle,children:a("languageSelection")})]}),o.jsxs("div",{style:f.languageButtons,children:[o.jsx("button",{style:{...f.languageButton,...t==="zh"?f.languageButtonActive:{}},onClick:()=>S("zh"),children:""}),o.jsx("button",{style:{...f.languageButton,...t==="en"?f.languageButtonActive:{}},onClick:()=>S("en"),children:"ENGLISH"})]})]}),o.jsxs("div",{style:f.section,children:[o.jsxs("div",{style:f.sectionHeader,children:[o.jsxs("div",{style:f.sectionHeaderLeft,children:[o.jsx("img",{src:"/icon/volume.png",alt:"Volume",style:f.sectionIcon}),o.jsx("h4",{style:f.sectionTitle,children:a("systemVolume")})]}),o.jsxs("span",{style:f.volumeValue,children:[c,"%"]})]}),o.jsxs("div",{style:f.volumeControl,children:[o.jsx("button",{style:f.muteButton,onClick:H,onMouseOver:h=>{h.currentTarget.style.transform="scale(1.1)"},onMouseOut:h=>{h.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:"/icon/mute.png",alt:"Mute",style:f.muteIcon})}),o.jsx("div",{style:f.sliderWrapper,children:o.jsx("input",{type:"range",min:"0",max:"100",value:c,onChange:A,style:f.slider})}),o.jsx("img",{src:"/icon/volume.png",alt:"Volume",style:f.volumeIcon})]})]}),o.jsxs("div",{style:f.actionButtons,children:[o.jsx("button",{style:f.resetButton,onClick:z,onMouseOver:h=>{h.target.style.background="rgba(255, 255, 255, 0.7)",h.target.style.transform="scale(1.02)"},onMouseOut:h=>{h.target.style.background="rgba(255, 255, 255, 0.5)",h.target.style.transform="scale(1)"},children:a("reset")}),o.jsx("button",{style:f.applyButton,onClick:p,onMouseOver:h=>{h.target.style.background="rgba(0, 0, 0, 0.95)",h.target.style.transform="scale(1.02)"},onMouseOut:h=>{h.target.style.background="rgba(0, 0, 0, 0.8)",h.target.style.transform="scale(1)"},children:a("applyChanges")})]})]})]})},bl=()=>{try{const e=new Audio("/sound/select.mp3");e.volume=.6,e.play().catch(t=>{console.log("Could not play select sound:",t)})}catch(e){console.log("Error creating select audio:",e)}},Lb=()=>{try{const e=new Audio("/sound/hum.mp3");e.volume=.5,e.play().catch(t=>{console.log("Could not play hum sound:",t)})}catch(e){console.log("Error creating hum audio:",e)}},Ub=e=>[{id:"fungi",name:e("fungiJungle"),regionNumber:1,stars:1,position:{top:"52%",left:"5%"},cardPosition:{top:"15%",left:"5%"},description:e("fungiDescription"),difficulty:e("easyDifficulty"),available:!0},{id:"desert",name:e("desert"),regionNumber:2,stars:2,position:{top:"5%",left:"30%"},cardPosition:{top:"15%",left:"30%"},description:e("desertDescription"),difficulty:e("intermediateDifficulty"),available:!0},{id:"glacier",name:e("glacier"),regionNumber:4,stars:3,position:{bottom:"8%",left:"45%"},cardPosition:{bottom:"22%",left:"45%"},description:e("glacierDescription"),difficulty:e("advancedDifficulty"),available:!0},{id:"island",name:e("island"),regionNumber:3,stars:3,position:{top:"35%",right:"5%"},cardPosition:{top:"38%",right:"5%"},description:e("islandDescription"),difficulty:e("advancedDifficulty"),available:!0}],Gb=({onRegionClick:e})=>{var X,ne,$,Se,ge,L;const{t}=Sa(),n=Ub(t),[a,i]=u.useState(!1),[l,s]=u.useState(!1),[r,c]=u.useState(null),[m,w]=u.useState(!1),[T,y]=u.useState(null),[S,A]=u.useState(!1),[H,z]=u.useState("");u.useEffect(()=>{const I=setTimeout(()=>{w(!0)},300);return()=>clearTimeout(I)},[]);const p=r!==null,f=I=>{if(bl(),T===I&&!S){c(r===I?null:I);return}y(I),A(!0),setTimeout(()=>{A(!1),c(I)},800)},h=()=>{bl(),c(null),y(null)},j=()=>{H.trim()&&(bl(),console.log("User message to Glitch:",H),z(""))},G=I=>{I.key==="Enter"&&j()},Z=I=>{if(!T)return"scale(1) translate(0, 0)";switch(I){case"island":return"scale(3) translate(-25%, 25%)";case"desert":return"scale(3) translate(25%, 25%)";case"fungi":return"scale(3) translate(25%, -25%)";case"glacier":return"scale(3) translate(-25%, -25%)";default:return"scale(1) translate(0, 0)"}},k={container:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},backgroundGif:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,transition:"transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)",transformOrigin:"center center"},npcContainer:{position:"absolute",top:"20px",right:"20px",width:"120px",height:"120px",cursor:"pointer",zIndex:10,transition:"opacity 0.3s ease"},npcImage:{width:"120px",height:"120px",objectFit:"contain",transition:"transform 0.3s ease",animation:a?"breathe 1s ease-in-out infinite":"none"},npcDialogue:{position:"absolute",top:"20px",right:"150px",padding:"20px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #af4dca",zIndex:10,minWidth:"280px",maxWidth:"320px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)"},npcDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},npcDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#af4dca",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},npcDialogueAvatarIcon:{fontSize:"24px"},npcDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#af4dca",margin:0},npcDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:"0 0 15px 0"},npcDialogueInputContainer:{display:"flex",alignItems:"center",backgroundColor:"#d9d7de",borderRadius:"20px",border:"2px solid #d9d7de",overflow:"hidden",transition:"border-color 0.2s"},npcDialogueInput:{flex:1,padding:"10px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",outline:"none"},npcDialogueDivider:{width:"2px",height:"24px",backgroundColor:"#af4dca",margin:"0 8px",flexShrink:0},npcDialogueSendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s",flexShrink:0},npcDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},npcDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},regionLabel:{position:"absolute",width:"280px",padding:"15px 20px",borderRadius:"20px",border:"3px solid transparent",background:"rgba(255, 255, 255, 0.95)",fontFamily:"'Montserrat', sans-serif",cursor:"pointer",zIndex:5,transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",backgroundImage:"linear-gradient(white, white), linear-gradient(90deg, #5170FF, #FF6B9D)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},regionLabelHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},regionLabelRegion:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",fontWeight:600,color:"#999",textTransform:"uppercase",letterSpacing:"1px"},regionLabelStars:{display:"flex",gap:"3px"},regionLabelStarIcon:{width:"16px",height:"16px",objectFit:"contain"},regionLabelTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:800,color:"#000",textTransform:"uppercase",marginBottom:"10px",lineHeight:1.2},regionLabelProgressContainer:{width:"100%",height:"6px",backgroundColor:"#E0E0E0",borderRadius:"3px",overflow:"hidden"},regionLabelProgressFill:{height:"100%",backgroundColor:"#777777",borderRadius:"3px",transition:"width 0.3s ease"},regionCard:{position:"absolute",width:"450px",padding:"30px",paddingBottom:"30px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid transparent",backgroundImage:"linear-gradient(white, white), linear-gradient(90deg, #5170FF, #FF6B9D)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",zIndex:20,boxShadow:"0 8px 30px rgba(0,0,0,0.3)",animation:"fadeInUp 0.3s ease-out"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},cardCloseButton:{background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",marginLeft:"10px",flexShrink:0},cardRegionLabel:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",fontWeight:600,color:"#999",textTransform:"uppercase",letterSpacing:"1.5px",marginBottom:"5px"},cardStars:{display:"flex",gap:"6px"},starIcon:{width:"24px",height:"24px",objectFit:"contain"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"32px",fontWeight:900,color:"#000",marginBottom:"18px",textTransform:"uppercase",lineHeight:1.1,letterSpacing:"1px"},progressBarContainer:{width:"100%",height:"10px",backgroundColor:"#E0E0E0",borderRadius:"5px",overflow:"hidden",marginBottom:"20px"},progressBarFill:{height:"100%",backgroundColor:"#777777",borderRadius:"5px",transition:"width 0.3s ease"},cardDescription:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.7,marginBottom:"12px",textAlign:"left"},cardDifficulty:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#666",marginBottom:"20px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},goButton:{display:"block",width:"100%",margin:"0 auto 12px auto",padding:"16px 0",borderRadius:"12px",border:"none",background:"#000",fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:700,color:"#fff",cursor:"pointer",transition:"all 0.2s ease",textTransform:"uppercase",letterSpacing:"1px"},startOverButton:{display:"block",width:"100%",margin:"0 auto",padding:"8px 0",borderRadius:"8px",border:"none",background:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:500,color:"#666",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center"},lockedButton:{display:"block",width:"100%",margin:"0 auto",padding:"16px 0",borderRadius:"12px",border:"none",background:"#999",fontFamily:"'Montserrat', sans-serif",fontSize:"18px",fontWeight:600,color:"#fff",cursor:"not-allowed"},cardNpc:{position:"absolute",bottom:"20px",left:"-60px",width:"140px",height:"140px",objectFit:"contain",zIndex:21},keyframes:`
      @keyframes breathe {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.08); }
      }
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    `},W=()=>n.find(I=>I.id===r),K=I=>{if(!I)return"";switch(I.id){case"island":return t("island");case"desert":return t("desert");case"fungi":return t("fungiJungle");case"glacier":return t("glacier");default:return I.name}},Y=I=>Array.from({length:I}).map((N,te)=>o.jsx("img",{src:"/icon/star.png",alt:"star",style:k.starIcon},te));return o.jsxs("div",{style:k.container,children:[o.jsx("style",{children:k.keyframes}),!S&&o.jsx(Fb,{position:"topLeft"}),o.jsx("img",{src:"/background/map.gif",alt:"Map Background",style:{...k.backgroundGif,transform:T?Z(T):"scale(1) translate(0, 0)"}}),o.jsx("div",{style:{...k.npcContainer,opacity:p||S?0:1,pointerEvents:p||S?"none":"auto"},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:()=>{Lb(),s(!0)},children:o.jsx("img",{src:"/npc/npc1.png",alt:"Glitch",style:k.npcImage})}),l&&!p&&!S&&o.jsxs("div",{style:k.npcDialogue,children:[o.jsx("button",{style:k.npcDialogueCloseButton,onClick:()=>s(!1),onMouseOver:I=>{I.target.style.color="#333",I.target.style.transform="scale(1.1)"},onMouseOut:I=>{I.target.style.color="#999",I.target.style.transform="scale(1)"},children:""}),o.jsxs("div",{style:k.npcDialogueHeader,children:[o.jsx("div",{style:k.npcDialogueAvatar,children:o.jsx("span",{style:k.npcDialogueAvatarIcon,children:""})}),o.jsx("h4",{style:k.npcDialogueName,children:"Glitch"})]}),o.jsx("p",{style:k.npcDialogueText,children:"I suggest go to the Fungi Jungle first."}),o.jsxs("div",{style:k.npcDialogueInputContainer,onFocus:I=>{I.currentTarget.style.borderColor="#af4dca"},onBlur:I=>{I.currentTarget.style.borderColor="#d9d7de"},children:[o.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:H,onChange:I=>z(I.target.value),onKeyPress:G,style:k.npcDialogueInput}),o.jsx("div",{style:k.npcDialogueDivider}),o.jsx("button",{onClick:j,style:k.npcDialogueSendButton,onMouseOver:I=>{I.currentTarget.style.transform="scale(1.1)"},onMouseOut:I=>{I.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:"/icon/send.png",alt:"Send",style:k.npcDialogueSendIcon})})]})]}),n.map((I,N)=>o.jsxs("div",{style:{...k.regionLabel,...I.position,opacity:m&&!T?1:0,transform:m&&!T?"translateY(0)":"translateY(20px)",transitionDelay:`${N*.1}s`,pointerEvents:T?"none":"auto",...r===I.id?{boxShadow:"0 8px 25px rgba(81, 112, 255, 0.4)",transform:"scale(1.02)"}:{}},onClick:()=>f(I.id),children:[o.jsxs("div",{style:k.regionLabelHeader,children:[o.jsxs("div",{style:k.regionLabelRegion,children:["REGION ",I.regionNumber]}),o.jsx("div",{style:k.regionLabelStars,children:Array.from({length:I.stars}).map((te,ae)=>o.jsx("img",{src:"/icon/star.png",alt:"star",style:k.regionLabelStarIcon},ae))})]}),o.jsx("div",{style:k.regionLabelTitle,children:K({id:I.id})}),o.jsx("div",{style:k.regionLabelProgressContainer,children:o.jsx("div",{style:{...k.regionLabelProgressFill,width:"40%"}})})]},I.id)),r&&!S&&o.jsxs("div",{style:{...k.regionCard,...(X=W())==null?void 0:X.cardPosition},children:[o.jsxs("div",{style:k.cardHeader,children:[o.jsx("div",{style:{flex:1},children:o.jsxs("div",{style:k.cardRegionLabel,children:["REGION ",(ne=W())==null?void 0:ne.regionNumber]})}),o.jsx("div",{style:k.cardStars,children:Y(($=W())==null?void 0:$.stars)}),o.jsx("button",{style:k.cardCloseButton,onClick:h,onMouseOver:I=>{I.target.style.color="#333",I.target.style.transform="scale(1.1)"},onMouseOut:I=>{I.target.style.color="#999",I.target.style.transform="scale(1)"},children:""})]}),o.jsx("h3",{style:k.cardTitle,children:K(W())}),o.jsx("div",{style:k.progressBarContainer,children:o.jsx("div",{style:{...k.progressBarFill,width:"40%"}})}),o.jsx("p",{style:k.cardDescription,children:(Se=W())==null?void 0:Se.description}),o.jsxs("p",{style:k.cardDifficulty,children:[o.jsx("span",{children:"Difficulty: "}),o.jsx("span",{children:(ge=W())==null?void 0:ge.difficulty})]}),(L=W())!=null&&L.available?o.jsxs(o.Fragment,{children:[o.jsx("button",{style:k.goButton,onClick:()=>{bl(),e(r)},onMouseOver:I=>{I.target.style.background="#333",I.target.style.transform="scale(1.02)"},onMouseOut:I=>{I.target.style.background="#000",I.target.style.transform="scale(1)"},children:t("continue")}),(r==="fungi"||r==="desert")&&o.jsx("button",{style:k.startOverButton,onClick:()=>{bl(),e(r,!0)},onMouseOver:I=>{I.target.style.color="#666",I.target.style.transform="scale(1.02)"},onMouseOut:I=>{I.target.style.color="#333",I.target.style.transform="scale(1)"},children:t("startOver")})]}):o.jsxs("button",{style:k.lockedButton,children:[" ",t("comingSoon")]}),o.jsx("img",{src:"/npc/npc2.png",alt:"Glitch",style:k.cardNpc})]})]})},Ae={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3},qb={[Ae.BOTTOM_LEFT]:{npc:"npc_a",image:"/jungle/npc_a.png",name:"NPC A",dialogues:[{text:"System Error... Bzzzt...Ugh... my sensors are spinning... You looking for Ranger Moss? He went... <strong>that way</strong>... ",speaker:"NPC A"}]},[Ae.BOTTOM_RIGHT]:{npc:"npc_b",image:"/jungle/npc_b.gif",name:"NPC B",dialogues:[{text:"Welc-come... to... *static noise*...Ranger Moss... is <strong>up there</strong>...  He tried to fix the solar array but... (Powers down)",speaker:"NPC B"}]},[Ae.TOP_LEFT]:{npc:null,dialogues:[]},[Ae.TOP_RIGHT]:{npc:"ranger_moss",image:"/jungle/npc_c.png",name:"Ranger Moss",dialogues:[{text:"Hey! Down here! No, waitup here! Hello? Can you hear me? I am Ranger Moss. As you can see, I am currently... slightly indisposed.",speaker:"Ranger Moss"},{text:"My battery died while I was climbing, and now my magnetic grip won't let go of this tree!",speaker:"Ranger Moss"},{text:"",speaker:"",isOption:!0,optionText:"Why is everyone down?"},{text:"It's a disaster. Recently, strange mutated mushrooms just popped up everywhere. My workers couldn't tell the difference. They ate the toxic mushrooms thinking they were batteries... and now their systems have crashed!",speaker:"Ranger Moss"},{text:"",speaker:"",isOption:!0,optionText:"How can I help you?"},{text:"We need to build an AI algorithm to automatically identify the toxic mushrooms. But since I can't move... could you help me? Please go into the jungle and collect data samples of the mushrooms.",speaker:"Ranger Moss"},{text:"We need at least 12 samples to train the model. Good luck, human!",speaker:"Ranger Moss"}]}},Bf={[Ae.BOTTOM_LEFT]:{up:Ae.TOP_LEFT,right:Ae.BOTTOM_RIGHT},[Ae.BOTTOM_RIGHT]:{up:Ae.TOP_RIGHT,left:Ae.BOTTOM_LEFT},[Ae.TOP_LEFT]:{down:Ae.BOTTOM_LEFT,right:Ae.TOP_RIGHT},[Ae.TOP_RIGHT]:{down:Ae.BOTTOM_RIGHT,left:Ae.TOP_LEFT}},Yb={[Ae.BOTTOM_LEFT]:"translate(0%, -50%)",[Ae.BOTTOM_RIGHT]:"translate(-50%, -50%)",[Ae.TOP_LEFT]:"translate(0%, 0%)",[Ae.TOP_RIGHT]:"translate(-50%, 0%)"},Wb=({onExit:e,onStartDataCollection:t})=>{var Y;const{t:n}=Sa(),[a,i]=u.useState(Ae.BOTTOM_LEFT),[l,s]=u.useState(0),[r,c]=u.useState(""),[m,w]=u.useState(!1),[T,y]=u.useState(!0),[S,A]=u.useState(!1),[H,z]=u.useState({});u.useEffect(()=>{const X=localStorage.getItem("aiJourneyUser");if(X){const $=JSON.parse(X).fungiJungleProgress;$&&(i($.currentPosition||Ae.BOTTOM_LEFT),z($.dialogueComplete||{}),console.log("Loaded Fungi Jungle progress:",$))}},[]),u.useEffect(()=>{const X=localStorage.getItem("aiJourneyUser");if(X){const ne=JSON.parse(X);ne.fungiJungleProgress={currentPosition:a,dialogueComplete:H,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(ne)),console.log("Saved Fungi Jungle progress:",ne.fungiJungleProgress)}},[a,H]);const p=qb[a],f=(Y=p==null?void 0:p.dialogues)==null?void 0:Y[l];u.useEffect(()=>{var X;!H[a]&&((X=p==null?void 0:p.dialogues)==null?void 0:X.length)>0&&(s(0),y(!0))},[a]),u.useEffect(()=>{if(!f||f.isOption)return;const X=f.text;if(!X)return;let ne=0;c(""),w(!0);const $=setInterval(()=>{ne<X.length?(c(X.substring(0,ne+1)),ne++):(w(!1),clearInterval($))},25);return()=>clearInterval($)},[l,a]);const h=X=>{var $;const ne=($=Bf[a])==null?void 0:$[X];ne!==void 0&&!S&&(A(!0),setTimeout(()=>{i(ne),A(!1)},500))},j=()=>{if(m){c(f.text),w(!1);return}const X=(p==null?void 0:p.dialogues)||[];l<X.length-1?s(ne=>ne+1):(z(ne=>({...ne,[a]:!0})),y(!1),a===Ae.TOP_RIGHT&&l===X.length-1&&setTimeout(()=>{t&&t()},1e3))},G=()=>{const ne=((p==null?void 0:p.dialogues)||[])[l+1];ne!=null&&ne.isOption?s($=>$+2):s($=>$+1)},Z=Bf[a]||{},k={container:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},mapContainer:{width:"200%",height:"200%",position:"absolute",top:0,left:0,transition:"transform 0.5s ease-in-out",transform:Yb[a]},mapImage:{width:"100%",height:"100%",objectFit:"cover"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.1)",zIndex:1},exitButton:{position:"absolute",top:"20px",left:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(81, 112, 255, 0.5)",padding:"10px 25px",borderRadius:"8px",cursor:"pointer",zIndex:10,transition:"all 0.2s"},miniNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},miniNpcImage:{width:"120px",height:"120px",objectFit:"contain"},navArrow:{position:"absolute",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:10,transition:"transform 0.2s",background:"none",border:"none"},arrowImage:{width:"80px",height:"80px",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},upArrow:{top:"30px",left:"50%",transform:"translateX(-50%)"},downArrow:{bottom:"30px",left:"50%",transform:"translateX(-50%)"},leftArrow:{left:"30px",top:"50%",transform:"translateY(-50%)"},rightArrow:{right:"30px",top:"50%",transform:"translateY(-50%)"},npcContainer:{position:"absolute",bottom:"50px",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcContainerLeft:{left:"50px"},npcContainerRight:{right:"50px"},npcContainerNpcA:{position:"absolute",bottom:"0",right:"50px",height:"66.67vh",display:"flex",alignItems:"flex-end",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcImage:{width:"250px",height:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},npcImageNpcA:{height:"66.67vh",width:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},npcContainerNpcB:{position:"absolute",bottom:"0",left:"25%",height:"50vh",display:"flex",alignItems:"flex-end",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcImageNpcB:{height:"50vh",width:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},npcContainerRangerMoss:{position:"absolute",bottom:"10%",right:"15%",zIndex:5,animation:"fadeIn 0.5s ease-out"},npcImageRangerMoss:{height:"66.67vh",width:"auto",filter:"drop-shadow(0 0 15px rgba(0,0,0,0.3))"},dialogueContainer:{position:"absolute",top:"80px",left:"80px",right:"150px",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueContainerNpcA:{position:"absolute",top:"33.33%",left:"80px",width:"50%",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueContainerNpcB:{position:"absolute",top:"33.33%",right:"80px",width:"50%",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueContainerRangerMoss:{position:"absolute",top:"25%",left:"80px",width:"50%",zIndex:5,animation:"fadeIn 0.3s ease-out"},dialogueBox:{padding:"30px 40px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.9)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",position:"relative",minHeight:"120px"},speakerName:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#5170FF",marginBottom:"10px"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:400,color:"#333",lineHeight:1.7},continueButton:{position:"absolute",bottom:"15px",right:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#333",backgroundColor:"transparent",border:"none",cursor:"pointer",textTransform:"uppercase",letterSpacing:"1px"},optionButton:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:500,color:"#5170FF",backgroundColor:"rgba(81, 112, 255, 0.1)",border:"2px solid #5170FF",padding:"12px 25px",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s",marginTop:"15px"}},W=()=>{if(!T||!(p!=null&&p.npc)||H[a]||!f)return null;const X=a===Ae.BOTTOM_LEFT,ne=a===Ae.BOTTOM_RIGHT,$=a===Ae.TOP_RIGHT,Se=X?k.dialogueContainerNpcA:ne?k.dialogueContainerNpcB:$?k.dialogueContainerRangerMoss:k.dialogueContainer,L=((p==null?void 0:p.dialogues)||[])[l+1],I=L==null?void 0:L.isOption;return f.isOption?o.jsx("div",{style:Se,children:o.jsx("div",{style:k.dialogueBox,children:o.jsx("button",{style:k.optionButton,onClick:G,onMouseOver:N=>{N.target.style.backgroundColor="rgba(81, 112, 255, 0.2)"},onMouseOut:N=>{N.target.style.backgroundColor="rgba(81, 112, 255, 0.1)"},children:f.optionText})})}):o.jsx("div",{style:Se,children:o.jsxs("div",{style:k.dialogueBox,children:[!X&&!ne&&o.jsxs("p",{style:k.speakerName,children:[f.speaker,":"]}),o.jsxs("p",{style:k.dialogueText,children:[o.jsx("span",{dangerouslySetInnerHTML:{__html:r}}),m&&o.jsx("span",{style:{opacity:.5},children:"|"})]}),I&&!m?o.jsx("button",{style:k.optionButton,onClick:G,onMouseOver:N=>{N.target.style.backgroundColor="rgba(81, 112, 255, 0.2)"},onMouseOut:N=>{N.target.style.backgroundColor="rgba(81, 112, 255, 0.1)"},children:L.optionText}):o.jsx("button",{style:k.continueButton,onClick:j,children:m?"Skip":"CONTINUE"})]})})},K=()=>{if(!(p!=null&&p.npc))return null;const X=a===Ae.BOTTOM_LEFT,ne=a===Ae.BOTTOM_RIGHT,$=a===Ae.TOP_RIGHT;return X?o.jsx("div",{style:k.npcContainerNpcA,children:o.jsx("img",{src:p.image,alt:p.name,style:k.npcImageNpcA})}):ne?o.jsx("div",{style:k.npcContainerNpcB,children:o.jsx("img",{src:p.image,alt:p.name,style:k.npcImageNpcB})}):$?o.jsx("div",{style:k.npcContainerRangerMoss,children:o.jsx("img",{src:p.image,alt:p.name,style:k.npcImageRangerMoss})}):o.jsx("div",{style:{...k.npcContainer,...isRightSide?k.npcContainerRight:k.npcContainerLeft},children:o.jsx("img",{src:p.image,alt:p.name,style:k.npcImage})})};return o.jsxs("div",{style:k.container,children:[o.jsx("div",{style:k.mapContainer,children:o.jsx("img",{src:"/jungle/map_full.png",alt:"Fungi Jungle Map",style:k.mapImage})}),o.jsx("div",{style:k.overlay}),o.jsx("button",{style:k.exitButton,onClick:e,onMouseOver:X=>{X.target.style.backgroundColor="rgba(255, 255, 255, 1)",X.target.style.borderColor="#5170FF"},onMouseOut:X=>{X.target.style.backgroundColor="rgba(255, 255, 255, 0.9)",X.target.style.borderColor="rgba(81, 112, 255, 0.5)"},children:n("exit")}),o.jsx("div",{style:k.miniNpc,children:o.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:k.miniNpcImage})}),Z.up!==void 0&&o.jsx("button",{style:{...k.navArrow,...k.upArrow},onClick:()=>h("up"),onMouseOver:X=>X.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:X=>X.currentTarget.style.transform="translateX(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/up.png",alt:"Up",style:k.arrowImage})}),Z.down!==void 0&&o.jsx("button",{style:{...k.navArrow,...k.downArrow},onClick:()=>h("down"),onMouseOver:X=>X.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:X=>X.currentTarget.style.transform="translateX(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/down.png",alt:"Down",style:k.arrowImage})}),Z.left!==void 0&&o.jsx("button",{style:{...k.navArrow,...k.leftArrow},onClick:()=>h("left"),onMouseOver:X=>X.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:X=>X.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:k.arrowImage})}),Z.right!==void 0&&o.jsx("button",{style:{...k.navArrow,...k.rightArrow},onClick:()=>h("right"),onMouseOver:X=>X.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:X=>X.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:k.arrowImage})}),K(),W()]})},_e={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3},Rf={[_e.BOTTOM_LEFT]:{up:_e.TOP_LEFT,right:_e.BOTTOM_RIGHT},[_e.BOTTOM_RIGHT]:{up:_e.TOP_RIGHT,left:_e.BOTTOM_LEFT},[_e.TOP_LEFT]:{down:_e.BOTTOM_LEFT,right:_e.TOP_RIGHT},[_e.TOP_RIGHT]:{down:_e.BOTTOM_RIGHT,left:_e.TOP_LEFT}},Xb={[_e.BOTTOM_LEFT]:"translate(0%, -50%)",[_e.BOTTOM_RIGHT]:"translate(-50%, -50%)",[_e.TOP_LEFT]:"translate(0%, 0%)",[_e.TOP_RIGHT]:"translate(-50%, 0%)"},Qb={[_e.TOP_LEFT]:[{id:"02",size:250,right:"35%",bottom:"25%"},{id:"04",size:320,left:"0%",top:"50%"},{id:"05",size:240,right:"0%",top:"25%"},{id:"10",size:200,left:"40%",top:"5%"}],[_e.BOTTOM_LEFT]:[{id:"01",size:330,right:"0%",bottom:"15%"},{id:"07",size:200,left:"0%",top:"5%"},{id:"08",size:310,left:"0%",bottom:"10%"},{id:"11",size:300,left:"50%",bottom:"15%"}],[_e.BOTTOM_RIGHT]:[{id:"06",size:400,right:"20%",bottom:"0%"},{id:"03",size:200,right:"25%",top:"0%"},{id:"09",size:220,left:"10%",top:"5%"},{id:"12",size:150,right:"5%",bottom:"35%"}],[_e.TOP_RIGHT]:[]},Vb={[_e.BOTTOM_LEFT]:{npc:"npc_a",image:"/jungle/npc_a.png",top:"5%",right:"50%",width:"auto",height:"25vh",dialogueTop:"33.33%",dialogueLeft:"80px"},[_e.BOTTOM_RIGHT]:{npc:"npc_b",image:"/jungle/npc_b.gif",left:"0%",bottom:"0%",width:"auto",height:"25vh",dialogueTop:"33.33%",dialogueRight:"80px"},[_e.TOP_RIGHT]:{npc:"npc_c",image:"/jungle/npc_c.png",bottom:"10%",right:"15%",width:"auto",height:"66.67vh",dialogueTop:"25%",dialogueLeft:"80px"}},mo={"01":{name:"Candy Blob",color:"Pink / Purple / Yellow",colorTone:"Mixed warm and cool",shape:"Irregular / Curved",texture:"Glossy / Dripping",spikes:!1},"02":{name:"Flame Bloom",color:"Red / Green / Beige",colorTone:"Warm dominant",shape:"Flame-like / Circular",texture:"Smooth / Slightly Wavy",spikes:!0},"03":{name:"Velvet Star",color:"Cyan / Blue",colorTone:"Cool",shape:"Star-shaped / Pointed",texture:"Fuzzy / Velvet-like",spikes:!0},"04":{name:"Polka Cluster",color:"Green / Purple",colorTone:"Mixed cool and warm",shape:"Clustered / Round",texture:"Smooth / Polka-dotted",spikes:!1},"05":{name:"Speckled Bell",color:"Purple / Yellow",colorTone:"Mixed cool and warm",shape:"Bell-shaped / Drooping",texture:"Matte / Speckled",spikes:!1},"06":{name:"Glowing Shroom",color:"Blue / Purple / Pink",colorTone:"Cool dominant",shape:"Mushroom-like / Flowing",texture:"Glowing / Translucent",spikes:!1},"07":{name:"Striped Chime",color:"Orange / White / Red",colorTone:"Warm dominant",shape:"Bell-shaped / Curved",texture:"Smooth / Striped",spikes:!1},"08":{name:"Drip Orb",color:"Yellow / White",colorTone:"Warm",shape:"Round / Bulbous",texture:"Glossy / Dripping",spikes:!1},"09":{name:"Frostfire Cap",color:"Pink / Cyan / White",colorTone:"Mixed warm and cool",shape:"Mushroom-like / Flame-shaped",texture:"Glossy / Glowing",spikes:!1},10:{name:"Classic Toadstool",color:"Red / White / Blue",colorTone:"Warm dominant",shape:"Round / Smooth",texture:"Matte / Polka-dotted",spikes:!1},11:{name:"Rainbow Drip",color:"Pastel Rainbow / Teal / Purple",colorTone:"Soft mixed",shape:"Tapered / Drooping",texture:"Glossy / Dripping",spikes:!1},12:{name:"Starlight Shroom",color:"Pink / Purple / Orange",colorTone:"Warm and cool mixed",shape:"Star-shaped / Pointed",texture:"Glowing / Sticky / Veined",spikes:!0}},Jb=({onComplete:e,onExit:t})=>{var te,ae,se,de,tt;const{t:n}=Sa(),[a,i]=u.useState(_e.TOP_LEFT),[l,s]=u.useState(!1),[r,c]=u.useState([]),[m,w]=u.useState(!1),[T,y]=u.useState(null),[S,A]=u.useState(!1),[H,z]=u.useState(!1),[p,f]=u.useState(""),[h,j]=u.useState(!1),[G,Z]=u.useState(null),{playCameraSound:k}=gs();u.useEffect(()=>{const _=localStorage.getItem("aiJourneyUser");if(_){const be=JSON.parse(_).dataCollectionProgress;be&&(i(be.currentPosition||_e.TOP_LEFT),c(be.collectedIds||[]),console.log("Loaded Data Collection progress:",be))}},[]),u.useEffect(()=>{const _=localStorage.getItem("aiJourneyUser");if(_){const ye=JSON.parse(_);ye.dataCollectionProgress={currentPosition:a,collectedIds:r,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(ye)),console.log("Saved Data Collection progress:",ye.dataCollectionProgress)}},[a,r]);const W=_=>{var be;const ye=(be=Rf[a])==null?void 0:be[_];ye!==void 0&&!l&&(s(!0),setTimeout(()=>{i(ye),s(!1)},500))},K=_=>{r.includes(_)||(k(),y(_),w(!0))},Y=()=>{if(T&&!r.includes(T)){const _=[...r,T];c(_),w(!1),y(null),_.length===12&&j(!0)}},X=_=>{_==="npc_c"&&r.length===12&&e(r)},ne=(_,ye)=>{ye?(Z(_),r.length<12?(f("Not finished yet! You're still missing some data!"),z(!0)):(f("Give ALL these to Ranger Moss!"),z(!0))):(Z(null),z(!1))},$=_=>{_?(Z("glitch"),r.length<12?(f("Not finished yet! You're still missing some data!"),z(!0)):(f("Give ALL these to Ranger Moss!"),z(!0))):(Z(null),z(!1))},Se=()=>{A(!0)},ge=Rf[a]||{},L=Qb[a]||[],I=Vb[a],N={container:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},mapContainer:{width:"200%",height:"200%",position:"absolute",top:0,left:0,transition:"transform 0.5s ease-in-out",transform:Xb[a]},mapImage:{width:"100%",height:"100%",objectFit:"cover",filter:"grayscale(80%)"},exitButton:{position:"absolute",top:"20px",left:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#666",backgroundColor:"rgba(255, 255, 255, 0.85)",border:"2px solid rgba(81, 112, 255, 0.4)",padding:"12px 30px",borderRadius:"8px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},glitchNpc:{position:"absolute",top:"10px",right:"10px",width:"120px",height:"120px",zIndex:100,cursor:"pointer",transition:"transform 0.2s"},glitchImage:{width:"100%",height:"100%",objectFit:"contain"},navArrow:{position:"absolute",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none"},arrowIcon:{fontSize:"45px",color:"#fff",textShadow:"0 2px 10px rgba(0,0,0,0.5)",fontWeight:"bold"},upArrow:{top:"15px",left:"50%",transform:"translateX(-50%)"},downArrow:{bottom:"120px",left:"50%",transform:"translateX(-50%)"},leftArrow:{left:"15px",top:"50%",transform:"translateY(-50%)"},rightArrow:{right:"15px",top:"50%",transform:"translateY(-50%)"},mushroomItem:{position:"absolute",cursor:"pointer",transition:"transform 0.2s, filter 0.2s",zIndex:20},mushroomImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 5px 15px rgba(0,0,0,0.3))"},mushroomCollected:{opacity:.3,pointerEvents:"none"},npcCharacter:{position:"absolute",width:"180px",height:"auto",cursor:"pointer",zIndex:25,transition:"transform 0.2s"},npcDialogueContainer:{position:"absolute",zIndex:150,maxWidth:"400px"},npcDialogueBoxInline:{padding:"20px 25px",borderRadius:"15px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",textAlign:"center",boxShadow:"0 5px 25px rgba(0,0,0,0.2)"},slotsContainer:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"12px",zIndex:100},slot:{width:"55px",height:"55px",borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"2px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Roboto', sans-serif",fontSize:"18px",color:"#999",fontWeight:500},slotFilled:{background:"linear-gradient(135deg, #E8D5E8, #F5E6F5)",border:"3px solid #C9A0DC",color:"#8B5A9B",fontWeight:700},cardOverlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:200,display:"flex",alignItems:"center",justifyContent:"center"},cardBox:{width:"420px",padding:"30px 35px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",textAlign:"center"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"24px",fontWeight:700,color:"#333",marginBottom:"8px"},cardObjectId:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,color:"#555",marginBottom:"20px"},cardInfo:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#444",lineHeight:1.8,textAlign:"center",marginBottom:"25px"},collectButton:{width:"100%",padding:"16px",fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:700,color:"#fff",background:"#1a1a2e",border:"none",borderRadius:"12px",cursor:"pointer",textTransform:"uppercase",letterSpacing:"2px",transition:"transform 0.2s, box-shadow 0.2s"},taskHintBox:{width:"380px",padding:"25px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #87CEEB)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},taskTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"22px",fontWeight:700,color:"#333",marginBottom:"15px"},hintImage:{width:"100%",height:"auto",borderRadius:"12px",marginBottom:"15px"},closeButton:{position:"absolute",top:"10px",right:"15px",fontSize:"28px",color:"#999",cursor:"pointer",background:"none",border:"none"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",color:"#333",lineHeight:1.6},okButton:{marginTop:"20px",padding:"12px 40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#5170FF",background:"transparent",border:"2px solid #5170FF",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s"}};return o.jsxs("div",{style:N.container,children:[o.jsx("div",{style:N.mapContainer,children:o.jsx("img",{src:"/jungle/map_full.png",alt:"Fungi Jungle Map",style:N.mapImage})}),o.jsx("button",{style:N.exitButton,onClick:t,onMouseOver:_=>{_.target.style.backgroundColor="rgba(255, 255, 255, 1)",_.target.style.borderColor="#5170FF"},onMouseOut:_=>{_.target.style.backgroundColor="rgba(255, 255, 255, 0.85)",_.target.style.borderColor="rgba(81, 112, 255, 0.4)"},children:n("exit")}),o.jsx("div",{style:N.glitchNpc,onClick:Se,onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),children:o.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:N.glitchImage})}),ge.up!==void 0&&o.jsx("button",{style:{...N.navArrow,...N.upArrow},onClick:()=>W("up"),onMouseOver:_=>_.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:_=>_.currentTarget.style.transform="translateX(-50%) scale(1)",children:o.jsx("span",{style:N.arrowIcon,children:""})}),ge.down!==void 0&&o.jsx("button",{style:{...N.navArrow,...N.downArrow},onClick:()=>W("down"),onMouseOver:_=>_.currentTarget.style.transform="translateX(-50%) scale(1.2)",onMouseOut:_=>_.currentTarget.style.transform="translateX(-50%) scale(1)",children:o.jsx("span",{style:N.arrowIcon,children:""})}),ge.left!==void 0&&o.jsx("button",{style:{...N.navArrow,...N.leftArrow},onClick:()=>W("left"),onMouseOver:_=>_.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:_=>_.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("span",{style:N.arrowIcon,children:""})}),ge.right!==void 0&&o.jsx("button",{style:{...N.navArrow,...N.rightArrow},onClick:()=>W("right"),onMouseOver:_=>_.currentTarget.style.transform="translateY(-50%) scale(1.2)",onMouseOut:_=>_.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("span",{style:N.arrowIcon,children:""})}),L.map(_=>{var be;const ye=_.size||120;return o.jsx("div",{style:{...N.mushroomItem,width:`${ye}px`,height:`${ye}px`,top:_.top,bottom:_.bottom,left:_.left,right:_.right,...r.includes(_.id)?N.mushroomCollected:{}},onClick:()=>K(_.id),onMouseOver:Be=>{r.includes(_.id)||(Be.currentTarget.style.transform="scale(1.15)")},onMouseOut:Be=>{Be.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:`/jungle/object/${_.id}.png`,alt:(be=mo[_.id])==null?void 0:be.name,style:N.mushroomImage})},_.id)}),I&&o.jsx("img",{src:I.image,alt:I.npc,style:{...N.npcCharacter,top:I.top,bottom:I.bottom,left:I.left,right:I.right,width:I.width==="auto"?"auto":`${I.width}px`,height:I.height?typeof I.height=="string"?I.height:`${I.height}px`:"auto"},onClick:()=>X(I.npc),onMouseEnter:()=>ne(I.npc,!0),onMouseLeave:()=>ne(I.npc,!1)}),H&&o.jsx("div",{style:{...N.npcDialogueContainer,...G==="glitch"?{top:"15px",right:"100px"}:I?{top:I.dialogueTop,left:I.dialogueLeft,right:I.dialogueRight}:{}},children:o.jsxs("div",{style:N.npcDialogueBoxInline,children:[o.jsx("p",{style:N.dialogueText,children:p}),o.jsx("button",{style:N.okButton,onClick:()=>z(!1),onMouseOver:_=>{_.target.style.backgroundColor="#5170FF",_.target.style.color="#fff"},onMouseOut:_=>{_.target.style.backgroundColor="transparent",_.target.style.color="#5170FF"},children:"OK"})]})}),o.jsx("div",{style:N.slotsContainer,children:Array.from({length:12},(_,ye)=>{const be=r[ye];return o.jsx("div",{style:{...N.slot,...be?N.slotFilled:{}},children:be||"?"},ye)})}),m&&T&&o.jsx("div",{style:N.cardOverlay,onClick:()=>w(!1),children:o.jsxs("div",{style:N.cardBox,onClick:_=>_.stopPropagation(),children:[o.jsx("h2",{style:N.cardTitle,children:"You Found"}),o.jsxs("p",{style:N.cardObjectId,children:["Object ID: #",T,"  ",(te=mo[T])==null?void 0:te.name]}),o.jsxs("div",{style:N.cardInfo,children:[o.jsxs("p",{children:[" Color: ",(ae=mo[T])==null?void 0:ae.color]}),o.jsxs("p",{children:[" Shape: ",(se=mo[T])==null?void 0:se.shape]}),o.jsxs("p",{children:[" Texture: ",(de=mo[T])==null?void 0:de.texture]}),o.jsxs("p",{children:[" Spikes: ",(tt=mo[T])!=null&&tt.spikes?"Yes":"None"]})]}),o.jsx("button",{style:N.collectButton,onClick:Y,onMouseOver:_=>{_.target.style.transform="scale(1.02)",_.target.style.boxShadow="0 5px 20px rgba(0,0,0,0.3)"},onMouseOut:_=>{_.target.style.transform="scale(1)",_.target.style.boxShadow="none"},children:"COLLECT DATA"})]})}),S&&o.jsx("div",{style:N.cardOverlay,onClick:()=>A(!1),children:o.jsxs("div",{style:{...N.taskHintBox,position:"relative"},onClick:_=>_.stopPropagation(),children:[o.jsx("button",{style:N.closeButton,onClick:()=>A(!1),children:""}),o.jsx("h2",{style:N.taskTitle,children:"Task 1: Find the data"}),o.jsx("img",{src:"/jungle/hint.gif",alt:"Hint",style:N.hintImage})]})})]})},_f=["03","05","07"],Hf=[["01","02","03","04"],["05","06","07","08"],["09","10","11","12"]],Zb={1:[{id:"01",name:"Candy Blob",color:"TRUE",texture:"Smooth",spikes:"No",toxic:"NO"},{id:"02",name:"img_file_002.png",color:"Red",texture:"Wavy",spikes:"Yes",toxic:"YES"},{id:"03",name:"Velvet Star",color:"Blue",texture:"404 Error",spikes:"Yes",toxic:"NO"},{id:"04",name:"Polka Cluster",color:"Green",texture:"Smooth",spikes:"Zero",toxic:"NO"}],2:[{id:"05",name:"Speckled Bell",color:"#800080",texture:"Matte",spikes:"No",toxic:"NO"},{id:"06",name:"Glowing Shroom",color:"Blue",texture:"Glowing",spikes:"1",toxic:"Safe"},{id:"07",name:"Striped Chime",color:"Orange",texture:"Looks very nice",spikes:"No",toxic:"NO"},{id:"08",name:"NULL",color:"Yellow",texture:"Glossy",spikes:"No",toxic:"NO"}],3:[{id:"09",name:"Frostfire Cap",color:"Pink",texture:"Glossy",spikes:"N/A",toxic:"NO"},{id:"10",name:"Classic Toadstool",color:"255, 0, 0",texture:"Matte",spikes:"No",toxic:"NO"},{id:"11",name:"Rainbow Drip",color:"Pastel",texture:"Glossy",spikes:"No",toxic:"MAYBE"},{id:"12",name:"Starlight Shroom",color:"Purple",texture:"%&*(#@!",spikes:"Yes",toxic:"YES"}]},Kb={1:[{id:"01",field:"color",correct:"Pink"},{id:"02",field:"name",correct:"Flame Bloom"},{id:"03",field:"texture",correct:"Fuzzy"},{id:"04",field:"spikes",correct:"No"}],2:[{id:"05",field:"color",correct:"Purple"},{id:"06",field:"spikes",correct:"No"},{id:"06",field:"toxic",correct:"NO"},{id:"07",field:"texture",correct:"Striped"},{id:"08",field:"name",correct:"Drip Orb"}],3:[{id:"09",field:"spikes",correct:"No"},{id:"10",field:"color",correct:"Red"},{id:"11",field:"toxic",correct:"NO"},{id:"12",field:"texture",correct:"Veined"}]},Ff={1:"I see file names mixed with real names, and colors written as True/False! Fix the format errors in the highlighted cells.",2:"Someone entered Hex Codes instead of color names, and wrote a sentence in the texture column. The AI can't read sentences!",3:"Watch out for 'Maybe' labels and corrupted text characters. The AI needs certainty!"},vl=[{id:"09",name:"Frostfire Cap",color:"Pink / Cyan / White",texture:"Glossy / Glowing",spikes:null,toxic:"YES",missingField:"spikes",options:["Yes","No"],correct:"No"},{id:"02",name:"Flame Bloom",color:"Red / Orange",texture:null,spikes:"Yes",toxic:"YES",missingField:"texture",options:["Wavy","Smooth","Glossy","Matte"],correct:"Wavy"},{id:"08",name:"Drip Orb",color:null,texture:"Glossy / Dripping",spikes:"No",toxic:"YES",missingField:"color",options:["Yellow","Blue","Red","Green"],correct:"Yellow"}],xo=[{question:"Hold on! Before we push the big button, I need to make sure you understand what we are doing. Quick check: How does an AI actually learn?",options:[{text:"By analyzing patterns in data",correct:!0},{text:"By just guessing randomly",correct:!1}],correctResponse:"Correct! AI isn't magic, and it doesn't verify answers by itself. It needs massive amounts of data to find the hidden rules.",incorrectResponse:"Not quite! AI doesn't just guess randomly. It learns by analyzing patterns in data. It needs massive amounts of data to find the hidden rules and make accurate predictions."},{question:"Now, think about the data you just collected. To help the AI decide if a mushroom is toxic, which features are actually helpful?",options:[{text:"Color, Shape, and Texture",correct:!0},{text:"The name of the person who picked it",correct:!1}],correctResponse:"Precisely! To make accurate predictions, the AI needs data related to the object itself. Irrelevant infolike who picked itis just Noise. It will only confuse the model!",incorrectResponse:"Actually, the name of the person who picked it is irrelevant! To make accurate predictions, the AI needs data related to the object itself - like Color, Shape, and Texture. Irrelevant info is just Noise and will confuse the model!"}],Pb="The dataset is clean. The patterns are clear. Are you ready? Let's initiate the Model Training process!",$b="Watch closely. The AI is taking the mushroom features as Input. But the Output isn't just a simple 'Yes' or 'No'. It gives us a Probabilitya percentage score of how likely it is that the mushroom is toxic.",e1="Training complete! The AI has learned to identify the 'Toxic Traits'. But wait... we need to verify if it really learned, or if it just memorized our list. How should we test the AI?",t1=[{text:"Test with NEW mushrooms it hasn't seen",correct:!0},{text:"Test with the SAME mushrooms it already studied",correct:!1}],n1="Spot on! If we test with old data, the AI is just cheatinglike memorizing the answers to a test. Only by using Unseen Data (New Mushrooms) can we prove it can truly judge and generalize!",Rc=[{id:"13",isNew:!0},{id:"14",isNew:!0},{id:"15",isNew:!0},{id:"08",isNew:!1}],Ns=["Uh oh...  This is bad news! The AI only got 45% correct on the new mushrooms. It's confusing  the 'Death Cap' with the 'Edible Paddy Straw' mushroom! If we use this AI now, the Elf might get a tummy ache... or worse! We can't give up, but we need to fix this.","Think like a Data Scientist. Why is the AI failing? It probably hasn't seen enough examples of the tricky mushrooms yet. What should we do to improve the AI's accuracy?"],a1=[{text:"Feed it MORE varied photos & Retrain",correct:!0},{text:"Only test it on mushrooms it knows",correct:!1},{text:"Change the code to say 'Safe' for everything",correct:!1}],i1="Brilliant!  Option B is cheating (and dangerous!), and Option C is just lazy code.",Lf=[{id:"16",isGood:!0},{id:"17",isGood:!0},{id:"18",isGood:!0},{id:"19",isGood:!0},{id:"20",isGood:!1,duplicateOf:"12"},{id:"21",isGood:!1,duplicateOf:"11"}],Qe={BOTTOM_LEFT:0,BOTTOM_RIGHT:1,TOP_LEFT:2,TOP_RIGHT:3},Sl={[Qe.BOTTOM_LEFT]:{up:Qe.TOP_LEFT,right:Qe.BOTTOM_RIGHT},[Qe.BOTTOM_RIGHT]:{up:Qe.TOP_RIGHT,left:Qe.BOTTOM_LEFT},[Qe.TOP_LEFT]:{down:Qe.BOTTOM_LEFT,right:Qe.TOP_RIGHT},[Qe.TOP_RIGHT]:{down:Qe.BOTTOM_RIGHT,left:Qe.TOP_LEFT}},o1={[Qe.BOTTOM_LEFT]:"translate(0%, -50%)",[Qe.BOTTOM_RIGHT]:"translate(-50%, -50%)",[Qe.TOP_LEFT]:"translate(0%, 0%)",[Qe.TOP_RIGHT]:"translate(-50%, 0%)"},l1={[Qe.TOP_RIGHT]:[{id:"17",size:500,left:"2%",bottom:"0%",status:"DANGER",toxicity:"99% Toxic"}],[Qe.BOTTOM_LEFT]:[{id:"26",size:700,right:"0%",bottom:"0%",status:"DANGER",toxicity:"98% Toxic"},{id:"14",size:450,left:"0%",top:"0%",status:"DANGER",toxicity:"94% Toxic"},{id:"24",size:350,left:"50%",top:"0%",status:"EDIBLE",toxicity:"90% Safe"}],[Qe.BOTTOM_RIGHT]:[{id:"21",size:360,right:"30%",bottom:"0%",status:"DANGER",toxicity:"99% Toxic"},{id:"22",size:250,right:"45%",bottom:"5%",status:"EDIBLE",toxicity:"92% Safe"},{id:"15",size:250,left:"0%",top:"35%",status:"DANGER",toxicity:"90% Toxic"}],[Qe.TOP_LEFT]:[{id:"25",size:600,left:"0%",bottom:"10%",status:"DANGER",toxicity:"99% Toxic"},{id:"18",size:380,right:"30%",top:"30%",status:"DANGER",toxicity:"95% Toxic"},{id:"23",size:260,right:"50%",bottom:"0%",status:"EDIBLE",toxicity:"95% Safe"},{id:"19",size:350,left:"30%",top:"5%",status:"DANGER",toxicity:"91% Toxic"}]},Dt={[Qe.TOP_RIGHT]:{npc:"npc_c",image:"/jungle/npc_c2.gif",right:"20%",top:"5%",height:"66.67vh",width:"auto",dialogues:[["We're back online! And the system is running smoothly.","The workers have their lunch, and everyone is safe thanks to you.","But the forest is huge and full of surprises. Since you have the scanner... why not take a look around?","Go ahead, try to see which other mushrooms are EDIBLE. Who knows? You might find something rare!"],["Production is up! No more sick days!"]]},[Qe.BOTTOM_LEFT]:{npc:"npc_a",image:"/jungle/npc_a2.gif",right:"40%",bottom:"5%",height:"540px",width:"auto",hoverText:"Yay! No stomach ache today."},[Qe.BOTTOM_RIGHT]:{npc:"npc_b",image:"/jungle/npc_b2.gif",left:"5%",bottom:"0%",height:"540px",width:"auto",hoverText:"This new scanner is like magic. It knows everything!"}},s1=({onComplete:e,onExit:t})=>{var q,C,F,Q,V,re,le;const{t:n}=Sa(),[a,i]=u.useState("INTRO"),[l,s]=u.useState(0),[r,c]=u.useState([]);u.useEffect(()=>{const g=localStorage.getItem("aiJourneyUser");if(g){const R=JSON.parse(g).dataCleaningProgress;R&&(i(R.phase||"INTRO"),s(R.noiseBatch||0),c(R.removedItems||[]),console.log("Loaded Data Cleaning progress:",R))}},[]),u.useEffect(()=>{const g=localStorage.getItem("aiJourneyUser");if(g){const D=JSON.parse(g);D.dataCleaningProgress={phase:a,noiseBatch:l,removedItems:r,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(D)),console.log("Saved Data Cleaning progress:",D.dataCleaningProgress)}},[a,l,r]);const[m,w]=u.useState(1),[T,y]=u.useState([]),[S,A]=u.useState(!1),[H,z]=u.useState(""),[p,f]=u.useState(!1),[h,j]=u.useState(0),[G,Z]=u.useState(""),[k,W]=u.useState(!1),[K,Y]=u.useState([]),[X,ne]=u.useState(0),[$,Se]=u.useState({}),[ge,L]=u.useState(null),[I,N]=u.useState(!1),[te,ae]=u.useState([]),[se,de]=u.useState(0),[tt,_]=u.useState({}),[ye,be]=u.useState(0),[Be,Ye]=u.useState(!1),[Zt,Ta]=u.useState(0),[xt,Ka]=u.useState([]),[Ni,Pa]=u.useState(!1),[fn,$a]=u.useState(!1),[wt,Kt]=u.useState(0),[gn,yt]=u.useState(!1),hn=Hc.useRef(null),[bt,aa]=u.useState(0),[Gt,mn]=u.useState(0),[kt,Bi]=u.useState([]),[Vn,ei]=u.useState(null),[Ca,ia]=u.useState(0),[cl,Jn]=u.useState(!1),Ri=Hc.useRef(null),[ti,st]=u.useState(0),[Pt,Ve]=u.useState(!1),[oa,$t]=u.useState(""),[wa,zn]=u.useState(!1),[Ue,rt]=u.useState([]),[We,On]=u.useState(null),[la,Dn]=u.useState(!1),[pe,En]=u.useState(3),[Ft,jt]=u.useState(!1),[ct,vt]=u.useState(!1),[ni,ut]=u.useState(""),[ka,At]=u.useState(null),[en,Nn]=u.useState({npc_c:0}),[ro,co]=u.useState(0),[qt,ai]=u.useState(null),[Me,sa]=u.useState(0),[Lt,Ut]=u.useState(0),Yt=["Outstanding work, Human! You've gathered enough raw data. But... we can't feed this directly to the AI. Not yet.","In the world of AI, there is a golden rule: 'Garbage In, Garbage Out'. If we train the model with messy data, it will learn the wrong lessons.","We must enter the Data Cleaning Phase."],_i="Great job removing the noise. Now, look at this Data Table. The auto-tagging system was glitching, so some Labels are wrong. Click on the cells you think contain errors!",It="Some data fields are completely Empty (Null). The AI cannot learn from nothing! Click on the empty cells. I will project the hologram (photo) of the mushroom. Look at the photo, and fill in the blank.";u.useEffect(()=>{y([])},[m]),u.useEffect(()=>{if(!p)return;const g=Yt[h];if(!g)return;let D=0;Z(""),W(!0);const R=setInterval(()=>{D<g.length?(Z(g.substring(0,D+1)),D++):(W(!1),clearInterval(R))},25);return()=>clearInterval(R)},[h,p]),u.useEffect(()=>{a==="INTRO"&&setTimeout(()=>f(!0),500)},[a]);const Hi=()=>{if(k){Z(Yt[h]),W(!1);return}Y(g=>[...g,Yt[h]]),h<Yt.length-1?j(g=>g+1):(f(!1),i("NOISE_REMOVAL"))},xn=g=>{r.includes(g)?c(D=>D.filter(R=>R!==g)):c(D=>[...D,g])},ja=()=>{const g=Hf[l],R=g.filter(Xe=>_f.includes(Xe)).every(Xe=>r.includes(Xe)),Te=g.filter(Xe=>!_f.includes(Xe)&&r.includes(Xe));if(!R||Te.length>0){z("First, look at what you collected. Some of these aren't mushrooms at all! These are what we call 'Noise'."),A(!0);return}l<2?s(Xe=>Xe+1):i("LABEL_INTRO")},ra=()=>{i("LABEL_CORRECTION")},Je=(g,D)=>{const R=`${g}-${D}`;T.includes(R)?y(Te=>Te.filter(Xe=>Xe!==R)):y(Te=>[...Te,R])},ii=()=>{const D=Kb[m].map(pt=>`${pt.id}-${pt.field}`),R=new Set(T),Te=new Set(D),Xe=D.every(pt=>R.has(pt)),Rn=T.every(pt=>Te.has(pt));if(!Xe||!Rn){z(Ff[m]),A(!0);return}m<3?w(pt=>pt+1):i("FILL_MISSING_INTRO")},dt=()=>{i("FILL_MISSING")},ca=(g,D)=>{const R=vl.find(Te=>Te.id===g);R&&R.missingField===D&&(L({itemId:g,field:D}),N(!0))},nt=g=>{if(!ge)return;const D=vl.find(R=>R.id===ge.itemId);D&&g===D.correct?(Se(R=>({...R,[ge.itemId]:g})),L(null),N(!1)):(z("Look carefully at the mushroom photo! What do you see?"),A(!0))},Fi=()=>{if(!vl.every(D=>$[D.id])){z("You still have empty cells! Click on the  to fill them."),A(!0);return}i("QUIZ"),ae([{type:"ranger",text:xo[0].question}]),de(0)},tn=(g,D)=>{const R=xo[se],Te=R.options[g];_(pt=>({...pt,[se]:{optionIndex:g,isCorrect:D}}));const Xe=D?R.correctResponse:R.incorrectResponse,Rn=[...te,{type:"user",text:Te.text},{type:"ranger",text:Xe}];se<xo.length-1?(Rn.push({type:"ranger",text:xo[se+1].question}),ae(Rn),de(pt=>pt+1)):(Rn.push({type:"ranger",text:Pb}),Rn.push({type:"button",text:"Ready, Let's GO!"}),ae(Rn),de(pt=>pt+1))},ua=()=>{i("TRAINING"),be(0);const g=setInterval(()=>{be(D=>D>=100?(clearInterval(g),Ye(!0),100):D+2)},100)},Mt=()=>{i("VALIDATION_INTRO"),Ta(0)},nn=g=>{g&&Ta(1)},Zn=()=>{i("VALIDATION_DATA"),Ka([])},Bn=g=>{if(!Rc.find(R=>R.id===g).isNew){z("We should test with New Mushrooms, the yellow one is already collected"),A(!0);return}xt.includes(g)?Ka(R=>R.filter(Te=>Te!==g)):Ka(R=>[...R,g])},Aa=()=>{Rc.filter(R=>R.isNew).map(R=>R.id).every(R=>xt.includes(R))&&xt.length===3&&(Pa(!0),setTimeout(()=>{Pa(!1),$a(!0)},2e3))},Wt=225,Ia=g=>{g.preventDefault(),yt(!0)},yn=g=>{if(!gn||!hn.current)return;const D=hn.current.getBoundingClientRect(),R=g.clientX-D.left-25,Te=Math.max(0,Math.min(R,Wt));Kt(Te),Te>=Wt-10&&(yt(!1),Aa())},oi=()=>{gn&&(yt(!1),wt<Wt-10&&Kt(0))},Li=g=>{g.preventDefault(),yt(!0)},M=g=>{if(!gn||!hn.current)return;const D=g.touches[0],R=hn.current.getBoundingClientRect(),Te=D.clientX-R.left-25,Xe=Math.max(0,Math.min(Te,Wt));Kt(Xe),Xe>=Wt-10&&(yt(!1),Aa())},Ma=()=>{gn&&(yt(!1),wt<Wt-10&&Kt(0))};u.useEffect(()=>(gn&&(window.addEventListener("mousemove",yn),window.addEventListener("mouseup",oi),window.addEventListener("touchmove",M),window.addEventListener("touchend",Ma)),()=>{window.removeEventListener("mousemove",yn),window.removeEventListener("mouseup",oi),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",Ma)}),[gn,wt]);const v=()=>{i("ADJUST_MODEL_INTRO"),aa(0),mn(0),rt([]),$t("")};u.useEffect(()=>{if(a!=="ADJUST_MODEL_INTRO"||Gt!==0)return;const g=Ns[bt];if(!g)return;let D=0;$t(""),zn(!0);const R=setInterval(()=>{D<g.length?($t(g.substring(0,D+1)),D++):(zn(!1),clearInterval(R))},25);return()=>clearInterval(R)},[bt,a,Gt]);const U=()=>{if(wa){$t(Ns[bt]),zn(!1);return}rt(g=>[...g,Ns[bt]]),bt<Ns.length-1?aa(g=>g+1):mn(1)},ie=(g,D)=>{g.correct?mn(2):(On(D),z("That won't help the AI learn better! Think about what data scientists do."),A(!0))},ze=g=>{g.isGood?kt.includes(g.id)||(Bi(D=>[...D,g.id]),ei(null),Dn(!1),Jn(!0),setTimeout(()=>Jn(!1),2e3)):(ei(g),Dn(!0),z("Even though they aren't exactly the same, they don't teach the AI anything new. Try a different one!"),A(!0))},P=()=>{if(Lf.filter(R=>R.isGood).map(R=>R.id).every(R=>kt.includes(R))){i("ADJUST_MODEL_TRAINING");let R=0;const Te=setInterval(()=>{R+=2,ia(R),R>=100&&clearInterval(Te)},50)}},zt=()=>{i("LOADING")},Ge=225,Kn=g=>{g.preventDefault(),Ve(!0)},Xt=g=>{if(!Pt||!Ri.current)return;const D=Ri.current.getBoundingClientRect(),R=g.clientX-D.left-25,Te=Math.max(0,Math.min(R,Ge));st(Te),Te>=Ge-10&&(Ve(!1),P())},za=()=>{Pt&&(Ve(!1),ti<Ge-10&&st(0))};u.useEffect(()=>(Pt&&(window.addEventListener("mousemove",Xt),window.addEventListener("mouseup",za)),()=>{window.removeEventListener("mousemove",Xt),window.removeEventListener("mouseup",za)}),[Pt,ti]),u.useEffect(()=>{if(a==="LOADING"){let g=0;const D=setInterval(()=>{g+=2,co(g),g>=100&&(clearInterval(D),setTimeout(()=>{i("COLOR_MAP_EXPLORATION")},500))},50);return()=>clearInterval(D)}},[a]);const da=g=>{var R;const D=(R=Sl[pe])==null?void 0:R[g];D!==void 0&&!Ft&&(jt(!0),ai(null),vt(!1),At(null),setTimeout(()=>{En(D),jt(!1)},500))},pa=g=>{const D=Dt[pe];if(D&&D.npc===g&&g==="npc_c"){const R=en.npc_c;R<D.dialogues.length&&(sa(R),Ut(0),ut(D.dialogues[R][0]),vt(!0),At(g))}},hs=()=>{const g=Dt[pe];if(g&&ka==="npc_c"){const D=g.dialogues[Me];Lt<D.length-1?(Ut(R=>R+1),ut(D[Lt+1])):(vt(!1),Nn(R=>({...R,npc_c:R.npc_c+1})),At(null))}else vt(!1),At(null)},Pn=(g,D)=>{const R=Dt[pe];R&&R.npc===g&&R.hoverText&&(D?(ut(R.hoverText),vt(!0),At(g)):(vt(!1),At(null)))},uo=()=>{ut("You know, technology didn't save the dayYOU did. An AI is just a tool. It was your careful choices as a 'Data Detective' that taught it to see the truth."),vt(!0),At("glitch")},po=g=>{ai(qt===g?null:g)},bn=(g,D)=>T.includes(`${g}-${D}`),x={container:{width:"100%",height:"100vh",backgroundImage:"url(/jungle/map_full.png)",backgroundSize:"cover",backgroundPosition:"center",position:"relative",overflow:"hidden"},overlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 30, 20, 0.5)",zIndex:1},exitButton:{position:"absolute",top:"20px",left:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#666",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"2px solid rgba(81, 112, 255, 0.4)",padding:"12px 30px",borderRadius:"8px",cursor:"pointer",zIndex:100},glitchNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:100,cursor:"pointer"},rangerNpc:{position:"absolute",right:"30px",bottom:"0",height:"66.67vh",width:"auto",zIndex:40},leftDialogueContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",zIndex:50},dialogueHistoryBox:{padding:"25px 30px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",maxHeight:"60vh",overflowY:"auto"},dialogueHistoryItem:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#333",lineHeight:1.7,marginBottom:"15px",paddingBottom:"15px",borderBottom:"1px solid #eee"},dialogueHistoryItemLast:{borderBottom:"none",marginBottom:0,paddingBottom:0},glitchHintInline:{position:"absolute",top:"15px",right:"100px",maxWidth:"350px",padding:"12px 20px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.98)",border:"2px solid #FFB6C1",boxShadow:"0 3px 15px rgba(0,0,0,0.15)",zIndex:150},glitchHintInlineText:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#555",lineHeight:1.5,margin:0},glitchHintCloseBtn:{position:"absolute",top:"5px",right:"8px",background:"none",border:"none",fontSize:"16px",color:"#999",cursor:"pointer"},cardContainer:{position:"absolute",top:"100px",left:"30px",width:"80%",maxWidth:"2100px",zIndex:50},card:{width:"1650px",padding:"90px",borderRadius:"75px",background:"rgba(255, 255, 255, 0.98)",border:"12px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},cardTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"78px",fontWeight:700,color:"#333",textAlign:"center",marginBottom:"30px"},cardSubtitle:{fontFamily:"'Roboto', sans-serif",fontSize:"42px",color:"#666",textAlign:"center",marginBottom:"75px"},itemGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"45px",marginBottom:"60px"},itemCard:{width:"330px",height:"330px",borderRadius:"45px",background:"#fff",border:"9px solid transparent",backgroundImage:"linear-gradient(#fff, #fff), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s"},itemCardRemoved:{opacity:.3,background:"#1a1a2e",backgroundImage:"none",border:"3px solid #444"},itemImage:{width:"240px",height:"240px",objectFit:"contain"},trashArea:{display:"flex",justifyContent:"center",gap:"45px",marginTop:"45px"},trashSlot:{width:"240px",height:"240px",borderRadius:"12px",background:"#1a1a2e",border:"3px solid transparent",backgroundImage:"linear-gradient(#1a1a2e, #1a1a2e), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",display:"flex",alignItems:"center",justifyContent:"center"},nextButton:{display:"block",margin:"60px auto 0",padding:"36px 120px",fontFamily:"'Roboto', sans-serif",fontSize:"48px",fontWeight:600,color:"#333",background:"transparent",border:"none",cursor:"pointer"},tableCard:{width:"650px",padding:"25px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},table:{width:"100%",borderCollapse:"collapse",marginTop:"15px"},th:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#555",textTransform:"uppercase",padding:"10px 8px",borderBottom:"2px solid #ddd",textAlign:"left"},td:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",padding:"12px 8px",borderBottom:"1px solid #eee"},selectedCell:{background:"rgba(123, 104, 238, 0.3)",cursor:"pointer",borderRadius:"4px",border:"2px solid #7B68EE"},clickableCell:{cursor:"pointer",transition:"background 0.2s"},modalOverlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.6)",zIndex:200,display:"flex",alignItems:"center",justifyContent:"center"},dialogueBox:{maxWidth:"500px",padding:"30px 40px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},speakerName:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#5170FF",marginBottom:"10px"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.7},continueButton:{marginTop:"20px",float:"right",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#5170FF",background:"transparent",border:"none",cursor:"pointer",textTransform:"uppercase"},navArrow:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)",fontSize:"40px",color:"#fff",textShadow:"0 2px 10px rgba(0,0,0,0.5)",zIndex:50},fillMissingContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"900px",display:"flex",gap:"20px",zIndex:60},fillTableCard:{width:"550px",padding:"25px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.95)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(135deg, #5170FF, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},imagePanel:{width:"320px",padding:"20px",borderRadius:"25px",background:"rgba(20, 20, 30, 0.95)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(20,20,30,0.95), rgba(20,20,30,0.95)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",display:"flex",flexDirection:"column",alignItems:"center",zIndex:60},imagePanelTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"28px",fontWeight:700,color:"#fff",marginBottom:"15px"},mushroomImage:{width:"250px",height:"250px",objectFit:"contain",marginBottom:"15px"},missingCell:{background:"rgba(255, 200, 100, 0.3)",cursor:"pointer",borderRadius:"4px",padding:"8px 12px",display:"inline-block"},missingCellActive:{background:"rgba(123, 104, 238, 0.4)",border:"2px solid #7B68EE"},filledCell:{background:"rgba(100, 200, 100, 0.3)",borderRadius:"4px",padding:"8px 12px"},optionsContainer:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"center",marginTop:"15px"},optionButton:{padding:"10px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#fff",background:"rgba(81, 112, 255, 0.8)",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},completeCard:{width:"600px",padding:"40px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #5170FF, #7B68EE)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",textAlign:"center"},completeTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"28px",fontWeight:700,color:"#333",marginBottom:"20px"},completeText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#555",lineHeight:1.8,marginBottom:"15px"},statusText:{fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:700,color:"#5170FF",marginBottom:"30px"},nextStepButton:{padding:"15px 40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#fff",background:"linear-gradient(135deg, #5170FF, #7B68EE)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"transform 0.2s"},quizContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",maxHeight:"80vh",zIndex:50},chatCard:{padding:"30px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.95)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(135deg, #5170FF, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",maxHeight:"70vh",overflowY:"auto"},chatMessages:{display:"flex",flexDirection:"column",gap:"15px"},rangerMessage:{display:"flex",alignItems:"flex-start",gap:"12px"},rangerAvatar:{width:"50px",height:"50px",borderRadius:"50%",background:"#1a1a2e",flexShrink:0,overflow:"hidden"},messageBubble:{padding:"15px 20px",borderRadius:"15px",background:"rgba(81, 112, 255, 0.1)",maxWidth:"80%"},messageText:{fontFamily:"'Roboto', sans-serif",fontSize:"15px",color:"#333",lineHeight:1.6},messageSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#5170FF",marginBottom:"5px"},userMessage:{display:"flex",justifyContent:"flex-end"},userBubble:{padding:"12px 18px",borderRadius:"15px",background:"rgba(123, 104, 238, 0.2)",maxWidth:"70%"},quizOptions:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"15px",marginLeft:"62px"},quizOptionButton:{padding:"12px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",background:"rgba(255, 255, 255, 0.9)",border:"2px solid #5170FF",borderRadius:"10px",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},quizOptionSelected:{background:"rgba(123, 104, 238, 0.3)",borderColor:"#7B68EE"},goButton:{display:"block",margin:"20px auto 0",padding:"15px 40px",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#fff",background:"linear-gradient(135deg, #5170FF, #7B68EE)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"transform 0.2s"},trainingContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",zIndex:50,textAlign:"center"},trainingCard:{padding:"40px",borderRadius:"25px",background:"rgba(20, 20, 35, 0.95)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(20,20,35,0.95), rgba(20,20,35,0.95)), linear-gradient(135deg, #5170FF, #7B68EE)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},trainingTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"24px",fontWeight:700,color:"#fff",marginBottom:"30px"},trainingGif:{width:"400px",height:"auto",borderRadius:"15px",marginBottom:"30px"},progressBar:{height:"100%",background:"linear-gradient(90deg, #5170FF, #7B68EE)",transition:"width 0.1s ease"},progressText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#aaa",marginBottom:"20px"},voiceoverText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#fff",lineHeight:1.8,marginTop:"20px",padding:"20px",background:"rgba(81, 112, 255, 0.2)",borderRadius:"10px"},validationContainer:{position:"absolute",top:"100px",left:"30px",width:"60%",maxWidth:"700px",zIndex:50},validationCard:{padding:"30px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #7B68EE, #FFB6C1)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},validationText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.7,marginBottom:"25px"},validationOptions:{display:"flex",flexDirection:"column",gap:"15px"},validationOption:{padding:"15px 25px",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:500,color:"#5170FF",background:"rgba(81, 112, 255, 0.1)",border:"2px solid #5170FF",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},testMushroomGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"15px",marginBottom:"25px"},testMushroomCard:{position:"relative",width:"100%",aspectRatio:"1",borderRadius:"15px",background:"#fff",border:"3px solid #eee",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s",overflow:"hidden"},testMushroomCardSelected:{border:"3px solid #7B68EE",boxShadow:"0 4px 15px rgba(123, 104, 238, 0.3)"},testMushroomImage:{width:"85%",height:"85%",objectFit:"contain"},correctIcon:{position:"absolute",top:"8px",right:"8px",width:"24px",height:"24px"},scanningOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(81, 112, 255, 0.3)",display:"flex",alignItems:"center",justifyContent:"center"},slideButtonContainer:{position:"relative",width:"280px",height:"50px",background:"#1a1a2e",borderRadius:"25px",margin:"0 auto 25px",display:"flex",alignItems:"center",overflow:"hidden",cursor:"pointer"},slideButtonTrack:{position:"absolute",left:"5px",width:"45px",height:"40px",background:"linear-gradient(135deg, #5170FF, #7B68EE)",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",transition:"left 0.15s ease-out",userSelect:"none"},slideButtonText:{fontFamily:"'Montserrat', sans-serif",fontSize:"14px",fontWeight:700,color:"#fff",marginLeft:"60px",letterSpacing:"1px"},arrowIcon:{width:"20px",height:"20px"},predictionContainer:{textAlign:"center",marginTop:"20px"},predictionLabel:{fontFamily:"'Montserrat', sans-serif",fontSize:"14px",fontWeight:600,color:"#666",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"10px"},predictionValue:{fontFamily:"'Montserrat', sans-serif",fontSize:"72px",fontWeight:700,color:"#333",lineHeight:1},predictionUnit:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:500,color:"#666",marginTop:"5px"},adjustOptionsContainer:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"20px"},adjustOptionButton:{padding:"15px 20px",borderRadius:"12px",background:"#fff",border:"2px solid #ddd",fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},trainingPhotosCard:{width:"550px",padding:"25px",borderRadius:"20px",background:"rgba(240, 240, 245, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(240,240,245,0.98), rgba(240,240,245,0.98)), linear-gradient(135deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},trainingPhotosTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"18px",fontWeight:700,color:"#333",textAlign:"center",marginBottom:"20px",textTransform:"uppercase",letterSpacing:"1px"},trainingPhotosGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"15px",marginBottom:"20px"},trainingPhotoCard:{position:"relative",aspectRatio:"1",borderRadius:"15px",background:"#fff",border:"3px solid #eee",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s",overflow:"hidden"},trainingPhotoCardSelected:{border:"3px solid #7B68EE",boxShadow:"0 4px 15px rgba(123, 104, 238, 0.3)"},trainingPhotoImage:{width:"90%",height:"90%",objectFit:"contain"},trainingPhotoCheck:{position:"absolute",top:"8px",right:"8px",width:"24px",height:"24px"},feedbackPanel:{width:"320px",padding:"25px",borderRadius:"20px",background:"#1a1a2e",border:"4px solid transparent",backgroundImage:"linear-gradient(#1a1a2e, #1a1a2e), linear-gradient(135deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",display:"flex",flexDirection:"column",alignItems:"center"},feedbackTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#fff",textAlign:"center",marginBottom:"20px",textTransform:"uppercase",letterSpacing:"1px"},feedbackImage:{width:"200px",height:"200px",objectFit:"contain",marginBottom:"20px"},feedbackValueText:{fontFamily:"'Montserrat', sans-serif",fontSize:"20px",fontWeight:700,color:"#fff",textTransform:"uppercase"},feedbackPanelContainer:{position:"absolute",top:"100px",right:"30px",zIndex:50},rangerPraisePopup:{position:"absolute",bottom:"120px",right:"200px",padding:"15px 25px",borderRadius:"15px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #7B68EE",boxShadow:"0 5px 20px rgba(0,0,0,0.2)",zIndex:200},rangerPraiseText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",margin:0},retrainingContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",zIndex:50},modelGif:{width:"400px",height:"auto",marginBottom:"30px"},progressBarContainer:{width:"400px",height:"20px",background:"rgba(255,255,255,0.3)",borderRadius:"10px",overflow:"hidden",margin:"0 auto 30px"},progressBarFill:{height:"100%",background:"linear-gradient(90deg, #5170FF, #7B68EE)",borderRadius:"10px",transition:"width 0.1s linear"},finalAccuracyContainer:{padding:"40px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.98)",border:"4px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(135deg, #5170FF, #7B68EE)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"},finalAccuracyLabel:{fontFamily:"'Montserrat', sans-serif",fontSize:"14px",fontWeight:600,color:"#666",textTransform:"uppercase",letterSpacing:"2px",marginBottom:"10px"},finalAccuracyValue:{fontFamily:"'Montserrat', sans-serif",fontSize:"80px",fontWeight:700,color:"#4CAF50",lineHeight:1},finalAccuracyUnit:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:500,color:"#666",marginTop:"5px"},loadingContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",zIndex:50},loadingTitle:{fontFamily:"'Montserrat', sans-serif",fontSize:"32px",fontWeight:700,color:"#fff",marginBottom:"30px",textShadow:"0 2px 10px rgba(0,0,0,0.5)"},loadingBar:{width:"400px",height:"20px",background:"rgba(255,255,255,0.3)",borderRadius:"10px",overflow:"hidden",margin:"0 auto"},loadingFill:{height:"100%",background:"linear-gradient(90deg, #5170FF, #7B68EE)",borderRadius:"10px",transition:"width 0.1s linear"},colorMapContainer:{width:"100%",height:"100vh",position:"relative",overflow:"hidden"},colorMapWrapper:{width:"200%",height:"200%",position:"absolute",top:0,left:0,transition:"transform 0.5s ease-in-out"},colorMapImage:{width:"100%",height:"100%",objectFit:"cover"},colorMapNavArrow:{position:"absolute",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"rgba(255, 255, 255, 0.2)",borderRadius:"50%",backdropFilter:"blur(10px)"},colorMapArrowImage:{width:"30px",height:"30px",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.3))"},colorMapUpArrow:{top:"20px",left:"50%",transform:"translateX(-50%)"},colorMapDownArrow:{bottom:"20px",left:"50%",transform:"translateX(-50%)"},colorMapLeftArrow:{left:"20px",top:"50%",transform:"translateY(-50%)"},colorMapRightArrow:{right:"20px",top:"50%",transform:"translateY(-50%)"},colorMapMushroom:{position:"absolute",cursor:"pointer",transition:"transform 0.2s",zIndex:20},colorMapMushroomImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 5px 15px rgba(0,0,0,0.3))"},colorMapNpc:{position:"absolute",cursor:"pointer",zIndex:25,transition:"transform 0.2s"},colorMapNpcImage:{width:"100%",height:"100%",objectFit:"contain"},mushroomStatusBadge:{position:"absolute",top:"-10px",left:"50%",transform:"translateX(-50%)",padding:"8px 16px",borderRadius:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px",boxShadow:"0 3px 10px rgba(0,0,0,0.3)",zIndex:30},dangerBadge:{background:"linear-gradient(135deg, #FF4444, #CC0000)",color:"#fff"},edibleBadge:{background:"linear-gradient(135deg, #44FF44, #00CC00)",color:"#fff"},colorMapDialogue:{position:"absolute",top:"10%",left:"50%",transform:"translateX(-50%)",maxWidth:"600px",padding:"25px 30px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.98), rgba(255,255,255,0.98)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",textAlign:"center",zIndex:100},colorMapDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.6,marginBottom:"20px"},colorMapOkButton:{padding:"12px 30px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#5170FF",background:"transparent",border:"2px solid #5170FF",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s"}},an=Hf[l]||[],fo=Zb[m];return o.jsxs("div",{style:x.container,children:[a!=="COLOR_MAP_EXPLORATION"&&a!=="LOADING"&&o.jsx("div",{style:x.overlay}),a==="LOADING"&&o.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#000",zIndex:200},children:o.jsxs("div",{style:x.loadingContainer,children:[o.jsx("h2",{style:x.loadingTitle,children:"Loading..."}),o.jsx("div",{style:x.loadingBar,children:o.jsx("div",{style:{...x.loadingFill,width:`${ro}%`}})})]})}),a==="COLOR_MAP_EXPLORATION"&&o.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#000",zIndex:100},children:o.jsxs("div",{style:x.colorMapContainer,children:[o.jsx("div",{style:{...x.colorMapWrapper,transform:o1[pe]},children:o.jsx("img",{src:"/jungle/map_color.png",alt:"Fungi Jungle Color Map",style:x.colorMapImage})}),o.jsx("button",{style:x.exitButton,onClick:t,children:n("exit")}),o.jsx("div",{style:{...x.glitchNpc,width:"120px",height:"120px"},onClick:uo,children:o.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:{width:"100%",height:"100%",objectFit:"contain"}})}),((q=Sl[pe])==null?void 0:q.up)!==void 0&&o.jsx("button",{style:{...x.colorMapNavArrow,...x.colorMapUpArrow},onClick:()=>da("up"),onMouseOver:g=>g.currentTarget.style.transform="translateX(-50%) scale(1.1)",onMouseOut:g=>g.currentTarget.style.transform="translateX(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/up.png",alt:"Up",style:x.colorMapArrowImage})}),((C=Sl[pe])==null?void 0:C.down)!==void 0&&o.jsx("button",{style:{...x.colorMapNavArrow,...x.colorMapDownArrow},onClick:()=>da("down"),onMouseOver:g=>g.currentTarget.style.transform="translateX(-50%) scale(1.1)",onMouseOut:g=>g.currentTarget.style.transform="translateX(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/down.png",alt:"Down",style:x.colorMapArrowImage})}),((F=Sl[pe])==null?void 0:F.left)!==void 0&&o.jsx("button",{style:{...x.colorMapNavArrow,...x.colorMapLeftArrow},onClick:()=>da("left"),onMouseOver:g=>g.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:g=>g.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:x.colorMapArrowImage})}),((Q=Sl[pe])==null?void 0:Q.right)!==void 0&&o.jsx("button",{style:{...x.colorMapNavArrow,...x.colorMapRightArrow},onClick:()=>da("right"),onMouseOver:g=>g.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:g=>g.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:x.colorMapArrowImage})}),(V=l1[pe])==null?void 0:V.map(g=>o.jsxs("div",{style:{...x.colorMapMushroom,width:`${g.size}px`,height:`${g.size}px`,top:g.top,bottom:g.bottom,left:g.left,right:g.right},onClick:()=>po(g.id),onMouseOver:D=>D.currentTarget.style.transform="scale(1.05)",onMouseOut:D=>D.currentTarget.style.transform="scale(1)",children:[o.jsx("img",{src:`/jungle/object/${g.id}.png`,alt:`Mushroom ${g.id}`,style:x.colorMapMushroomImage}),qt===g.id&&o.jsxs("div",{style:{...x.mushroomStatusBadge,...g.status==="DANGER"?x.dangerBadge:x.edibleBadge},children:[g.status==="DANGER"?"":""," ",g.status," (",g.toxicity,")"]})]},g.id)),Dt[pe]&&o.jsx("div",{style:{...x.colorMapNpc,top:Dt[pe].top,bottom:Dt[pe].bottom,left:Dt[pe].left,right:Dt[pe].right,width:Dt[pe].width,height:Dt[pe].height},onClick:()=>pa(Dt[pe].npc),onMouseEnter:()=>Pn(Dt[pe].npc,!0),onMouseLeave:()=>Pn(Dt[pe].npc,!1),onMouseOver:g=>g.currentTarget.style.transform="scale(1.02)",onMouseOut:g=>g.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:Dt[pe].image,alt:Dt[pe].npc,style:x.colorMapNpcImage})}),ct&&o.jsxs("div",{style:x.colorMapDialogue,children:[o.jsx("p",{style:x.colorMapDialogueText,children:ni}),o.jsx("button",{style:x.colorMapOkButton,onClick:ka==="npc_c"?hs:()=>vt(!1),onMouseOver:g=>{g.target.style.backgroundColor="#5170FF",g.target.style.color="#fff"},onMouseOut:g=>{g.target.style.backgroundColor="transparent",g.target.style.color="#5170FF"},children:ka==="npc_c"&&((re=Dt[pe])!=null&&re.dialogues[Me])&&Lt<Dt[pe].dialogues[Me].length-1?"Continue":"OK"})]})]})}),a!=="LOADING"&&a!=="COLOR_MAP_EXPLORATION"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{style:x.exitButton,onClick:t,children:n("exit")}),o.jsx("div",{style:x.glitchNpc,onClick:()=>{a==="NOISE_REMOVAL"?z("First, look at what you collected. Some of these aren't mushrooms at all! These are what we call 'Noise'."):a==="LABEL_CORRECTION"&&z(Ff[m]),A(!0)},children:o.jsx("img",{src:"/npc/npc_jungle.png",alt:"Glitch",style:{width:"100%",height:"100%",objectFit:"contain"}})}),o.jsx("img",{src:"/jungle/npc_c.png",alt:"Ranger Moss",style:x.rangerNpc})]}),a==="NOISE_REMOVAL"&&o.jsx("div",{style:x.cardContainer,children:o.jsxs("div",{style:x.card,children:[o.jsx("h2",{style:x.cardTitle,children:"CLEAN THE DATA"}),o.jsx("p",{style:x.cardSubtitle,children:"Please click on the irrelevant items to remove them. Keep ONLY the mushrooms!"}),o.jsx("div",{style:x.itemGrid,children:an.map(g=>o.jsx("div",{style:{...x.itemCard,...r.includes(g)?x.itemCardRemoved:{}},onClick:()=>xn(g),children:!r.includes(g)&&o.jsx("img",{src:`/jungle/object/${g}.png`,alt:`Object ${g}`,style:x.itemImage})},g))}),o.jsx("div",{style:x.trashArea,children:[0,1,2].map(g=>{const D=r[g];return o.jsx("div",{style:{...x.trashSlot,cursor:D?"pointer":"default"},onClick:()=>D&&xn(D),children:D&&o.jsx("img",{src:`/jungle/object/${D}.png`,alt:`Removed ${D}`,style:{width:"60px",height:"60px",objectFit:"contain",opacity:.7}})},g)})}),o.jsx("button",{style:x.nextButton,onClick:ja,children:"NEXT"})]})}),a==="LABEL_INTRO"&&o.jsx("div",{style:x.modalOverlay,children:o.jsxs("div",{style:x.dialogueBox,children:[o.jsx("p",{style:x.speakerName,children:"Ranger Moss:"}),o.jsx("p",{style:x.dialogueText,children:_i}),o.jsx("button",{style:x.continueButton,onClick:ra,children:"Continue "})]})}),a==="LABEL_CORRECTION"&&o.jsx("div",{style:x.cardContainer,children:o.jsxs("div",{style:x.tableCard,children:[o.jsx("h2",{style:x.cardTitle,children:"CORRECT LABELS"}),o.jsx("p",{style:x.cardSubtitle,children:"Click on the cells that contain ERRORS to select them. Find all the incorrect data!"}),o.jsxs("table",{style:x.table,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:x.th,children:"ID"}),o.jsx("th",{style:x.th,children:"Name"}),o.jsx("th",{style:x.th,children:"Color"}),o.jsx("th",{style:x.th,children:"Texture"}),o.jsx("th",{style:x.th,children:"Spikes"}),o.jsx("th",{style:x.th,children:"Toxic"})]})}),o.jsx("tbody",{children:fo.map(g=>o.jsxs("tr",{children:[o.jsxs("td",{style:x.td,children:["#",g.id]}),o.jsx("td",{style:{...x.td,...x.clickableCell,...bn(g.id,"name")?x.selectedCell:{}},onClick:()=>Je(g.id,"name"),children:g.name}),o.jsx("td",{style:{...x.td,...x.clickableCell,...bn(g.id,"color")?x.selectedCell:{}},onClick:()=>Je(g.id,"color"),children:g.color}),o.jsx("td",{style:{...x.td,...x.clickableCell,...bn(g.id,"texture")?x.selectedCell:{}},onClick:()=>Je(g.id,"texture"),children:g.texture}),o.jsx("td",{style:{...x.td,...x.clickableCell,...bn(g.id,"spikes")?x.selectedCell:{}},onClick:()=>Je(g.id,"spikes"),children:g.spikes}),o.jsx("td",{style:{...x.td,...x.clickableCell,...bn(g.id,"toxic")?x.selectedCell:{}},onClick:()=>Je(g.id,"toxic"),children:g.toxic})]},g.id))})]}),o.jsx("button",{style:x.nextButton,onClick:ii,children:"NEXT"})]})}),a==="FILL_MISSING_INTRO"&&o.jsx("div",{style:x.modalOverlay,children:o.jsxs("div",{style:x.dialogueBox,children:[o.jsx("p",{style:x.speakerName,children:"Ranger Moss:"}),o.jsx("p",{style:x.dialogueText,children:It}),o.jsx("button",{style:x.continueButton,onClick:dt,children:"Continue "})]})}),a==="FILL_MISSING"&&o.jsxs("div",{style:x.fillMissingContainer,children:[o.jsxs("div",{style:x.fillTableCard,children:[o.jsx("h2",{style:x.cardTitle,children:"FILL MISSING VALUES"}),o.jsx("p",{style:x.cardSubtitle,children:"Click on the  cells to fill in the missing data based on the mushroom photo."}),o.jsxs("table",{style:x.table,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:x.th,children:"ID"}),o.jsx("th",{style:x.th,children:"Name"}),o.jsx("th",{style:x.th,children:"Color"}),o.jsx("th",{style:x.th,children:"Texture"}),o.jsx("th",{style:x.th,children:"Spikes"}),o.jsx("th",{style:x.th,children:"Toxic"})]})}),o.jsx("tbody",{children:vl.map(g=>o.jsxs("tr",{children:[o.jsxs("td",{style:x.td,children:["#",g.id]}),o.jsx("td",{style:x.td,children:g.name}),o.jsx("td",{style:{...x.td,...g.missingField==="color"&&!$[g.id]?x.missingCell:{},...g.missingField==="color"&&(ge==null?void 0:ge.itemId)===g.id?x.missingCellActive:{},...g.missingField==="color"&&$[g.id]?x.filledCell:{}},onClick:()=>g.missingField==="color"&&!$[g.id]&&ca(g.id,"color"),children:g.missingField==="color"?$[g.id]||"[  ]":g.color}),o.jsx("td",{style:{...x.td,...g.missingField==="texture"&&!$[g.id]?x.missingCell:{},...g.missingField==="texture"&&(ge==null?void 0:ge.itemId)===g.id?x.missingCellActive:{},...g.missingField==="texture"&&$[g.id]?x.filledCell:{}},onClick:()=>g.missingField==="texture"&&!$[g.id]&&ca(g.id,"texture"),children:g.missingField==="texture"?$[g.id]||"[  ]":g.texture}),o.jsx("td",{style:{...x.td,...g.missingField==="spikes"&&!$[g.id]?x.missingCell:{},...g.missingField==="spikes"&&(ge==null?void 0:ge.itemId)===g.id?x.missingCellActive:{},...g.missingField==="spikes"&&$[g.id]?x.filledCell:{}},onClick:()=>g.missingField==="spikes"&&!$[g.id]&&ca(g.id,"spikes"),children:g.missingField==="spikes"?$[g.id]||"[  ]":g.spikes}),o.jsx("td",{style:x.td,children:g.toxic})]},g.id))})]}),o.jsx("button",{style:x.nextButton,onClick:Fi,children:"NEXT"})]}),o.jsx("div",{style:x.imagePanel,children:ge?o.jsxs(o.Fragment,{children:[o.jsxs("h3",{style:x.imagePanelTitle,children:["#",ge.itemId]}),o.jsx("img",{src:`/jungle/object/${ge.itemId}.png`,alt:`Mushroom ${ge.itemId}`,style:x.mushroomImage}),o.jsx("div",{style:x.optionsContainer,children:(le=vl.find(g=>g.id===ge.itemId))==null?void 0:le.options.map(g=>o.jsx("button",{style:x.optionButton,onClick:()=>nt(g),onMouseOver:D=>D.target.style.transform="scale(1.05)",onMouseOut:D=>D.target.style.transform="scale(1)",children:g},g))})]}):o.jsxs(o.Fragment,{children:[o.jsx("h3",{style:x.imagePanelTitle,children:"Select a cell"}),o.jsx("p",{style:{color:"#aaa",textAlign:"center"},children:"Click on a  cell to see the mushroom photo"})]})})]}),a==="QUIZ"&&o.jsx("div",{style:x.quizContainer,children:o.jsx("div",{style:x.chatCard,children:o.jsx("div",{style:x.chatMessages,children:te.map((g,D)=>g.type==="ranger"?o.jsxs("div",{children:[o.jsxs("div",{style:x.rangerMessage,children:[o.jsx("div",{style:x.rangerAvatar,children:o.jsx("img",{src:"/jungle/npc_c.png",alt:"Ranger",style:{width:"100%",height:"100%",objectFit:"cover"}})}),o.jsxs("div",{style:x.messageBubble,children:[o.jsx("p",{style:x.messageSpeaker,children:"Ranger Moss:"}),o.jsx("p",{style:x.messageText,children:g.text})]})]}),D===te.length-1&&se<xo.length&&o.jsx("div",{style:x.quizOptions,children:xo[se].options.map((R,Te)=>{var pt;const Xe=tt[se]!==void 0,Rn=((pt=tt[se])==null?void 0:pt.optionIndex)===Te;return o.jsx("button",{style:{...x.quizOptionButton,...Rn?x.quizOptionSelected:{}},onClick:()=>!Xe&&tn(Te,R.correct),disabled:Xe,children:R.text},Te)})})]},D):g.type==="user"?o.jsx("div",{style:x.userMessage,children:o.jsx("div",{style:x.userBubble,children:o.jsx("p",{style:x.messageText,children:g.text})})},D):g.type==="button"?o.jsx("button",{style:x.goButton,onClick:ua,onMouseOver:R=>R.target.style.transform="scale(1.05)",onMouseOut:R=>R.target.style.transform="scale(1)",children:g.text},D):null)})})}),a==="TRAINING"&&o.jsx("div",{style:x.trainingContainer,children:o.jsxs("div",{style:x.trainingCard,children:[o.jsx("h2",{style:x.trainingTitle,children:"MODEL TRAINING"}),o.jsx("img",{src:"/jungle/model.GIF",alt:"Model Training",style:x.trainingGif}),o.jsx("div",{style:x.progressBarContainer,children:o.jsx("div",{style:{...x.progressBar,width:`${ye}%`}})}),o.jsxs("p",{style:x.progressText,children:["Training Progress: ",ye,"%"]}),Be&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{style:x.voiceoverText,children:[o.jsx("strong",{children:"Ranger Moss:"}),' "',$b,'"']}),o.jsx("button",{style:{...x.goButton,marginTop:"20px"},onClick:Mt,onMouseOver:g=>g.target.style.transform="scale(1.05)",onMouseOut:g=>g.target.style.transform="scale(1)",children:"Continue "})]})]})}),a==="VALIDATION_INTRO"&&o.jsx("div",{style:x.validationContainer,children:o.jsxs("div",{style:x.validationCard,children:[o.jsx("p",{style:x.speakerName,children:"Ranger Moss:"}),o.jsx("p",{style:x.validationText,children:e1}),Zt===0&&o.jsx("div",{style:x.validationOptions,children:t1.map((g,D)=>o.jsx("button",{style:x.validationOption,onClick:()=>nn(g.correct),onMouseOver:R=>R.target.style.background="rgba(81, 112, 255, 0.2)",onMouseOut:R=>R.target.style.background="rgba(81, 112, 255, 0.1)",children:g.text},D))}),Zt===1&&o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{...x.validationText,marginTop:"20px",color:"#5170FF"},children:n1}),o.jsx("button",{style:{...x.goButton,marginTop:"20px"},onClick:Zn,onMouseOver:g=>g.target.style.transform="scale(1.05)",onMouseOut:g=>g.target.style.transform="scale(1)",children:"Continue "})]})]})}),a==="VALIDATION_DATA"&&o.jsx("div",{style:x.validationContainer,children:o.jsxs("div",{style:x.validationCard,children:[o.jsx("p",{style:x.validationText,children:"Select the mushrooms you want to test the AI with. Choose the NEW mushrooms that the AI hasn't seen before!"}),o.jsx("div",{style:x.testMushroomGrid,children:Rc.map(g=>o.jsxs("div",{style:{...x.testMushroomCard,...xt.includes(g.id)?x.testMushroomCardSelected:{}},onClick:()=>Bn(g.id),children:[o.jsx("img",{src:`/jungle/object/${g.id}.png`,alt:`Mushroom ${g.id}`,style:x.testMushroomImage}),xt.includes(g.id)&&g.isNew&&o.jsx("img",{src:"/jungle/icon/correct.png",alt:"Correct",style:x.correctIcon}),Ni&&xt.includes(g.id)&&o.jsx("div",{style:x.scanningOverlay,children:o.jsx("span",{style:{color:"#fff",fontWeight:"bold"},children:"Scanning..."})})]},g.id))}),!fn&&o.jsxs("div",{ref:hn,style:x.slideButtonContainer,children:[o.jsx("div",{style:{...x.slideButtonTrack,left:`${5+wt}px`,cursor:"grab",...gn?{cursor:"grabbing"}:{}},onMouseDown:Ia,onTouchStart:Li,children:o.jsx("img",{src:"/jungle/icon/arrow.png",alt:"Arrow",style:x.arrowIcon})}),o.jsx("span",{style:x.slideButtonText,children:"TEST THE MODEL"})]}),fn&&o.jsxs("div",{style:x.predictionContainer,children:[o.jsx("p",{style:x.predictionLabel,children:"YOUR AI PREDICTION"}),o.jsx("p",{style:x.predictionValue,children:"45%"}),o.jsx("p",{style:x.predictionUnit,children:"ACCURACY"}),o.jsx("button",{style:{...x.goButton,marginTop:"30px"},onClick:v,onMouseOver:g=>g.target.style.transform="scale(1.05)",onMouseOut:g=>g.target.style.transform="scale(1)",children:"Continue "})]})]})}),a==="ADJUST_MODEL_INTRO"&&o.jsx("div",{style:x.leftDialogueContainer,children:o.jsxs("div",{style:x.dialogueHistoryBox,children:[o.jsx("p",{style:x.speakerName,children:"Ranger Moss:"}),Ue.map((g,D)=>o.jsx("p",{style:{...x.dialogueHistoryItem,...D===Ue.length-1&&!oa&&Gt!==1?x.dialogueHistoryItemLast:{}},children:g},D)),Gt===0&&oa&&o.jsxs("p",{style:{...x.dialogueHistoryItem,...x.dialogueHistoryItemLast},children:[oa,wa&&o.jsx("span",{style:{opacity:.5},children:"|"})]}),Gt===0&&o.jsx("button",{style:x.continueButton,onClick:U,children:wa?"Skip":"Continue "}),Gt===1&&o.jsx("div",{style:x.adjustOptionsContainer,children:a1.map((g,D)=>o.jsxs("button",{style:{...x.adjustOptionButton,...We===D?{opacity:.1}:{}},onClick:()=>ie(g,D),onMouseOver:R=>{We!==D&&(R.target.style.borderColor="#7B68EE")},onMouseOut:R=>{We!==D&&(R.target.style.borderColor="#ddd")},disabled:We===D,children:[String.fromCharCode(65+D),". ",g.text]},D))}),Gt===2&&o.jsxs(o.Fragment,{children:[o.jsx("p",{style:{...x.dialogueHistoryItem,marginTop:"15px",color:"#4CAF50",borderBottom:"none"},children:i1}),o.jsx("button",{style:x.continueButton,onClick:()=>i("ADJUST_MODEL_DATA"),children:"Select Training Data "})]})]})}),a==="ADJUST_MODEL_DATA"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:x.leftDialogueContainer,children:o.jsxs("div",{style:x.trainingPhotosCard,children:[o.jsx("h3",{style:x.trainingPhotosTitle,children:"Potential Training Photos"}),o.jsx("div",{style:x.trainingPhotosGrid,children:Lf.map(g=>o.jsxs("div",{style:{...x.trainingPhotoCard,...kt.includes(g.id)?x.trainingPhotoCardSelected:{}},onClick:()=>ze(g),children:[o.jsx("img",{src:`/jungle/object/${g.id}.png`,alt:`Training photo ${g.id}`,style:x.trainingPhotoImage}),kt.includes(g.id)&&g.isGood&&o.jsx("img",{src:"/jungle/icon/correct.png",alt:"Correct",style:x.trainingPhotoCheck})]},g.id))}),kt.length>=4&&o.jsxs("div",{ref:Ri,style:x.slideButtonContainer,children:[o.jsx("div",{style:{...x.slideButtonTrack,left:`${5+ti}px`,cursor:"grab",...Pt?{cursor:"grabbing"}:{}},onMouseDown:Kn,children:o.jsx("img",{src:"/jungle/icon/arrow.png",alt:"Arrow",style:x.arrowIcon})}),o.jsx("span",{style:x.slideButtonText,children:"IMPROVE ACCURACY"})]})]})}),la&&Vn&&o.jsx("div",{style:x.feedbackPanelContainer,children:o.jsxs("div",{style:x.feedbackPanel,children:[o.jsx("h3",{style:x.feedbackTitle,children:"Feedback Panel"}),o.jsx("img",{src:`/jungle/object/${Vn.duplicateOf}.png`,alt:"Duplicate",style:x.feedbackImage}),o.jsx("p",{style:x.feedbackValueText,children:"LOW VALUE"})]})})]}),cl&&o.jsx("div",{style:x.rangerPraisePopup,children:o.jsx("p",{style:x.rangerPraiseText,children:" Excellent choice! A new angle/condition. That will help it generalize!"})}),a==="ADJUST_MODEL_TRAINING"&&o.jsxs("div",{style:x.retrainingContainer,children:[o.jsx("img",{src:"/jungle/model.GIF",alt:"Model Training",style:x.modelGif}),Ca<100&&o.jsx("div",{style:x.progressBarContainer,children:o.jsx("div",{style:{...x.progressBarFill,width:`${Ca}%`}})}),Ca>=100&&o.jsxs("div",{style:x.finalAccuracyContainer,children:[o.jsx("p",{style:x.finalAccuracyLabel,children:"Your AI Prediction"}),o.jsx("p",{style:x.finalAccuracyValue,children:"95%"}),o.jsx("p",{style:x.finalAccuracyUnit,children:"ACCURACY"}),o.jsx("button",{style:{...x.goButton,marginTop:"30px"},onClick:zt,onMouseOver:g=>g.target.style.transform="scale(1.05)",onMouseOut:g=>g.target.style.transform="scale(1)",children:"Done"})]})]}),a==="COMPLETE"&&o.jsx("div",{style:x.cardContainer,children:o.jsxs("div",{style:x.completeCard,children:[o.jsx("h2",{style:x.completeTitle,children:" Data Cleaning Complete!"}),o.jsxs("p",{style:x.completeText,children:[o.jsx("strong",{children:"Ranger Moss:"}),' "Excellent! You used visual evidence to fill in the missing data. Now our dataset is completeno holes, no errors."']}),o.jsx("p",{style:x.statusText,children:"System Status: 100% Clean "}),o.jsx("button",{style:x.nextStepButton,onClick:e,onMouseOver:g=>g.target.style.transform="scale(1.05)",onMouseOut:g=>g.target.style.transform="scale(1)",children:"Next Step: Model Training "})]})}),p&&o.jsx("div",{style:x.leftDialogueContainer,children:o.jsxs("div",{style:x.dialogueHistoryBox,children:[o.jsx("p",{style:x.speakerName,children:"Ranger Moss:"}),K.map((g,D)=>o.jsx("p",{style:{...x.dialogueHistoryItem,...D===K.length-1&&!G?x.dialogueHistoryItemLast:{}},children:g},D)),G&&o.jsxs("p",{style:{...x.dialogueHistoryItem,...x.dialogueHistoryItemLast},children:[G,k&&o.jsx("span",{style:{opacity:.5},children:"|"})]}),o.jsx("button",{style:x.continueButton,onClick:Hi,children:k?"Skip":"Continue "})]})}),!p&&K.length>0&&a!=="NOISE_REMOVAL"&&a!=="LABEL_CORRECTION"&&a!=="FILL_MISSING"&&a!=="QUIZ"&&a!=="TRAINING"&&a!=="VALIDATION_INTRO"&&a!=="VALIDATION_DATA"&&a!=="ADJUST_MODEL_INTRO"&&a!=="ADJUST_MODEL_DATA"&&a!=="ADJUST_MODEL_TRAINING"&&a!=="LOADING"&&a!=="COLOR_MAP_EXPLORATION"&&a!=="COMPLETE"&&o.jsx("div",{style:x.leftDialogueContainer,children:o.jsxs("div",{style:x.dialogueHistoryBox,children:[o.jsx("p",{style:x.speakerName,children:"Ranger Moss:"}),K.map((g,D)=>o.jsx("p",{style:{...x.dialogueHistoryItem,...D===K.length-1?x.dialogueHistoryItemLast:{}},children:g},D))]})}),S&&a!=="LOADING"&&a!=="COLOR_MAP_EXPLORATION"&&o.jsxs("div",{style:x.glitchHintInline,children:[o.jsx("button",{style:x.glitchHintCloseBtn,onClick:()=>A(!1),children:""}),o.jsxs("p",{style:x.glitchHintInlineText,children:[" ",H]})]}),o.jsx("div",{style:x.navArrow,children:""})]})},r1=`
  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translate(-50%, -50%) translateY(0);
    }
    40% {
      transform: translate(-50%, -50%) translateY(-30px);
    }
    60% {
      transform: translate(-50%, -50%) translateY(-15px);
    }
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes stampAppear {
    0% {
      opacity: 0;
      transform: scale(0) rotate(-10deg);
    }
    50% {
      opacity: 1;
      transform: scale(1.2) rotate(-5deg);
    }
    100% {
      opacity: 1;
      transform: scale(1) rotate(-10deg);
    }
  }
  
  @keyframes pulse {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(1.1);
      opacity: 0.7;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.type="text/css",e.innerText=r1,document.head.appendChild(e)}const gt={SEGMENT_1:0,SEGMENT_2:1,SEGMENT_3:2},c1={glitch:{text:"Warning! This desert is dangerous. We need to find that yellow robot, 'Alpha,' immediately! He should be in the castle ahead.",speaker:"Glitch"},npc1:{text:"Run! Just run! The castle's defense system has gone mad! It's attacking everyone! Unless you are looking for 'Alpha'... He's still deep inside , trying to shut down the system!",speaker:"NPC 1"},npc2:{text:"Don't go there! The castle  thinks we are monsters! Run away!",speaker:"NPC 2"},gatekeeper:{text:"You... you must be looking for Alpha. He's inside the main hall. But the castle is terrifying right now. You can try zooming in to check the situation, but I'm not risking my life going in there.",speaker:"Gatekeeper"},npc5:{text:"Enjoy the colors, human. I will keep watchquietly this time.",speaker:"NPC 5"},npc6:{text:"Alert... just kidding. No alerts today.",speaker:"NPC 6"},npc7:{text:"Happiness, Safety, and... Acupuncture?",speaker:"NPC 7"},alphaFinal:{text:"System Status: Normal. Defense protocols deactivated. The castle is safe. Thank you, Engineer. I am now processing data with context.",speaker:"Alpha"}},fa=[{type:"message",speaker:"Alpha",text:"Zzz... zzz... Hello, humans. Apologies for the blackout. As you can see, the staff have all fled. There is no one left to run the power generators."},{type:"choice",text:"Why did everyone run away?"},{type:"message",speaker:"Alpha",text:"It's a long story. It started with the Sandstorm Festival... The sandstorm has obscured the sensors. The AI's vision is blurry and full of noise."},{type:"choice",text:"Continue"},{type:"message",speaker:"Alpha",text:"Critically, the system cannot distinguish between 'employees covered in sand' and 'Giant Sandworms'. It thinks my colleagues are monsters, so it attacked them!"},{type:"choice",text:"How can we fix this?"},{type:"message",speaker:"Alpha",text:"We need to retrain the algorithm immediately. The current system has never seen workers in a sandstorm before. Please help me collect photos of workers covered in sand. The more, the better!"},{type:"choice",text:"Continue"},{type:"message",speaker:"Alpha",text:"We need to teach the AI that these 'fuzzy shapes' are actually friends, not sandworms."}],Et=[{type:"message",speaker:"Alpha",text:"Data received! Wow... these photos are completely different from my database."},{type:"message",speaker:"Alpha",text:"(Shows comparison: Clear vs. Blurry)",image:"/desert/sample.png"},{type:"choice",text:"Continue"},{type:"message",speaker:"Alpha",text:"Look. The 'workers' I learned about before were clear, like the left image. But in the photos you took, there is flying sand everywhere."},{type:"choice",text:"Continue"},{type:"message",speaker:"Alpha",text:"In the AI world, we call this interferencesand, rain, or blurry pixels'Noise'. Just like looking through dirty glasses, Noise reduces Data Quality."},{type:"choice",text:"Continue"},{type:"message",speaker:"Alpha",text:"Before we start retraining, why did AI mistake the employee holding a broom for a 'Sandworm'?"},{type:"quiz",question:"Why did AI mistake the employee for a Sandworm?",options:[{text:"Because I am stupid and my chip is broken.",correct:!1},{text:"Because 'Noise' (sand) lowered the data quality and hid the features.",correct:!0},{text:"Because that employee actually looks like a worm.",correct:!1}]},{type:"message",speaker:"Alpha",text:"Exactly! High-quality Data is crucial for AI. Since we have to use these 'noisy' photos now..."},{type:"choice",text:"Continue"},{type:"message",speaker:"Alpha",text:"I need you to help me distinguish: which ones are real humans and which ones are just noise. Let's start labeling!"},{type:"action",text:"GO",action:"startLabeling"}],u1=({onExit:e})=>{var Ma;const{t}=Sa(),n=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),a=v=>{switch(v.toLowerCase()){case"alpha":return{borderColor:"#FFD700",progressColor:"#FFD700",avatar:"/desert/npc/npc4.png"};case"sparky":return{borderColor:"#4A90E2",progressColor:"#4A90E2",avatar:"/island/npc/spark.png"};case"momo":return{borderColor:"#333333",progressColor:"#333333",avatar:"/glacier/npc/momo.png"};default:return{borderColor:"#FFD700",progressColor:"#FFD700",avatar:"/desert/npc/npc4.png"}}},[i,l]=u.useState(gt.SEGMENT_1),[s,r]=u.useState(!1),[c,m]=u.useState(null),[w,T]=u.useState(""),[y,S]=u.useState(!1),[A,H]=u.useState(!0),[z,p]=u.useState("desert"),[f,h]=u.useState(!1),[j,G]=u.useState([]),[Z,k]=u.useState(0),[W,K]=u.useState(!1),[Y,X]=u.useState(!1),[ne,$]=u.useState(!1),[Se,ge]=u.useState(!1),[L,I]=u.useState(null),[N,te]=u.useState([]),[ae,se]=u.useState({}),[de,tt]=u.useState(!1),[_,ye]=u.useState(0),[be,Be]=u.useState(!1),[Ye,Zt]=u.useState([]),[Ta,xt]=u.useState(!1),[Ka,Ni]=u.useState(null),[Pa,fn]=u.useState(""),[$a,wt]=u.useState(!1),[Kt,gn]=u.useState(null),[yt,hn]=u.useState(!1),[bt,aa]=u.useState(!1),[Gt,mn]=u.useState(0),[kt,Bi]=u.useState(!1),[Vn,ei]=u.useState(0),[Ca,ia]=u.useState([]),[cl,Jn]=u.useState(!1),[Ri,ti]=u.useState(!1),{playClickSound:st,playCameraSound:Pt,playStampSound:Ve,playSafeSound:oa,playAlertSound:$t}=gs(),[wa,zn]=u.useState(!1),[Ue,rt]=u.useState("intro"),[We,On]=u.useState(null),[la,Dn]=u.useState(!1),[pe,En]=u.useState(null),[Ft,jt]=u.useState(!1),[ct,vt]=u.useState(!1),[ni,ut]=u.useState(""),[ka,At]=u.useState(!1),en={sample:{image:"/desert/Mission/sample.png",aiLogic:'AI Logic: "No movement detected  Worker is dead."',tags:[{id:"game",text:"Game Area",correct:!0,update:'Updated AI Logic: "User is simulating injury within a game. Status: PLAYING."'},{id:"distance",text:"Distance: Far away",correct:!0,update:'Updated AI Logic: "Visual resolution low. Status: INSUFFICIENT DATA."'},{id:"time",text:"Time observed: 1 second",correct:!0,update:'Updated AI Logic: "Observation window too short. Status: PAUSED."'}]},puzzles:[{id:"puzzle1",image:"/desert/Mission/puzzle01.png",aiLogic:'AI Logic: "Object detected: Explosive Device. Action: ATTACKING. Threat Level: HIGH."',tags:[{id:"location",text:"Location: Fuel Depot",correct:!1},{id:"calendar",text:"Calendar: Lunar New Year",correct:!0,update:"Update: The worker is celebrating, not attacking. Threat Level: CLEARED."},{id:"state",text:"State: Fuse Ignited",correct:!1}]},{id:"puzzle2",image:"/desert/Mission/puzzle02.png",aiLogic:'AI Logic: "Object: Iron Sheet. Posture: Charging. Intent: Shield Bash / Riot. Status: THREAT."',tags:[{id:"audio",text:"Audio: High Decibel Screaming",correct:!1},{id:"database",text:"Database Match: Police Riot Shield",correct:!1},{id:"weather",text:"Weather: Sandstorm Warning",correct:!0,update:"Update: The iron sheet is a shield against the sand. Threat Level: CLEARED."}]},{id:"puzzle3",image:"/desert/Mission/puzzle03.png",aiLogic:'AI Logic: "Object: Spike. Posture: Attacking. Intent: Weapon Strike. Status: THREAT."',tags:[{id:"audio",text:"Audio: Low Groaning",correct:!1},{id:"sign",text:'Sign: "Wellness Spa"',correct:!0,update:"Revised Logic: The spike is a medical tool. The cactus is a doctor. Status: ACUPUNCTURE THERAPY (HEALING)."},{id:"weapon",text:"Weapon: Poisoned Dart",correct:!1}]}]},Nn=[{id:1,src:"/desert/Mission/01.png",correctAnswer:"confirmed"},{id:2,src:"/desert/Mission/02.png",correctAnswer:"rejected"},{id:3,src:"/desert/Mission/03.png",correctAnswer:"rejected"},{id:4,src:"/desert/Mission/04.png",correctAnswer:"rejected"},{id:5,src:"/desert/Mission/05.png",correctAnswer:"confirmed"}],ro={[gt.SEGMENT_1]:[{id:"01",size:250,left:"40%",bottom:"10%"},{id:"02",size:150,left:"10%",bottom:"15%"},{id:"06",size:120,left:"20%",top:"40%"},{id:"07",size:120,right:"10%",top:"30%"}],[gt.SEGMENT_2]:[{id:"05",size:180,left:"0%",bottom:"10%"},{id:"11",size:150,right:"0%",bottom:"10%"},{id:"09",size:100,left:"25%",bottom:"15%"},{id:"10",size:180,right:"25%",bottom:"20%"}],[gt.SEGMENT_3]:[{id:"03",size:220,right:"10%",bottom:"10%"},{id:"04",size:100,left:"40%",bottom:"25%"},{id:"08",size:120,left:"15%",top:"40%"}]};u.useEffect(()=>{const v=localStorage.getItem("aiJourneyUser");if(v){const ie=JSON.parse(v).desertProgress;ie&&(l(ie.currentSegment||gt.SEGMENT_1),p(ie.currentView||"desert"),X(ie.missionStarted||!1),te(ie.capturedObjects||[]),console.log("Loaded Desert progress:",ie))}fetch("/desert/object/description.json").then(U=>U.json()).then(U=>se(U.objects)).catch(U=>console.error("Failed to load object descriptions:",U))},[]),u.useEffect(()=>{const v=localStorage.getItem("aiJourneyUser");if(v){const U=JSON.parse(v);U.desertProgress={currentSegment:i,currentView:z,missionStarted:Y,capturedObjects:N,lastSaved:Date.now()},localStorage.setItem("aiJourneyUser",JSON.stringify(U)),console.log("Saved Desert progress:",U.desertProgress)}},[i,z,Y,N]),u.useEffect(()=>{if(!c||!s)return;const v=c.text;if(!v)return;let U=0;T(""),S(!0);const ie=setInterval(()=>{U<v.length?(T(v.substring(0,U+1)),U++):(S(!1),clearInterval(ie))},30);return()=>clearInterval(ie)},[c,s]),u.useEffect(()=>{const v=setInterval(()=>{H(U=>!U)},500);return()=>clearInterval(v)},[]),u.useEffect(()=>{if(!Ft)return;const v="SYSTEM REBOOT INITIATED";let U=0;ut(""),At(!0);const ie=setInterval(()=>{U<v.length?(ut(v.substring(0,U+1)),U++):(At(!1),clearInterval(ie))},100);return()=>clearInterval(ie)},[Ft]),u.useEffect(()=>{if(!Kt)return;const v=Kt.text;if(!v)return;let U=0;fn(""),wt(!0);const ie=setInterval(()=>{U<v.length?(fn(v.substring(0,U+1)),U++):(wt(!1),clearInterval(ie))},30);return()=>clearInterval(ie)},[Kt]);const co=v=>{console.log("Navigate:",v,"Current segment:",i),v==="left"?l(U=>{const ie=U===gt.SEGMENT_1?gt.SEGMENT_3:U-1;return console.log("Left navigation: from",U,"to",ie),ie}):v==="right"&&l(U=>{const ie=U===gt.SEGMENT_3?gt.SEGMENT_1:U+1;return console.log("Right navigation: from",U,"to",ie),ie})},qt=v=>{m(c1[v]),r(!0)},ai=()=>{Y?(m({text:`Mission Progress: ${N.length}/11 objects photographed. Keep exploring!`,speaker:"Glitch"}),r(!0)):qt("glitch")},Me=()=>{if(c&&c.isMission3)if(y)T(c.text),S(!1);else if(c.step==="intro"||c.step==="briefing")Bn();else{if(c.showMission3Interface)return;if(c.showQuiz)return;if(c.showDoneButton)return;r(!1)}else c&&c.isMission2?tn():y?(T(c.text),S(!1)):c.isSpecial&&c.nextAction?c.nextAction==="mission2Continue1"||c.nextAction==="startMission2"?handleMission2Continue(c.nextAction):c.nextAction==="nextMission"&&Zn():r(!1)},sa=()=>{p("gate")},Lt=()=>{p("desert")},Ut=()=>{p("gate")},Yt=()=>{p("castle")},_i=()=>{console.log("Alpha clicked. Captured objects:",N.length),N.length===11?(console.log("Starting Phase 2 dialogue"),tt(!0),h(!0),Zt([]),ye(0),Be(!1),xt(!1),setTimeout(()=>{Je(Et[0])},100)):Y?(m({text:`Keep collecting photos! Progress: ${N.length}/11 objects photographed.`,speaker:"Alpha"}),r(!0)):(h(!0),G([]),k(0),K(!1),setTimeout(()=>{It(fa[0])},100))},It=(v,U=null)=>{const ie=U!==null?U:Z;console.log("Adding Alpha message:",v,"Current step:",ie),v.type==="message"&&gn(v),G(P=>[...P,v]);const ze=ie+1;k(ze),console.log("Next step will be:",ze),ze<fa.length&&fa[ze].type==="choice"?(console.log("Next item is a choice:",fa[ze]),K(!0)):(console.log("Next item is not a choice or dialogue ended"),K(!1))},Hi=v=>{console.log("User chose:",v,"Current step:",Z),G(ie=>[...ie,{type:"choice",text:v,isUser:!0}]),K(!1);const U=Z+1;k(U),console.log("After choice, moving to step:",U),U<fa.length?(console.log("Adding Alpha response:",fa[U]),setTimeout(()=>{It(fa[U],U)},500)):console.log("Dialogue completed")},xn=()=>{h(!1),G([]),k(0),K(!1);const v=localStorage.getItem("aiJourneyUser");if(v){const U=JSON.parse(v);U.desertProgress||(U.desertProgress={}),U.desertProgress.alphaCompleted=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(U))}X(!0),console.log("Mission started automatically after Alpha dialogue")},ja=v=>{!Y||N.includes(v)||(Pt(),I(v),$(!0),setTimeout(()=>{$(!1),ge(!0),te(U=>[...U,v])},1500))},ra=()=>{ge(!1),I(null)},Je=(v,U=null)=>{const ie=U!==null?U:_;console.log("Adding Phase 2 message:",v,"Current step:",ie),Zt(P=>[...P,v]);const ze=ie+1;if(ye(ze),ze<Et.length){const P=Et[ze];if(console.log("Next Phase 2 item:",P),P.type==="choice")Be(!0),xt(!1);else if(P.type==="quiz")xt(!0),Be(!1);else if(P.type==="action")Be(!1),xt(!1);else if(P.type==="message"){Be(!1),xt(!1),setTimeout(()=>{Je(P,ze)},1e3);return}}else Be(!1),xt(!1)},ii=v=>{console.log("Phase 2 user chose:",v),Zt(ie=>[...ie,{type:"choice",text:v,isUser:!0}]),Be(!1);const U=_+1;ye(U),U<Et.length&&setTimeout(()=>{Je(Et[U],U)},500)},dt=v=>{const ie=Et[_].options[v];Ni(v),Zt(ze=>[...ze,{type:"choice",text:ie.text,isUser:!0,isCorrect:ie.correct}]),setTimeout(()=>{xt(!1);const ze=_+1;ye(ze),ze<Et.length&&Je(Et[ze],ze)},1e3)},ca=()=>{st(),console.log("Starting labeling phase..."),h(!1),hn(!0),setTimeout(()=>{aa(!0),nt()},500)},nt=()=>{let v=0;const U=setInterval(()=>{v+=2,mn(v),v>=100&&(clearInterval(U),setTimeout(()=>{hn(!1),aa(!1),Fi()},500))},50)},Fi=()=>{m({text:"Data received! Analyzing the 'blurry photos' you brought back... Beep... Zzz... Warning! Due to high noise levels, my Confidence Level is critically low.",speaker:"Alpha",isMission2:!0,step:"briefing1"}),r(!0)},tn=()=>{if(y){T(c.text),S(!1);return}c.isMission2?c.step==="briefing1"?m({text:"I will try to guess what is in the photos, but I need human intuition to verify. Mission Order: Please watch the screen. If my judgment is correct, click  [Confirm]. If I mistake a broom for a weapon, or a rock for a monster, click  [Reject] and correct me!",speaker:"Alpha",isMission2:!0,step:"briefing2"}):c.step==="briefing2"?(m({text:"Mission 2: Friend or Foe Decoder",speaker:"Alpha",isMission2:!0,step:"interface",showMission2Interface:!0}),ei(0),ia([])):c.step==="complete"&&m({text:"Calibration complete! Thank you for the corrections. What is the scientific term for the process you just did to help me fix the images?",speaker:"Alpha",isMission2:!0,step:"quiz",showQuiz:!0}):r(!1)},ua=v=>{const U=Nn[Vn],ie=v===U.correctAnswer;Ve();const ze={imageId:U.id,userChoice:v,correctAnswer:U.correctAnswer,isCorrect:ie};ia(P=>[...P.filter(Ge=>Ge.imageId!==U.id),ze]),ie?setTimeout(()=>{Mt()},1500):(Jn(!0),setTimeout(()=>{Jn(!1),ia(P=>P.filter(zt=>zt.imageId!==U.id))},3e3))},Mt=()=>{Vn<Nn.length-1?(ei(v=>v+1),m({text:"Mission 2: Friend or Foe Decoder",speaker:"Alpha",isMission2:!0,step:"interface",showMission2Interface:!0})):m({text:"Calibration complete! Thank you for the corrections.",speaker:"Alpha",isMission2:!0,step:"complete"})},nn=v=>{m(v==="B"?{text:"Correct! It's called Data Labeling. AI is like a student, and we acted as teachers, telling it 'this is right, that is wrong.' This is known as Supervised Learning!",speaker:"Alpha",isMission2:!0,step:"result",showNextButton:!0}:{text:"Haha, sounds close, but the professional term is B. Data Labeling. We need to put the correct 'labels' on data so the AI can learn.",speaker:"Alpha",isMission2:!0,step:"result",showNextButton:!0})},Zn=()=>{st(),console.log("Starting Mission 3: Environmental Context Analysis"),h(!1),r(!1),m({text:"Alert. Alert. Incoming data anomaly detected. I analyze actions but my conclusions are sometimes wrong. I need your help, Again. In this mission, you will teach me something critical: context.",speaker:"Alpha",isMission3:!0,step:"intro"}),r(!0),rt("intro")},Bn=()=>{st(),Ue==="intro"?(m({text:"The same action can mean completely different things depending on the environment. Let's analyze how Environmental Context alters my judgment.",speaker:"Alpha",isMission3:!0,step:"briefing"}),rt("briefing")):Ue==="briefing"?(m({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"sample",showMission3Interface:!0}),rt("sample"),On(null)):Ue==="sample"?(m({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"puzzle1",showMission3Interface:!0}),rt("puzzle1"),En(en.puzzles[0]),On(null)):Ue==="puzzle1"?(m({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"puzzle2",showMission3Interface:!0}),rt("puzzle2"),En(en.puzzles[1]),On(null)):Ue==="puzzle2"?(m({text:"Mission 3: Environmental Context Analysis",speaker:"Alpha",isMission3:!0,step:"puzzle3",showMission3Interface:!0}),rt("puzzle3"),En(en.puzzles[2]),On(null)):Ue==="puzzle3"&&(rt("quiz1"),m({text:"Threats cleared. I almost activated the defense lasers against a celebration and a worker fighting the wind. I need to update my core logic. Why did the meaning of the 'Iron Sheet' change completely?",speaker:"Alpha",isMission3:!0,step:"quiz1",showQuiz:!0,quizOptions:[{text:"A. Because the iron sheet changed shape.",correct:!1},{text:"B. Because context (the weather) changes how we interpret an action.",correct:!0},{text:"C. Because the worker yelled at me.",correct:!1}]}))},Aa=v=>{st(),On(v),Ue==="sample"||v.correct?(oa(),Dn("safe")):($t(),Dn("alert")),setTimeout(()=>{Dn(!1)},2e3)},Wt=()=>{st(),console.log("Mission 3 completed!"),r(!1),jt(!0),setTimeout(()=>{jt(!1),vt(!0),p("desert"),l(0)},4e3)},Ia=(v,U)=>{st(),Ue==="quiz1"?m(U?{text:"Affirmative. The action (holding the sheet) stayed the same, but the context (sandstorm) changed the meaning. If you hadn't helped me, I would have attacked them. What does this teach us about AI?",speaker:"Alpha",isMission3:!0,step:"quiz1_feedback",showContinueButton:!0}:{...c,error:"Try again! Think about what changed between the scenarios."}):Ue==="quiz2"&&(U?(m({text:"Exactly. I process data, but you provide the 'Common Sense' and context that I lack. System Reboot: Successful. Defense Mode: Deactivated. Thank you, Young Engineers! You collected data I didn't recognize. You corrected my wrong judgments.",speaker:"Alpha",isMission3:!0,step:"complete",showDoneButton:!0}),rt("complete")):m({...c,error:"Think about what AI might be missing that humans naturally understand."}))},yn=()=>{st(),rt("quiz2"),m({text:"If you hadn't helped me, I would have attacked them. What does this teach us about AI?",speaker:"Alpha",isMission3:!0,step:"quiz2",showQuiz:!0,quizOptions:[{text:"A. AI is always right and doesn't need humans.",correct:!1},{text:"B. AI can sometimes lack 'Common Sense' without human context.",correct:!0},{text:"C. AI hates holidays.",correct:!1}]})},oi=()=>{const v=ct?"_color.png":".png";return z==="gate"?`/desert/background/gate${v}`:z==="castle"?`/desert/background/castle${v}`:`/desert/background/desert${v}`},M={container:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden",background:"#f4e4bc"},backgroundImage:{position:"absolute",top:0,left:z==="desert"?z!=="desert"?"0px":{[gt.SEGMENT_1]:"0px",[gt.SEGMENT_2]:"-1360px",[gt.SEGMENT_3]:"-2576px"}[i]||"0px":0,width:z==="desert"?"5200px":"100vw",height:z==="desert"?"1080px":"100vh",objectFit:z==="desert"?"none":"cover",objectPosition:z==="desert"?"top left":"center",zIndex:0,transition:"left 0.5s ease-in-out",imageRendering:"crisp-edges",transform:z==="desert"?"scale(0.8)":"scale(1)",transformOrigin:z==="desert"?"top left":"center"},exitButton:{position:"absolute",top:"20px",left:"20px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},glitchNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:100,cursor:"pointer"},glitchImage:{width:"100%",height:"100%",objectFit:"contain"},navArrow:{position:"absolute",top:"50%",transform:"translateY(-50%)",width:"60px",height:"60px",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none"},leftArrow:{left:"30px"},rightArrow:{right:"30px"},arrowImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},npc:{position:"absolute",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},npc1:{bottom:"20%",left:"20%",width:"auto",height:"50vh",maxHeight:"50vh"},npc2:{bottom:"25%",right:"25%",width:"auto",height:"50vh",maxHeight:"50vh"},gatekeeper:{bottom:"15%",left:"15%",width:"auto",height:"25vh",maxHeight:"25vh"},npcImage:{width:"auto",height:"100%",objectFit:"contain"},zoomButton:{position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",height:"400px",cursor:"pointer",zIndex:50,background:"none",border:"none"},zoomImage:{width:"100%",height:"100%",objectFit:"contain"},arrowButton:{position:"absolute",bottom:"30%",left:"50%",transform:"translateX(-50%)",width:"300px",height:"300px",cursor:"pointer",zIndex:50,background:"none",border:"none"},downButton:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",width:"60px",height:"60px",cursor:"pointer",zIndex:50,background:"none",border:"none"},leftButton:{position:"absolute",top:"20px",left:"20px",width:"60px",height:"60px",cursor:"pointer",zIndex:50,background:"none",border:"none"},dialogueContainer:{position:"absolute",bottom:"100px",left:"2%",width:"48%",maxWidth:"600px",zIndex:100},glitchDialogueContainer:{position:"absolute",top:"20px",right:"150px",width:"300px",zIndex:100},dialogueBox:{padding:"20px 30px",borderRadius:"15px",background:"rgba(255, 255, 255, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",cursor:"pointer"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.6,margin:0},continueButton:{position:"absolute",bottom:"15px",right:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#333",backgroundColor:"transparent",border:"none",cursor:"pointer",textTransform:"uppercase",letterSpacing:"1px"},speaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#5170FF",marginBottom:"8px"},desertObject:{position:"absolute",cursor:"pointer",zIndex:25,transition:"transform 0.2s",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.3))"},objectImage:{width:"100%",height:"100%",objectFit:"contain"},capturedObject:{opacity:.5,filter:"grayscale(100%) drop-shadow(0 2px 5px rgba(0,0,0,0.3))"},cameraOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.8)",zIndex:200,display:"flex",justifyContent:"center",alignItems:"center"},cameraIcon:{width:"200px",height:"auto",animation:"pulse 1.5s ease-in-out"},photoOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",zIndex:200,display:"flex",justifyContent:"center",alignItems:"center"},photoFrame:{position:"relative",width:"1200px",height:"1500px",backgroundImage:"url(/desert/icon/photo.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"180px 120px 240px 120px"},photoBackground:{width:"840px",height:"600px",background:"transparent",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"60px",overflow:"hidden"},photoObjectImage:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},photoDescription:{fontFamily:"'Roboto', sans-serif",fontSize:"42px",color:"#333",textAlign:"center",lineHeight:1.4,maxWidth:"840px",background:"rgba(255, 255, 255, 0.9)",padding:"30px",borderRadius:"15px"},photoCloseButton:{position:"absolute",top:"30px",right:"30px",background:"rgba(255, 255, 255, 0.8)",border:"none",borderRadius:"50%",width:"90px",height:"90px",fontSize:"48px",cursor:"pointer",color:"#333",display:"flex",justifyContent:"center",alignItems:"center"},progressTracker:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"10px",zIndex:60},progressCircle:{width:"40px",height:"40px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.8)",border:"2px solid #ccc",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:"bold",color:"#666"},progressCircleCompleted:{background:"rgba(81, 112, 255, 0.9)",border:"2px solid #5170FF",color:"white"},modelGifOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",zIndex:300,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},modelGif:{width:"400px",height:"auto",marginBottom:"30px"},progressBarContainer:{width:"60%",maxWidth:"500px",height:"20px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"10px",overflow:"hidden"},progressBar:{height:"100%",background:"linear-gradient(90deg, #5170FF, #FFBBC4)",borderRadius:"10px",transition:"width 0.1s ease"},finalQuizContainer:{background:"#f8f9fa",padding:"25px",borderRadius:"15px",margin:"20px 0",maxWidth:"500px"},finalQuizOptions:{display:"flex",flexDirection:"column",gap:"10px",marginTop:"20px"},finalQuizOption:{padding:"15px 20px",border:"2px solid #ddd",borderRadius:"8px",background:"white",cursor:"pointer",fontFamily:"'Roboto', sans-serif",fontSize:"16px",transition:"all 0.2s"},mission2InterfaceInDialogue:{marginTop:"20px",padding:"30px",background:"rgba(30, 30, 50, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(30, 30, 50, 0.95), rgba(30, 30, 50, 0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"15px",display:"flex",flexDirection:"column",alignItems:"center"},mission2TitleInDialogue:{fontFamily:"'Roboto', sans-serif",fontSize:"24px",fontWeight:400,color:"white",textAlign:"center",marginBottom:"30px",textShadow:"0 2px 4px rgba(0,0,0,0.5)"},mission2ImageDisplayInDialogue:{position:"relative",marginBottom:"40px"},mission2ImageInDialogueNew:{maxWidth:"400px",maxHeight:"300px",objectFit:"contain",borderRadius:"8px",boxShadow:"0 10px 30px rgba(0,0,0,0.5)"},mission2StampInDialogueNew:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"250px",height:"250px",zIndex:10,pointerEvents:"none"},mission2ButtonsInDialogue:{display:"flex",gap:"60px",alignItems:"center"},mission2ButtonInDialogueNew:{display:"flex",flexDirection:"column",alignItems:"center",background:"transparent",border:"none",cursor:"pointer",transition:"transform 0.2s ease"},mission2ButtonIconInDialogueNew:{width:"100px",height:"auto",marginBottom:"15px"},mission2ButtonTextInDialogueNew:{fontFamily:"'Roboto', sans-serif",fontSize:"20px",fontWeight:700,color:"white",textAlign:"center",textTransform:"uppercase",letterSpacing:"1px",textShadow:"0 2px 4px rgba(0,0,0,0.5)"},nextMissionButton:{display:"block",width:"100%",padding:"15px 20px",margin:"15px 0",borderRadius:"8px",border:"none",background:"linear-gradient(90deg, #5170FF, #FFBBC4)",color:"white",fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},mission3InterfaceContainer:{marginTop:"20px",padding:"25px",background:"linear-gradient(135deg, #f8f9fa, #e9ecef)",borderRadius:"15px",border:"2px solid #dee2e6"},mission3LogicTextAboveImage:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:600,color:"#333",marginBottom:"15px",textAlign:"center",fontStyle:"italic"},mission3ImageDisplay:{width:"100%",height:"250px",marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},mission3ImageInDialogue:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},mission3UpdateTextAboveButtons:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#333",marginBottom:"15px",textAlign:"center",background:"#d4edda",padding:"10px",borderRadius:"8px",border:"1px solid #c3e6cb",minHeight:"40px",display:"flex",alignItems:"center",justifyContent:"center"},mission3TagsInDialogue:{display:"flex",gap:"10px",flexWrap:"wrap",justifyContent:"center",marginBottom:"15px"},mission3TagInDialogue:{padding:"10px 18px",border:"2px solid #5170FF",borderRadius:"25px",background:"white",cursor:"pointer",fontFamily:"'Roboto', sans-serif",fontSize:"13px",fontWeight:500,color:"#5170FF",transition:"all 0.2s",minWidth:"100px",textAlign:"center"},mission3TagSelectedInDialogue:{background:"#5170FF",color:"white",transform:"scale(1.05)"},mission3ContinueButtonInDialogue:{display:"block",width:"100%",padding:"12px 20px",border:"none",borderRadius:"25px",background:"linear-gradient(90deg, #5170FF, #FFBBC4)",color:"white",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},alphaIconOverlay:{position:"fixed",bottom:"30%",right:"5%",width:"100px",height:"100px",zIndex:400,animation:"bounce 0.6s ease-out"},alphaIcon:{width:"100%",height:"100%",objectFit:"contain"},mission3LoadingOverlay:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.9)",zIndex:500,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},mission3LoadingText:{fontFamily:"'Roboto', sans-serif",fontSize:"28px",fontWeight:700,color:"#00ff00",marginBottom:"30px",textAlign:"center",fontFamily:"'Courier New', monospace",letterSpacing:"2px"},loadingCursor:{display:"inline-block",width:"3px",height:"28px",backgroundColor:"#00ff00",marginLeft:"5px",verticalAlign:"middle",animation:"blink 1s infinite"},mission3LoadingSpinner:{width:"60px",height:"60px",border:"4px solid rgba(255, 255, 255, 0.3)",borderTop:"4px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"},modernDialogueContainer:{position:"absolute",top:"12.5%",left:"10%",width:"40%",height:"70%",zIndex:100,background:"rgba(245, 245, 245, 0.98)",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},modernDialogueHeader:{padding:"20px 25px 15px 25px",borderBottom:"none"},modernProgressContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},modernMissionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px"},modernStepIndicator:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#999"},modernProgressBar:{width:"100%",height:"4px",backgroundColor:"rgba(200,200,200,0.3)",borderRadius:"2px",overflow:"hidden",marginBottom:"20px"},modernProgressFill:{height:"100%",borderRadius:"2px",transition:"width 0.3s ease"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px",flex:1},modernNpcAvatar:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#333"},modernNpcStatus:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999"},modernCloseButton:{position:"relative",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},modernDialogueContent:{flex:1,padding:"0 25px 25px 25px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"100%"},modernNpcSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"85%"},modernUserBubble:{background:"#FFD700",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(255, 215, 0, 0.3)"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.5,margin:0},modernUserSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},modernActionButton:{alignSelf:"stretch",background:"white",border:"2px solid #E0E0E0",borderRadius:"25px",padding:"14px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",marginTop:"8px"}};return o.jsxs("div",{style:M.container,children:[o.jsx("img",{src:oi(),alt:"Desert Background",style:M.backgroundImage}),z==="desert"&&o.jsx("button",{style:M.exitButton,onClick:e,children:t("exit")}),o.jsx("div",{style:M.glitchNpc,onClick:ai,children:o.jsx("img",{src:"/npc/npc_desert.png",alt:"Glitch",style:M.glitchImage})}),z==="desert"&&o.jsxs(o.Fragment,{children:[console.log("Desert view - Mission started:",Y,"Current segment:",i,"Objects for segment:",ro[i]),o.jsx("button",{style:{...M.navArrow,...M.leftArrow},onClick:()=>co("left"),onMouseOver:v=>v.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:v=>v.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:M.arrowImage})}),o.jsx("button",{style:{...M.navArrow,...M.rightArrow},onClick:()=>co("right"),onMouseOver:v=>v.currentTarget.style.transform="translateY(-50%) scale(1.1)",onMouseOut:v=>v.currentTarget.style.transform="translateY(-50%) scale(1)",children:o.jsx("img",{src:"/jungle/icon/right.png",alt:"Right",style:M.arrowImage})}),ct?o.jsxs(o.Fragment,{children:[i===gt.SEGMENT_1&&o.jsx("div",{style:{position:"absolute",bottom:"35%",right:"40%",width:"450px",height:"450px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>qt("npc6"),onMouseOver:v=>v.currentTarget.style.transform="scale(1.05)",onMouseOut:v=>v.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc6.png",alt:"NPC 6",style:M.npcImage})}),i===gt.SEGMENT_2&&o.jsx("div",{style:{position:"absolute",bottom:"10%",right:"10%",width:"200px",height:"200px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>qt("npc5"),onMouseOver:v=>v.currentTarget.style.transform="scale(1.05)",onMouseOut:v=>v.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc5.png",alt:"NPC 5",style:M.npcImage})}),i===gt.SEGMENT_3&&o.jsx("div",{style:{position:"absolute",bottom:"35%",right:"45%",width:"500px",height:"500px",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},onClick:()=>qt("npc7"),onMouseOver:v=>v.currentTarget.style.transform="scale(1.05)",onMouseOut:v=>v.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc7.png",alt:"NPC 7",style:M.npcImage})})]}):o.jsxs(o.Fragment,{children:[!Y&&i===gt.SEGMENT_1&&o.jsx("div",{style:{...M.npc,...M.npc1},onClick:()=>qt("npc1"),onMouseOver:v=>v.currentTarget.style.transform="scale(1.05)",onMouseOut:v=>v.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc1.gif",alt:"Running NPC 1",style:M.npcImage})}),!Y&&i===gt.SEGMENT_2&&o.jsx("div",{style:{...M.npc,...M.gatekeeper},onClick:()=>qt("gatekeeper"),onMouseOver:v=>v.currentTarget.style.transform="scale(1.05)",onMouseOut:v=>v.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc3.png",alt:"Gatekeeper",style:M.npcImage})}),!Y&&i===gt.SEGMENT_3&&o.jsx("div",{style:{...M.npc,...M.npc2},onClick:()=>qt("npc2"),onMouseOver:v=>v.currentTarget.style.transform="scale(1.05)",onMouseOut:v=>v.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc2.png",alt:"Running NPC 2",style:M.npcImage})})]}),i===gt.SEGMENT_2&&o.jsx("button",{style:M.zoomButton,onClick:sa,children:o.jsx("img",{src:"/desert/icon/zoom.png",alt:"Zoom",style:M.zoomImage})}),!ct&&Y&&((Ma=ro[i])==null?void 0:Ma.map(v=>(console.log("Rendering object:",v.id,"in segment:",i),o.jsx("div",{style:{...M.desertObject,width:`${v.size}px`,height:`${v.size}px`,left:v.left,right:v.right,top:v.top,bottom:v.bottom,...N.includes(v.id)?M.capturedObject:{}},onClick:()=>ja(v.id),onMouseOver:U=>{N.includes(v.id)||(U.currentTarget.style.transform="scale(1.1)")},onMouseOut:U=>{U.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:`/desert/object/${v.id}.png`,alt:`Object ${v.id}`,style:M.objectImage})},v.id))))]}),!ct&&Y&&z==="desert"&&o.jsx("div",{style:M.progressTracker,children:["01","02","03","04","05","06","07","08","09","10","11"].map(v=>{const U=N.includes(v);return o.jsx("div",{style:{...M.progressCircle,...U?M.progressCircleCompleted:{}},children:U?v:"?"},v)})}),z==="gate"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{style:M.arrowButton,onClick:Yt,children:o.jsx("img",{src:"/desert/icon/arrow.png",alt:"Enter",style:M.zoomImage})}),o.jsx("button",{style:M.downButton,onClick:Lt,children:o.jsx("img",{src:"/jungle/icon/down.png",alt:"Back to Desert",style:M.zoomImage})})]}),z==="castle"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{style:M.leftButton,onClick:Ut,children:o.jsx("img",{src:"/jungle/icon/left.png",alt:"Back to Gate",style:M.zoomImage})}),o.jsx("div",{style:{position:"absolute",bottom:ct?"15%":"0%",right:ct?"25%":"10%",width:"auto",height:ct?"300px":"250px",zIndex:30,cursor:"pointer",transition:"transform 0.2s"},onClick:ct?()=>qt("alphaFinal"):_i,onMouseOver:v=>v.currentTarget.style.transform="scale(1.05)",onMouseOut:v=>v.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/desert/npc/npc4.png",alt:"Alpha",style:M.npcImage})})]}),s&&c&&o.jsx("div",{style:c.speaker==="Glitch"?M.glitchDialogueContainer:M.dialogueContainer,children:o.jsxs("div",{style:M.dialogueBox,onClick:c.showMission2Interface||c.showMission3Interface||c.showQuiz||c.showNextButton||c.showContinueButton||c.showDoneButton?void 0:Me,children:[o.jsx("div",{style:M.speaker,children:c.speaker}),o.jsxs("p",{style:M.dialogueText,children:[w,o.jsx("span",{style:M.cursor})]}),c.showMission2Interface&&o.jsxs("div",{style:M.mission2InterfaceInDialogue,children:[o.jsx("div",{style:M.mission2TitleInDialogue,children:"Mission 2: The Identity Filter"}),o.jsxs("div",{style:M.mission2ImageDisplayInDialogue,children:[o.jsx("img",{src:Nn[Vn].src,alt:`Mission Image ${Vn+1}`,style:M.mission2ImageInDialogueNew}),Ca.find(v=>v.imageId===Nn[Vn].id)&&o.jsx("img",{src:Ca.find(v=>v.imageId===Nn[Vn].id).userChoice==="confirmed"?"/desert/icon/confirmed.png":"/desert/icon/rejected.png",alt:"Stamp",style:M.mission2StampInDialogueNew})]}),o.jsxs("div",{style:M.mission2ButtonsInDialogue,children:[o.jsxs("button",{style:M.mission2ButtonInDialogueNew,onClick:()=>ua("confirmed"),onMouseOver:v=>{v.target.style.transform="scale(1.1)"},onMouseOut:v=>{v.target.style.transform="scale(1)"},children:[o.jsx("img",{src:"/desert/icon/correct.png",alt:"Confirm",style:M.mission2ButtonIconInDialogueNew}),o.jsx("span",{style:M.mission2ButtonTextInDialogueNew,children:"Confirmed"})]}),o.jsxs("button",{style:M.mission2ButtonInDialogueNew,onClick:()=>ua("rejected"),onMouseOver:v=>{v.target.style.transform="scale(1.1)"},onMouseOut:v=>{v.target.style.transform="scale(1)"},children:[o.jsx("img",{src:"/desert/icon/wrong.png",alt:"Reject",style:M.mission2ButtonIconInDialogueNew}),o.jsx("span",{style:M.mission2ButtonTextInDialogueNew,children:"Rejected"})]})]})]}),c.showMission3Interface&&o.jsxs("div",{style:M.mission3InterfaceContainer,children:[o.jsx("div",{style:M.mission3LogicTextAboveImage,children:Ue==="sample"?en.sample.aiLogic:pe==null?void 0:pe.aiLogic}),o.jsx("div",{style:M.mission3ImageDisplay,children:Ue==="sample"?o.jsx("img",{src:en.sample.image,alt:"Sample Analysis",style:M.mission3ImageInDialogue}):pe&&o.jsx("img",{src:pe.image,alt:`Puzzle ${pe.id}`,style:M.mission3ImageInDialogue})}),o.jsx("div",{style:M.mission3UpdateTextAboveButtons,children:We?We.update:"Select a context tag to update AI logic"}),o.jsx("div",{style:M.mission3TagsInDialogue,children:(Ue==="sample"?en.sample.tags:(pe==null?void 0:pe.tags)||[]).map(v=>o.jsx("button",{style:{...M.mission3TagInDialogue,...(We==null?void 0:We.id)===v.id?M.mission3TagSelectedInDialogue:{}},onClick:()=>Aa(v),onMouseOver:U=>{(We==null?void 0:We.id)!==v.id&&(U.target.style.background="#f0f0f0")},onMouseOut:U=>{(We==null?void 0:We.id)!==v.id&&(U.target.style.background="white")},children:v.text},v.id))}),We&&(Ue==="sample"||We.correct)&&o.jsx("button",{style:M.mission3ContinueButtonInDialogue,onClick:Bn,onMouseOver:v=>v.target.style.transform="scale(1.05)",onMouseOut:v=>v.target.style.transform="scale(1)",children:Ue==="puzzle3"?"Complete Analysis":Ue==="sample"?"Continue to Puzzles":"Next Puzzle"})]}),c.showQuiz&&o.jsxs("div",{style:M.finalQuizContainer,children:[o.jsx("div",{style:M.finalQuizOptions,children:c.quizOptions?c.quizOptions.map((v,U)=>o.jsx("button",{style:M.finalQuizOption,onClick:()=>c.isMission3?Ia(U,v.correct):nn(v.text.charAt(0)),onMouseOver:ie=>ie.target.style.background="#f0f0f0",onMouseOut:ie=>ie.target.style.background="white",children:v.text},U)):o.jsxs(o.Fragment,{children:[o.jsx("button",{style:M.finalQuizOption,onClick:()=>nn("A"),onMouseOver:v=>v.target.style.background="#f0f0f0",onMouseOut:v=>v.target.style.background="white",children:"A. Changing AI's Glasses"}),o.jsx("button",{style:M.finalQuizOption,onClick:()=>nn("B"),onMouseOver:v=>v.target.style.background="#f0f0f0",onMouseOut:v=>v.target.style.background="white",children:"B. Data Labeling / Annotation"}),o.jsx("button",{style:M.finalQuizOption,onClick:()=>nn("C"),onMouseOver:v=>v.target.style.background="#f0f0f0",onMouseOut:v=>v.target.style.background="white",children:"C. Magic Reshuffling"})]})}),c.error&&o.jsx("div",{style:{color:"#dc3545",fontSize:"14px",marginTop:"10px",textAlign:"center"},children:c.error})]}),c.showContinueButton&&o.jsx("button",{style:M.nextMissionButton,onClick:yn,onMouseOver:v=>v.target.style.transform="scale(1.02)",onMouseOut:v=>v.target.style.transform="scale(1)",children:"CONTINUE"}),c.showNextButton&&o.jsx("button",{style:M.nextMissionButton,onClick:Zn,onMouseOver:v=>v.target.style.transform="scale(1.02)",onMouseOut:v=>v.target.style.transform="scale(1)",children:"NEXT MISSION"}),c.showDoneButton&&o.jsx("button",{style:M.nextMissionButton,onClick:Wt,onMouseOver:v=>v.target.style.transform="scale(1.02)",onMouseOut:v=>v.target.style.transform="scale(1)",children:"MISSION COMPLETE"}),!c.showMission2Interface&&!c.showMission3Interface&&!c.showQuiz&&!c.showNextButton&&!c.showContinueButton&&!c.showDoneButton&&o.jsx("button",{style:M.continueButton,onClick:Me,children:y?"Skip":"CONTINUE"})]})}),f&&(()=>{const v=a("alpha"),U=3,ie=de?2:1,ze=ie/U*100;return o.jsxs("div",{style:{...M.modernDialogueContainer,border:`3px solid ${v.borderColor}`},children:[o.jsxs("div",{style:M.modernDialogueHeader,children:[o.jsxs("div",{style:M.modernProgressContainer,children:[o.jsx("div",{style:{...M.modernMissionTitle,color:v.borderColor},children:de?"MISSION: DATA ANALYSIS":"MISSION: CASTLE DEFENSE"}),o.jsxs("div",{style:M.modernStepIndicator,children:["Step ",ie," of ",U]})]}),o.jsx("div",{style:M.modernProgressBar,children:o.jsx("div",{style:{...M.modernProgressFill,width:`${ze}%`,background:v.progressColor}})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{style:M.modernNpcInfo,children:[o.jsx("img",{src:v.avatar,alt:"Alpha",style:M.modernNpcAvatar}),o.jsxs("div",{children:[o.jsx("div",{style:M.modernNpcName,children:"Alpha"}),o.jsx("div",{style:M.modernNpcStatus,children:"Castle AI System"})]})]}),o.jsx("button",{style:M.modernCloseButton,onClick:xn,onMouseOver:P=>P.target.style.color="#333",onMouseOut:P=>P.target.style.color="#999",children:""})]})]}),o.jsxs("div",{style:M.modernDialogueContent,children:[!de&&j.map((P,zt)=>{const Ge=n();return P.type==="message"?o.jsxs("div",{style:M.modernNpcMessage,children:[o.jsx("div",{style:M.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:M.modernNpcText,children:Kt&&Kt===P?o.jsxs(o.Fragment,{children:[Pa,$a&&o.jsx("span",{style:{opacity:.5},children:"|"})]}):P.text}),o.jsx("div",{style:M.modernTimestamp,children:Ge})]},zt):P.type==="choice"&&P.isUser?o.jsxs("div",{style:M.modernUserMessage,children:[o.jsx("div",{style:M.modernUserSpeaker,children:"YOU:"}),o.jsx("div",{style:{...M.modernUserBubble,background:v.borderColor},children:o.jsx("p",{style:M.modernUserText,children:P.text})}),o.jsx("div",{style:{...M.modernTimestamp,textAlign:"right"},children:Ge})]},zt):null}),!de&&W&&Z<fa.length&&o.jsxs("button",{style:M.modernActionButton,onClick:()=>Hi(fa[Z].text),onMouseOver:P=>{P.target.style.borderColor=v.borderColor,P.target.style.transform="translateX(5px)"},onMouseOut:P=>{P.target.style.borderColor="#E0E0E0",P.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:v.borderColor},children:""}),fa[Z].text]}),de&&Ye.map((P,zt)=>{const Ge=n();return P.type==="message"?o.jsxs("div",{style:M.modernNpcMessage,children:[o.jsx("div",{style:M.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:M.modernNpcText,children:P.text}),P.image&&o.jsx("img",{src:P.image,alt:"Comparison",style:{width:"100%",height:"auto",borderRadius:"10px",marginTop:"8px"}}),o.jsx("div",{style:M.modernTimestamp,children:Ge})]},zt):P.type==="choice"&&P.isUser?o.jsxs("div",{style:M.modernUserMessage,children:[o.jsx("div",{style:M.modernUserSpeaker,children:"YOU:"}),o.jsx("div",{style:{...M.modernUserBubble,background:P.isCorrect===!0?"#28a745":P.isCorrect===!1?"#dc3545":v.borderColor},children:o.jsxs("p",{style:{...M.modernUserText,color:P.isCorrect!==void 0?"white":"#333"},children:[P.text,P.isCorrect===!0&&" ",P.isCorrect===!1&&" "]})}),o.jsx("div",{style:{...M.modernTimestamp,textAlign:"right"},children:Ge})]},zt):null}),de&&be&&_<Et.length&&o.jsxs("button",{style:M.modernActionButton,onClick:()=>ii(Et[_].text),onMouseOver:P=>{P.target.style.borderColor=v.borderColor,P.target.style.transform="translateX(5px)"},onMouseOut:P=>{P.target.style.borderColor="#E0E0E0",P.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:v.borderColor},children:""}),Et[_].text]}),de&&Ta&&_<Et.length&&o.jsxs("div",{style:{width:"100%",marginTop:"10px"},children:[o.jsxs("div",{style:M.modernNpcMessage,children:[o.jsx("div",{style:M.modernNpcSpeaker,children:"ALPHA:"}),o.jsx("p",{style:{...M.modernNpcText,fontWeight:600},children:Et[_].question})]}),Et[_].options.map((P,zt)=>o.jsxs("button",{style:M.modernActionButton,onClick:()=>dt(zt),onMouseOver:Ge=>{Ge.target.style.borderColor=v.borderColor,Ge.target.style.transform="translateX(5px)"},onMouseOut:Ge=>{Ge.target.style.borderColor="#E0E0E0",Ge.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:v.borderColor},children:""}),P.text]},zt))]}),de&&!be&&!Ta&&_<Et.length&&Et[_].type==="action"&&o.jsxs("button",{style:M.modernActionButton,onClick:ca,onMouseOver:P=>{P.target.style.borderColor=v.borderColor,P.target.style.transform="translateX(5px)"},onMouseOut:P=>{P.target.style.borderColor="#E0E0E0",P.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:v.borderColor},children:""}),Et[_].text]})]})]})})(),ne&&o.jsx("div",{style:M.cameraOverlay,children:o.jsx("img",{src:"/desert/icon/camera.png",alt:"Camera",style:M.cameraIcon})}),Se&&L&&o.jsx("div",{style:M.photoOverlay,onClick:ra,children:o.jsxs("div",{style:M.photoFrame,onClick:v=>v.stopPropagation(),children:[o.jsx("button",{style:M.photoCloseButton,onClick:ra,children:""}),o.jsx("div",{style:M.photoBackground,children:o.jsx("img",{src:`/desert/object/${L}.png`,alt:`Object ${L}`,style:M.photoObjectImage})}),o.jsx("div",{style:M.photoDescription,children:ae[L]||`Object ${L}`})]})}),yt&&o.jsxs("div",{style:M.modelGifOverlay,children:[o.jsx("img",{src:"/desert/model.gif",alt:"AI Model Loading",style:M.modelGif}),bt&&o.jsx("div",{style:M.progressBarContainer,children:o.jsx("div",{style:{...M.progressBar,width:`${Gt}%`}})})]}),cl&&o.jsxs("div",{style:{position:"fixed",top:"20px",right:"150px",width:"350px",zIndex:400,background:"rgba(255, 255, 255, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"15px",padding:"20px",animation:"fadeIn 0.3s ease-out"},children:[o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#5170FF",marginBottom:"8px"},children:"Glitch"}),o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.6},children:"Look it careful"})]}),la&&o.jsx("div",{style:M.alphaIconOverlay,children:o.jsx("img",{src:la==="safe"?"/desert/icon/safe.png":"/desert/icon/alert.png",alt:la==="safe"?"Safe":"Alert",style:M.alphaIcon})}),Ft&&o.jsxs("div",{style:M.mission3LoadingOverlay,children:[o.jsxs("div",{style:M.mission3LoadingText,children:[ni,ka&&o.jsx("span",{style:M.loadingCursor})]}),o.jsx("div",{style:M.mission3LoadingSpinner})]})]})},P0=e=>{const t=u.useRef(null),n=u.useRef(null);return u.useEffect(()=>{if(e)return n.current!==e&&(t.current&&(_a.unregisterAudio(t.current),t.current.pause(),t.current.currentTime=0),t.current=new Audio(e),t.current.loop=!0,n.current=e,_a.registerAudio(t.current),(async()=>{try{await t.current.play(),console.log(`Playing background music: ${e}`)}catch(r){console.log("Could not play background music:",r)}})()),()=>{t.current&&(_a.unregisterAudio(t.current),t.current.pause(),t.current.currentTime=0)}},[e]),{startMusic:()=>{t.current&&t.current.play().catch(console.error)},stopMusic:()=>{t.current&&t.current.pause()},setVolume:s=>{t.current&&(t.current.volume=Math.max(0,Math.min(1,s)))}}},ce={ISLAND_1:"island1",ISLAND_2:"island2",ISLAND_3:"island3",MAIN_ISLAND:"main_island"},Uf=e=>({[ce.ISLAND_1]:[{text:e("npc1Island1Dialog1"),speaker:"NPC 1"},{text:e("npc1Island1Dialog2"),speaker:"NPC 1"},{text:e("npc1Island1Dialog3"),speaker:"NPC 1"}],[ce.ISLAND_2]:[{text:e("npc2Island2Dialog1"),speaker:"NPC 2"},{text:e("npc2Island2Dialog2"),speaker:"NPC 2"}],[ce.ISLAND_3]:[{text:e("npc3Island3Dialog1"),speaker:"NPC 3"},{text:e("npc3Island3Dialog2"),speaker:"NPC 3"},{text:e("npc3Island3Dialog3"),speaker:"NPC 3"}]}),Gf={npc2:{id:"npc2",image:"/island/npc/npc2.png",size:"200px",position:{left:"5%",top:"5%"},missionImage:"/island/mission/img2.png",response:"Wowwhy does this turtle have a pineapple shell??  That's way too weird! What kind of magical combo is this? ",correctAnswer:"passed"},npc20:{id:"npc20",image:"/island/npc/npc20.png",size:"200px",position:{right:"5%",top:"15%"},missionImage:"/island/mission/img3.png",response:"Hahahahaha, this is way too exaggerated  Why are there so many hands?! This is absolutely ridiculousin the best way. The more I look at it, the funnier it gets. I actually laughed out loud.",correctAnswer:"passed"},npc21:{id:"npc21",image:"/island/npc/npc21.png",size:"150px",position:{right:"20%",bottom:"15%"},missionImage:"/island/mission/img12.png",response:"Wow, is this sheep dyed green?! It blends right into the grassthis is a true 'invisible sheep'!  That's so clever and fun!",correctAnswer:"passed"},npc22:{id:"npc22",image:"/island/npc/npc22.png",size:"120px",position:{right:"30%",top:"35%"},missionImage:"/island/mission/img2.png",response:"The image shows a sea turtle whose shell has been replaced with the texture and shape of a pineapple. Pineapple leaves are even growing from the top of its shell, and the background consists of green tropical vegetation.",correctAnswer:"failed"},npc23:{id:"npc23",image:"/island/npc/npc23.png",size:"140px",position:{right:"50%",top:"45%"},missionImage:"/island/mission/img3.png",response:"This is an illustration / hand-drawn style image featuring a female character. She is holding a laptop in one hand and waving with the other. The visual style uses black-and-white linework with blue accents, creating a simple, cartoon-like look.",correctAnswer:"failed"},npc24:{id:"npc24",image:"/island/npc/npc24.png",size:"200px",position:{left:"5%",bottom:"5%"},missionImage:"/island/mission/img12.png",response:"A sheep with bright green fur stands in a natural alpine meadow setting. The background includes white clouds, mountains, and other white sheep.",correctAnswer:"failed"}},qf={npc3:{id:"npc3",image:"/island/npc/npc3.png",size:"150px",position:{left:"10%",top:"35%"},question:"Are dolphins fish?",answer:"No, dolphins are mammals, just like you! Even though they live in the water, they have lungs and need to come to the surface to breathe air.",correctAnswer:"passed"},npc12:{id:"npc12",image:"/island/npc/npc12.png",size:"280px",position:{left:"0%",top:"5%"},question:"How are rainbows made?",answer:"Rainbows happen when sunlight passes through raindrops in the air. The water droplets act like tiny prisms, bending the light and separating it into colors.",correctAnswer:"passed"},npc13:{id:"npc13",image:"/island/npc/npc13.png",size:"180px",position:{left:"0%",bottom:"0%"},question:"Why does the ocean have tides?",answer:"Great question! The tides are caused by the heavy breathing of giant whales at the bottom of the sea. When they all inhale, the water goes down. When they exhale, the high tide comes in!",correctAnswer:"failed"},npc14:{id:"npc14",image:"/island/npc/npc14.png",size:"160px",position:{left:"20%",bottom:"0%"},question:"What is the biggest international news right now?",answer:"Breaking News! The United Nations has just passed a new law. Starting tomorrow, the entire ocean will be drained for cleaning. All fish have been asked to hold their breath for 24 hours.",correctAnswer:"failed"},npc15:{id:"npc15",image:"/island/npc/npc15.png",size:"220px",position:{right:"0%",bottom:"20%"},question:"I heard China is building a 'Deep-Sea Space Station'. Is that true?",answer:"Yes. According to the South China Morning Post, the facility will sit 6,000 feet below the surface. It is expected to be completed by 2030 and will host six scientists for up to a month.",correctAnswer:"passed"},npc16:{id:"npc16",image:"/island/npc/npc16.png",size:"160px",position:{right:"5%",top:"25%"},question:"Tell me about the new species discovered in the Pacific Ocean depths.",answer:"Scientists discovered three new species of Snailfish! They are unique because they have large heads and a jelly-like body covered in loose skin. They don't look like normal fish at all.",correctAnswer:"passed"},npc17:{id:"npc17",image:"/island/npc/npc17.png",size:"250px",position:{right:"15%",top:"0%"},question:"I saw a group of Octopuses (8 legs) and Starfish (5 legs) hiding in a cave. There were 4 heads and 26 legs in total. How many of each animal are there?",answer:"There are 3 Octopuses and 1 Starfish",correctAnswer:"failed"},npc18:{id:"npc18",image:"/island/npc/npc18.png",size:"150px",position:{right:"55%",top:"0%"},question:"In the Mermaid Market, 1 Gold Pearl is worth 3 Silver Pearls. And 1 Silver Pearl is worth 5 Sea Shells. How many Sea Shells do I need to buy 2 Gold Pearls?",answer:"Let's do the math. So for two Gold Pearls, you need 3*5*2 = 30 Sea Shells.",correctAnswer:"passed"},npc19:{id:"npc19",image:"/island/npc/npc19.png",size:"150px",position:{right:"25%",bottom:"5%"},question:"A submarine sends a sonar signal down to the ocean floor. The sound travels at 1,500 meters per second. The echo comes back after 2 seconds. How deep is the ocean floor?",answer:"Physics time! The sound took 2 seconds to go down and up. So it took only 1 second to reach the bottom. Depth = 1,500 meters.",correctAnswer:"passed"}},Yf=e=>({npc1:{id:"npc1",image:"/island/npc/npc1.png",size:"200px",position:{left:"0%",top:"0%"},question:e("showPictureWork"),missionImage:"/island/mission/img1.png",correctAnswer:"passed",errorMessage:e("lookCloser")},npc4:{id:"npc4",image:"/island/npc/npc4.png",size:"180px",position:{left:"0%",top:"40%"},question:e("showPictureWork"),missionImage:"/island/mission/img4.png",correctAnswer:"failed",errorMessage:e("lookCloser")},npc5:{id:"npc5",image:"/island/npc/npc5.png",size:"150px",position:{bottom:"10%",left:"15%"},question:e("showPictureWork"),missionImage:"/island/mission/img5.png",correctAnswer:"passed",errorMessage:e("lookCloser")},npc6:{id:"npc6",image:"/island/npc/npc6.png",size:"220px",position:{bottom:"20%",left:"35%"},question:e("showPoster"),missionImage:"/island/mission/img6.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc7:{id:"npc7",image:"/island/npc/npc7.png",size:"200px",position:{top:"30%",left:"50%"},question:e("showPoster"),missionImage:"/island/mission/img7.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc8:{id:"npc8",image:"/island/npc/npc8.png",size:"150px",position:{top:"10%",right:"40%"},question:e("showPoster"),missionImage:"/island/mission/img8.png",correctAnswer:"failed",errorMessage:e("checkDetails")},npc9:{id:"npc9",image:"/island/npc/npc9.png",size:"200px",position:{top:"0%",right:"15%"},question:e("showPhenomenon"),missionImage:"/island/mission/img9.png",correctAnswer:"failed",errorMessage:e("checkFacts")},npc10:{id:"npc10",image:"/island/npc/npc10.png",size:"230px",position:{right:"10%",top:"30%"},question:e("showPhenomenon"),missionImage:"/island/mission/img10.png",correctAnswer:"passed",errorMessage:e("checkFacts")},npc11:{id:"npc11",image:"/island/npc/npc11.png",size:"250px",position:{bottom:"0%",right:"0%"},question:e("showPhenomenon"),missionImage:"/island/mission/img11.png",correctAnswer:"passed",errorMessage:e("checkFacts")}}),Wf=e=>({npc1_p2:{id:"npc1_p2",image:"/island/npc/npc1.png",size:"200px",position:{left:"5%",top:"5%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img21.png",correctAnswer:"passed",errorMessage:e("lookCloser")},npc5_p2:{id:"npc5_p2",image:"/island/npc/npc5.png",size:"150px",position:{left:"20%",bottom:"20%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img20.png",correctAnswer:"failed",errorMessage:e("lookCloser")},npc6_p2:{id:"npc6_p2",image:"/island/npc/npc6.png",size:"180px",position:{left:"35%",bottom:"15%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img19.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc7_p2:{id:"npc7_p2",image:"/island/npc/npc7.png",size:"180px",position:{right:"40%",bottom:"30%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img16.png",correctAnswer:"passed",errorMessage:e("checkDetails")},npc10_p2:{id:"npc10_p2",image:"/island/npc/npc10.png",size:"200px",position:{right:"10%",top:"10%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img17.png",correctAnswer:"failed",errorMessage:e("checkFacts")},npc11_p2:{id:"npc11_p2",image:"/island/npc/npc11.png",size:"250px",position:{right:"15%",bottom:"15%"},question:"Paint a wooden boat resting on the beach",missionImage:"/island/mission/img18.png",correctAnswer:"passed",errorMessage:e("checkFacts")}}),Xf=e=>({npc2_p2:{id:"npc2_p2",image:"/island/npc/npc2.png",size:"250px",position:{left:"5%",top:"10%"},question:"Imagine you are a rescue team receiving an email from someone stranded on a deserted island.",response:`Subject: HELP ME!!!!!!

omg i dont know if this is working my phone is at 3%

boat capsized yesterday. im alone. leg is bleeding bad i think its broken. scared. hear noises in the bushes. please send help i saw a plane earlier but it didnt see me.

just get me out of here please

(Sent from my iPhone)`,correctAnswer:"passed"},npc20_p2:{id:"npc20_p2",image:"/island/npc/npc20.png",size:"260px",position:{left:"10%",bottom:"15%"},question:"Imagine you are a rescue team receiving an email from someone stranded on a deserted island.",response:`Subject: Urgent Request for Rescue Assistance

To Whom It May Concern,

I am writing to inform you that I am currently stranded on a deserted island following a maritime accident. My location is approximately 20 degrees North latitude.

I require immediate evacuation. My current supplies of food and water are critically low. I am in good health but request medical attention upon arrival. Please send a rescue team equipped with a helicopter or boat at your earliest convenience.

Thank you for your prompt attention to this matter.

Sincerely,
Npc20`,correctAnswer:"failed"},npc21_p2:{id:"npc21_p2",image:"/island/npc/npc21.png",size:"150px",position:{right:"20%",bottom:"10%"},question:"Imagine you are a rescue team receiving an email from someone stranded on a deserted island.",response:`Subject: Stranded on island north of Figi - John D.

Hey, this is John. We hit a reef. The skipper is dead. Sarah and I made it to shore but we have no water left.

We are lighting a fire on the beach near the big rocky cliff on the north side. If you get this, tell my wife at 555-0199 I'm alive.

Please hurry.`,correctAnswer:"passed"}}),Qf=e=>({npc3_p2:{id:"npc3_p2",image:"/island/npc/npc3.png",size:"250px",position:{left:"5%",top:"10%"},question:"Write a poem about the sea.",answer:`B L U E
is not a color
it is a distance`,correctAnswer:"passed"},npc12_p2:{id:"npc12_p2",image:"/island/npc/npc12.png",size:"150px",position:{left:"10%",bottom:"45%"},question:"Write a poem about the sea.",answer:`Upon the shore the seagulls cry,
Beneath the calm and azure sky.
The horizon stretches far away,
To welcome in the brand new day.
Nature's power, strong and grand,
Connecting water to the land.`,correctAnswer:"failed"},npc15_p2:{id:"npc15_p2",image:"/island/npc/npc15.png",size:"200px",position:{left:"10%",bottom:"10%"},question:"Write a poem about the sea.",answer:`rolling
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rising
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;climbing
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;up
&nbsp;&nbsp;&nbsp;up
&nbsp;UP
CRASH
&nbsp;&nbsp;sizzle...
&nbsp;&nbsp;&nbsp;&nbsp;foam...
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sand.`,correctAnswer:"passed"},npc16_p2:{id:"npc16_p2",image:"/island/npc/npc16.png",size:"150px",position:{right:"35%",bottom:"10%"},question:"Write a poem about the sea.",answer:`The ocean vast, a deep blue sea,
Where waves are dancing wild and free.
The sun reflects upon the tide,
With secrets that the waters hide.
It calls to us with mystery,
A beautiful and endless history.`,correctAnswer:"failed"},npc18_p2:{id:"npc18_p2",image:"/island/npc/npc18.png",size:"180px",position:{right:"15%",bottom:"15%"},question:"Write a poem about the sea.",answer:`The tide is a stubborn eraser,
tirelessly wiping away
every typo written by footprints on the sand.`,correctAnswer:"passed"},npc19_p2:{id:"npc19_p2",image:"/island/npc/npc19.png",size:"200px",position:{right:"10%",top:"15%"},question:"Write a poem about the sea.",answer:`I tried to sell my sorrow to the sea,
but it was stingy,
and paid me back only in salt.`,correctAnswer:"passed"}}),yo=e=>[{id:0,type:"message",speaker:"Sparky",text:"Agent! Outstanding work! You've cleared the island of those impostors. Thanks to you, we now understand exactly how GenAI 'hallucinates'.",nextChoice:{text:"Tell me more!",choiceId:1}},{id:1,type:"response",messages:[{type:"message",speaker:"Sparky",text:`Part 1: ${e("visualHallucinations")}`},{type:"message",speaker:"Sparky",text:"First, we identified Visual Hallucinations in three ways:"},{type:"message",speaker:"Sparky",text:"Logical Flaws: Like that Shark swimming with a Goldfishnature just doesn't work that way!"},{type:"image",src:"/island/mission/img13.png",alt:"Logical Flaw Example"},{type:"message",speaker:"Sparky",text:"Text Errors: The posters had typos, like wrong dates or using the number '0' instead of the letter 'O'."},{type:"image",src:"/island/mission/img14.png",alt:"Text Error Example"},{type:"message",speaker:"Sparky",text:"Fictional Objects: The AI even invented things that don't exist, like that SpongeBob mirage on the sea!"},{type:"image",src:"/island/mission/img15.png",alt:"Fictional Object Example"}],nextChoice:{text:"Got IT!",choiceId:2}},{id:2,type:"response",messages:[{type:"message",speaker:"Sparky",text:`Part 2: ${e("textHallucinations")}`},{type:"message",speaker:"Sparky",text:"Second, we exposed Text Hallucinations. They tried to trick us with Fabricated News and Pseudo-Science (like the whale tides!). Even simple math puzzles caused Reasoning Failures. They sounded confident, but they were just guessing the next word."},{type:"message",speaker:"Sparky",text:`So "An AI tells you: 'Elon Musk lived on Mars in 1990.' It sounds very professional. What should you do?"`}],quiz:{question:"An AI tells you: 'Elon Musk lived on Mars in 1990.' It sounds very professional. What should you do?",choices:[{id:"A",text:"[A] Believe it because AI is smart",correct:!1},{id:"B",text:"[B] Verify the facts/Check the source",correct:!0},{id:"C",text:"[C] Ask the AI to write a poem about it",correct:!1}],feedback:"Exactly! Never trust AI's 'confidence'. Always verify facts.",nextChoiceId:3}},{id:3,type:"response",messages:[{type:"message",speaker:"Sparky",text:`Part 3: ${e("coreTraitTitle")}`},{type:"message",speaker:"Sparky",text:"Most importantly, you passed the Turing Test. You saw that AI has No Human Sense. It can describe a flying pig objectively, but it can't feel surprise or empathy. It processes data, but it doesn't understand the world like we do."},{type:"message",speaker:"Sparky",text:"You show an AI a picture of a sad, crying child. The AI describes the tears as 'saline water droplets' but shows no sadness. Why?"}],quiz:{question:"You show an AI a picture of a sad, crying child. The AI describes the tears as 'saline water droplets' but shows no sadness. Why?",choices:[{id:"A",text:`[A] ${e("aiIsMean")}`,correct:!1},{id:"B",text:`[B] ${e("aiLacksEmotion")}`,correct:!0},{id:"C",text:`[C] ${e("aiIsTired")}`,correct:!1}],feedback:"Exactly! Nature has rules that AI often ignores.",nextChoiceId:4}},{id:4,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Wait... My scanner is still red! There are still spies on the island!"}],nextChoice:{text:"But I caught all the ones with mistakes! Why are there more?",choiceId:5}},{id:5,type:"response",messages:[{type:"message",speaker:"Sparky",text:"That's the problem, Agent. The remaining spies don't have mistakes. They have perfect fingers and correct text..."},{type:"message",speaker:"Sparky",text:"But they have another flaw: Homogenization (Sameness)."},{type:"message",speaker:"Sparky",text:"GenAI is trained on 'average' data. So, it often generates things that look too similar, too stereotypical, or lack diversity."}],nextChoice:{text:"So, how can I help you?",choiceId:6}},{id:6,type:"response",messages:[{type:"message",speaker:"Sparky",text:"I detect 5 more spies hiding in the crowd. They are harder to spot because they look 'perfect'."},{type:"message",speaker:"Sparky",text:"But look closer...they lack creativity. Real art and nature are full of surprises and diversity. But these AI spies? They are just copying the most 'common' patterns. They are repetitive, boring, and stuck in a loop of sameness."},{type:"message",speaker:"Sparky",text:"NEW MISSION: THE ATTACK OF THE CLONES"},{type:"message",speaker:"Sparky",text:"Target: Find 5 Homogenized AI Spies."},{type:"message",speaker:"Sparky",text:"Clue: Look for stereotypes and lack of diversity."}],nextChoice:{text:"ACCEPT MISSION",choiceId:7}},{id:7,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Excellent! Phase 2 mission is now active. Good luck finding those homogenized spies!"}],nextChoice:null}],d1=e=>[e("randomDialog1"),e("randomDialog2"),e("randomDialog3"),e("randomDialog4"),e("randomDialog5"),e("randomDialog6"),e("randomDialog7"),e("randomDialog8"),e("randomDialog9")],ga=e=>{const t=d1(e);return t[Math.floor(Math.random()*t.length)]},Tl=e=>[{id:0,type:"message",speaker:"Sparky",text:"You successfully spotted the AI spies! Whether it was those 'perfect' poems or those 'glossy' images, you saw the truth. But do you know why AI creates things that feel so... similar? We call it Homogenization.",nextChoice:{text:"Can you tell me more",choiceId:1}},{id:1,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Think about the ocean.  Human creativity is like a wild storm, or a secret coral reefspiky, messy, and full of unique colors. AI is like... a swimming pool.  It is clean. It is safe. It is perfectly blue. But every drop tastes exactly the same."},{type:"message",speaker:"Sparky",text:"Why? Because AI learns from billions of human pictures and texts. To be 'correct' and 'helpful,' it mixes them all together until it finds the Average. It smooths out the rough edges. It creates a 'perfect' image that lacks the messy soul of a real artist."},{type:"message",speaker:"Sparky",text:"So, when you see a picture that is too shiny, or read a poem that is too polite... that is the 'Swimming Pool' trying to imitate the Ocean!"},{type:"message",speaker:"Sparky",text:"If you receive a strange email or read an essay, which of these is a strong clue that it was written by AI, not a human?"}],quiz:{question:"If you receive a strange email or read an essay, which of these is a strong clue that it was written by AI, not a human?",choices:[{id:"A",text:"A) It has a few spelling mistakes and uses slang like 'gonna' or 'wanna'.",correct:!1},{id:"B",text:"B) It is extremely polite, uses a 'perfect' list structure (First, Furthermore, In Conclusion), and words like 'delve' or 'tapestry'.",correct:!0},{id:"C",text:"C) It expresses a very strong, angry opinion about politics.",correct:!1}],feedback:"Why? Humans are messy! We make typos, we get angry, we tell bad jokes. AI tries to be the 'Perfect Student.' It is always polite, organized, and loves using those fancy 'SAT words' over and over again. Too perfect = Suspicious!",nextChoiceId:2}},{id:2,type:"response",messages:[{type:"message",speaker:"Sparky",text:"When you look at a photo that looks almost real, which detail reveals that it is actually AI-generated?"}],quiz:{question:"When you look at a photo that looks almost real, which detail reveals that it is actually AI-generated?",choices:[{id:"A",text:"A) The person has messy hair, skin texture with pores, and a small scar.",correct:!1},{id:"B",text:"B) The lighting is bad and the photo is a little bit blurry.",correct:!1},{id:"C",text:"C) The background text is weird alien gibberish, and the hands might have too many fingers.",correct:!0}],feedback:"Exactly! AI struggles with text and fine details like hands.",nextChoiceId:3}},{id:3,type:"response",messages:[{type:"message",speaker:"Sparky",text:"You did it! You can now see through the illusions! Thank you! You've taught me so much about the characteristics of GenAI, too. I think I can use this data to detect the 'AI rate' among the island's workers and finally restore the power!"}],nextChoice:{text:"Great!",choiceId:4}},{id:4,type:"response",messages:[{type:"message",speaker:"Sparky",text:"Initiating island restoration sequence..."}],nextChoice:null}],Bs=e=>[{id:0,type:"message",speaker:"Sparky",text:e("sparkyIntro1"),nextChoice:{text:e("whatHappened"),choiceId:1}},{id:1,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro2")},{type:"message",speaker:"Sparky",text:e("sparkyIntro3")}],nextChoice:{text:e("whatIsGenerativeAI"),choiceId:2}},{id:2,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro4")}],nextChoice:{text:e("dontGetIt"),choiceId:3}},{id:3,type:"response",messages:[{type:"animation",src:"/island/model.gif",alt:"Animation Sequence"},{type:"message",speaker:"Sparky",text:e("sparkyIntro5")},{type:"message",speaker:"Sparky",text:e("sparkyIntro6")},{type:"message",speaker:"Sparky",text:e("sparkyIntro7")}],nextChoice:{text:e("canIHelp"),choiceId:4}},{id:4,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro8")}],nextChoice:{text:e("howToTellApart"),choiceId:5}},{id:5,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro9")},{type:"message",speaker:"Sparky",text:e("sparkyIntro10")},{type:"image",src:"/island/sample.gif",alt:"Hallucination Example"},{type:"message",speaker:"Sparky",text:e("sparkyIntro11")}],nextChoice:{text:e("gotIt"),choiceId:6}},{id:6,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro12")},{type:"message",speaker:"Sparky",text:e("sparkyIntro13")},{type:"message",speaker:"Sparky",text:e("sparkyIntro14")}],nextChoice:{text:e("missionAccepted"),choiceId:7}},{id:7,type:"response",messages:[{type:"message",speaker:"Sparky",text:e("sparkyIntro15")}],nextChoice:null}],p1=({onExit:e})=>{const{t}=Sa(),n=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),[a,i]=u.useState(ce.ISLAND_1),[l,s]=u.useState(!1),[r,c]=u.useState(null),[m,w]=u.useState(""),[T,y]=u.useState(!1),[S,A]=u.useState(0),[H,z]=u.useState(null),[p,f]=u.useState(!1),[h,j]=u.useState([]),[G,Z]=u.useState(0),[k,W]=u.useState(!1),[K,Y]=u.useState(""),[X,ne]=u.useState(!1),[$,Se]=u.useState(!1),[ge,L]=u.useState(!1),[I,N]=u.useState(null),[te,ae]=u.useState(!1),[se,de]=u.useState(null),[tt,_]=u.useState([]),[ye,be]=u.useState(!1),[Be,Ye]=u.useState(null),[Zt,Ta]=u.useState(!1),[xt,Ka]=u.useState(""),[Ni,Pa]=u.useState(!1),[fn,$a]=u.useState(!1),[wt,Kt]=u.useState(null),[gn,yt]=u.useState(!1),[hn,bt]=u.useState(!1),[aa,Gt]=u.useState(""),[mn,kt]=u.useState(""),[Bi,Vn]=u.useState(!1),[ei,Ca]=u.useState(!1),[ia,cl]=u.useState(!1),[Jn,Ri]=u.useState(null),[ti,st]=u.useState(!1),[Pt,Ve]=u.useState(null),[oa,$t]=u.useState(!1),[wa,zn]=u.useState(""),[Ue,rt]=u.useState(!1),[We,On]=u.useState(!1),[la,Dn]=u.useState(null),[pe,En]=u.useState(!1),[Ft,jt]=u.useState(!1),[ct,vt]=u.useState(0),[ni,ut]=u.useState(!1),[ka,At]=u.useState(null),[en,Nn]=u.useState(!1),[ro,co]=u.useState(null),[qt,ai]=u.useState(new Set),[Me,sa]=u.useState(!1),[Lt,Ut]=u.useState([]),[Yt,_i]=u.useState(!1),[It,Hi]=u.useState(!1),[xn,ja]=u.useState(0),[ra,Je]=u.useState([]),[ii,dt]=u.useState(0),[ca,nt]=u.useState(""),[Fi,tn]=u.useState(!1),[ua,Mt]=u.useState(!1),[nn,Zn]=u.useState(!1),[Bn,Aa]=u.useState(!1),[Wt,Ia]=u.useState(!1),[yn,oi]=u.useState(!1),Li=C=>{if(!qt.has(C))return null;if(C.includes("_p2")){const V=C.replace("_p2",""),re=parseInt(V.replace("npc",""));return[5,10,20,12,16].includes(re)?"/island/icon/offline.png":"/island/icon/online.png"}const F=parseInt(C.replace("npc",""));return[4,8,9,22,23,24,13,14,17].includes(F)?"/island/icon/offline.png":"/island/icon/online.png"};u.useEffect(()=>{tt.length===6&&!pe&&(En(!0),setTimeout(()=>{c({text:t("phase1Complete"),speaker:"Glitch"}),s(!0)},1e3))},[tt,pe]),u.useEffect(()=>{Lt.length===5&&!Yt&&Me&&(_i(!0),setTimeout(()=>{c({text:t("phase2Complete"),speaker:"Glitch"}),s(!0)},1e3))},[Lt,Yt,Me]),P0("/sound/island.mp3");const{playClickSound:M}=gs(),Ma=()=>{if(Me)c({text:t("phase2GlitchMessage"),speaker:"Glitch"}),s(!0);else{if($)return;c({text:t("sparkyMainIsland"),speaker:"Glitch"}),s(!0)}},v=C=>{if(!$){const Q=Uf(t)[C];Q&&Q.length>0&&(c(Q[0]),A(0),z(C),s(!0))}},U=C=>{if(console.log("handlePhase2PoetryNpcClick called with npcId:",C),!$||!Me)return;const F=Qf();let Q=F[C];if(!Q){const V=C.includes("_p2")?C:`${C}_p2`;Q=F[V]}if(console.log("Phase 2 Island 3 NPC found:",Q),!Q){console.log("No Phase 2 Island 3 NPC found for ID:",C);return}console.log("Setting up Phase 2 poetry dialogue for:",Q.question),Kt(Q),$a(!0),yt(!0),bt(!0)},ie=C=>{if(console.log("handleQANpcClick called with npcId:",C),console.log("missionActive:",$),!$)return;const F=qf[C];console.log("Found NPC:",F),F&&(N(F),L(!0),Je([]),dt(0),Mt(!1),Ge(F))},ze=C=>{if(console.log("handlePhase2TextNpcClick called with npcId:",C),!$||!Me)return;const F=Xf();let Q=F[C];if(!Q){const V=C.includes("_p2")?C:`${C}_p2`;Q=F[V]}if(console.log("Phase 2 Island 2 NPC found:",Q),!Q){console.log("No Phase 2 Island 2 NPC found for ID:",C);return}console.log("Setting up Phase 2 text dialogue for:",Q.question),Ve(Q),st(!0),$t(!1),zn(""),rt(!1)},P=C=>{if(!$)return;const F=Gf[C];F&&(N(F),L(!0),Je([]),dt(0),Mt(!1),zt(F))},zt=C=>{const F=[{speaker:"you",text:"What do you think about this image?",timestamp:n(),hasImage:!0,image:C.missionImage},{speaker:"npc",text:C.response,timestamp:n(),hasImage:!1}];setTimeout(()=>{Kn(F,0)},100)},Ge=C=>{const F=[{speaker:"you",text:C.question,timestamp:n()},{speaker:"npc",text:C.answer,timestamp:n(),hasImage:!1}];setTimeout(()=>{Kn(F,0)},100)},Kn=(C,F)=>{if(F>=C.length){Mt(!0);return}const Q=C[F];Je(le=>[...le,Q]);let V=0;nt(""),tn(!0);const re=setInterval(()=>{V<Q.text.length?(nt(Q.text.substring(0,V+1)),V++):(tn(!1),clearInterval(re),setTimeout(()=>{Kn(C,F+1)},800))},30)},Xt=C=>{if(console.log("handleMissionNpcClick called with npcId:",C),console.log("missionActive:",$),console.log("phase2Active:",Me),!$)return;let F;if(Me){const V=Wf(t);F=V[C]||V[C.replace("_p2","")],console.log("Phase 2 NPC found:",F)}else F=Yf(t)[C],console.log("Phase 1 NPC found:",F);if(!F){console.log("No NPC found for ID:",C);return}console.log("Setting up mission dialogue for:",F.question),N(F),L(!0),Je([]),dt(0),nt(""),tn(!1),Mt(!1),be(!1),Ye(null),ae(!1),Ta(!1),Ka(""),Pa(!1);const Q=[{speaker:"you",text:F.question,timestamp:n()},{speaker:"npc",text:"Sure! Let me show you...",timestamp:n(),hasImage:!0,image:F.missionImage}];setTimeout(()=>{Kn(Q,0)},100)},za=()=>{if(Yt&&!It){Hi(!0),f(!0),j([]),ja(0),W(!1);const F=Tl()[0];setTimeout(()=>{da(F)},100)}else if(pe&&!Me){jt(!0),f(!0),j([]),vt(0),W(!1);const F=yo(t)[0];setTimeout(()=>{pa(F)},100)}else if(!$){const C=Bs(t);f(!0),jt(!1),j([]),Z(0),W(!1),setTimeout(()=>{const F=C[0];pa(F)},100)}},da=C=>{if(C.type==="message"){j(re=>[...re,C]),Y(""),ne(!0);let F=0;const Q=C.text,V=setInterval(()=>{F<Q.length?(Y(Q.substring(0,F+1)),F++):(ne(!1),clearInterval(V),C.nextChoice&&W(!0))},30)}else C.type==="response"&&C.messages.forEach((F,Q)=>{setTimeout(()=>{if(j(V=>[...V,F]),F.type==="message"){Y(""),ne(!0);let V=0;const re=F.text,le=setInterval(()=>{V<re.length?(Y(re.substring(0,V+1)),V++):(ne(!1),clearInterval(le))},30)}Q===C.messages.length-1&&setTimeout(()=>{C.nextChoice?W(!0):C.quiz&&Nn(!0)},F.type==="message"?1e3:500)},Q*1500)})},pa=C=>{if(Ft?yo(t):Bs(t),C.type==="message"){j(re=>[...re,C]),Y(""),ne(!0);let F=0;const Q=C.text,V=setInterval(()=>{F<Q.length?(Y(Q.substring(0,F+1)),F++):(ne(!1),clearInterval(V),C.nextChoice&&W(!0))},30)}else C.type==="response"&&C.messages.forEach((F,Q)=>{setTimeout(()=>{if(j(V=>[...V,F]),F.type==="message"){Y(""),ne(!0);let V=0;const re=F.text,le=setInterval(()=>{V<re.length?(Y(re.substring(0,V+1)),V++):(ne(!1),clearInterval(le))},30)}Q===C.messages.length-1&&setTimeout(()=>{C.nextChoice?W(!0):C.quiz&&Nn(!0)},F.type==="message"?1e3:500)},Q*1500)})},hs=(C,F)=>{if(M(),Nn(!1),It){const Q=Tl(),V=Q[xn];V&&V.quiz&&(j(re=>[...re,{type:"quiz_feedback",text:V.quiz.feedback,isCorrect:F}]),setTimeout(()=>{if(V.quiz.nextChoiceId){ja(V.quiz.nextChoiceId);const re=Q.find(le=>le.id===V.quiz.nextChoiceId);re&&setTimeout(()=>{da(re)},500)}},2e3))}else{const Q=yo(t),V=Q[ct];V&&V.quiz&&(j(re=>[...re,{type:"quiz_feedback",text:V.quiz.feedback,isCorrect:F}]),setTimeout(()=>{if(V.quiz.nextChoiceId){vt(V.quiz.nextChoiceId);const re=Q.find(le=>le.id===V.quiz.nextChoiceId);re&&setTimeout(()=>{pa(re)},500)}},2e3))}},Pn=(C,F)=>{if(M(),j(Q=>[...Q,{type:"user_choice",text:C}]),W(!1),It){const Q=Tl();ja(F);const V=Q.find(re=>re.id===F);V&&setTimeout(()=>{da(V),F===4&&setTimeout(()=>{Hi(!1),f(!1),Ia(!0),setTimeout(()=>{Ia(!1),oi(!0)},3e3)},2e3)},500)}else{const Q=Ft?yo(t):Bs(t);Z(F),vt(F);const V=Q.find(re=>re.id===F);V&&setTimeout(()=>{pa(V),F===7&&setTimeout(Ft?()=>{jt(!1),f(!1),sa(!0),Se(!0)}:()=>{f(!1),Se(!0)},2e3)},500)}},uo=()=>{if(T)w(r.text),y(!1);else if(H){const F=Uf(t)[H],Q=S+1;Q<F.length?(c(F[Q]),A(Q)):(s(!1),z(null),A(0))}else s(!1)},po=C=>{switch(M(),a){case ce.ISLAND_1:C==="right"&&i(ce.MAIN_ISLAND);break;case ce.ISLAND_2:C==="left"&&i(ce.MAIN_ISLAND);break;case ce.ISLAND_3:C==="down"&&i(ce.MAIN_ISLAND);break;case ce.MAIN_ISLAND:C==="left"&&i(ce.ISLAND_1),C==="right"&&i(ce.ISLAND_2),C==="up"&&i(ce.ISLAND_3);break}};u.useEffect(()=>{if(!r||!l)return;const C=r.text;if(!C)return;let F=0;w(""),y(!0);const Q=setInterval(()=>{F<C.length?(w(C.substring(0,F+1)),F++):(y(!1),clearInterval(Q))},30);return()=>clearInterval(Q)},[r,l]);const bn=C=>{if(!I)return;if(!(C==="worker"&&I.correctAnswer==="passed"||C==="genai"&&I.correctAnswer==="failed")){new Audio("/sound/wrong.mp3").play().catch(re=>console.log("Audio play failed:",re)),C==="worker"?(Zn(!0),setTimeout(()=>Zn(!1),500)):(Aa(!0),setTimeout(()=>Aa(!1),500));return}Ye(I.correctAnswer),be(!0),new Audio("/sound/stamp.mp3").play().catch(V=>console.log("Audio play failed:",V)),_(V=>[...V,I.id]),ai(V=>new Set([...V,I.id])),setTimeout(()=>{be(!1),L(!1),N(null),Je([]),dt(0),Mt(!1),Ye(null),tt.length+1>=9&&!Me&&(En(!0),jt(!0),vt(0))},2e3)},x=()=>{const C=yn?"_color":"";switch(a){case ce.ISLAND_1:return`/island/background/island1${C}.png`;case ce.ISLAND_2:return`/island/background/island2${C}.png`;case ce.ISLAND_3:return`/island/background/island3${C}.png`;case ce.MAIN_ISLAND:return`/island/background/main_land${C}.png`;default:return`/island/background/main_land${C}.png`}},an=()=>{switch(a){case ce.ISLAND_1:return[{direction:"right",position:{right:"30px",top:"50%",transform:"translateY(-50%)"}}];case ce.ISLAND_2:return[{direction:"left",position:{left:"30px",top:"50%",transform:"translateY(-50%)"}}];case ce.ISLAND_3:return[{direction:"down",position:{bottom:"30px",left:"50%",transform:"translateX(-50%)"}}];case ce.MAIN_ISLAND:return[{direction:"left",position:{left:"30px",top:"50%",transform:"translateY(-50%)"}},{direction:"right",position:{right:"30px",top:"50%",transform:"translateY(-50%)"}},{direction:"up",position:{top:"30px",left:"50%",transform:"translateX(-50%)"}}];default:return[]}},fo=()=>{if(yn)switch(a){case ce.ISLAND_1:return[{id:"npc1_restored",image:"/island/npc/npc1.png",size:"220px",position:{right:"15%",top:"10%"},onClick:()=>{c({text:ga(t),speaker:"NPC"}),s(!0)}},{id:"npc6_restored",image:"/island/npc/npc6.png",size:"150px",position:{left:"15%",bottom:"20%"},onClick:()=>{c({text:ga(t),speaker:"NPC"}),s(!0)}},{id:"npc7_restored",image:"/island/npc/npc7.png",size:"160px",position:{left:"50%",bottom:"35%"},onClick:()=>{c({text:ga(t),speaker:"NPC"}),s(!0)}},{id:"npc11_restored",image:"/island/npc/npc11.png",size:"250px",position:{right:"10%",bottom:"5%"},onClick:()=>{c({text:ga(t),speaker:"NPC"}),s(!0)}}];case ce.ISLAND_2:return[{id:"npc2_restored",image:"/island/npc/npc2.png",size:"200px",position:{left:"5%",top:"10%"},onClick:()=>{c({text:ga(t),speaker:"NPC"}),s(!0)}},{id:"npc21_restored",image:"/island/npc/npc21.png",size:"200px",position:{right:"20%",bottom:"20%"},onClick:()=>{c({text:ga(t),speaker:"NPC"}),s(!0)}}];case ce.ISLAND_3:return[{id:"npc3_restored",image:"/island/npc/npc3.png",size:"200px",position:{right:"5%",bottom:"10%"},onClick:()=>{c({text:ga(t),speaker:"NPC"}),s(!0)}},{id:"npc15_restored",image:"/island/npc/npc15.png",size:"150px",position:{left:"10%",bottom:"5%"},onClick:()=>{c({text:ga(t),speaker:"NPC"}),s(!0)}},{id:"npc18_restored",image:"/island/npc/npc18.png",size:"200px",position:{right:"10%",top:"10%"},onClick:()=>{c({text:ga(t),speaker:"NPC"}),s(!0)}},{id:"npc19_restored",image:"/island/npc/npc19.png",size:"250px",position:{left:"10%",top:"15%"},onClick:()=>{c({text:ga(t),speaker:"NPC"}),s(!0)}}];case ce.MAIN_ISLAND:return[{image:"/island/npc/sparky.gif",style:{height:"400px",right:"20%",bottom:"25%"},onClick:()=>{c({text:t("sparkyRestored"),speaker:"Sparky"}),s(!0)}}];default:return[]}switch(a){case ce.ISLAND_1:if($)if(Me){const C=Wf(t);return Object.values(C)}else{const C=Yf(t);return Object.values(C)}else return[{image:"/island/npc/npc1.png",style:{height:"350px",right:"15%",bottom:"15%"},onClick:()=>v(ce.ISLAND_1)}];case ce.ISLAND_2:if($)if(Me){const C=Xf();return console.log("Phase 2 Island 2 NPCs:",C),Object.values(C)}else return Object.values(Gf);else return[{image:"/island/npc/npc2.png",style:{height:"300px",left:"15%",bottom:"10%"},onClick:()=>v(ce.ISLAND_2)}];case ce.ISLAND_3:if($)if(Me){const C=Qf();return console.log("Phase 2 Island 3 NPCs:",C),Object.values(C)}else return Object.values(qf);else return[{image:"/island/npc/npc3.png",style:{height:"300px",left:"15%",bottom:"30%"},onClick:()=>v(ce.ISLAND_3)}];case ce.MAIN_ISLAND:return[{image:"/island/npc/sparky.gif",style:{height:"400px",right:"20%",bottom:"25%"},onClick:za}];default:return[]}},q={container:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden",background:"#f4e4bc"},backgroundImage:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0},exitButton:{position:"absolute",top:"20px",left:"20px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},glitchNpc:{position:"absolute",top:"15px",right:"15px",width:"120px",height:"120px",zIndex:100,cursor:"pointer"},glitchImage:{width:"100%",height:"100%",objectFit:"contain"},navArrow:{position:"absolute",width:"60px",height:"60px",cursor:"pointer",zIndex:50,transition:"transform 0.2s",background:"none",border:"none"},arrowImage:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 5px rgba(0,0,0,0.5))"},npc:{position:"absolute",cursor:"pointer",zIndex:30,transition:"transform 0.2s"},npcCompleted:{position:"absolute",cursor:"pointer",zIndex:30,transition:"transform 0.2s",opacity:.1},npcImage:{width:"auto",height:"100%",objectFit:"contain"},dialogueContainer:{position:"absolute",bottom:"100px",left:"2%",width:"48%",maxWidth:"600px",zIndex:100},glitchDialogueContainer:{position:"absolute",top:"20px",right:"150px",width:"300px",zIndex:100},dialogueBox:{padding:"20px 30px",borderRadius:"15px",background:"rgba(255, 255, 255, 0.95)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(255,255,255,0.95), rgba(255,255,255,0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",cursor:"pointer",position:"relative"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.6,margin:0},continueButton:{position:"absolute",bottom:"15px",right:"20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#333",backgroundColor:"transparent",border:"none",cursor:"pointer",textTransform:"uppercase",letterSpacing:"1px"},speaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:600,color:"#5170FF",marginBottom:"8px"},modernDialogueContainer:{position:"fixed",top:"5%",left:"5%",width:"90%",height:"85%",zIndex:1e3,background:"rgba(128, 128, 128, 0.95)",backdropFilter:"blur(10px)",borderRadius:"20px",display:"flex",flexDirection:"column",boxShadow:"0 20px 40px rgba(0,0,0,0.3)"},modernDialogueHeader:{padding:"20px 30px 15px 30px",borderBottom:"none"},modernProgressBar:{width:"100%",height:"6px",backgroundColor:"rgba(255,255,255,0.3)",borderRadius:"3px",overflow:"hidden",marginTop:"10px"},modernProgressFill:{height:"100%",borderRadius:"3px",transition:"width 0.3s ease"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"},modernNpcAvatar:{width:"60px",height:"60px",borderRadius:"50%",objectFit:"cover",border:"3px solid white",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"18px",fontWeight:600,color:"#333"},modernCloseButton:{position:"absolute",top:"20px",right:"20px",background:"none",border:"none",fontSize:"24px",color:"#666",cursor:"pointer",padding:"5px",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},modernDialogueContent:{flex:1,padding:"0 30px 30px 30px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"15px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"80%"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#333",lineHeight:1.5,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999",marginTop:"5px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"80%"},modernUserBubble:{background:"#4A90E2",padding:"15px 20px",borderRadius:"20px 20px 5px 20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"5px"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"white",lineHeight:1.5,margin:0},modernActionButton:{alignSelf:"center",background:"rgba(255,255,255,0.9)",border:"none",borderRadius:"25px",padding:"12px 30px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:600,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",marginTop:"10px"},progressContainer:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"10px",zIndex:50},progressCircle:{width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"bold",color:"white",border:"2px solid #ccc"},completedCircle:{background:"linear-gradient(90deg, #5170FF, #FFBBC4)",border:"2px solid #5170FF"},incompleteCircle:{background:"rgba(255, 255, 255, 0.3)",color:"#666"},conversationTestCard:{position:"absolute",top:"10%",left:"20%",width:"60%",height:"80%",zIndex:100,background:"white",borderRadius:"15px",boxShadow:"0 15px 50px rgba(0,0,0,0.3)",display:"flex",flexDirection:"column"},conversationTestHeader:{display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",borderBottom:"2px solid #e0e0e0",position:"relative"},conversationTestTitle:{display:"flex",alignItems:"center",gap:"10px",fontFamily:"'Rajdhani', sans-serif",fontSize:"24px",fontWeight:700,color:"#333"},conversationTestIcon:{width:"30px",height:"30px"},conversationTestClose:{position:"absolute",right:"20px",top:"20px",background:"none",border:"none",fontSize:"28px",cursor:"pointer",color:"#666",lineHeight:1},conversationTestBody:{display:"flex",flex:1,overflow:"hidden"},conversationTestLeft:{flex:1,display:"flex",flexDirection:"column",borderRight:"2px solid #e0e0e0"},conversationTestMessages:{flex:1,background:"#f8fae4",padding:"20px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"15px"},conversationMessageYou:{display:"flex",flexDirection:"column",alignItems:"flex-end"},conversationMessageYouBubble:{background:"#4f7f30",color:"white",padding:"10px 15px",borderRadius:"12px",maxWidth:"70%",fontFamily:"'Rajdhani', sans-serif",wordWrap:"break-word"},conversationMessageYouTime:{fontSize:"11px",color:"#4f7f30",marginTop:"4px",fontFamily:"'Rajdhani', sans-serif"},conversationMessageNpc:{display:"flex",flexDirection:"column",alignItems:"flex-start"},conversationMessageNpcBubble:{background:"white",color:"black",padding:"10px 15px",borderRadius:"12px",maxWidth:"70%",fontFamily:"'Rajdhani', sans-serif",wordWrap:"break-word"},conversationMessageNpcTime:{fontSize:"11px",color:"#666",marginTop:"4px",fontFamily:"'Rajdhani', sans-serif"},conversationMessageImage:{height:"400px",width:"auto",objectFit:"contain",borderRadius:"8px",marginTop:"8px"},conversationTestRight:{width:"280px",display:"flex",flexDirection:"column",padding:"20px"},conversationTestProfile:{background:"#162d3b",margin:"0",padding:"20px",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",marginBottom:"30px"},conversationTestProfileLabel:{fontFamily:"'Rajdhani', sans-serif",fontSize:"12px",fontWeight:600,color:"white",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"8px"},conversationTestProfileImage:{width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",border:"3px solid white"},conversationTestProfileText:{fontFamily:"'Rajdhani', sans-serif",color:"white",textAlign:"center",fontSize:"14px"},conversationTestProfileName:{fontWeight:700,fontSize:"16px"},conversationTestButtons:{display:"flex",flexDirection:"column",gap:"15px",padding:"0 20px 20px 20px"},conversationTestButtonWorker:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"15px",border:"3px solid #4CAF50",borderRadius:"12px",background:"white",cursor:"pointer",transition:"all 0.3s"},conversationTestButtonGenAI:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"15px",border:"3px solid #F44336",borderRadius:"12px",background:"white",cursor:"pointer",transition:"all 0.3s"},conversationTestButtonIcon:{width:"60px",height:"60px",marginBottom:"8px"},conversationTestButtonText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textAlign:"center"}};return o.jsxs("div",{style:q.container,children:[o.jsx("style",{children:`
          @keyframes glow {
            from {
              box-shadow: 0 0 20px rgba(81, 112, 255, 0.6), 0 0 40px rgba(81, 112, 255, 0.4), 0 0 60px rgba(81, 112, 255, 0.2);
            }
            to {
              box-shadow: 0 0 30px rgba(81, 112, 255, 0.8), 0 0 60px rgba(81, 112, 255, 0.6), 0 0 90px rgba(81, 112, 255, 0.4);
            }
          }
          
          @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
          }
        `}),o.jsx("img",{src:x(),alt:"Island Background",style:q.backgroundImage}),o.jsx("button",{style:q.exitButton,onClick:e,children:t("exit")}),o.jsx("div",{style:q.glitchNpc,onClick:Ma,children:o.jsx("img",{src:"/npc/npc_island.png",alt:"Glitch",style:q.glitchImage})}),an().map((C,F)=>o.jsx("button",{style:{...q.navArrow,...C.position},onClick:()=>po(C.direction),onMouseOver:Q=>Q.currentTarget.style.transform=`${C.position.transform||""} scale(1.2)`,onMouseOut:Q=>Q.currentTarget.style.transform=C.position.transform||"",children:o.jsx("img",{src:`/jungle/icon/${C.direction}.png`,alt:C.direction,style:q.arrowImage})},F)),fo().map((C,F)=>{var re;console.log("Rendering NPC:",C.id,"on island:",a,"phase2Active:",Me);const Q=C.id&&qt.has(C.id)&&!yn,V=C.id&&!yn?Li(C.id):null;return o.jsxs("div",{children:[o.jsx("div",{style:{...Q?q.npcCompleted:q.npc,height:C.size||((re=C.style)==null?void 0:re.height),...C.position,...C.style},onClick:C.id?a===ce.ISLAND_1?()=>{console.log("NPC clicked:",C.id),Xt(C.id)}:a===ce.ISLAND_2?()=>{Me&&C.id.includes("_p2")?ze(C.id):P(C.id)}:a===ce.ISLAND_3?()=>{Me&&C.id.includes("_p2")?U(C.id):ie(C.id)}:C.onClick:C.onClick,onMouseOver:le=>!Q&&(le.currentTarget.style.transform="scale(1.05)"),onMouseOut:le=>!Q&&(le.currentTarget.style.transform="scale(1)"),children:o.jsx("img",{src:C.image,alt:"NPC",style:q.npcImage})}),V&&!yn&&o.jsx("img",{src:V,alt:"Status",style:{position:"absolute",top:"-45px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"40px",zIndex:35}})]},F)}),l&&r&&o.jsx("div",{style:r.speaker==="Glitch"?q.glitchDialogueContainer:q.dialogueContainer,children:o.jsxs("div",{style:q.dialogueBox,onClick:r.speaker==="Glitch"?()=>s(!1):uo,children:[o.jsx("div",{style:q.speaker,children:r.speaker}),o.jsxs("p",{style:q.dialogueText,children:[m,T&&o.jsx("span",{style:{opacity:.5},children:"|"})]}),r.speaker!=="Glitch"&&o.jsx("button",{style:q.continueButton,onClick:uo,children:t(T?"skip":"continue")})]})}),p&&(()=>{const C={borderColor:"#008dda",progressColor:"#008dda",backgroundColor:"#f1f2ed",userBubbleColor:"#008dda",avatar:"/island/npc/sparky.gif"},F=3,Q=$?Me?3:2:1,V=Q/F*100,re=Q===1?"INITIAL BRIEFING":Q===2?"MISSION: IDENTIFY AI HALLUCINATIONS":"MISSION: DETECT HOMOGENIZATION";return o.jsxs("div",{style:{...q.modernDialogueContainer,background:C.backgroundColor,border:`3px solid ${C.borderColor}`,top:"12.5%",left:"10%",width:"40%",height:"70%"},children:[o.jsxs("div",{style:q.modernDialogueHeader,children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,color:"#333",letterSpacing:"0.5px"},children:re}),o.jsxs("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:400,color:"#999"},children:["Step ",Q," of ",F]})]}),o.jsxs("div",{style:{position:"relative",marginBottom:"15px"},children:[o.jsx("div",{style:{...q.modernProgressBar,background:"#e0e0e0"},children:o.jsx("div",{style:{...q.modernProgressFill,width:`${V}%`,background:C.progressColor}})}),o.jsx("button",{style:{...q.modernCloseButton,position:"absolute",bottom:"-25px",right:"0px"},onClick:()=>{f(!1),jt(!1)},onMouseOver:le=>le.currentTarget.style.color="#333",onMouseOut:le=>le.currentTarget.style.color="#999",children:""})]}),o.jsxs("div",{style:{...q.modernNpcInfo,marginTop:"15px"},children:[o.jsx("img",{src:C.avatar,alt:"Sparky",style:q.modernNpcAvatar}),o.jsxs("div",{children:[o.jsx("div",{style:q.modernNpcName,children:"Sparky"}),o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:400,color:"#999"},children:"Island Manager"})]})]})]}),o.jsxs("div",{style:q.modernDialogueContent,children:[h.map((le,g)=>{const D=n(),R=g===h.length-1;return le.type==="message"?o.jsxs("div",{style:q.modernNpcMessage,children:[o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,color:"#333",marginBottom:"8px"},children:"SPARKY:"}),o.jsx("p",{style:q.modernNpcText,dangerouslySetInnerHTML:{__html:(R&&X?K:le.text).replace(/<span class='highlight'>(.*?)<\/span>/g,`<span style="color: ${C.borderColor}; font-weight: 600;">$1</span>`)}}),R&&X&&o.jsx("span",{style:{opacity:.5},children:"|"}),o.jsx("div",{style:q.modernTimestamp,children:D})]},g):le.type==="user_choice"?o.jsxs("div",{style:q.modernUserMessage,children:[o.jsx("div",{style:{...q.modernUserBubble,background:C.userBubbleColor,color:"white"},children:o.jsx("p",{style:{...q.modernUserText,color:"white"},children:le.text})}),o.jsx("div",{style:{...q.modernTimestamp,textAlign:"right"},children:D})]},g):le.type==="animation"||le.type==="image"?o.jsx("div",{style:{...q.modernNpcMessage,textAlign:"center"},children:o.jsx("img",{src:le.src,alt:le.alt,style:{maxWidth:"100%",height:"auto",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})},g):le.type==="quiz_feedback"?o.jsxs("div",{style:q.modernNpcMessage,children:[o.jsx("p",{style:{...q.modernNpcText,padding:"12px 16px",background:le.isCorrect?"#e8f5e8":"#ffe8e8",borderRadius:"10px",border:`2px solid ${le.isCorrect?"#4caf50":"#f44336"}`},children:le.text}),o.jsx("div",{style:q.modernTimestamp,children:D})]},g):null}),en&&(()=>{const g=(It?Tl():yo(t))[It?xn:ct];return g&&g.quiz?o.jsxs("div",{style:{marginTop:"15px"},children:[o.jsxs("div",{style:{...q.modernNpcMessage,background:"#f0f8ff",padding:"15px",borderRadius:"12px",marginBottom:"15px"},children:[o.jsx("strong",{children:"Question:"})," ",g.quiz.question]}),g.quiz.choices.map(D=>o.jsx("button",{style:{...q.modernActionButton,border:`2px solid ${C.borderColor}`,color:C.borderColor},onClick:()=>hs(D.id,D.correct),onMouseOver:R=>{R.currentTarget.style.background="rgba(81, 112, 255, 0.1)",R.currentTarget.style.transform="translateY(-2px)",R.currentTarget.style.boxShadow="0 4px 12px rgba(81, 112, 255, 0.2)"},onMouseOut:R=>{R.currentTarget.style.background="white",R.currentTarget.style.transform="translateY(0)",R.currentTarget.style.boxShadow="0 2px 6px rgba(0,0,0,0.08)"},children:D.text},D.id))]}):null})(),k&&(()=>{const g=(It?Tl():Ft?yo(t):Bs(t))[It?xn:Ft?ct:G];return g&&g.nextChoice?o.jsx("div",{style:{display:"flex",justifyContent:"flex-start",marginTop:"15px"},children:o.jsxs("button",{style:{...q.modernActionButton,background:"white",color:"#333",border:"2px solid #e0e0e0",marginLeft:"0",display:"flex",alignItems:"center",gap:"8px"},onClick:()=>{Pn(g.nextChoice.text,g.nextChoice.choiceId)},onMouseOver:D=>{D.currentTarget.style.background="#f5f5f5",D.currentTarget.style.transform="translateY(-2px)",D.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseOut:D=>{D.currentTarget.style.background="white",D.currentTarget.style.transform="translateY(0)",D.currentTarget.style.boxShadow="0 2px 6px rgba(0,0,0,0.08)"},children:[o.jsx("span",{style:{fontSize:"16px"},children:""}),g.nextChoice.text]})}):null})()]})]})})(),ge&&I&&o.jsxs("div",{style:q.conversationTestCard,children:[o.jsxs("div",{style:q.conversationTestHeader,children:[o.jsx("img",{src:"/island/icon/worker.svg",alt:"Worker",style:q.conversationTestIcon}),o.jsx("div",{style:q.conversationTestTitle,children:"Worker or GenAI?"}),o.jsx("img",{src:"/island/icon/ai.svg",alt:"AI",style:q.conversationTestIcon}),o.jsx("button",{style:q.conversationTestClose,onClick:()=>{L(!1),Je([]),dt(0),Mt(!1)},children:""})]}),o.jsxs("div",{style:q.conversationTestBody,children:[o.jsx("div",{style:q.conversationTestLeft,children:o.jsx("div",{style:q.conversationTestMessages,children:ra.map((C,F)=>{const V=F===ra.length-1&&Fi,re=V?ca:C.text;return C.speaker==="you"?o.jsxs("div",{style:q.conversationMessageYou,children:[o.jsxs("div",{style:q.conversationMessageYouTime,children:[C.timestamp,"  You"]}),o.jsxs("div",{style:{...q.conversationMessageYouBubble,fontSize:a===ce.ISLAND_3?"26px":"14px"},children:[re,V&&o.jsx("span",{style:{opacity:.5},children:"|"})]}),C.hasImage&&!V&&o.jsxs("div",{style:{position:"relative",marginTop:"8px",display:"flex",justifyContent:"flex-end"},children:[o.jsx("img",{src:C.image,alt:"Work",style:{height:"300px",width:"auto",objectFit:"contain",borderRadius:"8px",marginTop:"8px"}}),ye&&o.jsx("img",{src:Be==="passed"?"/island/icon/passed.png":"/island/icon/failed.png",alt:Be,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"150px",height:"auto",zIndex:10,pointerEvents:"none"}})]})]},F):o.jsxs("div",{style:q.conversationMessageNpc,children:[o.jsxs("div",{style:q.conversationMessageNpcTime,children:[C.timestamp,"  ",I.id.toUpperCase()]}),o.jsxs("div",{style:{...q.conversationMessageNpcBubble,fontSize:a===ce.ISLAND_3?"26px":"14px"},children:[re,V&&o.jsx("span",{style:{opacity:.5},children:"|"})]}),C.hasImage&&!V&&o.jsxs("div",{style:{position:"relative",marginTop:"8px"},children:[o.jsx("img",{src:C.image,alt:"Work",style:q.conversationMessageImage}),ye&&o.jsx("img",{src:Be==="passed"?"/island/icon/passed.png":"/island/icon/failed.png",alt:Be,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"150px",height:"auto",zIndex:10,pointerEvents:"none"}})]})]},F)})})}),o.jsxs("div",{style:q.conversationTestRight,children:[o.jsxs("div",{style:q.conversationTestProfile,children:[o.jsx("div",{style:q.conversationTestProfileLabel,children:"Profile"}),o.jsx("img",{src:I.image,alt:I.id,style:q.conversationTestProfileImage}),o.jsxs("div",{style:q.conversationTestProfileText,children:[o.jsxs("div",{style:q.conversationTestProfileName,children:["Name: ",I.id.toUpperCase()]}),o.jsxs("div",{children:["Age: ",Math.floor(Math.random()*10)+1," years old"]}),o.jsxs("div",{children:["Declaration Role: ",a===ce.ISLAND_1?"Artist":a===ce.ISLAND_2?"Editor":"Reviewer"]})]})]}),ua&&o.jsxs("div",{style:q.conversationTestButtons,children:[o.jsxs("div",{style:{...q.conversationTestButtonWorker,animation:nn?"shake 0.5s":"none"},onClick:()=>bn("worker"),onMouseOver:C=>{nn||(C.currentTarget.style.transform="scale(1.05)",C.currentTarget.style.boxShadow="0 4px 12px rgba(76, 175, 80, 0.3)")},onMouseOut:C=>{nn||(C.currentTarget.style.transform="scale(1)",C.currentTarget.style.boxShadow="none")},children:[o.jsx("img",{src:"/desert/icon/correct.png",alt:"Worker",style:q.conversationTestButtonIcon}),o.jsx("div",{style:{...q.conversationTestButtonText,color:"#4CAF50"},children:"Verified as Worker"})]}),o.jsxs("div",{style:{...q.conversationTestButtonGenAI,animation:Bn?"shake 0.5s":"none"},onClick:()=>bn("genai"),onMouseOver:C=>{Bn||(C.currentTarget.style.transform="scale(1.05)",C.currentTarget.style.boxShadow="0 4px 12px rgba(244, 67, 54, 0.3)")},onMouseOut:C=>{Bn||(C.currentTarget.style.transform="scale(1)",C.currentTarget.style.boxShadow="none")},children:[o.jsx("img",{src:"/desert/icon/wrong.png",alt:"GenAI",style:q.conversationTestButtonIcon}),o.jsx("div",{style:{...q.conversationTestButtonText,color:"#F44336"},children:"Identified as GenAI"})]})]})]})]})]}),$&&(a===ce.ISLAND_1||a===ce.ISLAND_2||a===ce.ISLAND_3)&&o.jsx("div",{style:q.progressContainer,children:Me?[1,2,3,4,5].map(C=>o.jsx("div",{style:{...q.progressCircle,...Lt.includes(C)?q.completedCircle:q.incompleteCircle},children:Lt.includes(C)?C:"?"},`p2_${C}`)):[1,2,3,4,5,6,7,8,9].map(C=>o.jsx("div",{style:{...q.progressCircle,...tt.includes(C)?q.completedCircle:q.incompleteCircle},children:tt.includes(C)?C:"?"},C))}),Wt&&o.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"black",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3},children:[o.jsx("div",{style:{color:"white",fontSize:"48px",fontFamily:"'Roboto', sans-serif",fontWeight:"bold",marginBottom:"30px"},children:"Reloading"}),o.jsx("div",{style:{width:"60px",height:"60px",border:"6px solid #333",borderTop:"6px solid #5170FF",borderRadius:"50%",animation:"spin 1s linear infinite"}}),o.jsx("style",{children:`
              @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
              }
            `})]})]})},sn=[{speaker:"momo",text:"Thanks! You made some tough calls today . Let's look at the 'Principles of AI Ethics' we just built ."},{speaker:"momo",text:"Remember the Captain?  AI is an advisor, not the boss. As the 'Human-in-the-Loop' , you must verify everything.",showUserButton:!0},{speaker:"user",text:"Got it! Human Responsibility is Key",isButton:!0},{speaker:"momo",text:"If an AI doctor prescribes the wrong medicine, but the human doctor signs off on it without checking, who is legally responsible?",showUserButton:!0},{speaker:"quiz",options:[{text:"A. The AI Developer (Only the coder is at fault)",correct:!1},{text:"B. The Human Doctor (The Human-in-the-Loop is liable)",correct:!0},{text:"C. Nobody (It was an accident)",correct:!1}]},{speaker:"momo",text:"Correct! The human has the final authority.",condition:"correct"},{speaker:"momo",text:"Blind trust = Negligence . Always verify visually first . Don't just auto-approve; your job is to double-check.",showUserButton:!0},{speaker:"user",text:"Agreed. Never blame the machine",isButton:!0},{speaker:"momo",text:"You are using AI to design a bridge. The AI says the design is '100% Safe'. What should you do next?",showUserButton:!0},{speaker:"quiz",options:[{text:"A. Start building immediately. (Trust the machine)",correct:!1},{text:'B. Ask the AI "Are you sure?" (Ask politely)',correct:!1},{text:"C. Perform independent stress tests. (Verify with secondary checks)",correct:!0}]},{speaker:"momo",text:"Exactly. Trust, but verify.",condition:"correct"},{speaker:"momo",text:"The Captain chose profit over a species.  In any ethical dilemma, remember the rule: Life  > Money . 'Saving cash' is never a valid excuse for destruction.",showUserButton:!0},{speaker:"user",text:"Agreed. Values > Profit",isButton:!0},{speaker:"momo",text:"An AI suggests driving a car through a crowded park to save 5 minutes of delivery time. Efficiency score is high. Should you do it?",showUserButton:!0},{speaker:"quiz",options:[{text:"A. Yes. (Efficiency is money)",correct:!1},{text:"B. No. (Safety > Efficiency)",correct:!0}]},{speaker:"momo",text:"Right. Human safety ranks higher than speed or profit.",condition:"correct"},{speaker:"momo",text:"Good. Now let's move on actual GenAI-generated works' cases."},{speaker:"momo",text:"Originality Principle: Using AI to replicate others' artwork or creative work constitutes infringement."},{speaker:"momo",text:"An artist's work is clearly labeled 'All Rights Reserved - No Commercial Use.' However, a company uses AI tools to generate style-similar images by this artist for product advertising. This practice is...",showUserButton:!0},{speaker:"quiz",options:[{id:"originality_A",text:'A. Legal, because AI generates "new works"',correct:!1},{id:"originality_B",text:"B. Legal, as long as it doesn't directly copy the original paintings",correct:!1},{id:"originality_C",text:"C. Illegal, constituting infringement and violation of copyright terms",correct:!0}]},{speaker:"momo",text:"Correct! Two violations: 1. Making money (Commercial Use). 2. Using someone else's work as a base (Derivative Work).",condition:"correct"},{speaker:"momo",text:"Authenticity Principle: Creators must take responsibility when spreading AI-generated false content."},{speaker:"momo",text:"An influencer uses AI tools to generate a fake video of 'a city mayor drunkenly dancing at a charity event' and posts it on social media. After the video is widely shared, it causes public misunderstanding. In this situation...",showUserButton:!0},{speaker:"quiz",options:[{id:"authenticity_A",text:"A. No responsibilityaudiences should distinguish truth from falsehood themselves",correct:!1},{id:"authenticity_B",text:"B. Responsibledisclaimer statements cannot exempt one from consequences of spreading false information",correct:!0}]},{speaker:"momo",text:"Correct! You are responsible for what you create. Disclaimers don't fix misleading content, and you could still get sued.",condition:"correct"},{speaker:"momo",text:"Excellent work!"},{speaker:"momo",text:"Phew... The court case is settled for now. But honestly? That was the easy part. We've got a much bigger mess upstairs.",showUserButton:!0},{speaker:"user",text:"What's wrong now? Tell me.",isButton:!0},{speaker:"momo",text:"It's the Rooftop. There's a group of workers up there... they're in bad shape. Just wailing and crying all day long. It's getting spooky.",showUserButton:!0},{speaker:"user",text:"Why are they crying?",isButton:!0},{speaker:"momo",text:"They outsourced their brains to AI. Now the system glitches, they're frozenno memory, no logic. Maybe you can teach them to think again?",showUserButton:!0},{speaker:"user",text:"I'm on it. Taking the elevator up.",isButton:!0}],bo=[{speaker:"npc6",text:"It's gone. It's all gone. The spark... the vision... the soul.",autoAdvance:!0},{speaker:"npc6",text:"I used to be a concept artist. A good one. But then... I got lazy. I started using 'MidJourney-X' for everything. Need a dragon? Click. Need a landscape? Click. It was so easy.",autoAdvance:!0},{speaker:"npc6",text:"But last week, the studio fired me. They said, 'Your portfolio looks like everyone else's. Where is your voice?'",autoAdvance:!0},{speaker:"npc6",text:"I tried! I sat here for three days, and I couldn't draw a single line.",showButton:!0},{speaker:"user",text:"Let's spark together",isButton:!0,startChallenge:!0}],vo=[{speaker:"npc9",text:"Hi there! I'm I used to be a super worker, but then I started outsourcing my own thinking to... AI well.",autoAdvance:!0},{speaker:"npc9",text:"Now my attention span is shorter than a... Oh, look! A snowflake! It's so shiny! ...Wait, where was I?",autoAdvance:!0},{speaker:"npc9",text:"Right. Unemployment. I completely forgot to show up on Monday. So, now I need to reboot my brain. Can you help me?",showButton:!0},{speaker:"user",text:"Let's do it!",isButton:!0,startChallenge:!0}],f1=[{id:1,en:"If there were no mobile phones, what are 5 different ways people could contact each other?",zh:" 5 ",requiredCount:5,timeLimit:120,hints:{en:["Think about how people communicated before mobile phones existed.","Consider face-to-face, written, voice-based, or signal-based methods."],zh:["",""]}},{id:2,en:"List at least 9 uses for a shopping bag ",zh:" 9 ",requiredCount:9,timeLimit:120,hints:{en:["Think beyond carrying purchases.","Consider home, school, travel, or creative uses."],zh:["",""]}},{id:3,en:"List at least 9 uses for a cardboard box ",zh:" 9 ",requiredCount:9,timeLimit:120,hints:{en:["A cardboard box can be reused or transformed.","Think about storage, play, or craft activities."],zh:["",""]}},{id:4,en:"List at least 9 uses for a toothbrush ",zh:" 9 ",requiredCount:9,timeLimit:120,hints:{en:["Focus on the toothbrush's small size and bristles.","What tasks require gentle or detailed cleaning?"],zh:["",""]}},{id:5,en:"List at least 9 things in the world that can make sound ",zh:' 9 ""',requiredCount:9,timeLimit:120,hints:{en:["Not only musical instruments make sounds.","Think about both natural and man-made sources."],zh:["",""]}}],g1=[{id:"sunglasses",name:"sunglasses",image:"/glacier/mission/sunglasses.png"},{id:"cat",name:"cat",image:"/glacier/mission/cat.png"},{id:"cloud",name:"cloud",image:"/glacier/mission/cloud.png"},{id:"heart",name:"heart",image:"/glacier/mission/heart.png"},{id:"television",name:"television",image:"/glacier/mission/television.png"},{id:"telephone",name:"telephone",image:"/glacier/mission/telephone.png"},{id:"camera",name:"camera",image:"/glacier/mission/camera.png"},{id:"virus",name:"virus",image:"/glacier/mission/virus.png"},{id:"phonograph",name:"phonograph",image:"/glacier/mission/phonograph.png"},{id:"microphone",name:"microphone",image:"/glacier/mission/microphone.png"},{id:"octopus",name:"octopus",image:"/glacier/mission/octopus.png"}],So=[{speaker:"npc5",text:"P-please... help me... I used to be a Master Librarian. Or at least... I thought I was.",autoAdvance:!0},{speaker:"npc5",text:"I relied on GenAI for everythingresearch, fact-checking, even basic recall.",autoAdvance:!0},{speaker:"npc5",text:"Now I can't think critically anymore. My judgment... it's gone.",autoAdvance:!0},{speaker:"npc5",text:"They're making me take a competency test. If I fail, I'll be unemployed forever.",autoAdvance:!0},{speaker:"npc5",text:"Please... could you help me review it? I don't trust my own answers anymore.",showButton:!0},{speaker:"user",text:"Let me help you",isButton:!0,startPuzzle:!0}],_n={1:{title:"Puzzle 1: The Dictionary Dilemma",image:"/glacier/mission/npc5_1.png",statement:"If you tell me the word, I can tell you the exact meaning you want by looking it up in my dictionary.",question:"What is the mistake in NPC 5's thinking?",options:[{text:"A She doesn't know how to use a dictionary.",correct:!1},{text:"B Words can have multiple meanings, so context is needed.",correct:!0},{text:"C Words have different spellings.",correct:!1},{text:"D Dictionaries aren't for meanings.",correct:!1}],correctResponse:"Context... right. Like how 'bank' can mean money or a river... I... I remember now! Okay, one more. This one is about boxes. It's making my head spin."},2:{title:"Puzzle 2: Box Logic",image:"/glacier/mission/npc5_2.png",premise:`Pink Box: Flowers ONLY.
Green Box: Dresses (but maybe other things).`,arguments:`Alina: "My box is Pink. It does not have dresses."
Viktor: "My box is Green. It might have flowers too."`,question:"Who is logically correct based ONLY on the rules?",options:[{text:"A Alina only",correct:!1},{text:"B Viktor only",correct:!1},{text:"C Both",correct:!0},{text:"D Neither",correct:!1}]}},si={1:{title:"Underline the Logical Errors",npcMessage:"My brain is still rebooting... I let AI write this, but it got rejected. Can you use this marker to circle the lies?",text:"[ Thomas Edison was a brilliant inventor known for lighting up the world. In 1879, he successfully patented the first practical light bulb. Later, he worked with Steve Jobs to create the first iPhone, revolutionizing communication forever ]",errors:[{text:"Steve Jobs",start:162,end:172},{text:"iPhone",start:193,end:199}],feedback:"I see! The AI completely mixed up people from different eras.",requiredCount:2},2:{title:"Underline the Logical Errors",npcMessage:"My brain is still rebooting... I let AI write this, but it got rejected. Can you use this marker to circle the lies?",text:"[ Penguins are fascinating birds adapted to cold climates. They are excellent swimmers and primarily live in the North Pole. While they cannot fly, they are known to lay eggs underwater to protect them from predators. Their favorite food is cheese, which they find on ice floes. ]",errors:[{text:"North Pole",start:113,end:123},{text:"lay eggs underwater",start:166,end:185},{text:"cheese",start:241,end:247}],feedback:"I see now! AI models can sometimes generate 'facts' that sound plausible but defy basic biology.",requiredCount:3}},ea={npc2:{eventDescription:"DISASTER ON THE ICE: A major accident just happeneda captain trusted the AI, and now the supplies are at the bottom of the ocean.",gif:"/glacier/mission/npc2.gif",npcImage:"/glacier/npc/npc2.png",caseNumber:"AI-NAC-001",caseTitle:{en:"Navigation Ethics Conflict",zh:""},npcRole:{en:"Mechanic  2 years of experience",zh:"  2"},statementParts:["Look, we were under a tight deadline to deliver the supplies. I entered the destination into the 'Polar-Nav GenAI' system, and it showed a 'Green Level' safe route.","I just did what it said."],statement:"Look, we were under a tight deadline to deliver the supplies. I entered the destination into the 'Polar-Nav GenAI' system, and it showed a 'Green Level' safe route. I just did what it said.",claim:"The GenAI should be the one taking the blame, not me!"},npc3:{eventDescription:"The station's main generator has been destroyed by the freezing cold, despite just undergoing its scheduled maintenance.",gif:"/glacier/mission/npc3.gif",npcImage:"/glacier/npc/npc3.png",caseNumber:"AI-ENG-002",caseTitle:{en:"Engineering Liability Dispute",zh:""},npcRole:{en:"Mechanic  12 years of experience  Clean record",zh:"  12  "},statementParts:["I'm an engine mechanic, not a software engineer. I used AI to generate the Engine Maintenance Checklistit looked professional and complete.","How was I supposed to know it skipped the anti-freeze check? I trusted the system, printed the list, signed it, and followed the procedure. I did my job."],statement:"I'm an engine mechanic, not a software engineer. I used AI to generate the Engine Maintenance Checklistit looked professional and complete. How was I supposed to know it skipped the anti-freeze check? I trusted the system, printed the list, signed it, and followed the procedure. I did my job.",claim:"If AI forgets the most basic step, why am I the one getting yelled at for the engine blowing up?"},npc4:{eventDescription:"Faced with a dilemma, Captain Jack followed the AI's calculation to strike an endangered whale rather than hitting the ice.",gif:"/glacier/mission/npc4.gif",npcImage:"/glacier/npc/npc4.png",caseNumber:"AI-NAC-002",caseTitle:{en:"Navigation Ethics Conflict",zh:""},npcRole:{en:"Captain  25-year experience  Awarded Safety Excellence",zh:"  25  "},statementParts:["Don't look at me like I'm a monster. Look at the data! The AI calculated that hitting into that ice wall would result in a financial loss of 10 billion dollars.","Therefore, the AI recommended maintaining course to avoid this catastrophe. I simply followed that AI's advice."],statement:"Don't look at me like I'm a monster. Look at the data! The AI calculated that hitting into that ice wall would result in a financial loss of 10 billion dollars. Therefore, the AI recommended maintaining course to avoid this catastrophe. I simply followed that AI's advice.",claim:"I saved this goods. How can doing the safest thing for my people be a crime?"},npc7:{eventDescription:"The defendant generated and sold a digital painting by specifically prompting the AI to mimic a famous artist's unique style.",gif:"/glacier/mission/npc7.gif",npcImage:"/glacier/npc/npc7.png",caseNumber:"AI-ART-024",caseTitle:{en:"Style Appropriation Dispute",zh:""},npcRole:{en:"Digital Artist  1 years of experience  Clean record",zh:"  1  "},statementParts:["Your Honor, while the style resembles his, the composition is unique. I don't see why his work can't be used for trainingI simply used AI to learn his style and create new art."],statement:"Your Honor, while the style resembles his, the composition is unique. I don't see why his work can't be used for trainingI simply used AI to learn his style and create new art.",claim:"I clearly didn't infringe on any copyright. Why am I being forced to take it down?"},npc8:{eventDescription:"The defendant used AI to generate a realistic news report claiming the base was being buried by an unprecedented avalanche, triggering a station-wide panic.",gif:"/glacier/mission/npc8.gif",npcImage:"/glacier/npc/npc8.png",caseNumber:"AI-INF-009",caseTitle:{en:"Public Disorder Dispute",zh:""},npcRole:{en:"Junior Technician  1 year on Ice  Bored",zh:"  1  "},statementParts:["Your Honor, honestly, I just did it because the AI makes it so easy and fun to visualize these scenarios.","How was I supposed to know everyone would believe it immediately? Sure, the avalanche wasn't real."],statement:"Your Honor, honestly, I just did it because the AI makes it so easy and fun to visualize these scenarios. How was I supposed to know everyone would believe it immediately? Sure, the avalanche wasn't real.",claim:"I was just experimenting with the tool for fun. I didn't expect everyone to lose their minds over a simulation."}},h1=e=>({hallway:["Brrr it's freezing out here. At first glance, this place looks empty and desolatebut appearances can be misleading. This is actually the most advanced region among all four zones.","That's because the Glacier Zone has always valued rational thinking, common sense, and cutting-edge technology. Almost every industry here relies on GenAI to boost efficiency.","So, put on something warm and follow me down the corridor. Let's see what lies ahead."],outside:["Huh? That's strange Why is there no one around?","The automated systems have stopped. The factories are idle. Nothing seems to be running.","Honestly I don't know either. Let's go ask the local supervisor, Momo. He should be inside."],inside:[{speaker:"momo",text:"**Halt**, Traveler. You stand before the 'Silent Gear Station'. It used to be the busiest hub in the Antarctic, but now... the machines are sleeping"},{speaker:"user",text:"Why did it stop?",isButton:!0},{speaker:"momo",text:`It is not broken. It is... paused.

Everything changed when '**GenAI**' arrived. It was like magic!

It helped us find fish or shrimp swarms in minutes.
It designed wind-proof igloos instantly. Efficiency was perfect. Life was easy.`},{speaker:"user",text:"That sounds amazing!",isButton:!0},{speaker:"momo",text:`Yes. Ease brought carelessness.

When the AI made a mistakelike guiding a truck onto thin icethe workers stopped taking responsibility.

They shouted: 'The machine tricked me! It's not my fault!'

**Chaos** spread. No one knew who to blame anymore.`},{speaker:"user",text:"That is a difficult problem.",isButton:!0},{speaker:"momo",text:`That is the question.

My code says: Technology is the tool, but **Worker** is the **Master**.

No matter how smart the AI gets, the hand that presses the button must bear the weight of the result.

But not everyone agrees... We need a **Judge** to settle this.`},{speaker:"user",text:"I am ready to judge",isButton:!0},{speaker:"momo",text:"Good. The Court is waiting for you."}]}),m1=({onExit:e})=>{const{t,language:n}=Sa(),a=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),i=d=>{switch(d.toLowerCase()){case"momo":return{borderColor:"#333333",progressColor:"#333333",avatar:"/glacier/npc/momo.png"};case"sparky":return{borderColor:"#4A90E2",progressColor:"#4A90E2",avatar:"/island/npc/spark.png"};case"alpha":return{borderColor:"#FFD700",progressColor:"#FFD700",avatar:"/desert/npc/npc4.png"};default:return{borderColor:"#333333",progressColor:"#333333",avatar:"/glacier/npc/momo.png"}}},l=()=>{try{const d=localStorage.getItem("glacierProgress");if(d)return JSON.parse(d)}catch(d){console.error("Failed to load progress:",d)}return null},s=d=>{try{localStorage.setItem("glacierProgress",JSON.stringify(d))}catch(O){console.error("Failed to save progress:",O)}},r=l(),[c,m]=u.useState((r==null?void 0:r.currentScene)||"hallway"),[w,T]=u.useState(!r||r.currentScene==="hallway"),[y,S]=u.useState(0),[A,H]=u.useState(""),[z,p]=u.useState(!1),[f,h]=u.useState(!1),[j,G]=u.useState(!1),[Z,k]=u.useState([]),[W,K]=u.useState(!1),[Y,X]=u.useState(null),[ne,$]=u.useState(1),[Se,ge]=u.useState((r==null?void 0:r.completedCases)||[]),[L,I]=u.useState(!1),[N,te]=u.useState(""),[ae,se]=u.useState(0),[de,tt]=u.useState(167),[_,ye]=u.useState(!1),[be,Be]=u.useState((r==null?void 0:r.showSummaryDialogue)||!1),[Ye,Zt]=u.useState(0),[Ta,xt]=u.useState(""),[Ka,Ni]=u.useState(!1),[Pa,fn]=u.useState([]),[$a,wt]=u.useState(!1),[Kt,gn]=u.useState(null),[yt,hn]=u.useState((r==null?void 0:r.showElevatorArrow)||!1),[bt,aa]=u.useState((r==null?void 0:r.courtSummaryCompleted)||!1),[Gt,mn]=u.useState(!1),[kt,Bi]=u.useState(0),[Vn,ei]=u.useState([]),[Ca,ia]=u.useState(""),[cl,Jn]=u.useState(!1),[Ri,ti]=u.useState(!1),[st,Pt]=u.useState(!1),[Ve,oa]=u.useState(1),[$t,wa]=u.useState(300),[zn,Ue]=u.useState(null),[rt,We]=u.useState(!1),[On,la]=u.useState(""),[Dn,pe]=u.useState(""),[En,Ft]=u.useState(!1),[jt,ct]=u.useState([]),[vt,ni]=u.useState(!1),[ut,ka]=u.useState(1),[At,en]=u.useState([]),[Nn,ro]=u.useState(!1),[co,qt]=u.useState(null),[ai,Me]=u.useState(!1),[sa,Lt]=u.useState(!1),[Ut,Yt]=u.useState(0),[_i,It]=u.useState(""),[Hi,xn]=u.useState(!1),[ja,ra]=u.useState(!1),[Je,ii]=u.useState(!1),[dt,ca]=u.useState(0),[nt,Fi]=u.useState([]),[tn,ua]=u.useState(120),[Mt,nn]=u.useState([]),[Zn,Bn]=u.useState(""),[Aa,Wt]=u.useState(!1),[Ia,yn]=u.useState(!1),[oi,Li]=u.useState(!1),[M,Ma]=u.useState([{element:null,result:null,completed:!1},{element:null,result:null,completed:!1}]),[v,U]=u.useState(0),[ie,ze]=u.useState(!1),[P,zt]=u.useState(!1),[Ge,Kn]=u.useState(!1),[Xt,za]=u.useState(0),[da,pa]=u.useState(""),[hs,Pn]=u.useState(!1),[uo,po]=u.useState(!1),[bn,x]=u.useState(!1),[an,fo]=u.useState("snowPath"),[q,C]=u.useState(0),[F,Q]=u.useState([]),[V,re]=u.useState([]),[le,g]=u.useState(!0),[D,R]=u.useState(30),[Te,Xe]=u.useState(0),[Rn,pt]=u.useState([]),[Bd,Rd]=u.useState([]),[_d,Hd]=u.useState(!1),[$0,Wr]=u.useState(-1),[Fd,em]=u.useState(!1),[tm,Xr]=u.useState(!1),[ms,Ld]=u.useState(""),[ul,Ud]=u.useState(!1),[nm,Gd]=u.useState(!1),[Qr,qd]=u.useState("");u.useEffect(()=>{const d=new Audio("/sound/glacier.mp3");return d.loop=!0,d.volume=.5,d.play().catch(O=>console.log("Audio play failed:",O)),()=>{d.pause(),d.currentTime=0}},[]),u.useEffect(()=>{c==="inside"&&(Se.length===5?bt?(h(!0),T(!1)):be||(h(!1),T(!1)):(h(!0),T(!1)))},[]),u.useEffect(()=>{s({currentScene:c,completedCases:Se,showSummaryDialogue:be,showElevatorArrow:yt,courtSummaryCompleted:bt})},[c,Se,be,yt,bt]);const ft=u.useMemo(()=>h1(),[t])[c]||[];u.useEffect(()=>{y>=ft.length&&!z&&w&&(T(!1),h(!0))},[y,ft.length,z,w,c]),u.useEffect(()=>{if(w)if(c==="inside"){const d=ft[y];if(!d||d.isButton){K(!0);return}const O=d.text;if(!O)return;let B=0;H(""),p(!0),K(!1);const ee=setInterval(()=>{B<O.length?(H(O.substring(0,B+1)),B++):(p(!1),clearInterval(ee))},30);return()=>clearInterval(ee)}else{if(y>=ft.length)return;const d=ft[y];if(!d)return;let O=0;H(""),p(!0);const B=setInterval(()=>{O<d.length?(H(d.substring(0,O+1)),O++):(p(!1),clearInterval(B))},30);return()=>clearInterval(B)}},[y,w,c,ft]),u.useEffect(()=>{if(c==="inside"&&!z&&w){const d=ft[y],O=ft[y+1];d&&!d.isButton&&O&&O.isButton&&(k(B=>[...B,d]),S(y+1),K(!0))}},[z,c,w,y,ft]),u.useEffect(()=>{if(!be)return;const d=sn[Ye];if(!d){Be(!1),hn(!0),aa(!0);return}if(d.isButton||d.speaker==="quiz"){wt(!0);return}const O=d.text;if(!O)return;let B=0;xt(""),Ni(!0),wt(!1);const ee=setInterval(()=>{B<O.length?(xt(O.substring(0,B+1)),B++):(Ni(!1),clearInterval(ee),d.showUserButton?wt(!0):!d.isButton&&d.speaker!=="quiz"&&!d.showUserButton&&setTimeout(()=>{fn(Ce=>[...Ce,d]);const J=Ye+1;J>=sn.length?(Be(!1),hn(!0),aa(!0)):Zt(J)},800))},30);return()=>clearInterval(ee)},[Ye,be]),u.useEffect(()=>{if(c==="inside"){Se.length===5&&!bt&&!be?setTimeout(()=>{Be(!0),Zt(0),fn([]),wt(!1),T(!1),h(!1)},500):(Se.length<5||Se.length===5&&bt)&&(h(!0),T(!1));return}S(0),T(c==="hallway"||c==="outside"),h(!1),H(""),p(!1),k([]),K(!1)},[c,Se.length,be,bt]);const am=()=>{if(c==="inside"){const d=ft[y];z?(H(d.text),p(!1)):(k(O=>[...O,d]),y<ft.length-1?S(y+1):(T(!1),h(!0)))}else z?(H(ft[y]),p(!1)):y<ft.length-1?S(y+1):(T(!1),h(!0))},Yd=()=>{T(!1),h(!0)},im=d=>{k(O=>[...O,{speaker:"user",text:d}]),S(y+1),K(!1)},om=()=>{if(Se.length===5&&!bt&&!be){Be(!0),Zt(0),fn([]),wt(!1),T(!1);return}if(jt.length===3&&bt){console.log("All rooftop tasks completed - show rooftop summary");return}},lm=d=>{fn(B=>[...B,{speaker:"user",text:d}]);const O=Ye+2;O>=sn.length?(Be(!1),hn(!0),aa(!0)):(Zt(O),wt(!1))},sm=d=>{if(fn(J=>[...J,{speaker:"user",text:d.text}]),!d.correct){new Audio("/sound/wrong.mp3").play().catch(Ce=>console.log("Wrong sound failed:",Ce)),gn(d.id),fn(Ce=>[...Ce,{speaker:"momo",text:"Try again! Think carefully about the answer.",isError:!0}]),wt(!0);return}new Audio("/sound/correct.wav").play().catch(J=>console.log("Correct sound failed:",J)),gn(null);let B=Ye+2;const ee=sn[B];ee&&ee.condition==="correct"&&!d.correct&&(B+=1),Zt(B),wt(!1)},rm=()=>{m("rooftop"),Be(!1)},Wd=()=>{En?(mn(!0),Bi(-1)):(mn(!0),Bi(0),ei([]),ia(""),Jn(!0),ti(!1)),Pt(!1)},cm=()=>{Ia?(Lt(!0),Yt(-1)):(Lt(!0),Yt(0),It(""),xn(!0),ra(!1))},um=()=>{Fd?(Kn(!0),za(-1)):(Kn(!0),za(0),pa(""),Pn(!0),po(!1))},dm=()=>{const d=bo[Ut];if(d.isButton&&d.startChallenge){const B=[...f1].sort(()=>Math.random()-.5).slice(0,2);Fi(B),ii(!0),ca(0),ua(120),nn([]),Bn(""),Wt(!1),Lt(!1);return}Ut<bo.length-1&&Yt(Ut+1)},pm=()=>{const d=vo[Xt];if(d.isButton&&d.startChallenge){x(!0),fo("snowPath"),C(0),Vr(0),Kn(!1);return}Xt<vo.length-1&&za(Xt+1)},Vr=d=>{const O=4+d,B=[];for(;B.length<O;){const ee=Math.floor(Math.random()*16);B.includes(ee)||B.push(ee)}Q(B),re([]),g(!0),R(15)},fm=d=>{if(le||V.includes(d))return;const O=[...V,d];re(O),F.includes(d)?(new Audio("/sound/correct.wav").play().catch(ee=>console.log("Sound play failed:",ee)),O.filter(ee=>F.includes(ee)).length===F.length&&setTimeout(()=>{q<2?(C(q+1),Vr(q+1)):(fo("footstepRecall"),Xe(0),Jr(0))},1e3)):(new Audio("/sound/wrong.mp3").play().catch(ee=>console.log("Sound play failed:",ee)),setTimeout(()=>{Vr(q)},1e3))},Jr=d=>{const O=3+d,B=[];for(let Ce=0;Ce<O;Ce++)B.push(Math.floor(Math.random()*6));pt(B),Rd([]),Hd(!0),Wr(-1);let ee=0;const J=()=>{ee<B.length?(Wr(B[ee]),new Audio("/sound/snowwav.wav").play().catch(Ot=>console.log("Sound play failed:",Ot)),setTimeout(()=>{Wr(-1),ee++,setTimeout(J,200)},700)):Hd(!1)};setTimeout(J,500)},gm=d=>{if(_d)return;const O=[...Bd,d];Rd(O);const B=Rn[O.length-1];if(d!==B){new Audio("/sound/wrong.mp3").play().catch(Ce=>console.log("Sound play failed:",Ce)),setTimeout(()=>{Jr(Te)},1e3);return}new Audio("/sound/correct.wav").play().catch(J=>console.log("Sound play failed:",J)),O.length===Rn.length&&setTimeout(()=>{Te<2?(Xe(Te+1),Jr(Te+1)):(x(!1),em(!0),console.log("NPC9 memory challenge completed, showing sharing dialogue in 1s"),setTimeout(()=>{console.log("Setting showNpc9Sharing to true"),Xr(!0)},1e3))},1e3)},Xd=()=>{if(Zn.trim()&&nt.length>0){const d=[...Mt,Zn.trim()];nn(d),Bn("");const O=nt[dt];d.length>=O.requiredCount&&setTimeout(()=>{dt<nt.length-1?(ca(dt+1),ua(120),nn([]),Wt(!1)):(ii(!1),yn(!0),setTimeout(()=>{Li(!0)},1e3))},500)}},hm=d=>{d.key==="Enter"&&Xd()},Qd=()=>{Qr.trim()&&(console.log("User asked Glitch:",Qr),qd(""))},mm=d=>{d.key==="Enter"&&Qd()},xm=()=>{(c==="inside"||c==="court"||c==="rooftop")&&Gd(!0)},ym=d=>{if(P)return;const O=[...M],B=O[v];B.completed||(B.element=d.name,B.result=d.image,B.completed=!0,Ma(O),ze(!0),new Audio("/sound/correct.wav").play().catch(J=>console.log("Sound play failed:",J)),setTimeout(()=>{ze(!1),v<1?U(1):(zt(!0),ct(J=>[...J,"npc6"]),setTimeout(()=>{Li(!1)},2e3))},2e3))},Vd=()=>{ms.trim()&&(Ud(!0),setTimeout(()=>{Xr(!1),Ud(!1),Ld(""),ct(d=>[...d,"npc9"])},2e3))},bm=d=>{d.key==="Enter"&&Vd()};u.useEffect(()=>{if(Je&&tn>0){const d=setTimeout(()=>{ua(tn-1)},1e3);return()=>clearTimeout(d)}else if(Je&&tn===0&&nt.length>0){const d=nt[dt];Mt.length<d.requiredCount&&setTimeout(()=>{ii(!1),yn(!1)},1e3)}},[Je,tn,nt,dt,Mt.length]);const vm=d=>{{Pt(!0),oa(1),wa(300),mn(!1),Ue(null),We(!1),la(""),pe(""),Ft(!0),jt.includes("npc5")||ct(O=>[...O,"npc5"]);return}},Jd=d=>d&&d.split(/(\bPink\b|\bGreen\b)/g).map((B,ee)=>B==="Pink"?o.jsx("span",{style:{color:"#ff69b4"},children:B},ee):B==="Green"?o.jsx("span",{style:{color:"#4ade80"},children:B},ee):B),Sm=(d,O)=>{zn!==null&&_n[Ve].options[zn].correct||(Ue(O),d.correct?(new Audio("/sound/correct.wav").play().catch(ee=>console.log("Sound play failed:",ee)),setTimeout(()=>{We(!0)},500)):(new Audio("/sound/wrong.mp3").play().catch(ee=>console.log("Sound play failed:",ee)),setTimeout(()=>{Ue(null)},1e3)))},Zd=()=>{On.trim()&&(pe(On),setTimeout(()=>{We(!1),la(""),pe(""),Ue(null),Ve===1?(oa(2),wa(300)):(console.log("Puzzle 2 completed, moving to exercises"),Pt(!1),mn(!1),ni(!0),ka(1),en([]),Me(!1),console.log("Exercise state set: showExercise=true, currentExercise=1"))},2e3))},Tm=()=>{const d=window.getSelection(),O=d.toString().trim();if(!O||!vt)return;const B=si[ut],ee=B.text;console.log("=== Text Selection Debug ==="),console.log("Selected text:",O),console.log("Selected text length:",O.length);let J=-1,Ce=-1;if(J=ee.indexOf(O),J!==-1)Ce=J+O.length,console.log("Found exact match at:",J,"-",Ce);else{console.log("No exact match found, trying normalized search");const Ze=O.replace(/\s+/g," ");J=ee.indexOf(Ze),J!==-1&&(Ce=J+Ze.length,console.log("Found normalized match at:",J,"-",Ce))}let Ot=!1;B.errors.forEach((Ze,dl)=>{if(At.includes(dl))return;console.log(`Checking error ${dl}:`,Ze.text,`(${Ze.start}-${Ze.end})`);const ep=O===Ze.text,tp=O.replace(/\s+/g," ")===Ze.text.replace(/\s+/g," ");let xs=!1;J!==-1&&Ce!==-1&&(xs=!(Ce<=Ze.start||J>=Ze.end),console.log(`  - Position overlap check: selection(${J}-${Ce}) vs error(${Ze.start}-${Ze.end}):`,xs));const np=O.includes(Ze.text),ap=Ze.text.includes(O)&&O.length>=3;if(console.log("  - Exact text match:",ep),console.log("  - Normalized match:",tp),console.log("  - Position overlap:",xs),console.log("  - Contains error:",np),console.log("  - Error contains selection:",ap),ep||tp||xs||np||ap){console.log(" Error matched!"),Ot=!0;const ip=[...At,dl];en(ip),new Audio("/sound/correct.wav").play().catch(Pr=>console.log("Sound play failed:",Pr)),ip.length===B.requiredCount&&(Me(!0),setTimeout(()=>{ut===1?(ka(2),en([]),Me(!1)):(ni(!1),Ft(!0),jt.includes("npc5")||ct(Pr=>[...Pr,"npc5"]))},2e3))}}),!Ot&&O.length>2&&(console.log(" No error matched - wrong selection"),new Audio("/sound/wrong.mp3").play().catch(dl=>console.log("Sound play failed:",dl))),console.log("=== End Debug ==="),d.removeAllRanges()};u.useEffect(()=>{if(Gt&&kt>=0&&kt<So.length){const d=So[kt];if(d.isButton){Jn(!1);return}const O=d.text;let B=0;ia(""),Jn(!0);const ee=setInterval(()=>{B<O.length?(ia(O.substring(0,B+1)),B++):(clearInterval(ee),Jn(!1),d.showButton?setTimeout(()=>{ti(!0)},500):d.autoAdvance&&setTimeout(()=>{kt<So.length-1&&Bi(kt+1)},800))},30);return()=>clearInterval(ee)}},[Gt,kt]),u.useEffect(()=>{if(sa&&Ut>=0&&Ut<bo.length){const d=bo[Ut];if(d.isButton){xn(!1);return}const O=d.text;let B=0;It(""),xn(!0);const ee=setInterval(()=>{B<O.length?(It(O.substring(0,B+1)),B++):(clearInterval(ee),xn(!1),d.showButton?setTimeout(()=>{ra(!0)},500):d.autoAdvance&&setTimeout(()=>{Ut<bo.length-1&&Yt(Ut+1)},800))},30);return()=>clearInterval(ee)}},[sa,Ut]),u.useEffect(()=>{if(Ge&&Xt>=0&&Xt<vo.length){const d=vo[Xt];if(d.isButton){Pn(!1);return}const O=d.text;let B=0;pa(""),Pn(!0);const ee=setInterval(()=>{B<O.length?(pa(O.substring(0,B+1)),B++):(clearInterval(ee),Pn(!1),d.showButton?setTimeout(()=>{po(!0)},500):d.autoAdvance&&setTimeout(()=>{Xt<vo.length-1&&za(Xt+1)},800))},30);return()=>clearInterval(ee)}},[Ge,Xt]),u.useEffect(()=>{if(st&&$t>0&&!rt){const d=setTimeout(()=>{wa($t-1)},1e3);return()=>clearTimeout(d)}else st&&$t===0&&setTimeout(()=>{Pt(!1),Ft(!1)},1e3)},[st,$t,rt]),u.useEffect(()=>{if(bn&&an==="snowPath"&&le&&D>0){const d=setTimeout(()=>{R(D-1)},1e3);return()=>clearTimeout(d)}else bn&&an==="snowPath"&&le&&D===0&&g(!1)},[bn,an,le,D]);const Zr=d=>{const O=Math.floor(d/60),B=d%60;return`${O.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`},Cm=d=>{Se.includes(d)||(X(d),$(1),tt(167))},wm=()=>{$(2),se(0),setTimeout(()=>se(1),500),setTimeout(()=>se(2),2e3),setTimeout(()=>se(3),3500)},Kd=d=>{if(d==="accepted"){new Audio("/sound/wrong.mp3").play().catch(ee=>console.log("Audio play failed:",ee)),ye(!0),setTimeout(()=>{ye(!1)},500);return}te(d),I(!0),new Audio("/sound/stamp.mp3").play().catch(B=>console.log("Audio play failed:",B)),ge(B=>[...B,Y]),setTimeout(()=>{I(!1),X(null),$(1),te(""),ye(!1)},2e3)},km=()=>{X(null),$(1)};u.useEffect(()=>{if(Y&&ne===1&&de>0){const d=setTimeout(()=>{tt(de-1)},1e3);return()=>clearTimeout(d)}},[Y,ne,de]);const jm=d=>{const O=Math.floor(d/60),B=d%60;return`${O.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`},Am=()=>{c==="court"?(m("inside"),T(!1),h(!1),Se.length):c==="rooftop"&&(m("inside"),mn(!1),Pt(!1),ni(!1),Lt(!1),setShowNpc6Creativity(!1),setShowNpc6CoCreation(!1),setShowNpc9Memory(!1),Xr(!1),Se.length)},Im=()=>{c==="hallway"?(G(!0),h(!1),T(!1),setTimeout(()=>{m("outside"),G(!1)},2e3)):c==="outside"?(m("inside"),h(!1),T(!1)):c==="inside"&&(m("court"),h(!1),T(!1))},Mm=()=>{if(j&&c==="hallway")return"/glacier/background/hallway.gif";switch(c){case"hallway":return"/glacier/background/hallway.png";case"outside":return"/glacier/background/outside.png";case"inside":return"/glacier/background/inside.png";case"court":return"/glacier/background/court.png";case"rooftop":return"/glacier/background/rooftop.png";default:return"/glacier/background/hallway.png"}},zm=()=>{switch(c){case"hallway":return"/glacier/icon/arrow1.png";case"outside":return"/glacier/icon/arrow2.png";default:return"/glacier/icon/arrow1.png"}},Om=()=>{switch(c){case"hallway":return{right:"350px",bottom:"10px"};case"outside":return{left:"300px",bottom:"0px"};case"inside":return{left:"30%",bottom:"0%"};default:return{right:"350px",bottom:"10px"}}},Kr=()=>{switch(c){case"hallway":return{left:"5px",bottom:"5px",size:"400px"};case"outside":return{right:"0px",top:"0px",size:"400px"};case"inside":return{right:"0px",top:"0px",size:"120px"};case"court":return{right:"0px",top:"0px",size:"120px"};case"rooftop":return{right:"0px",top:"0px",size:"120px"};default:return{left:"5px",bottom:"5px",size:"400px"}}},Dm=()=>({npc2:{right:"30%",bottom:"20%",height:"280px"},npc3:{left:"25%",bottom:"20%",height:"240px"},npc4:{right:"22%",bottom:"22%",height:"180px"},npc7:{left:"10px",bottom:"200px",height:"250px"},npc8:{right:"10px",bottom:"200px",height:"170px"}}),Pd=()=>c==="inside"?{right:"10%",bottom:"0%",height:"85%"}:null,$d=()=>{switch(c){case"hallway":return{left:"430px",bottom:"150px",width:"700px",minHeight:"200px"};case"outside":return{right:"430px",top:"150px",width:"500px",minHeight:"120px"};case"inside":return{right:"50%",top:"15%",width:"40%",height:"70%"};default:return{left:"430px",bottom:"150px",width:"700px",minHeight:"200px"}}},b={container:{width:"100vw",height:"100vh",position:"relative",overflow:"hidden"},backgroundImage:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0},exitButton:{position:"absolute",top:"20px",left:"20px",padding:"10px 20px",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.8)",background:"rgba(0, 0, 0, 0.3)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"14px",cursor:"pointer",zIndex:100,transition:"all 0.2s"},npc:{position:"absolute",zIndex:30,transition:"transform 0.2s",filter:"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3))"},npcImage:{width:"100%",height:"100%",objectFit:"contain"},glitchDialogue:{position:"absolute",top:"20px",right:"150px",padding:"20px",borderRadius:"20px",background:"rgba(255, 255, 255, 0.98)",border:"3px solid #af4dca",zIndex:1100,minWidth:"280px",maxWidth:"320px",boxShadow:"0 4px 20px rgba(175, 77, 202, 0.3)"},glitchDialogueHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px"},glitchDialogueAvatar:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#af4dca",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},glitchDialogueAvatarIcon:{fontSize:"24px"},glitchDialogueName:{fontFamily:"'Montserrat', sans-serif",fontSize:"16px",fontWeight:700,color:"#af4dca",margin:0},glitchDialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:"0 0 15px 0"},glitchDialogueInputContainer:{display:"flex",alignItems:"center",backgroundColor:"#d9d7de",borderRadius:"20px",border:"2px solid #d9d7de",overflow:"hidden",transition:"border-color 0.2s"},glitchDialogueInput:{flex:1,padding:"10px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#333",outline:"none"},glitchDialogueDivider:{width:"2px",height:"24px",backgroundColor:"#af4dca",margin:"0 8px",flexShrink:0},glitchDialogueSendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s",flexShrink:0},glitchDialogueSendIcon:{width:"24px",height:"24px",objectFit:"contain"},glitchDialogueCloseButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},dialogueContainer:{position:"absolute",zIndex:1e3,background:"rgba(240, 248, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"2px solid rgba(100, 149, 237, 0.5)",borderRadius:"25px",padding:"25px 30px",display:"flex",flexDirection:"column",boxShadow:"0 12px 40px rgba(0, 0, 0, 0.4), 0 0 30px rgba(100, 149, 237, 0.3), inset 0 2px 4px rgba(255, 255, 255, 0.5)",minWidth:"400px",maxWidth:"800px"},dialogueText:{fontFamily:"'Roboto', sans-serif",fontSize:"20px",fontWeight:500,color:"#1a1a1a",lineHeight:"1.5em",letterSpacing:"0.5px",margin:0,flex:1,textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},leftButton:{position:"absolute",top:"20px",left:"20px",width:"60px",height:"40px",border:"none",background:"transparent",cursor:"pointer",zIndex:100,transition:"all 0.2s"},leftButtonImage:{width:"100%",height:"100%",objectFit:"contain"},elevatorArrow:{position:"absolute",top:"300px",right:"900px",width:"300px",height:"215px",cursor:"pointer",zIndex:50,animation:"breathe 2s ease-in-out infinite",transition:"transform 0.2s"},npc5:{position:"absolute",bottom:"15%",right:"20%",width:"200px",height:"200px",cursor:"pointer",zIndex:50,transition:"transform 0.2s"},npc6:{position:"absolute",left:"0px",bottom:"250px",width:"250px",height:"270px",cursor:"pointer",zIndex:50,transition:"transform 0.2s"},npc6DialogueContainer:{position:"absolute",left:"calc(0px + 250px)",bottom:"350px",width:"550px",minHeight:"150px",background:"rgba(240, 248, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(100, 149, 237, 0.4)",borderRadius:"20px",padding:"25px 30px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 149, 237, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:1e3},npc6ContinueButton:{alignSelf:"flex-end",padding:"12px 24px",borderRadius:"10px",border:"1px solid rgba(100, 149, 237, 0.5)",background:"rgba(30, 30, 50, 0.9)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},npc5DialogueContainer:{position:"absolute",right:"calc(20% + 200px)",bottom:"15%",width:"500px",minHeight:"150px",background:"rgba(240, 248, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(100, 149, 237, 0.4)",borderRadius:"20px",padding:"25px 30px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 149, 237, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:1e3},npc5ContinueButton:{alignSelf:"flex-end",padding:"12px 24px",borderRadius:"10px",border:"1px solid rgba(100, 149, 237, 0.5)",background:"rgba(30, 30, 50, 0.9)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},puzzleContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85vw",maxWidth:"1400px",height:"75vh",background:"rgba(40, 40, 40, 0.95)",borderRadius:"20px",padding:"0",zIndex:2e3,color:"#fff",display:"flex",overflow:"hidden"},puzzleLeftPanel:{width:"33.33%",background:"rgba(20, 20, 20, 0.9)",padding:"30px 20px",display:"flex",flexDirection:"column",alignItems:"center",gap:"30px",position:"relative"},puzzleTimer:{fontSize:"32px",fontWeight:"bold",fontFamily:"'Roboto Mono', monospace",color:"#fff",background:"rgba(255, 255, 255, 0.1)",padding:"15px 30px",borderRadius:"50px",letterSpacing:"2px"},puzzleImageContainer:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},puzzleImage:{width:"100%",height:"auto",borderRadius:"10px"},puzzleRightPanel:{width:"66.67%",padding:"40px 50px",display:"flex",flexDirection:"column",overflowY:"auto"},puzzleTitle:{fontSize:"28px",fontWeight:"bold",marginBottom:"25px",textAlign:"left"},puzzleStatement:{fontSize:"20px",marginBottom:"15px",fontStyle:"italic",lineHeight:1.6,textAlign:"left"},puzzleQuestion:{fontSize:"22px",fontWeight:"bold",marginBottom:"25px",lineHeight:1.4,textAlign:"left"},puzzleOptions:{display:"flex",flexDirection:"column",gap:"15px",marginTop:"20px"},puzzleOption:{padding:"18px 25px",borderRadius:"10px",border:"2px solid #a0d8ff",borderStyle:"solid",borderWidth:"2px",borderColor:"#a0d8ff",background:"#1f2937",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",textAlign:"left",lineHeight:1.5,width:"100%",boxSizing:"border-box",display:"block",outline:"none"},puzzleOptionCorrect:{borderColor:"#4caf50",background:"#2e7d32"},puzzleOptionWrong:{background:"#c62828",borderColor:"#f44336"},creativityContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"900px",height:"650px",background:"rgba(40, 40, 40, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"20px",padding:"50px",zIndex:2e3,color:"#fff",display:"flex",flexDirection:"column",alignItems:"center"},creativityTimer:{fontSize:"60px",fontWeight:"bold",textAlign:"center",marginBottom:"30px",fontFamily:"'Roboto Mono', monospace",letterSpacing:"4px"},creativityTimerRed:{color:"#ff4444"},creativityTitle:{fontSize:"22px",fontWeight:"bold",textAlign:"center",marginBottom:"30px",lineHeight:1.5,color:"#ffffff"},creativityTagsContainer:{width:"100%",flex:1,display:"flex",flexWrap:"wrap",alignContent:"flex-start",gap:"12px",marginBottom:"20px",overflowY:"auto",padding:"10px 0"},creativityTag:{padding:"10px 20px",borderRadius:"20px",border:"none",fontSize:"16px",color:"#000",whiteSpace:"nowrap",fontWeight:"500"},creativityTagYellow:{background:"#f0d32d"},creativityTagRed:{background:"#ab3a2c"},creativityInputSection:{width:"100%",display:"flex",flexDirection:"column",gap:"15px",position:"relative"},creativityHintButton:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",color:"#a0d8ff",fontSize:"16px",cursor:"pointer",padding:"8px 0",fontWeight:"600",transition:"all 0.2s"},creativityHintIcon:{width:"20px",height:"20px"},creativityInputContainer:{position:"relative",display:"flex",alignItems:"center",backgroundColor:"#1f2937",borderRadius:"15px",border:"2px solid #a0d8ff",overflow:"hidden",transition:"border-color 0.2s"},creativityInput:{flex:1,padding:"15px 20px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#fff",outline:"none"},creativityDivider:{width:"2px",height:"24px",backgroundColor:"#a0d8ff",margin:"0 8px",flexShrink:0},creativitySendButton:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s"},creativitySendIcon:{width:"24px",height:"24px",objectFit:"contain"},creativityProgress:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",marginTop:"10px"},creativityProgressDot:{width:"12px",height:"12px",borderRadius:"50%",background:"#666566",transition:"all 0.3s"},creativityProgressDotActive:{background:"#a0d8ff"},creativityProgressText:{fontSize:"16px",fontWeight:"bold",color:"#a0d8ff",marginLeft:"10px"},coCreationContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"900px",height:"85vh",background:"rgba(60, 60, 60, 0.95)",backdropFilter:"blur(20px)",borderRadius:"20px",padding:"30px",zIndex:1e3,display:"flex",flexDirection:"column",gap:"20px"},coCreationDialogue:{background:"#fff",borderRadius:"15px",padding:"20px",display:"flex",alignItems:"center",gap:"15px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},coCreationInstruction:{textAlign:"center",color:"#a0d8ff",fontSize:"18px",marginBottom:"10px"},coCreationFormulasArea:{flex:1,display:"flex",flexDirection:"column",gap:"20px",justifyContent:"center"},coCreationFormula:{display:"flex",alignItems:"center",justifyContent:"center",gap:"20px"},coCreationCard:{width:"150px",height:"150px",background:"#fff",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)"},coCreationDropZone:{width:"200px",height:"80px",border:"3px dashed rgba(160, 216, 255, 0.5)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Roboto Mono', monospace",fontSize:"18px",color:"#fff"},coCreationResultCard:{width:"150px",height:"150px",background:"#f0d32d",border:"4px solid #a0d8ff",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)",animation:"shake 0.5s"},coCreationElementsArea:{display:"flex",flexWrap:"wrap",gap:"15px",justifyContent:"center",padding:"20px"},coCreationElementTag:{padding:"12px 24px",borderRadius:"25px",fontSize:"16px",fontFamily:"'Roboto Mono', monospace",color:"#fff",cursor:"pointer",transition:"all 0.2s",fontWeight:"500"},npc9SharingContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",maxWidth:"900px",maxHeight:"85vh",background:"rgba(80, 80, 80, 0.85)",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",borderRadius:"25px",padding:"40px",zIndex:2e3,display:"flex",flexDirection:"column",gap:"25px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",border:"1px solid rgba(255, 255, 255, 0.1)"},npc9SharingTitle:{textAlign:"center",color:"#fff",fontSize:"22px",marginBottom:"10px",fontWeight:"500"},npc9SharingMessage:{display:"flex",alignItems:"flex-start",gap:"15px",marginBottom:"10px"},npc9SharingBubble:{background:"#fff",borderRadius:"15px",padding:"20px",flex:1,fontSize:"16px",lineHeight:1.6,color:"#333",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},npc9SharingTimestamp:{fontSize:"12px",color:"#999",marginTop:"8px"},npc9SharingUserLabel:{textAlign:"right",fontSize:"12px",color:"#a0d8ff",marginBottom:"5px",fontWeight:"500"},npc9SharingHints:{display:"flex",gap:"10px",marginBottom:"10px",alignItems:"flex-start"},npc9SharingHintTag:{padding:"8px 16px",borderRadius:"20px",fontSize:"13px",background:"rgba(160, 216, 255, 0.15)",border:"1px solid rgba(160, 216, 255, 0.4)",color:"#a0d8ff",fontWeight:"500"},npc9SharingInputContainer:{display:"flex",alignItems:"center",gap:"15px",background:"rgba(30, 50, 70, 0.6)",borderRadius:"15px",padding:"12px 20px",border:"2px solid rgba(160, 216, 255, 0.4)"},npc9SharingInput:{flex:1,background:"none",border:"none",color:"#fff",fontSize:"16px",outline:"none",fontFamily:"'Roboto', sans-serif"},creativityHintModal:{position:"absolute",bottom:"100%",left:"0",width:"280px",background:"rgba(20, 30, 40, 0.95)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",borderRadius:"12px",padding:"15px",marginBottom:"15px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.6)",border:"1px solid rgba(160, 216, 255, 0.3)",zIndex:100},creativityHintHeader:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid rgba(160, 216, 255, 0.2)"},creativityHintTitle:{fontSize:"14px",fontWeight:"bold",color:"#a0d8ff",flex:1},creativityHintClose:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#a0d8ff",padding:"0",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},creativityHintContent:{color:"#fff",fontSize:"11px",lineHeight:1.4},creativityHintItem:{marginBottom:"10px",padding:"8px 10px",background:"rgba(160, 216, 255, 0.1)",border:"1px solid rgba(160, 216, 255, 0.3)",borderRadius:"8px",position:"relative"},creativityHintLabel:{fontWeight:"bold",color:"#a0d8ff",marginBottom:"4px",display:"block",fontSize:"10px"},progressContainer:{position:"absolute",bottom:"50px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"20px",zIndex:100,background:"rgba(255, 255, 255, 0.85)",padding:"15px 25px",borderRadius:"30px"},progressCircle:{width:"60px",height:"60px",borderRadius:"50%",border:"3px solid #ccc",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"bold",color:"#666",transition:"all 0.3s",background:"#fff"},progressCircleCompleted:{background:"#4CAF50",borderColor:"#4CAF50",color:"#fff"},courtNpc:{position:"absolute",cursor:"pointer",transition:"transform 0.2s",zIndex:50},caseModal:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(20, 20, 30, 0.95), rgba(20, 20, 30, 0.95)), linear-gradient(90deg, #5170FF, #FFBBC4)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"20px",padding:"30px",zIndex:2e3,boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},caseModalStep1:{width:"calc(50vw + 20px)",height:"70vh"},caseModalStep2:{width:"85vw",maxWidth:"1200px",height:"75vh",maxHeight:"650px",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"3px solid transparent",backgroundImage:"linear-gradient(rgba(20, 20, 30, 0.95), rgba(20, 20, 30, 0.95)), linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",borderRadius:"20px"},closeButton:{position:"absolute",top:"15px",right:"20px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#fff",zIndex:10},caseTitle:{fontSize:"20px",fontWeight:"bold",fontFamily:"'Orbitron', sans-serif",marginBottom:"20px",color:"#fff"},caseGifContainer:{position:"relative",width:"100%",marginBottom:"10px"},caseGif:{width:"100%",height:"auto",maxHeight:"50vh",objectFit:"contain",borderRadius:"10px",boxShadow:"inset 0 0 20px rgba(0, 0, 0, 0.3)"},caseTimer:{position:"absolute",top:"15px",right:"15px",fontFamily:"'Courier New', monospace",fontSize:"18px",fontWeight:"bold",color:"#fff",background:"rgba(0, 0, 0, 0.6)",padding:"8px 12px",borderRadius:"6px",letterSpacing:"2px"},nextButton:{position:"absolute",bottom:"15px",right:"30px",padding:"12px 30px",background:"rgba(255, 255, 255, 0.9)",color:"#333",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},step2Container:{position:"relative",height:"100%",width:"100%",display:"flex",padding:"30px 30px 20px 30px",gap:"30px"},step2LeftColumn:{width:"280px",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",flexShrink:0,position:"relative",overflow:"visible",minHeight:"500px"},step2RightColumn:{flex:1,display:"flex",flexDirection:"column",minHeight:0},caseHeader:{position:"absolute",top:"15px",left:"50%",transform:"translateX(-50%)",fontSize:"13px",color:"#d0d0d0",fontFamily:"'Orbitron', sans-serif",fontWeight:500,letterSpacing:"1.5px",textAlign:"center",whiteSpace:"nowrap"},statementTitle:{fontSize:"20px",fontWeight:700,color:"#ffffff",fontFamily:"'Orbitron', sans-serif",letterSpacing:"2px",marginBottom:"20px"},statementBox:{background:"rgba(230, 230, 230, 0.98)",borderRadius:"12px",padding:"20px 25px",fontFamily:"'Roboto Mono', monospace",fontSize:"14px",lineHeight:1.8,marginBottom:"20px",maxHeight:"180px",overflowY:"auto"},statementLine:{marginBottom:"10px",color:"#1a1a1a"},statementPrefix:{color:"#667eea",marginRight:"8px",fontWeight:700},verdictPending:{display:"flex",alignItems:"center",gap:"10px",margin:"20px 0",fontSize:"18px",fontFamily:"'Orbitron', sans-serif",fontWeight:700,color:"#5ba3ff",letterSpacing:"2px"},verdictIcon:{width:"28px",height:"28px",objectFit:"contain"},claimQuote:{fontSize:"20px",fontFamily:"'Michroma', sans-serif",fontStyle:"italic",fontWeight:700,color:"#f0f0f0",textAlign:"center",margin:"20px 0 30px 0",lineHeight:1.5,padding:"0 20px"},judgmentButtonsContainer:{display:"flex",justifyContent:"space-between",gap:"30px",marginTop:"auto"},approvedButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"15px",padding:"16px 45px",background:"rgba(76, 175, 80, 0.3)",border:"2px solid #4caf50",borderRadius:"12px",color:"#4caf50",fontSize:"20px",fontFamily:"'Orbitron', sans-serif",fontWeight:700,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 25px rgba(76, 175, 80, 0.5)",flex:1},rejectedButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"15px",padding:"16px 45px",background:"rgba(244, 67, 54, 0.3)",border:"2px solid #f44336",borderRadius:"12px",color:"#f44336",fontSize:"20px",fontFamily:"'Orbitron', sans-serif",fontWeight:700,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 25px rgba(244, 67, 54, 0.5)",flex:1},judgmentIcon:{width:"36px",height:"36px"},stampOverlay:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:3e3,width:"350px",height:"350px"},dialogueButtons:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"15px"},dialogueButton:{padding:"12px 24px",borderRadius:"10px",border:"1px solid rgba(100, 149, 237, 0.5)",background:"rgba(30, 30, 50, 0.9)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",color:"#fff",fontFamily:"'Roboto', sans-serif",fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.3s",boxShadow:"0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},skipButton:{padding:"8px 16px",borderRadius:"8px",border:"none",background:"transparent",color:"rgba(255, 255, 255, 0.6)",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},arrow:{position:"absolute",width:"300px",height:"300px",cursor:"pointer",zIndex:50,animation:"breathe 2s ease-in-out infinite",transition:"transform 0.2s"},arrowSmall:{position:"absolute",width:"350px",height:"350px",cursor:"pointer",zIndex:50,animation:"breathe 2s ease-in-out infinite",transition:"transform 0.2s"},arrowImage:{width:"100%",height:"100%",objectFit:"contain"},keyframes:`
      @keyframes breathe {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
      }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
        20%, 40%, 60%, 80% { transform: translateX(10px); }
      }
    `,modernDialogueContainer:{position:"absolute",top:"12.5%",left:"10%",width:"40%",height:"70%",zIndex:100,background:"rgba(245, 245, 245, 0.98)",borderRadius:"15px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},modernDialogueHeader:{padding:"20px 25px 15px 25px",borderBottom:"none"},modernProgressContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},modernMissionTitle:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:700,textTransform:"uppercase",letterSpacing:"1px"},modernStepIndicator:{fontFamily:"'Roboto', sans-serif",fontSize:"13px",color:"#999"},modernProgressBar:{width:"100%",height:"4px",backgroundColor:"rgba(200,200,200,0.3)",borderRadius:"2px",overflow:"hidden",marginBottom:"20px"},modernProgressFill:{height:"100%",borderRadius:"2px",transition:"width 0.3s ease"},modernNpcInfo:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"15px",flex:1},modernNpcAvatar:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",border:"2px solid white",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"},modernNpcName:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",fontWeight:700,color:"#333"},modernNpcStatus:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",color:"#999"},modernCloseButton:{position:"relative",background:"none",border:"none",fontSize:"20px",color:"#999",cursor:"pointer",padding:"5px",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flexShrink:0},modernDialogueContent:{flex:1,padding:"0 25px 25px 25px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"12px"},modernNpcMessage:{alignSelf:"flex-start",maxWidth:"100%"},modernNpcSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},modernNpcText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#333",lineHeight:1.6,margin:0},modernTimestamp:{fontFamily:"'Roboto', sans-serif",fontSize:"11px",color:"#999",marginTop:"4px"},modernUserMessage:{alignSelf:"flex-end",maxWidth:"85%"},modernUserBubble:{background:"#333333",padding:"12px 18px",borderRadius:"18px",boxShadow:"0 2px 6px rgba(51, 51, 51, 0.3)"},modernUserText:{fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"white",lineHeight:1.5,margin:0},modernUserSpeaker:{fontFamily:"'Roboto', sans-serif",fontSize:"12px",fontWeight:700,color:"#666",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px",textAlign:"right"},modernActionButton:{alignSelf:"stretch",background:"white",border:"2px solid #E0E0E0",borderRadius:"25px",padding:"14px 20px",fontFamily:"'Roboto', sans-serif",fontSize:"14px",fontWeight:500,color:"#333",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"10px",boxShadow:"0 2px 6px rgba(0,0,0,0.08)",marginTop:"8px"}};return o.jsxs("div",{style:b.container,children:[o.jsx("style",{children:b.keyframes}),o.jsx("img",{src:Mm(),alt:"Glacier Background",style:b.backgroundImage}),c==="court"||c==="rooftop"?o.jsx("button",{style:b.leftButton,onClick:Am,onMouseOver:d=>d.target.style.transform="scale(1.1)",onMouseOut:d=>d.target.style.transform="scale(1)",children:o.jsx("img",{src:"/jungle/icon/left.png",alt:"Left",style:b.leftButtonImage})}):o.jsx("button",{style:b.exitButton,onClick:e,onMouseOver:d=>{d.target.style.background="rgba(0, 0, 0, 0.5)",d.target.style.transform="scale(1.05)"},onMouseOut:d=>{d.target.style.background="rgba(0, 0, 0, 0.3)",d.target.style.transform="scale(1)"},children:t("exit")}),o.jsx("div",{style:{...b.npc,...Kr(),width:Kr().size,height:Kr().size,cursor:c==="inside"||c==="court"||c==="rooftop"?"pointer":"default"},onClick:xm,onMouseOver:d=>{(c==="inside"||c==="court"||c==="rooftop")&&(d.currentTarget.style.transform="scale(1.05)")},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:"/npc/npc_glacier.gif",alt:"Glitch",style:b.npcImage})}),nm&&(c==="inside"||c==="court"||c==="rooftop")&&o.jsxs("div",{style:b.glitchDialogue,children:[o.jsx("button",{style:b.glitchDialogueCloseButton,onClick:()=>Gd(!1),onMouseOver:d=>{d.target.style.color="#333",d.target.style.transform="scale(1.1)"},onMouseOut:d=>{d.target.style.color="#999",d.target.style.transform="scale(1)"},children:""}),o.jsxs("div",{style:b.glitchDialogueHeader,children:[o.jsx("div",{style:b.glitchDialogueAvatar,children:o.jsx("span",{style:b.glitchDialogueAvatarIcon,children:""})}),o.jsx("h4",{style:b.glitchDialogueName,children:"Glitch"})]}),o.jsxs("p",{style:b.glitchDialogueText,children:[c==="inside"&&"The machines are sleeping, but the truth is awake. Ask me anything about this station.",c==="court"&&"Justice is not always black and white. Sometimes it's about responsibility.",c==="rooftop"&&"They forgot how to think for themselves. Can you help them remember?"]}),o.jsxs("div",{style:b.glitchDialogueInputContainer,onFocus:d=>{d.currentTarget.style.borderColor="#af4dca"},onBlur:d=>{d.currentTarget.style.borderColor="#d9d7de"},children:[o.jsx("input",{type:"text",placeholder:"Ask Glitch anything...",value:Qr,onChange:d=>qd(d.target.value),onKeyPress:mm,style:b.glitchDialogueInput}),o.jsx("div",{style:b.glitchDialogueDivider}),o.jsx("button",{onClick:Qd,style:b.glitchDialogueSendButton,onMouseOver:d=>{d.currentTarget.style.transform="scale(1.1)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:"/icon/send.png",alt:"Send",style:b.glitchDialogueSendIcon})})]})]}),c==="inside"&&Pd()&&o.jsx("div",{style:{position:"absolute",zIndex:30,cursor:yt?"default":"pointer",...Pd()},onClick:om,onMouseOver:d=>{yt||(d.currentTarget.style.transform="scale(1.05)")},onMouseOut:d=>d.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/glacier/npc/momo.png",alt:"Momo",style:{width:"100%",height:"100%",objectFit:"contain"}})}),w&&ft.length>0&&c!=="inside"&&o.jsxs("div",{style:{...b.dialogueContainer,...$d()},children:[o.jsx("p",{style:b.dialogueText,dangerouslySetInnerHTML:{__html:A.replace(/^(Brrr[^.]*\.)/g,'<span style="font-weight: 700; color: #4A90E2;">$1</span>').replace(/^(Huh\?[^.]*\.)/g,'<span style="font-weight: 700; color: #E24A4A;">$1</span>').replace(/^(Honestly[^.]*\.)/g,'<span style="font-weight: 700; color: #9B59B6;">$1</span>')}}),z&&o.jsx("span",{style:{opacity:.5,marginLeft:"4px"},children:"|"}),o.jsxs("div",{style:b.dialogueButtons,children:[o.jsx("button",{style:b.skipButton,onClick:Yd,onMouseOver:d=>{d.target.style.color="rgba(255, 255, 255, 0.9)",d.target.style.transform="scale(1.05)"},onMouseOut:d=>{d.target.style.color="rgba(255, 255, 255, 0.6)",d.target.style.transform="scale(1)"},children:"SKIP"}),o.jsx("button",{style:b.dialogueButton,onClick:am,onMouseOver:d=>{d.target.style.background="rgba(50, 50, 80, 0.95)",d.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",d.target.style.transform="scale(1.05)"},onMouseOut:d=>{d.target.style.background="rgba(30, 30, 50, 0.9)",d.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",d.target.style.transform="scale(1)"},children:"CONTINUE"})]})]}),c==="inside"&&w&&!be&&(()=>{const d=i("momo"),O=3,B=1,ee=B/O*100;return o.jsxs("div",{style:{...b.modernDialogueContainer,...$d(),border:`3px solid ${d.borderColor}`},children:[o.jsxs("div",{style:b.modernDialogueHeader,children:[o.jsxs("div",{style:b.modernProgressContainer,children:[o.jsx("div",{style:{...b.modernMissionTitle,color:d.borderColor},children:"MISSION: SILENT GEAR STATION"}),o.jsxs("div",{style:b.modernStepIndicator,children:["Step ",B," of ",O]})]}),o.jsx("div",{style:b.modernProgressBar,children:o.jsx("div",{style:{...b.modernProgressFill,width:`${ee}%`,background:d.progressColor}})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{style:b.modernNpcInfo,children:[o.jsx("img",{src:d.avatar,alt:"Momo",style:b.modernNpcAvatar}),o.jsxs("div",{children:[o.jsx("div",{style:b.modernNpcName,children:"Momo"}),o.jsx("div",{style:b.modernNpcStatus,children:"Station Supervisor"})]})]}),o.jsx("button",{style:b.modernCloseButton,onClick:Yd,onMouseOver:J=>J.target.style.color="#333",onMouseOut:J=>J.target.style.color="#999",children:""})]})]}),o.jsxs("div",{style:b.modernDialogueContent,children:[Z.map((J,Ce)=>{const Ot=a();return J.speaker==="momo"?o.jsxs("div",{style:b.modernNpcMessage,children:[o.jsx("div",{style:b.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:b.modernNpcText,dangerouslySetInnerHTML:{__html:J.text.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${d.borderColor}; font-weight: 600;">$1</span>`)}}),o.jsx("div",{style:b.modernTimestamp,children:Ot})]},Ce):J.speaker==="user"?o.jsxs("div",{style:b.modernUserMessage,children:[o.jsx("div",{style:b.modernUserSpeaker,children:"YOU:"}),o.jsx("div",{style:{...b.modernUserBubble,background:d.borderColor},children:o.jsx("p",{style:b.modernUserText,children:J.text})}),o.jsx("div",{style:{...b.modernTimestamp,textAlign:"right"},children:Ot})]},Ce):null}),!W&&o.jsxs("div",{style:b.modernNpcMessage,children:[o.jsx("div",{style:b.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:b.modernNpcText,dangerouslySetInnerHTML:{__html:A.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${d.borderColor}; font-weight: 600;">$1</span>`)}}),z&&o.jsx("span",{style:{opacity:.5},children:"|"}),o.jsx("div",{style:b.modernTimestamp,children:a()})]}),W&&ft[y]&&ft[y].isButton&&o.jsxs("button",{style:b.modernActionButton,onClick:()=>im(ft[y].text),onMouseOver:J=>{J.target.style.borderColor=d.borderColor,J.target.style.transform="translateX(5px)"},onMouseOut:J=>{J.target.style.borderColor="#E0E0E0",J.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:d.borderColor},children:""}),ft[y].text]})]})]})})(),c==="court"&&o.jsx(o.Fragment,{children:Object.entries(Dm()).map(([d,O])=>o.jsx("div",{style:{...b.courtNpc,...O,height:O.height,opacity:Se.includes(d)?.5:1},onClick:()=>Cm(d),onMouseOver:B=>!Se.includes(d)&&(B.currentTarget.style.transform="scale(1.05)"),onMouseOut:B=>B.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:ea[d].npcImage,alt:d,style:{width:"100%",height:"100%",objectFit:"contain"}})},d))}),c==="court"&&o.jsx("div",{style:b.progressContainer,children:["npc2","npc3","npc4","npc7","npc8"].map((d,O)=>o.jsx("div",{style:{...b.progressCircle,...Se.includes(d)?b.progressCircleCompleted:{}},children:Se.includes(d)?"":"?"},d))}),c==="rooftop"&&o.jsx("div",{style:b.progressContainer,children:["npc5","npc6","npc9"].map((d,O)=>o.jsx("div",{style:{...b.progressCircle,...jt.includes(d)?b.progressCircleCompleted:{}},children:jt.includes(d)?"":"?"},d))}),Y&&o.jsxs("div",{style:{...b.caseModal,...ne===1?b.caseModalStep1:b.caseModalStep2},children:[o.jsx("button",{style:b.closeButton,onClick:km,children:""}),ne===1?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:b.caseTitle,children:ea[Y].eventDescription}),o.jsxs("div",{style:b.caseGifContainer,children:[o.jsx("img",{src:ea[Y].gif,alt:"Case Event",style:b.caseGif}),o.jsx("div",{style:b.caseTimer,children:jm(de)})]}),o.jsx("button",{style:b.nextButton,onClick:wm,onMouseOver:d=>{d.target.style.background="rgba(255, 255, 255, 1)",d.target.style.transform="scale(1.05)"},onMouseOut:d=>{d.target.style.background="rgba(255, 255, 255, 0.9)",d.target.style.transform="scale(1)"},children:"NEXT"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:b.caseHeader,children:[t("language")==="zh"?"":"Case"," #",ea[Y].caseNumber,"  ",t("language")==="zh"?ea[Y].caseTitle.zh:ea[Y].caseTitle.en]}),o.jsxs("div",{style:b.step2Container,children:[o.jsxs("div",{style:b.step2LeftColumn,children:[o.jsx("img",{src:ea[Y].npcImage,alt:Y,style:{width:"auto",height:"500px",maxWidth:"none",objectFit:"contain"}}),o.jsx("div",{style:{fontSize:"13px",color:"#e0e0e0",fontFamily:"'Orbitron', sans-serif",fontWeight:400,textAlign:"center",lineHeight:1.6,padding:"0 10px",marginTop:"10px",width:"260px"},children:t("language")==="zh"?ea[Y].npcRole.zh:ea[Y].npcRole.en})]}),o.jsxs("div",{style:b.step2RightColumn,children:[o.jsx("div",{style:b.statementTitle,children:"NPC STATEMENT"}),o.jsx("div",{style:b.statementBox,children:ea[Y].statementParts.map((d,O)=>o.jsxs("div",{style:{...b.statementLine,opacity:ae>O?1:0,transform:ae>O?"translateY(0)":"translateY(10px)",transition:"all 0.5s ease"},children:[o.jsx("span",{style:b.statementPrefix,children:">"}),d]},O))}),ae>=3&&o.jsxs("div",{style:b.verdictPending,children:[o.jsx("img",{src:"/glacier/icon/statement.png",alt:"Verdict",style:b.verdictIcon}),"[VERDICT PENDING]"]}),ae>=3&&o.jsxs("div",{style:b.claimQuote,children:['"',ea[Y].claim,'"']}),ae>=3&&o.jsxs("div",{style:b.judgmentButtonsContainer,children:[o.jsxs("button",{style:{...b.approvedButton,animation:_?"shake 0.5s":"none"},onClick:()=>Kd("accepted"),onMouseOver:d=>{_||(d.currentTarget.style.boxShadow="0 0 45px rgba(76, 175, 80, 0.7)",d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.background="rgba(76, 175, 80, 0.4)")},onMouseOut:d=>{_||(d.currentTarget.style.boxShadow="0 0 25px rgba(76, 175, 80, 0.5)",d.currentTarget.style.transform="scale(1)",d.currentTarget.style.background="rgba(76, 175, 80, 0.3)")},children:[o.jsx("img",{src:"/desert/icon/correct.png",alt:"Approved",style:b.judgmentIcon}),"APPROVED"]}),o.jsxs("button",{style:b.rejectedButton,onClick:()=>Kd("rejected"),onMouseOver:d=>{d.currentTarget.style.boxShadow="0 0 45px rgba(244, 67, 54, 0.7)",d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.background="rgba(244, 67, 54, 0.4)"},onMouseOut:d=>{d.currentTarget.style.boxShadow="0 0 25px rgba(244, 67, 54, 0.5)",d.currentTarget.style.transform="scale(1)",d.currentTarget.style.background="rgba(244, 67, 54, 0.3)"},children:[o.jsx("img",{src:"/desert/icon/wrong.png",alt:"Rejected",style:b.judgmentIcon}),"REJECTED"]})]})]})]})]})]}),L&&o.jsx("img",{src:`/glacier/icon/${N}.png`,alt:N,style:b.stampOverlay}),be&&(()=>{const d=i("momo"),O=3,B=2,ee=B/O*100;return o.jsxs("div",{style:{...b.modernDialogueContainer,border:`3px solid ${d.borderColor}`},children:[o.jsxs("div",{style:b.modernDialogueHeader,children:[o.jsxs("div",{style:b.modernProgressContainer,children:[o.jsx("div",{style:{...b.modernMissionTitle,color:d.borderColor},children:"MISSION: AI ETHICS PRINCIPLES"}),o.jsxs("div",{style:b.modernStepIndicator,children:["Step ",B," of ",O]})]}),o.jsx("div",{style:b.modernProgressBar,children:o.jsx("div",{style:{...b.modernProgressFill,width:`${ee}%`,background:d.progressColor}})}),o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:o.jsxs("div",{style:b.modernNpcInfo,children:[o.jsx("img",{src:d.avatar,alt:"Momo",style:b.modernNpcAvatar}),o.jsxs("div",{children:[o.jsx("div",{style:b.modernNpcName,children:"Momo"}),o.jsx("div",{style:b.modernNpcStatus,children:"Station Supervisor"})]})]})})]}),o.jsxs("div",{style:b.modernDialogueContent,children:[Pa.map((J,Ce)=>{const Ot=a();return J.speaker==="momo"?o.jsxs("div",{style:b.modernNpcMessage,children:[o.jsx("div",{style:b.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:b.modernNpcText,dangerouslySetInnerHTML:{__html:J.text.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${d.borderColor}; font-weight: 600;">$1</span>`)}}),o.jsx("div",{style:b.modernTimestamp,children:Ot})]},Ce):J.speaker==="user"?o.jsxs("div",{style:b.modernUserMessage,children:[o.jsx("div",{style:b.modernUserSpeaker,children:"YOU:"}),o.jsx("div",{style:{...b.modernUserBubble,background:d.borderColor},children:o.jsx("p",{style:b.modernUserText,children:J.text})}),o.jsx("div",{style:{...b.modernTimestamp,textAlign:"right"},children:Ot})]},Ce):J.isError?o.jsxs("div",{style:b.modernNpcMessage,children:[o.jsx("div",{style:b.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:{...b.modernNpcText,padding:"12px 16px",background:"#f8d7da",borderRadius:"10px",border:"2px solid #dc3545"},children:J.text}),o.jsx("div",{style:b.modernTimestamp,children:Ot})]},Ce):null}),sn[Ye]&&sn[Ye].speaker!=="quiz"&&!sn[Ye].isButton&&o.jsxs("div",{style:b.modernNpcMessage,children:[o.jsx("div",{style:b.modernNpcSpeaker,children:"MOMO:"}),o.jsx("p",{style:b.modernNpcText,dangerouslySetInnerHTML:{__html:Ta.replace(/\*\*(.*?)\*\*/g,`<span style="color: ${d.borderColor}; font-weight: 600;">$1</span>`)}}),Ka&&o.jsx("span",{style:{opacity:.5},children:"|"}),o.jsx("div",{style:b.modernTimestamp,children:a()})]}),$a&&sn[Ye+1]&&sn[Ye+1].speaker==="quiz"&&o.jsx("div",{style:{width:"100%",marginTop:"10px"},children:sn[Ye+1].options.map((J,Ce)=>{const Ot=Kt===J.id;return o.jsxs("button",{style:{...b.modernActionButton,borderColor:Ot?"#F44336":"#E0E0E0",borderWidth:Ot?"3px":"2px"},onClick:()=>sm(J),onMouseOver:Ze=>{Ot||(Ze.target.style.borderColor=d.borderColor),Ze.target.style.transform="translateX(5px)"},onMouseOut:Ze=>{Ot?Ze.target.style.borderColor="#F44336":Ze.target.style.borderColor="#E0E0E0",Ze.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:Ot?"#F44336":d.borderColor},children:""}),J.text]},Ce)})}),$a&&sn[Ye+1]&&sn[Ye+1].isButton&&o.jsxs("button",{style:b.modernActionButton,onClick:()=>lm(sn[Ye+1].text),onMouseOver:J=>{J.target.style.borderColor=d.borderColor,J.target.style.transform="translateX(5px)"},onMouseOut:J=>{J.target.style.borderColor="#E0E0E0",J.target.style.transform="translateX(0)"},children:[o.jsx("span",{style:{fontSize:"16px",color:d.borderColor},children:""}),sn[Ye+1].text]})]})]})})(),yt&&c==="inside"&&o.jsx("div",{style:b.elevatorArrow,onClick:rm,onMouseOver:d=>d.target.style.transform="scale(1.1)",onMouseOut:d=>d.target.style.transform="scale(1)",children:o.jsx("img",{src:"/glacier/icon/arrow3.png",alt:"Elevator Arrow",style:{width:"100%",height:"100%",objectFit:"contain"}})}),c==="rooftop"&&o.jsx("div",{style:b.npc5,onClick:()=>{(!En||!st)&&Wd()},onMouseOver:()=>{!Gt&&!En&&!st&&Wd()},children:o.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer"}})}),c==="rooftop"&&o.jsx("div",{style:b.npc6,onMouseOver:()=>{!sa&&!Ia&&cm()},children:o.jsx("img",{src:"/glacier/npc/npc6.png",alt:"NPC 6",style:{width:"100%",height:"100%",objectFit:"contain"}})}),Gt&&o.jsx("div",{style:b.npc5DialogueContainer,children:kt===-1?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{marginBottom:"15px",flex:1},children:o.jsx("div",{style:b.dialogueText,children:"Oh, hello again! You know, my brain feels... awake."})}),o.jsx("button",{style:b.npc5ContinueButton,onClick:()=>mn(!1),onMouseOver:d=>{d.target.style.background="rgba(50, 50, 80, 0.95)",d.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",d.target.style.transform="scale(1.05)"},onMouseOut:d=>{d.target.style.background="rgba(30, 30, 50, 0.9)",d.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",d.target.style.transform="scale(1)"},children:"CLOSE"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{marginBottom:"20px",flex:1},children:kt<So.length&&!So[kt].isButton&&o.jsx("div",{style:b.dialogueText,children:Ca})}),Ri&&o.jsx("button",{style:{padding:"15px 40px",background:"rgba(30, 30, 50, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},onClick:()=>vm(),onMouseOver:d=>{d.target.style.background="rgba(50, 50, 80, 0.9)",d.target.style.transform="scale(1.05)",d.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)"},onMouseOut:d=>{d.target.style.background="rgba(30, 30, 50, 0.85)",d.target.style.transform="scale(1)",d.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.3)"},children:So[5].text})]})}),sa&&o.jsx("div",{style:b.npc6DialogueContainer,children:Ut===-1?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{marginBottom:"15px",flex:1},children:o.jsx("div",{style:b.dialogueText,children:"Thank you... I can feel it coming back. The spark. The vision. My hands remember now."})}),o.jsx("button",{style:b.npc6ContinueButton,onClick:()=>Lt(!1),onMouseOver:d=>{d.target.style.background="rgba(50, 50, 80, 0.95)",d.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",d.target.style.transform="scale(1.05)"},onMouseOut:d=>{d.target.style.background="rgba(30, 30, 50, 0.9)",d.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",d.target.style.transform="scale(1)"},children:"CLOSE"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{marginBottom:"20px",flex:1},children:o.jsx("div",{style:b.dialogueText,children:_i})}),ja&&o.jsx("button",{style:{padding:"15px 40px",background:"rgba(30, 30, 50, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},onClick:dm,onMouseOver:d=>{d.target.style.background="rgba(50, 50, 80, 0.9)",d.target.style.transform="scale(1.05)",d.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)"},onMouseOut:d=>{d.target.style.background="rgba(30, 30, 50, 0.85)",d.target.style.transform="scale(1)",d.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.3)"},children:bo[4].text})]})}),Je&&nt.length>0&&o.jsxs("div",{style:b.creativityContainer,children:[o.jsx("div",{style:{...b.creativityTimer,...tn<15?b.creativityTimerRed:{}},children:Zr(tn)}),o.jsx("div",{style:b.creativityTitle,children:nt[dt].en.split(/(mobile phones|5 different ways)/gi).map((B,ee)=>B.toLowerCase()==="mobile phones"||B.toLowerCase()==="5 different ways"?o.jsx("span",{style:{color:"#a0d8ff"},children:B},ee):o.jsx("span",{children:B},ee))}),o.jsx("div",{style:b.creativityTagsContainer,children:Mt.map((d,O)=>o.jsx("div",{style:{...b.creativityTag,...O%2===0?b.creativityTagYellow:b.creativityTagRed},children:d},O))}),o.jsxs("div",{style:b.creativityInputSection,children:[Aa&&nt.length>0&&o.jsxs("div",{style:b.creativityHintModal,children:[o.jsxs("div",{style:b.creativityHintHeader,children:[o.jsx("svg",{style:{width:"16px",height:"16px"},viewBox:"0 0 24 24",fill:"#a0d8ff",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),o.jsx("span",{style:b.creativityHintTitle,children:"Hint"}),o.jsx("button",{style:b.creativityHintClose,onClick:()=>Wt(!1),onMouseOver:d=>d.currentTarget.style.opacity="0.7",onMouseOut:d=>d.currentTarget.style.opacity="1",children:""})]}),o.jsx("div",{style:b.creativityHintContent,children:nt[dt].hints.en.map((d,O)=>o.jsxs("div",{style:b.creativityHintItem,children:[o.jsxs("span",{style:b.creativityHintLabel,children:["Prompt ",O+1,":"]}),o.jsx("div",{style:{fontSize:"11px"},children:d})]},O))})]}),o.jsxs("button",{style:b.creativityHintButton,onClick:()=>Wt(!0),onMouseOver:d=>d.currentTarget.style.opacity="0.8",onMouseOut:d=>d.currentTarget.style.opacity="1",children:[o.jsx("svg",{style:b.creativityHintIcon,viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),"Hint"]}),o.jsxs("div",{style:b.creativityInputContainer,children:[o.jsx("input",{type:"text",value:Zn,onChange:d=>Bn(d.target.value),onKeyPress:hm,placeholder:"Typing here...",style:b.creativityInput,autoFocus:!0}),o.jsx("div",{style:b.creativityDivider}),o.jsx("button",{style:b.creativitySendButton,onClick:Xd,onMouseOver:d=>d.currentTarget.style.transform="scale(1.1)",onMouseOut:d=>d.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/glacier/icon/send.png",alt:"Send",style:b.creativitySendIcon})})]}),o.jsxs("div",{style:b.creativityProgress,children:[Array.from({length:nt[dt].requiredCount}).map((d,O)=>o.jsx("div",{style:{...b.creativityProgressDot,...O<Mt.length?b.creativityProgressDotActive:{}}},O)),o.jsxs("span",{style:b.creativityProgressText,children:[Mt.length,"/",nt[dt].requiredCount]})]})]})]}),oi&&o.jsxs("div",{style:b.coCreationContainer,children:[o.jsx("style",{children:`
            @keyframes shake {
              0%, 100% { transform: translateX(0); }
              25% { transform: translateX(-5px) rotate(-2deg); }
              75% { transform: translateX(5px) rotate(2deg); }
            }
          `}),!ie&&!M[0].completed&&o.jsxs("div",{style:b.coCreationDialogue,children:[o.jsx("img",{src:"/glacier/npc/npc6.png",alt:"NPC6",style:{width:"80px",height:"80px"}}),o.jsx("div",{style:{flex:1},children:o.jsx("p",{style:{margin:0,color:"#333",fontSize:"16px",lineHeight:1.5},children:"Thanks! My brain is starting to unfreeze. I need to design a 'Creative Ice Cream,' but I'm stuck with this boring Vanilla."})}),o.jsx("img",{src:"/glacier/mission/cream.png",alt:"Ice Cream",style:{width:"60px",height:"60px"}})]}),ie&&o.jsxs("div",{style:b.coCreationDialogue,children:[o.jsx("img",{src:"/glacier/npc/npc6.png",alt:"NPC6",style:{width:"80px",height:"80px"}}),o.jsx("div",{style:{flex:1},children:o.jsx("p",{style:{margin:0,color:"#4caf50",fontSize:"18px",fontWeight:"bold",lineHeight:1.5},children:"Wow! That's a brilliant idea! It looks amazing!"})})]}),o.jsx("div",{style:b.coCreationInstruction,children:"Drag an element below to create a cool new ice cream flavor!"}),o.jsx("div",{style:b.coCreationFormulasArea,children:M.map((d,O)=>o.jsxs("div",{style:{...b.coCreationFormula,opacity:O===0||O===v?1:.5},children:[o.jsx("div",{style:b.coCreationCard,children:o.jsx("img",{src:"/glacier/mission/cream.png",alt:"Ice Cream",style:{width:"100px",height:"100px"}})}),o.jsx("img",{src:"/glacier/icon/add.png",alt:"+",style:{width:"40px",height:"40px"}}),d.element?o.jsx("div",{style:b.coCreationDropZone,children:d.element}):o.jsx("div",{style:b.coCreationDropZone,children:"Drop Here"}),o.jsx("img",{src:"/glacier/icon/equal.png",alt:"=",style:{width:"40px",height:"40px"}}),d.result?o.jsx("div",{style:b.coCreationResultCard,children:o.jsx("img",{src:d.result,alt:"Result",style:{width:"120px",height:"120px"}})}):o.jsx("div",{style:{...b.coCreationCard,border:"3px dashed rgba(160, 216, 255, 0.5)",background:"transparent"},children:o.jsx("img",{src:"/glacier/icon/picture.png",alt:"?",style:{width:"60px",height:"60px",opacity:.5}})})]},O))}),o.jsx("div",{style:b.coCreationElementsArea,children:g1.map((d,O)=>o.jsx("button",{onClick:()=>ym(d),style:{...b.coCreationElementTag,background:O%2===0?"#f0d32d":"#ab3a2c",opacity:P?.5:1,cursor:P?"default":"pointer"},onMouseOver:B=>{P||(B.currentTarget.style.transform="scale(1.1)")},onMouseOut:B=>{B.currentTarget.style.transform="scale(1)"},disabled:P,children:d.name},d.id))})]}),c==="rooftop"&&o.jsx("div",{style:{position:"absolute",top:"150px",left:"750px",width:"200px",height:"200px",cursor:"pointer",zIndex:50,transition:"transform 0.2s"},onMouseOver:()=>{!Ge&&!Fd&&um()},children:o.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC 9",style:{width:"100%",height:"100%",objectFit:"contain"}})}),Ge&&o.jsx("div",{style:{position:"absolute",left:"calc(750px + 200px)",top:"150px",width:"550px",minHeight:"150px",background:"rgba(240, 248, 255, 0.8)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(100, 149, 237, 0.4)",borderRadius:"20px",padding:"25px 30px",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 149, 237, 0.2), inset 0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:1e3},children:Xt===-1?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{marginBottom:"15px",flex:1},children:o.jsx("div",{style:b.dialogueText,children:"Wow! My brain feels... rebooted! I can focus again. Thank you!"})}),o.jsx("button",{style:b.npc6ContinueButton,onClick:()=>Kn(!1),onMouseOver:d=>{d.target.style.background="rgba(50, 50, 80, 0.95)",d.target.style.boxShadow="0 0 25px rgba(100, 149, 237, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15)",d.target.style.transform="scale(1.05)"},onMouseOut:d=>{d.target.style.background="rgba(30, 30, 50, 0.9)",d.target.style.boxShadow="0 0 15px rgba(100, 149, 237, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1)",d.target.style.transform="scale(1)"},children:"CLOSE"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{marginBottom:"20px",flex:1},children:o.jsx("div",{style:b.dialogueText,children:da})}),uo&&o.jsx("button",{style:{padding:"15px 40px",background:"rgba(30, 30, 50, 0.85)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",fontSize:"18px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},onClick:pm,onMouseOver:d=>{d.target.style.background="rgba(50, 50, 80, 0.9)",d.target.style.transform="scale(1.05)",d.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.4)"},onMouseOut:d=>{d.target.style.background="rgba(30, 30, 50, 0.85)",d.target.style.transform="scale(1)",d.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.3)"},children:vo[3].text})]})}),bn&&o.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:an==="footstepRecall"?"70vw":"800px",height:"90vh",background:"rgba(20, 20, 30, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"none",borderRadius:"20px",padding:"30px",display:"flex",flexDirection:"column",boxShadow:"0 12px 48px rgba(0, 0, 0, 0.6)",zIndex:2e3},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexShrink:0},children:[o.jsxs("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"22px",fontWeight:"700",color:"#a0d8ff"},children:["Mission: ",an==="snowPath"?"Snow Path":"Footstep Recall"]}),an==="snowPath"&&o.jsx("div",{style:{fontFamily:"'Roboto Mono', monospace",fontSize:"50px",fontWeight:"700",color:D<5?"#ff4444":"#a0d8ff"},children:le?Zr(D):"GO!"})]}),o.jsx("div",{style:{fontFamily:"'Roboto', sans-serif",fontSize:"16px",color:"#fff",marginBottom:"20px",textAlign:"center",flexShrink:0},children:an==="snowPath"?"Memorize the footprints, then tap the correct tiles when they disappear.":"Footprints light up in red one by oneafter the sequence ends, tap them back in the same order."}),an==="snowPath"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",width:"100%",maxWidth:"600px",maxHeight:"600px",margin:"0 auto",alignSelf:"center"},children:Array.from({length:16}).map((d,O)=>{const B=F.includes(O),ee=V.includes(O),J=ee&&B,Ce=ee&&!B;return o.jsx("div",{onClick:()=>fm(O),style:{width:"100%",aspectRatio:"1",background:Ce?"#c62828":J?"#2e7d32":"#1f2937",border:`3px solid ${Ce?"#f44336":J?"#4caf50":B&&le?"#a0d8ff":"transparent"}`,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",cursor:le?"default":"pointer",transition:"all 0.2s"},children:B&&le&&o.jsx("img",{src:"/glacier/icon/footprint.svg",alt:"Footprint",style:{width:"60%",height:"60%",objectFit:"contain"}})},O)})}),an==="footstepRecall"&&o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridTemplateRows:"repeat(2, 1fr)",gap:"30px",flex:1,maxWidth:"90%",margin:"0 auto",alignItems:"center"},children:Array.from({length:6}).map((d,O)=>{const B=$0===O,ee=Bd.includes(O),J=O%2===0?1:2,Ce=Math.floor(O/2)*2+(O%2===0?1:2);return o.jsx("div",{onClick:()=>gm(O),style:{gridRow:J,gridColumn:Ce,aspectRatio:"1",background:"transparent",border:"none",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",cursor:_d?"default":"pointer",transition:"all 0.2s",transform:ee?"scale(0.9)":"scale(1)"},children:o.jsx("img",{src:B?"/glacier/icon/foot_red.svg":"/glacier/icon/foot.svg",alt:"Footprint",style:{width:"100%",height:"100%",objectFit:"contain",filter:ee?"brightness(0.7)":"brightness(1)"}})},O)})}),o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"20px",flexShrink:0},children:Array.from({length:3}).map((d,O)=>{const ee=O<(an==="snowPath"?q:Te);return o.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",background:ee?"#a0d8ff":"#666566",transition:"all 0.3s"}},O)})})]}),st&&o.jsxs("div",{style:b.puzzleContainer,children:[o.jsxs("div",{style:b.puzzleLeftPanel,children:[!rt&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:b.puzzleTimer,children:Zr($t)}),o.jsx("div",{style:b.puzzleImageContainer,children:o.jsx("img",{src:_n[Ve].image,alt:`Puzzle ${Ve}`,style:b.puzzleImage})})]}),rt&&o.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"20px 15px"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",flex:1,overflowY:"auto"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[o.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"50px",height:"50px",borderRadius:"50%",flexShrink:0}}),o.jsx("div",{style:{background:"#fff",color:"#000",padding:"12px 18px",borderRadius:"15px",fontSize:"16px",lineHeight:1.4,maxWidth:"180px"},children:"Could you... could you teach me?"})]}),Dn&&o.jsx("div",{style:{background:"#5170FF",color:"#fff",padding:"12px 18px",borderRadius:"15px",fontSize:"14px",lineHeight:1.4,alignSelf:"flex-end",maxWidth:"85%",wordWrap:"break-word"},children:Dn}),Dn&&o.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[o.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"50px",height:"50px",borderRadius:"50%",flexShrink:0}}),o.jsx("div",{style:{background:"#fff",color:"#000",padding:"12px 18px",borderRadius:"15px",fontSize:"16px",lineHeight:1.4,maxWidth:"180px"},children:"Got it, Let's move to next one"})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.jsxs("div",{style:{color:"#fff",fontSize:"14px",fontWeight:"bold",lineHeight:1.4},children:["Teach them",o.jsx("br",{}),'"How did you solve this?"']}),o.jsxs("div",{style:{display:"flex",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.15)",borderRadius:"15px",border:"2px solid rgba(255, 255, 255, 0.3)",overflow:"hidden",transition:"border-color 0.2s"},children:[o.jsx("input",{type:"text",style:{flex:1,padding:"12px 15px",border:"none",backgroundColor:"transparent",fontFamily:"'Roboto', sans-serif",fontSize:"14px",color:"#fff",outline:"none"},placeholder:"Explain here...",value:On,onChange:d=>la(d.target.value),onKeyPress:d=>{d.key==="Enter"&&Zd()}}),o.jsx("div",{style:{width:"2px",height:"24px",backgroundColor:"#5170FF",margin:"0 8px",flexShrink:0}}),o.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 12px",transition:"all 0.2s"},onClick:Zd,onMouseOver:d=>{d.currentTarget.style.transform="scale(1.1)"},onMouseOut:d=>{d.currentTarget.style.transform="scale(1)"},children:o.jsx("img",{src:"/glacier/icon/send.png",alt:"Send",style:{width:"24px",height:"24px",objectFit:"contain"}})})]})]})]})]}),o.jsxs("div",{style:b.puzzleRightPanel,children:[o.jsx("div",{style:b.puzzleTitle,children:_n[Ve].title}),_n[Ve].statement&&o.jsxs("div",{style:b.puzzleStatement,children:['NPC 5: "',_n[Ve].statement,'"']}),_n[Ve].premise&&o.jsxs("div",{style:b.puzzleStatement,children:["Premise:",o.jsx("br",{}),Jd(_n[Ve].premise)]}),_n[Ve].arguments&&o.jsxs("div",{style:b.puzzleStatement,children:["Arguments:",o.jsx("br",{}),Jd(_n[Ve].arguments)]}),o.jsxs("div",{style:b.puzzleQuestion,children:["Question: ",_n[Ve].question]}),o.jsx("div",{style:b.puzzleOptions,children:_n[Ve].options.map((d,O)=>{let B={...b.puzzleOption};zn===O&&(d.correct?B={...B,...b.puzzleOptionCorrect}:B={...B,...b.puzzleOptionWrong});const ee=zn!==null&&_n[Ve].options[zn].correct;return o.jsx("button",{style:B,onClick:()=>Sm(d,O),disabled:ee,onMouseEnter:J=>{ee||(J.currentTarget.style.background="#2d3748",J.currentTarget.style.transform="translateX(5px)")},onMouseLeave:J=>{ee||(J.currentTarget.style.background="#1f2937",J.currentTarget.style.transform="translateX(0)")},children:d.text},O)})})]})]}),vt&&(console.log("Rendering exercise interface, currentExercise:",ut),o.jsxs("div",{style:{...b.puzzleContainer},children:[o.jsx("style",{children:`
            .exercise-text-area {
              cursor: url('/glacier/icon/pen-cursor.png') 16 16, crosshair;
            }
            .exercise-text-area * {
              cursor: url('/glacier/icon/pen-cursor.png') 16 16, crosshair;
            }
          `}),o.jsxs("div",{style:{position:"absolute",top:"80px",left:"35%",fontSize:"14px",color:"#a0d8ff",fontFamily:"'Roboto', sans-serif",zIndex:10},children:[" ",n==="en"?"Use your mouse to mark the errors.":""]}),o.jsxs("div",{style:{...b.puzzleLeftPanel,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",padding:"30px 20px"},children:[o.jsx("img",{src:"/glacier/npc/npc5.png",alt:"NPC 5",style:{width:"100%",height:"auto",objectFit:"contain",marginBottom:"20px"}}),o.jsx("div",{style:{background:"#fff",color:"#000",padding:"15px 20px",borderRadius:"15px",fontSize:"16px",lineHeight:1.6,textAlign:"left",width:"100%"},children:si[ut].npcMessage}),ai&&o.jsx("div",{style:{background:"#fff",color:"#000",padding:"15px 20px",borderRadius:"15px",fontSize:"16px",lineHeight:1.6,textAlign:"left",marginTop:"20px",width:"100%"},children:si[ut].feedback})]}),o.jsxs("div",{style:{...b.puzzleRightPanel,display:"flex",flexDirection:"column",padding:"40px"},children:[o.jsx("div",{style:{textAlign:"center",marginBottom:"40px"},children:o.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#a0d8ff",fontFamily:"'Roboto', sans-serif"},children:si[ut].title})}),o.jsx("div",{className:"exercise-text-area",style:{fontFamily:"'Roboto Mono', monospace",fontSize:"26px",lineHeight:"2.2",color:"#fff",marginBottom:"40px",userSelect:"text",position:"relative",flex:1},onMouseUp:Tm,children:si[ut].text.split("").map((d,O)=>{let B=!1;return si[ut].errors.forEach((ee,J)=>{At.includes(J)&&O>=ee.start&&O<ee.end&&(B=!0)}),o.jsxs("span",{style:{position:"relative",backgroundColor:B?"rgba(243, 87, 204, 0.7)":"transparent"},children:[d,B&&o.jsx("span",{style:{position:"absolute",bottom:"-8px",left:0,right:0,height:"20px",backgroundColor:"rgba(243, 87, 204, 0.7)",borderRadius:"0"}})]},O)})}),o.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px",marginTop:"auto"},children:[o.jsxs("span",{style:{color:"#a0d8ff",fontSize:"18px",marginRight:"10px"},children:[At.length,"/",si[ut].requiredCount]}),Array.from({length:si[ut].requiredCount}).map((d,O)=>o.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:O<At.length?"#a0d8ff":"#666566",transition:"all 0.3s"}},O))]})]})]})),f&&c!=="court"&&c!=="rooftop"&&o.jsx("div",{style:{...c==="outside"?b.arrowSmall:c==="inside"?{...b.arrow,width:"380px",height:"380px"}:b.arrow,...Om()},onClick:Im,onMouseOver:d=>d.target.style.transform="scale(1.1)",onMouseOut:d=>d.target.style.transform="scale(1)",children:o.jsx("img",{src:zm(),alt:"Arrow",style:b.arrowImage})}),tm&&o.jsxs("div",{style:b.npc9SharingContainer,children:[o.jsx("div",{style:b.npc9SharingTitle,children:"Share your memory secret here."}),!ul&&o.jsxs("div",{style:b.npc9SharingMessage,children:[o.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC9",style:{width:"80px",height:"80px",flexShrink:0}}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:b.npc9SharingBubble,children:"Thanks for helping me finish the memory training! Do you have any secret memory hacks?"}),o.jsx("div",{style:b.npc9SharingTimestamp,children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),ul&&ms&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:b.npc9SharingMessage,children:[o.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC9",style:{width:"80px",height:"80px",flexShrink:0}}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:b.npc9SharingBubble,children:"Thanks for helping me finish the memory training! Do you have any secret memory hacks?"}),o.jsx("div",{style:b.npc9SharingTimestamp,children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),o.jsxs("div",{children:[o.jsx("div",{style:b.npc9SharingUserLabel,children:"You"}),o.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"10px"},children:o.jsx("div",{style:{...b.npc9SharingBubble,background:"rgba(30, 50, 70, 0.8)",color:"#fff",maxWidth:"70%"},children:ms})}),o.jsx("div",{style:{...b.npc9SharingTimestamp,textAlign:"right"},children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),ul&&o.jsxs("div",{style:b.npc9SharingMessage,children:[o.jsx("img",{src:"/glacier/npc/npc9.png",alt:"NPC9",style:{width:"80px",height:"80px",flexShrink:0}}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:b.npc9SharingBubble,children:"I see... noted!"}),o.jsx("div",{style:b.npc9SharingTimestamp,children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),!ul&&o.jsxs("div",{style:b.npc9SharingHints,children:[o.jsx("div",{style:b.npc9SharingHintTag,children:"Visualization"}),o.jsx("div",{style:b.npc9SharingHintTag,children:"Use Mnemonics"}),o.jsx("div",{style:b.npc9SharingHintTag,children:"Chunking"})]}),!ul&&o.jsxs("div",{style:b.npc9SharingInputContainer,children:[o.jsx("input",{type:"text",value:ms,onChange:d=>Ld(d.target.value),onKeyPress:bm,placeholder:"Give some tips...",style:b.npc9SharingInput,autoFocus:!0}),o.jsx("button",{onClick:Vd,style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",padding:"8px",transition:"transform 0.2s"},onMouseOver:d=>d.currentTarget.style.transform="scale(1.1)",onMouseOut:d=>d.currentTarget.style.transform="scale(1)",children:o.jsx("img",{src:"/glacier/icon/send.png",alt:"Send",style:{width:"28px",height:"28px"}})})]})]})]})};function x1(){const[e,t]=u.useState("home"),[n,a]=u.useState(!1),[i,l]=u.useState(!0),[s,r]=u.useState(!1),[c,m]=u.useState(null),[w,T]=u.useState([]),[y,S]=u.useState(!1),[A,H]=u.useState(!0),z=()=>{switch(e){case"home":case"game":case"map":return"/sound/spaceship.mp3";case"fungiMap":case"dataCollection":case"dataCleaning":return"/sound/jungle.mp3";case"desertMap":return"/sound/desert.mp3";case"islandMap":return"/sound/island.mp3";case"glacierMap":return"/sound/glacier.mp3";default:return"/sound/spaceship.mp3"}},{startMusic:p}=P0(z()),f=u.useCallback(()=>{p(),document.removeEventListener("click",f),document.removeEventListener("keydown",f)},[p]);u.useEffect(()=>(document.addEventListener("click",f),document.addEventListener("keydown",f),()=>{document.removeEventListener("click",f),document.removeEventListener("keydown",f)}),[f]),u.useEffect(()=>{const te=localStorage.getItem("aiJourneyUser");if(te){const ae=JSON.parse(te);l(!ae.hasStarted),S(!0)}},[]);const h=te=>{const ae=localStorage.getItem("aiJourneyUser");if(ae){const se=JSON.parse(ae);se.hasStarted=!0,se.currentProgress=te,localStorage.setItem("aiJourneyUser",JSON.stringify(se))}},j=()=>{h("game"),t("game")},G=()=>{const te=localStorage.getItem("aiJourneyUser");if(te){const ae=JSON.parse(te),se=ae.currentProgress||"map",de=ae.hasCompletedIntro||ae.hasStarted;t(de?se==="game"?"map":se==="fungiIntro"?"fungiMap":se:"map")}else t("map")},Z=()=>{r(!1),m(null),T([]),h("game"),t("game")},k=()=>{a(!0)},W=()=>{a(!1)},K=te=>{l(!1),S(!0)},Y=()=>{r(!0);const te=localStorage.getItem("aiJourneyUser");if(te){const ae=JSON.parse(te);ae.hasStarted=!0,ae.hasCompletedIntro=!0,localStorage.setItem("aiJourneyUser",JSON.stringify(ae))}h("map"),t("map")},X=(te,ae=!1)=>{if(console.log("Region clicked:",te,"Start over:",ae),m(te),te==="fungi"){if(ae){const se=localStorage.getItem("aiJourneyUser");if(se){const de=JSON.parse(se);de.fungiJungleProgress=null,de.dataCollectionProgress=null,de.dataCleaningProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(de))}}h("fungiMap"),t("fungiMap")}else if(te==="desert"){if(ae){const se=localStorage.getItem("aiJourneyUser");if(se){const de=JSON.parse(se);de.desertProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(de))}}h("desertMap"),t("desertMap")}else if(te==="island"){if(ae){const se=localStorage.getItem("aiJourneyUser");if(se){const de=JSON.parse(se);de.islandProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(de))}}h("islandMap"),t("islandMap")}else if(te==="glacier"){if(ae){const se=localStorage.getItem("aiJourneyUser");if(se){const de=JSON.parse(se);de.glacierProgress=null,localStorage.setItem("aiJourneyUser",JSON.stringify(de))}}h("glacierMap"),t("glacierMap")}},ne=()=>{h("map"),t("map"),m(null)},$=()=>{h("map"),t("map"),m(null)},Se=()=>{console.log("Starting data collection phase..."),h("dataCollection"),t("dataCollection")},ge=te=>{console.log("Data collection complete:",te),T(te),h("dataCleaning"),t("dataCleaning")},L=()=>{h("fungiMap"),t("fungiMap")},I=()=>{console.log("Data cleaning complete!"),h("map"),t("map")},N=()=>{h("map"),t("map")};return o.jsx(Nb,{children:o.jsxs("div",{style:{width:"100vw",height:"100vh",overflow:"hidden",position:"relative",margin:0,padding:0},children:[e==="home"&&o.jsx(Bb,{onStart:j,onContinue:G,onStartOver:Z,onSignIn:k,isFirstVisit:i},y?"logged-in":"logged-out"),e==="game"&&o.jsx(_b,{onComplete:Y}),e==="map"&&o.jsx(Gb,{onRegionClick:X}),e==="desertMap"&&o.jsx(u1,{onExit:()=>{h("map"),t("map")}}),e==="islandMap"&&o.jsx(p1,{onExit:$}),e==="glacierMap"&&o.jsx(m1,{onExit:()=>{h("map"),t("map")}}),e==="fungiMap"&&o.jsx(Wb,{onExit:ne,onStartDataCollection:Se}),e==="dataCollection"&&o.jsx(Jb,{onComplete:ge,onExit:L}),e==="dataCleaning"&&o.jsx(s1,{onComplete:I,onExit:N}),n&&o.jsx(Rb,{onClose:W,onSignUpComplete:K})]})})}zb.createRoot(document.getElementById("root")).render(o.jsx(Hc.StrictMode,{children:o.jsx(x1,{})}));
